/*! For license information please see main.1f68beee.js.LICENSE.txt */
(()=>{var e={219:(e,t,n)=>{"use strict";var i=n(3763),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return i.isMemo(e)?s:a[e.$$typeof]||o}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=s;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,g=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(g){var o=h(n);o&&o!==g&&e(t,o,i)}var s=d(n);u&&(s=s.concat(u(n)));for(var a=l(t),m=l(n),f=0;f<s.length;++f){var b=s[f];if(!r[b]&&(!i||!i[b])&&(!m||!m[b])&&(!a||!a[b])){var y=p(n,b);try{c(t,b,y)}catch(w){}}}}return t}},457:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A});var i=n(7868)},528:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler");Symbol.for("react.provider");var a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function f(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case o:case s:case r:case d:case u:case g:return e;default:switch(e=e&&e.$$typeof){case l:case c:case h:case p:case a:return e;default:return t}}case i:return t}}}t.vM=c,t.lD=p},579:(e,t,n)=>{"use strict";e.exports=n(1153)},726:(e,t,n)=>{var i;e=n.nmd(e),function(e){const t=e.en=e.en||{};t.dictionary=Object.assign(t.dictionary||{},{"(may require <kbd>Fn</kbd>)":"(may require <kbd>Fn</kbd>)","%0 of %1":"%0 of %1",Accept:"Accept",Accessibility:"Accessibility","Accessibility help":"Accessibility help","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background","Below, you can find a list of keyboard shortcuts that can be used in the editor.":"Below, you can find a list of keyboard shortcuts that can be used in the editor.",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Bold text":"Bold text",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Clear:"Clear","Click to edit block":"Click to edit block",Close:"Close","Close contextual balloons, dropdowns, and dialogs":"Close contextual balloons, dropdowns, and dialogs",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Content editing keystrokes":"Content editing keystrokes","Copy selected content":"Copy selected content","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Create link":"Create link",Custom:"Custom","Custom image size":"Custom image size",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Decrease list item indent":"Decrease list item indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Drag to move":"Drag to move","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit image":"Edit image","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor dialog":"Editor dialog","Editor editing area: %0":"Editor editing area: %0","Editor menu bar":"Editor menu bar","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Entering a to-do list":"Entering a to-do list","Error during image upload":"Error during image upload","Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.":"Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content.","Failed to determine category of edited image.":"Failed to determine category of edited image.","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Help Contents. To close this dialog press ESC.":"Help Contents. To close this dialog press ESC.",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image from computer":"Image from computer","Image resize list":"Image resize list","Image toolbar":"Image toolbar","Image upload complete":"Image upload complete","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Increase list item indent":"Increase list item indent",Insert:"Insert","Insert a hard break (a new paragraph)":"Insert a hard break (a new paragraph)","Insert a new paragraph directly after a widget":"Insert a new paragraph directly after a widget","Insert a new paragraph directly before a widget":"Insert a new paragraph directly before a widget","Insert a new table row (when in the last cell of a table)":"Insert a new table row (when in the last cell of a table)","Insert a soft break (a <code>&lt;br&gt;</code> element)":"Insert a soft break (a <code>&lt;br&gt;</code> element)","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert image with file manager":"Insert image with file manager","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Insert with file manager":"Insert with file manager","Inserting image failed":"Inserting image failed",Inset:"Inset","Invalid start index value.":"Invalid start index value.",Italic:"Italic","Italic text":"Italic text","Justify cell text":"Justify cell text","Keystrokes that can be used in a list":"Keystrokes that can be used in a list","Keystrokes that can be used in a table cell":"Keystrokes that can be used in a table cell","Keystrokes that can be used when a widget is selected (for example: image, table, etc.)":"Keystrokes that can be used when a widget is selected (for example: image, table, etc.)","Leaving a to-do list":"Leaving a to-do list","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Link URL must not be empty.":"Link URL must not be empty.","List properties":"List properties","Lower-latin":"Lower-latin","Lower\u2013roman":"Lower\u2013roman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget",MENU_BAR_MENU_EDIT:"Edit",MENU_BAR_MENU_FILE:"File",MENU_BAR_MENU_FONT:"Font",MENU_BAR_MENU_FORMAT:"Format",MENU_BAR_MENU_HELP:"Help",MENU_BAR_MENU_INSERT:"Insert",MENU_BAR_MENU_TEXT:"Text",MENU_BAR_MENU_TOOLS:"Tools",MENU_BAR_MENU_VIEW:"View","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells","Move focus between form fields (inputs, buttons, etc.)":"Move focus between form fields (inputs, buttons, etc.)","Move focus in and out of an active dialog window":"Move focus in and out of an active dialog window","Move focus to the menu bar, navigate between menu bars":"Move focus to the menu bar, navigate between menu bars","Move focus to the toolbar, navigate between toolbars":"Move focus to the toolbar, navigate between toolbars","Move out of a link":"Move out of a link","Move out of an inline code style":"Move out of an inline code style","Move the caret to allow typing directly after a widget":"Move the caret to allow typing directly after a widget","Move the caret to allow typing directly before a widget":"Move the caret to allow typing directly before a widget","Move the selection to the next cell":"Move the selection to the next cell","Move the selection to the previous cell":"Move the selection to the previous cell","Navigate through the table":"Navigate through the table","Navigate through the toolbar or menu bar":"Navigate through the toolbar or menu bar",Next:"Next","No results found":"No results found","No searchable items":"No searchable items",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab","Open the accessibility help dialog":"Open the accessibility help dialog",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste content":"Paste content","Paste content as plain text":"Paste content as plain text","Paste the media URL in the input.":"Paste the media URL in the input.",'Please enter a valid color (e.g. "ff0000").':'Please enter a valid color (e.g. "ff0000").',"Press %0 for help.":"Press %0 for help.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous","Processing the edited image.":"Processing the edited image.",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Replace from computer":"Replace from computer","Replace image":"Replace image","Replace image from computer":"Replace image from computer","Replace image with file manager":"Replace image with file manager","Replace with file manager":"Replace with file manager","Resize image":"Resize image","Resize image (in %0)":"Resize image (in %0)","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Revert autoformatting action":"Revert autoformatting action","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Server failed to process the image.":"Server failed to process the image.","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough","Strikethrough text":"Strikethrough text",Style:"Style",Subscript:"Subscript",Superscript:"Superscript",Table:"Table","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"The value must not be empty.":"The value must not be empty.","The value should be a plain number.":"The value should be a plain number.","These keyboard shortcuts allow for quick access to content editing features.":"These keyboard shortcuts allow for quick access to content editing features.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower\u2013latin list style":"Toggle the lower\u2013latin list style","Toggle the lower\u2013roman list style":"Toggle the lower\u2013roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper\u2013latin list style":"Toggle the upper\u2013latin list style","Toggle the upper\u2013roman list style":"Toggle the upper\u2013roman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline","Underline text":"Underline text",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload from computer":"Upload from computer","Upload image from computer":"Upload image from computer","Upload in progress":"Upload in progress","Uploading image":"Uploading image","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.":"Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface.","User interface and content navigation keystrokes":"User interface and content navigation keystrokes","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),self,i=()=>(()=>{var i={9246:(e,t,n)=>{const i=n(6931),o={};for(const s of Object.keys(i))o[i[s]]=s;const r={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=r;for(const s of Object.keys(r)){if(!("channels"in r[s]))throw new Error("missing channels property: "+s);if(!("labels"in r[s]))throw new Error("missing channel labels property: "+s);if(r[s].labels.length!==r[s].channels)throw new Error("channel and label counts mismatch: "+s);const{channels:e,labels:t}=r[s];delete r[s].channels,delete r[s].labels,Object.defineProperty(r[s],"channels",{value:e}),Object.defineProperty(r[s],"labels",{value:t})}r.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.min(t,n,i),r=Math.max(t,n,i),s=r-o;let a,l;r===o?a=0:t===r?a=(n-i)/s:n===r?a=2+(i-t)/s:i===r&&(a=4+(t-n)/s),a=Math.min(60*a,360),a<0&&(a+=360);const c=(o+r)/2;return l=r===o?0:c<=.5?s/(r+o):s/(2-r-o),[a,100*l,100*c]},r.rgb.hsv=function(e){let t,n,i,o,r;const s=e[0]/255,a=e[1]/255,l=e[2]/255,c=Math.max(s,a,l),d=c-Math.min(s,a,l),u=function(e){return(c-e)/6/d+.5};return 0===d?(o=0,r=0):(r=d/c,t=u(s),n=u(a),i=u(l),s===c?o=i-n:a===c?o=1/3+t-i:l===c&&(o=2/3+n-t),o<0?o+=1:o>1&&(o-=1)),[360*o,100*r,100*c]},r.rgb.hwb=function(e){const t=e[0],n=e[1];let i=e[2];const o=r.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(n,i));return i=1-1/255*Math.max(t,Math.max(n,i)),[o,100*s,100*i]},r.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.min(1-t,1-n,1-i);return[100*((1-t-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*((1-i-o)/(1-o)||0),100*o]},r.rgb.keyword=function(e){const t=o[e];if(t)return t;let n,r=1/0;for(const o of Object.keys(i)){const t=(a=i[o],((s=e)[0]-a[0])**2+(s[1]-a[1])**2+(s[2]-a[2])**2);t<r&&(r=t,n=o)}var s,a;return n},r.keyword.rgb=function(e){return i[e]},r.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,i=e[2]/255;return t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,[100*(.4124*t+.3576*n+.1805*i),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]},r.rgb.lab=function(e){const t=r.rgb.xyz(e);let n=t[0],i=t[1],o=t[2];return n/=95.047,i/=100,o/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,[116*i-16,500*(n-i),200*(i-o)]},r.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,i=e[2]/100;let o,r,s;if(0===n)return s=255*i,[s,s,s];o=i<.5?i*(1+n):i+n-i*n;const a=2*i-o,l=[0,0,0];for(let c=0;c<3;c++)r=t+1/3*-(c-1),r<0&&r++,r>1&&r--,s=6*r<1?a+6*(o-a)*r:2*r<1?o:3*r<2?a+(o-a)*(2/3-r)*6:a,l[c]=255*s;return l},r.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,i=e[2]/100,o=n;const r=Math.max(i,.01);return i*=2,n*=i<=1?i:2-i,o*=r<=1?r:2-r,[t,100*(0===i?2*o/(r+o):2*n/(i+n)),(i+n)/2*100]},r.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let i=e[2]/100;const o=Math.floor(t)%6,r=t-Math.floor(t),s=255*i*(1-n),a=255*i*(1-n*r),l=255*i*(1-n*(1-r));switch(i*=255,o){case 0:return[i,l,s];case 1:return[a,i,s];case 2:return[s,i,l];case 3:return[s,a,i];case 4:return[l,s,i];case 5:return[i,s,a]}},r.hsv.hsl=function(e){const t=e[0],n=e[1]/100,i=e[2]/100,o=Math.max(i,.01);let r,s;s=(2-n)*i;const a=(2-n)*o;return r=n*o,r/=a<=1?a:2-a,r=r||0,s/=2,[t,100*r,100*s]},r.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,i=e[2]/100;const o=n+i;let r;o>1&&(n/=o,i/=o);const s=Math.floor(6*t),a=1-i;r=6*t-s,1&s&&(r=1-r);const l=n+r*(a-n);let c,d,u;switch(s){default:case 6:case 0:c=a,d=l,u=n;break;case 1:c=l,d=a,u=n;break;case 2:c=n,d=a,u=l;break;case 3:c=n,d=l,u=a;break;case 4:c=l,d=n,u=a;break;case 5:c=a,d=n,u=l}return[255*c,255*d,255*u]},r.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,i=e[2]/100,o=e[3]/100;return[255*(1-Math.min(1,t*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o)),255*(1-Math.min(1,i*(1-o)+o))]},r.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,i=e[2]/100;let o,r,s;return o=3.2406*t+-1.5372*n+-.4986*i,r=-.9689*t+1.8758*n+.0415*i,s=.0557*t+-.204*n+1.057*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,o=Math.min(Math.max(0,o),1),r=Math.min(Math.max(0,r),1),s=Math.min(Math.max(0,s),1),[255*o,255*r,255*s]},r.xyz.lab=function(e){let t=e[0],n=e[1],i=e[2];return t/=95.047,n/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,[116*n-16,500*(t-n),200*(n-i)]},r.lab.xyz=function(e){let t,n,i;n=(e[0]+16)/116,t=e[1]/500+n,i=n-e[2]/200;const o=n**3,r=t**3,s=i**3;return n=o>.008856?o:(n-16/116)/7.787,t=r>.008856?r:(t-16/116)/7.787,i=s>.008856?s:(i-16/116)/7.787,t*=95.047,n*=100,i*=108.883,[t,n,i]},r.lab.lch=function(e){const t=e[0],n=e[1],i=e[2];let o;return o=360*Math.atan2(i,n)/2/Math.PI,o<0&&(o+=360),[t,Math.sqrt(n*n+i*i),o]},r.lch.lab=function(e){const t=e[0],n=e[1],i=e[2]/360*2*Math.PI;return[t,n*Math.cos(i),n*Math.sin(i)]},r.rgb.ansi16=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[n,i,o]=e;let s=null===t?r.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),0===s)return 30;let a=30+(Math.round(o/255)<<2|Math.round(i/255)<<1|Math.round(n/255));return 2===s&&(a+=60),a},r.hsv.ansi16=function(e){return r.rgb.ansi16(r.hsv.rgb(e),e[2])},r.rgb.ansi256=function(e){const t=e[0],n=e[1],i=e[2];return t===n&&n===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},r.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},r.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;return e-=16,[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},r.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},r.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map((e=>e+e)).join(""));const i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},r.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,o=Math.max(Math.max(t,n),i),r=Math.min(Math.min(t,n),i),s=o-r;let a,l;return a=s<1?r/(1-s):0,l=s<=0?0:o===t?(n-i)/s%6:o===n?2+(i-t)/s:4+(t-n)/s,l/=6,l%=1,[360*l,100*s,100*a]},r.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,i=n<.5?2*t*n:2*t*(1-n);let o=0;return i<1&&(o=(n-.5*i)/(1-i)),[e[0],100*i,100*o]},r.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,i=t*n;let o=0;return i<1&&(o=(n-i)/(1-i)),[e[0],100*i,100*o]},r.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,i=e[2]/100;if(0===n)return[255*i,255*i,255*i];const o=[0,0,0],r=t%1*6,s=r%1,a=1-s;let l=0;switch(Math.floor(r)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=a,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=a,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=a}return l=(1-n)*i,[255*(n*o[0]+l),255*(n*o[1]+l),255*(n*o[2]+l)]},r.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let i=0;return n>0&&(i=t/n),[e[0],100*i,100*n]},r.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],100*i,100*n]},r.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},r.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,i=n-t;let o=0;return i<1&&(o=(n-i)/(1-i)),[e[0],100*i,100*o]},r.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},r.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},r.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},r.gray.hsl=function(e){return[0,0,e[0]]},r.gray.hsv=r.gray.hsl,r.gray.hwb=function(e){return[0,100,e[0]]},r.gray.cmyk=function(e){return[0,0,0,e[0]]},r.gray.lab=function(e){return[e[0],0,0]},r.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},r.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},9047:(e,t,n)=>{const i=n(9246),o=n(802),r={};Object.keys(i).forEach((e=>{r[e]={},Object.defineProperty(r[e],"channels",{value:i[e].channels}),Object.defineProperty(r[e],"labels",{value:i[e].labels});const t=o(e);Object.keys(t).forEach((n=>{const i=t[n];r[e][n]=function(e){const t=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const o=n[0];if(null==o)return o;o.length>1&&(n=o);const r=e(n);if("object"==typeof r)for(let e=r.length,s=0;s<e;s++)r[s]=Math.round(r[s]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(i),r[e][n].raw=function(e){const t=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];const o=n[0];return null==o?o:(o.length>1&&(n=o),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}(i)}))})),e.exports=r},802:(e,t,n)=>{const i=n(9246);function o(e){const t=function(){const e={},t=Object.keys(i);for(let n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),o=Object.keys(i[e]);for(let i=o.length,r=0;r<i;r++){const i=o[r],s=t[i];-1===s.distance&&(s.distance=t[e].distance+1,s.parent=e,n.unshift(i))}}return t}function r(e,t){return function(n){return t(e(n))}}function s(e,t){const n=[t[e].parent,e];let o=i[t[e].parent][e],s=t[e].parent;for(;t[s].parent;)n.unshift(t[s].parent),o=r(i[t[s].parent][s],o),s=t[s].parent;return o.conversion=n,o}e.exports=function(e){const t=o(e),n={},i=Object.keys(t);for(let o=i.length,r=0;r<o;r++){const e=i[r];null!==t[e].parent&&(n[e]=s(e,t))}return n}},6931:e=>{"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},4199:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content code {\n\tbackground-color: hsla(0, 0%, 78%, 0.3);\n\tpadding: .15em;\n\tborder-radius: 2px;\n}\n\n.ck.ck-editor__editable .ck-code_selected  {\n\tbackground-color: hsla(0, 0%, 78%, 0.5);\n}\n"],sourceRoot:""}]);const a=s},8708:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content blockquote {\n\t/* See #12 */\n\toverflow: hidden;\n\n\t/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */\n\tpadding-right: 1.5em;\n\tpadding-left: 1.5em;\n\n\tmargin-left: 0;\n\tmargin-right: 0;\n\tfont-style: italic;\n\tborder-left: solid 5px hsl(0, 0%, 80%);\n}\n\n.ck-content[dir="rtl"] blockquote {\n\tborder-left: 0;\n\tborder-right: solid 5px hsl(0, 0%, 80%);\n}\n'],sourceRoot:""}]);const a=s},1866:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,':root{--ck-image-processing-highlight-color:#f9fafa;--ck-image-processing-background-color:#e3e5e8}.ck.ck-editor__editable .image.image-processing{position:relative}.ck.ck-editor__editable .image.image-processing:before{animation:ck-image-processing-animation 2s linear infinite;background:linear-gradient(90deg,var(--ck-image-processing-background-color),var(--ck-image-processing-highlight-color),var(--ck-image-processing-background-color));background-size:200% 100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%;z-index:1}.ck.ck-editor__editable .image.image-processing img{height:100%}@keyframes ck-image-processing-animation{0%{background-position:200% 0}to{background-position:-200% 0}}',"",{version:3,sources:["webpack://./../ckeditor5-ckbox/theme/ckboximageedit.css"],names:[],mappings:"AAKA,MAEC,6CAAyD,CACzD,8CACD,CAIE,gDACC,iBA2BD,CAzBC,uDAmBC,0DAA2D,CAR3D,oKAKC,CACD,yBAA0B,CAhB1B,UAAW,CAOX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAClB,KAAM,CAKN,UAAW,CAHX,SAcD,CAEA,oDACC,WACD,CAKH,yCACC,GACC,0BACD,CACA,GACC,2BACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Based on default CKBox theme colors */\n\t--ck-image-processing-highlight-color: hsl(220, 10%, 98%);\n\t--ck-image-processing-background-color: hsl(220, 10%, 90%);\n}\n\n.ck.ck-editor__editable {\n\t& .image {\n\t\t&.image-processing {\n\t\t\tposition: relative;\n\n\t\t\t&:before {\n\t\t\t\tcontent: '';\n\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tz-index: 1;\n\n\t\t\t\theight: 100%;\n\t\t\t\twidth: 100%;\n\n\t\t\t\tbackground: linear-gradient(\n\t\t\t\t\t90deg,\n\t\t\t\t\tvar(--ck-image-processing-background-color),\n\t\t\t\t\tvar(--ck-image-processing-highlight-color),\n\t\t\t\t\tvar(--ck-image-processing-background-color)\n\t\t\t\t);\n\t\t\t\tbackground-size: 200% 100%;\n\n\t\t\t\tanimation: ck-image-processing-animation 2s linear infinite;\n\t\t\t}\n\n\t\t\t& img {\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\t}\n}\n\n@keyframes ck-image-processing-animation {\n\t0% {\n\t\tbackground-position: 200% 0;\n\t}\n\t100% {\n\t\tbackground-position: -200% 0;\n\t}\n}\n"],sourceRoot:""}]);const a=s},7793:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}.ck.ck-clipboard-drop-target-line:before{border-style:solid;content:"";height:0;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-width)*-.5);width:0}[dir=ltr] .ck.ck-clipboard-drop-target-line:before{border-color:transparent transparent transparent var(--ck-clipboard-drop-target-color);border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height);left:-1px}[dir=rtl] .ck.ck-clipboard-drop-target-line:before{border-color:transparent var(--ck-clipboard-drop-target-color) transparent transparent;border-width:calc(var(--ck-clipboard-drop-target-dot-width)*.5) var(--ck-clipboard-drop-target-dot-height) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0;right:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CC9BA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eAwBD,CAtBC,yCAMC,kBAAmB,CALnB,UAAW,CAIX,QAAS,CAHT,iBAAkB,CAClB,uDAA0D,CAC1D,OAiBD,CArBA,mDAYE,sFAAuF,CADvF,+JAAoK,CAFpK,SAYF,CArBA,mDAmBE,sFAAuF,CADvF,+JAAmK,CAFnK,UAKF",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\tdisplay: inline;\n\t\tposition: relative;\n\t\tpointer-events: none;\n\n\t\t& span {\n\t\t\tposition: absolute;\n\t\t\twidth: 0;\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\t& > .ck-widget__selection-handle {\n\t\t\tdisplay: none;\n\t\t}\n\n\t\t& > .ck-widget__type-around {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n.ck.ck-clipboard-drop-target-line {\n\tposition: absolute;\n\tpointer-events: none;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import \"@ckeditor/ckeditor5-ui/theme/mixins/_dir.css\";\n\n:root {\n\t--ck-clipboard-drop-target-dot-width: 12px;\n\t--ck-clipboard-drop-target-dot-height: 8px;\n\t--ck-clipboard-drop-target-color: var(--ck-color-focus-border);\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Vertical drop target (in text).\n\t */\n\t& .ck.ck-clipboard-drop-target-position {\n\t\t& span {\n\t\t\tbottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\t\t\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\t\t\tbackground: var(--ck-clipboard-drop-target-color);\n\t\t\tmargin-left: -1px;\n\n\t\t\t/* The triangle above the marker */\n\t\t\t&::after {\n\t\t\t\tcontent: '';\n\t\t\t\twidth: 0;\n\t\t\t\theight: 0;\n\n\t\t\t\tdisplay: block;\n\t\t\t\tposition: absolute;\n\t\t\t\tleft: 50%;\n\t\t\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));\n\n\t\t\t\ttransform: translateX(-50%);\n\t\t\t\tborder-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;\n\t\t\t\tborder-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Styles of the widget that it a drop target.\n\t */\n\t& .ck-widget.ck-clipboard-drop-target-range {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;\n\t}\n\n\t/*\n\t * Styles of the widget being dragged (its preview).\n\t */\n\t& .ck-widget:-webkit-drag {\n\t\tzoom: 0.6;\n\t\toutline: none !important;\n\t}\n}\n\n.ck.ck-clipboard-drop-target-line {\n\theight: 0;\n\tborder: 1px solid var(--ck-clipboard-drop-target-color);\n\tbackground: var(--ck-clipboard-drop-target-color);\n\tmargin-top: -1px;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: calc(-.5 * var(--ck-clipboard-drop-target-dot-width));\n\t\twidth: 0;\n\t\theight: 0;\n\t\tborder-style: solid;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tleft: -1px;\n\n\t\t\tborder-width: calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height);\n\t\t\tborder-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tright: -1px;\n\n\t\t\tborder-width:calc(.5 * var(--ck-clipboard-drop-target-dot-width)) var(--ck-clipboard-drop-target-dot-height) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0;\n\t\t\tborder-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},7388:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-panel)}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content{border:solid var(--ck-color-base-border);border-width:1px 1px 0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content.ck-sticky-panel__content_sticky{border-bottom-width:1px}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-menu-bar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content .ck-toolbar{border:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,8DCED,eDeC,CAjBA,mKCMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAcF,CAjBA,8DAOC,wCAAsB,CAAtB,sBAUD,CARC,8FACC,uBACD,CAEA,qJAEC,QACD,CAMH,yCAEC,0CAA2C,CCtB3C,eDgCD,CAZA,yHChBE,qCAAsC,CDqBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor {\n\t/* All the elements within `.ck-editor` are positioned relatively to it.\n\t If any element needs to be positioned with respect to the <body>, etc.,\n\t it must land outside of the `.ck-editor` in DOM. */\n\tposition: relative;\n\n\t& .ck-editor__top .ck-sticky-panel .ck-toolbar {\n\t\t/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */\n\t\tz-index: var(--ck-z-panel);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n.ck.ck-editor__top {\n\t& .ck-sticky-panel {\n\t\t& .ck-sticky-panel__content {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\n\t\t\tborder: 1px solid var(--ck-color-base-border);\n\t\t\tborder-bottom-width: 0;\n\n\t\t\t&.ck-sticky-panel__content_sticky {\n\t\t\t\tborder-bottom-width: 1px;\n\t\t\t}\n\n\t\t\t& .ck-menu-bar,\n\t\t\t& .ck-toolbar {\n\t\t\t\tborder: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* Note: Use ck-editor__main to make sure these styles don\'t apply to other editor types */\n.ck.ck-editor__main > .ck-editor__editable {\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */\n\tbackground: var(--ck-color-base-background);\n\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&:not(.ck-focused) {\n\t\tborder-color: var(--ck-color-base-border);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},4098:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}@media (forced-colors:active){.ck .ck-placeholder,.ck.ck-placeholder{forced-color-adjust:preserve-parent-color}}.ck .ck-placeholder:before,.ck.ck-placeholder:before{cursor:text}@media (forced-colors:none){.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text)}}@media (forced-colors:active){.ck .ck-placeholder:before,.ck.ck-placeholder:before{font-style:italic;margin-left:1px}}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC7BC,8BACC,uCCOA,yCDLA,CACD,CCOA,qDACC,WAmBD,CDvBA,4BACC,qDCMC,6CDJD,CACD,CAZA,8BACC,qDCsBC,iBAAkB,CAMlB,eD1BD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder,\n.ck .ck-placeholder {\n\tposition: relative;\n\n\t&::before {\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tcontent: attr(data-placeholder);\n\n\t\t/* See ckeditor/ckeditor5#469. */\n\t\tpointer-events: none;\n\t}\n}\n\n/* See ckeditor/ckeditor5#1987. */\n.ck.ck-read-only .ck-placeholder {\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n\n/*\n * Rules for the `ck-placeholder` are loaded before the rules for `ck-reset_all` in the base CKEditor 5 DLL build.\n * This fix overwrites the incorrectly set `position: static` from `ck-reset_all`.\n * See https://github.com/ckeditor/ckeditor5/issues/11418.\n */\n.ck.ck-reset_all .ck-placeholder {\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-forced-colors {\n\t@media (forced-colors: active) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n\n@define-mixin ck-media-default-colors {\n\t@media (forced-colors: none) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";\n\n/* See ckeditor/ckeditor5#936. */\n.ck.ck-placeholder, .ck .ck-placeholder {\n\t@mixin ck-media-forced-colors {\n\t\t/*\n\t\t * This is needed for Edge on Windows to use the right color for the placeholder content (::before).\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/14907.\n\t\t */\n\t\tforced-color-adjust: preserve-parent-color;\n\t}\n\n\t&::before {\n\t\tcursor: text;\n\n\t\t@mixin ck-media-default-colors {\n\t\t\tcolor: var(--ck-color-engine-placeholder-text);\n\t\t}\n\n\t\t@mixin ck-media-forced-colors {\n\t\t\t/*\n\t\t\t * In the high contrast mode there is no telling between regular and placeholder text. Using\n\t\t\t * italic text to address that issue. See https://github.com/ckeditor/ckeditor5/issues/14907.\n\t\t\t */\n\t\t\tfont-style: italic;\n\n\t\t\t/*\n\t\t\t * Without this margin, the caret will not show up and blink when the user puts the selection\n\t\t\t * in the placeholder (Edge on Windows). See https://github.com/ckeditor/ckeditor5/issues/14907.\n\t\t\t */\n\t\t\tmargin-left: 1px;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},8264:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Elements marked by the Renderer as hidden should be invisible in the editor. */\n.ck.ck-editor__editable span[data-ck-unsafe-element] {\n\tdisplay: none;\n}\n"],sourceRoot:""}]);const a=s},6269:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-heading_heading1 {\n\tfont-size: 20px;\n}\n\n.ck.ck-heading_heading2 {\n\tfont-size: 17px;\n}\n\n.ck.ck-heading_heading3 {\n\tfont-size: 14px;\n}\n\n.ck[class*="ck-heading_heading"] {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Resize dropdown's button label. */\n.ck.ck-dropdown.ck-heading-dropdown {\n\t& .ck-dropdown__button .ck-button__label {\n\t\twidth: 8em;\n\t}\n\n\t& .ck-dropdown__panel .ck-list__item {\n\t\tmin-width: 18em;\n\t}\n}\n"],sourceRoot:""}]);const a=s},265:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;height:auto;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image{z-index:1}.ck.ck-editor__editable .image.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected{z-index:2}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable .image-inline img{height:auto}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBA2BD,CAjBC,uBAEC,aAAc,CAad,WAAY,CAVZ,aAAc,CAGd,cAAe,CAGf,cAKD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAKA,+BACC,SASD,CAHC,kDACC,SACD,CAMD,sCACC,SAkBD,CAZC,yDACC,SAUD,CAHC,qEACC,YACD,CAMF,0CACC,WACD,CAMC,0FACC,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content {\n\t& .image {\n\t\tdisplay: table;\n\t\tclear: both;\n\t\ttext-align: center;\n\n\t\t/* Make sure there is some space between the content and the image. Center image by default. */\n\t\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\t \tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\t\tmargin: 0.9em auto;\n\n\t\t/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */\n\t\tmin-width: 50px;\n\n\t\t& img {\n\t\t\t/* Prevent unnecessary margins caused by line-height (see #44). */\n\t\t\tdisplay: block;\n\n\t\t\t/* Center the image if its width is smaller than the content\'s width. */\n\t\t\tmargin: 0 auto;\n\n\t\t\t/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */\n\t\t\tmax-width: 100%;\n\n\t\t\t/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */\n\t\t\tmin-width: 100%;\n\n\t\t\t/* Keep proportions of the block image if the height is set and the image is wider than the editor width.\n\t\t\tSee https://github.com/ckeditor/ckeditor5/issues/14542. */\n\t\t\theight: auto;\n\t\t}\n\t}\n\n\t& .image-inline {\n\t\t/*\n\t\t * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).\n\t\t * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.\n\t\t * This strange behavior does not happen with inline-flex.\n\t\t */\n\t\tdisplay: inline-flex;\n\n\t\t/* While being resized, don\'t allow the image to exceed the width of the editing root. */\n\t\tmax-width: 100%;\n\n\t\t/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */\n\t\talign-items: flex-start;\n\n\t\t/* When the picture is present it must act as a flex container to let the img resize properly */\n\t\t& picture {\n\t\t\tdisplay: flex;\n\t\t}\n\n\t\t/* When the picture is present, it must act like a resizable img. */\n\t\t& picture,\n\t\t& img {\n\t\t\t/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */\n\t\t\tflex-grow: 1;\n\t\t\tflex-shrink: 1;\n\n\t\t\t/* Prevents overflowing the editing root boundaries when an inline image is very wide. */\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/*\n\t * Inhertit the content styles padding of the <figcaption> in case the integration overrides `text-align: center`\n\t * of `.image` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native\n\t * caret does, and not at the edge of <figcaption>.\n\t */\n\t& .image > figcaption.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the image caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n\n\t/*\n\t * See https://github.com/ckeditor/ckeditor5/issues/15115.\n\t */\n\t& .image {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the selected image always stays on top of its siblings.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t\t */\n\t\t&.ck-widget_selected {\n\t\t\tz-index: 2;\n\t\t}\n\t}\n\n\t/*\n\t * See https://github.com/ckeditor/ckeditor5/issues/15115.\n\t */\n\t& .image-inline {\n\t\tz-index: 1;\n\n\t\t/*\n\t\t * Make sure the selected inline image always stays on top of its siblings.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9108.\n\t\t */\n\t\t&.ck-widget_selected {\n\t\t\tz-index: 2;\n\n\t\t\t/*\n\t\t\t * Make sure the native browser selection style is not displayed.\n\t\t\t * Inline image widgets have their own styles for the selected state and\n\t\t\t * leaving this up to the browser is asking for a visual collision.\n\t\t\t */\n\t\t\t& ::selection {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Keep proportions of the inline image if the height is set and the image is wider than the editor width.\n\tSee https://github.com/ckeditor/ckeditor5/issues/14542. */\n\t& .image-inline img {\n\t\theight: auto;\n\t}\n\n\t/* The inline image nested in the table should have its original size if not resized.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline img {\n\t\t\tmax-width: none;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},5247:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highlighted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}@media (forced-colors:active){.ck-content .image>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:none}}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highlighted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,oDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAYD,CAJC,8BAXD,8BAYE,sBAAuB,CACvB,WAEF,CADC,CCdA,4BACC,qEDmBA,iDCjBA,CACD,CDmBA,uCALD,qEAME,cAEF,CADC,CAGD,sCACC,GACC,qEACD,CAEA,GACC,yDACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";\n\n:root {\n\t--ck-color-image-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-image-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-image-caption-highlighted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .image > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: bottom;\n\tword-break: break-word;\n\tcolor: var(--ck-color-image-caption-text);\n\tbackground-color: var(--ck-color-image-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n\n\t/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */\n\t@media (forced-colors: active) {\n\t\tbackground-color: unset;\n\t\tcolor: unset;\n\t}\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {\n\t@mixin ck-media-default-colors {\n\t\tanimation: ck-image-caption-highlight .6s ease-out;\n\t}\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\tanimation: none;\n\t}\n}\n\n@keyframes ck-image-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-image-caption-highlighted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-image-caption-background);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-forced-colors {\n\t@media (forced-colors: active) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n\n@define-mixin ck-media-default-colors {\n\t@media (forced-colors: none) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},4642:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-image-custom-resize-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{display:inline-block}.ck.ck-image-custom-resize-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-image-custom-resize-form{flex-wrap:wrap}.ck.ck-image-custom-resize-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-image-custom-resize-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecustomresizeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,gCAIC,sBAAuB,CAHvB,YAAa,CACb,kBAAmB,CACnB,gBAsBD,CAnBC,uDACC,oBACD,CAEA,0CACC,YACD,CCbA,oCDCD,gCAeE,cAUF,CARE,uDACC,eACD,CAEA,2CACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-image-custom-resize-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: flex-start;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},3350:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-image-insert-url .ck-image-insert-url__action-row{display:grid;grid-template-columns:repeat(2,1fr)}:root{--ck-image-insert-insert-by-url-width:250px}.ck.ck-image-insert-url{--ck-input-width:100%}.ck.ck-image-insert-url .ck-image-insert-url__action-row{grid-column-gap:var(--ck-spacing-large);margin-top:var(--ck-spacing-large)}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-cancel,.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button-save{justify-content:center;min-width:auto}.ck.ck-image-insert-url .ck-image-insert-url__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}.ck.ck-image-insert-form>.ck.ck-button{display:block;padding:var(--ck-list-button-padding);width:100%}[dir=ltr] .ck.ck-image-insert-form>.ck.ck-button{text-align:left}[dir=rtl] .ck.ck-image-insert-form>.ck.ck-button{text-align:right}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:first-child){border-top:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible:not(:last-child){border-bottom:1px solid var(--ck-color-base-border)}.ck.ck-image-insert-form>.ck.ck-collapsible,.ck.ck-image-insert-form>.ck.ck-image-insert-url{min-width:var(--ck-image-insert-insert-by-url-width)}.ck.ck-image-insert-form>.ck.ck-image-insert-url{padding:var(--ck-spacing-large)}.ck.ck-image-insert-form:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageinsert.css"],names:[],mappings:"AAMC,yDACC,YAAa,CACb,mCACD,CCFD,MACC,2CACD,CAEA,wBACC,qBAgBD,CAdC,yDACC,uCAAwC,CACxC,kCAWD,CATC,oJAEC,sBAAuB,CACvB,cACD,CAEA,sFACC,0BACD,CAKD,uCACC,aAAc,CAEd,qCAAsC,CADtC,UAUD,CAZA,iDAME,eAMF,CAZA,iDAUE,gBAEF,CAGC,8DACC,gDACD,CAEA,6DACC,mDACD,CAMD,6FAJC,oDAOD,CAHA,iDAEC,+BACD,CAEA,+BACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-image-insert-url {\n\t& .ck-image-insert-url__action-row {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-image-insert-insert-by-url-width: 250px;\n}\n\n.ck.ck-image-insert-url {\n\t--ck-input-width: 100%;\n\n\t& .ck-image-insert-url__action-row {\n\t\tgrid-column-gap: var(--ck-spacing-large);\n\t\tmargin-top: var(--ck-spacing-large);\n\n\t\t& .ck-button-save,\n\t\t& .ck-button-cancel {\n\t\t\tjustify-content: center;\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& .ck-button .ck-button__label {\n\t\t\tcolor: var(--ck-color-text);\n\t\t}\n\t}\n}\n\n.ck.ck-image-insert-form {\n\t& > .ck.ck-button {\n\t\tdisplay: block;\n\t\twidth: 100%;\n\t\tpadding: var(--ck-list-button-padding);\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& > .ck.ck-collapsible {\n\t\t&:not(:first-child) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t&:not(:last-child) {\n\t\t\tborder-bottom: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\tmin-width: var(--ck-image-insert-insert-by-url-width);\n\t}\n\n\t/* This is the case when there are no other integrations configured than insert by URL */\n\t& > .ck.ck-image-insert-url {\n\t\tmin-width: var(--ck-image-insert-insert-by-url-width);\n\t\tpadding: var(--ck-spacing-large);\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n}\n'],sourceRoot:""}]);const a=s},7378:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-editor__editable img.image_placeholder{background-size:100% 100%}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageplaceholder.css"],names:[],mappings:"AAMC,8CACC,yBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& img.image_placeholder {\n\t\tbackground-size: 100% 100%;\n\t}\n}\n"],sourceRoot:""}]);const a=s},3469:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck-content img.image_resized{height:auto}.ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAMA,8BACC,WACD,CAEA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Preserve aspect ratio of the resized image after introducing image height attribute. */\n.ck-content img.image_resized {\n\theight: auto;\n}\n\n.ck-content .image.image_resized {\n\tmax-width: 100%;\n\t/*\n\tThe `<figure>` element for resized images must not use `display:table` as browsers do not support `max-width` for it well.\n\tSee https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.\n\tFortunately, since we control the width, there is no risk that the image will look bad.\n\t*/\n\tdisplay: block;\n\tbox-sizing: border-box;\n\n\t& img {\n\t\t/* For resized images it is the `<figure>` element that determines the image width. */\n\t\twidth: 100%;\n\t}\n\n\t& > figcaption {\n\t\t/* The `<figure>` element uses `display:block`, so `<figcaption>` also has to. */\n\t\tdisplay: block;\n\t}\n}\n\n.ck.ck-editor__editable {\n\t/* The resized inline image nested in the table should respect its parent size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9117. */\n\t& td,\n\t& th {\n\t\t& .image-inline.image_resized img {\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n}\n\n[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\n\tmargin-right: var(--ck-spacing-standard);\n}\n\n[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {\n\tmargin-left: var(--ck-spacing-standard);\n}\n\n.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {\n\twidth: 4em;\n}\n'],sourceRoot:""}]);const a=s},6386:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-image-style-spacing: 1.5em;\n\t--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);\n}\n\n.ck-content {\n\t/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback\n\tconfirming successful application of the style if image width exceeds the editor's size.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9342 */\n\t& .image-style-block-align-left,\n\t& .image-style-block-align-right {\n\t\tmax-width: calc(100% - var(--ck-image-style-spacing));\n\t}\n\n\t/* Allows displaying multiple floating images in the same line.\n\tSee https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */\n\t& .image-style-align-left,\n\t& .image-style-align-right {\n\t\tclear: none;\n\t}\n\n\t& .image-style-side {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t\tmax-width: 50%;\n\t}\n\n\t& .image-style-align-left {\n\t\tfloat: left;\n\t\tmargin-right: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-align-center {\n\t\tmargin-left: auto;\n\t\tmargin-right: auto;\n\t}\n\n\t& .image-style-align-right {\n\t\tfloat: right;\n\t\tmargin-left: var(--ck-image-style-spacing);\n\t}\n\n\t& .image-style-block-align-right {\n\t\tmargin-right: 0;\n\t\tmargin-left: auto;\n\t}\n\n\t& .image-style-block-align-left {\n\t\tmargin-left: 0;\n\t\tmargin-right: auto;\n\t}\n\n\t/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */\n\t& p + .image-style-align-left,\n\t& p + .image-style-align-right,\n\t& p + .image-style-side {\n\t\tmargin-top: 0;\n\t}\n\n\t& .image-inline {\n\t\t&.image-style-align-left,\n\t\t&.image-style-align-right {\n\t\t\tmargin-top: var(--ck-inline-image-style-spacing);\n\t\t\tmargin-bottom: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-left {\n\t\t\tmargin-right: var(--ck-inline-image-style-spacing);\n\t\t}\n\n\t\t&.image-style-align-right {\n\t\t\tmargin-left: var(--ck-inline-image-style-spacing);\n\t\t}\n\t}\n}\n\n.ck.ck-splitbutton {\n\t/* The button should display as a regular drop-down if the action button\n\tis forced to fire the same action as the arrow button. */\n\t&.ck-splitbutton_flatten {\n\t\t&:hover,\n\t\t&.ck-splitbutton_open {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-background);\n\n\t\t\t\t&::after {\n\t\t\t\t\tdisplay: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-splitbutton_open:hover {\n\t\t\t& > .ck-splitbutton__action:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled),\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {\n\t\t\t\tbackground-color: var(--ck-color-button-on-hover-background);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},7693:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@media (prefers-reduced-motion:reduce){.ck-image-upload-complete-icon{animation-duration:0ms}.ck-image-upload-complete-icon:after{animation:none;height:.45em;opacity:1;width:.3em}}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFAqCD,CAjCC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAEA,uCA7CD,+BA8CE,sBASF,CAPE,qCACC,cAAe,CAGf,YAAc,CAFd,SAAU,CACV,UAED,CACD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-image-upload-complete-icon {\n\tdisplay: block;\n\tposition: absolute;\n\n\t/*\n\t * Smaller images should have the icon closer to the border.\n\t * Match the icon position with the linked image indicator brought by the link image feature.\n\t */\n\ttop: min(var(--ck-spacing-medium), 6%);\n\tright: min(var(--ck-spacing-medium), 6%);\n\tborder-radius: 50%;\n\tz-index: 1;\n\n\t&::after {\n\t\tcontent: "";\n\t\tposition: absolute;\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-image-upload-icon: hsl(0, 0%, 100%);\n\t--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);\n\n\t/* Match the icon size with the linked image indicator brought by the link image feature. */\n\t--ck-image-upload-icon-size: 20;\n\t--ck-image-upload-icon-width: 2px;\n\t--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck-image-upload-complete-icon {\n\topacity: 0;\n\tbackground: var(--ck-color-image-upload-icon-background);\n\tanimation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;\n\tanimation-fill-mode: forwards, forwards;\n\tanimation-duration: 500ms, 500ms;\n\n\t/* To make animation scalable. */\n\tfont-size: calc(1px * var(--ck-image-upload-icon-size));\n\n\t/* Hide completed upload icon after 3 seconds. */\n\tanimation-delay: 0ms, 3000ms;\n\n\t/*\n\t * Use CSS math to simulate container queries.\n\t * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t */\n\toverflow: hidden;\n\twidth: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\theight: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));\n\n\t/* This is check icon element made from border-width mixed with animations. */\n\t&::after {\n\t\t/* Because of border transformation we need to "hard code" left position. */\n\t\tleft: 25%;\n\n\t\ttop: 50%;\n\t\topacity: 0;\n\t\theight: 0;\n\t\twidth: 0;\n\n\t\ttransform: scaleX(-1) rotate(135deg);\n\t\ttransform-origin: left top;\n\t\tborder-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\t\tborder-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);\n\n\t\tanimation-name: ck-upload-complete-icon-check;\n\t\tanimation-duration: 500ms;\n\t\tanimation-delay: 500ms;\n\t\tanimation-fill-mode: forwards;\n\n\t\t/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */\n\t\tbox-sizing: border-box;\n\t}\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\tanimation-duration: 0ms;\n\n\t\t&::after {\n\t\t\tanimation: none;\n\t\t\topacity: 1;\n\t\t\twidth: 0.3em;\n\t\t\theight: 0.45em;\n\t\t}\n\t}\n}\n\n@keyframes ck-upload-complete-icon-show {\n\tfrom {\n\t\topacity: 0;\n\t}\n\n\tto {\n\t\topacity: 1;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-hide {\n\tfrom {\n\t\topacity: 1;\n\t}\n\n\tto {\n\t\topacity: 0;\n\t}\n}\n\n@keyframes ck-upload-complete-icon-check {\n\t0% {\n\t\topacity: 1;\n\t\twidth: 0;\n\t\theight: 0;\n\t}\n\t33% {\n\t\twidth: 0.3em;\n\t\theight: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t\twidth: 0.3em;\n\t\theight: 0.45em;\n\t}\n}\n'],sourceRoot:""}]);const a=s},1559:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-upload-placeholder-loader {\n\tposition: absolute;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttop: 0;\n\tleft: 0;\n\n\t&::before {\n\t\tcontent: '';\n\t\tposition: relative;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);\n\t--ck-upload-placeholder-loader-size: 32px;\n\t--ck-upload-placeholder-image-aspect-ratio: 2.8;\n}\n\n.ck .ck-image-upload-placeholder {\n\t/* We need to control the full width of the SVG gray background. */\n\twidth: 100%;\n\tmargin: 0;\n\n\t&.image-inline {\n\t\twidth: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );\n\t}\n\n\t& img {\n\t\t/*\n\t\t * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.\n\t\t * There's nothing special about this number except that it should make the image placeholder look like\n\t\t * a real image during this short period after the upload started and before the image was read from the\n\t\t * file system (and a rich preview was loaded).\n\t\t */\n\t\taspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);\n\t}\n}\n\n.ck .ck-upload-placeholder-loader {\n\twidth: 100%;\n\theight: 100%;\n\n\t&::before {\n\t\twidth: var(--ck-upload-placeholder-loader-size);\n\t\theight: var(--ck-upload-placeholder-loader-size);\n\t\tborder-radius: 50%;\n\t\tborder-top: 3px solid var(--ck-color-upload-placeholder-loader);\n\t\tborder-right: 2px solid transparent;\n\t\tanimation: ck-upload-placeholder-loader 1s linear infinite;\n\t}\n}\n\n@keyframes ck-upload-placeholder-loader {\n\tto {\n\t\ttransform: rotate( 360deg );\n\t}\n}\n"],sourceRoot:""}]);const a=s},2267:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}@media (prefers-reduced-motion:reduce){.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:none;opacity:1}}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBAMD,CAJC,uCAHD,yFAKE,cAAe,CADf,SAGF,CADC,CAKF,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\tposition: relative;\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t& .image,\n\t& .image-inline {\n\t\t/* Showing animation. */\n\t\t&.ck-appear {\n\t\t\tanimation: fadeIn 700ms;\n\n\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\topacity: 1;\n\t\t\t\tanimation: none;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Upload progress bar. */\n\t& .image .ck-progress-bar,\n\t& .image-inline .ck-progress-bar {\n\t\theight: 2px;\n\t\twidth: 0;\n\t\tbackground: var(--ck-color-upload-bar-background);\n\t\ttransition: width 100ms;\n\t}\n}\n\n@keyframes fadeIn {\n\tfrom { opacity: 0; }\n\tto   { opacity: 1; }\n}\n"],sourceRoot:""}]);const a=s},4062:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-text-alternative-form {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},7719:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/* Class added to span element surrounding currently selected link. */\n.ck .ck-link_selected {\n\tbackground: var(--ck-color-link-selected-background);\n\n\t/* Give linked inline images some outline to let the user know they are also part of the link. */\n\t& span.image-inline {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);\n\t}\n}\n\n/*\n * Classes used by the "fake visual selection" displayed in the content when an input\n * in the link UI has focus (the browser does not render the native selection in this state).\n */\n.ck .ck-fake-link-selection {\n\tbackground: var(--ck-color-link-fake-selection);\n}\n\n/* A collapsed fake visual selection. */\n.ck .ck-fake-link-selection_collapsed {\n\theight: 100%;\n\tborder-right: 1px solid var(--ck-color-base-text);\n\tmargin-right: -1px;\n\toutline: solid 1px hsla(0, 0%, 100%, .5);\n}\n'],sourceRoot:""}]);const a=s},8762:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-link-actions__preview {\n\t\tdisplay: inline-block;\n\n\t\t& .ck-button__label {\n\t\t\toverflow: hidden;\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-link-actions__preview {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-actions {\n\t& .ck-button.ck-link-actions__preview {\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\n\t\t& .ck-button__label {\n\t\t\tpadding: 0 var(--ck-spacing-medium);\n\t\t\tcolor: var(--ck-color-link-default);\n\t\t\ttext-overflow: ellipsis;\n\t\t\tcursor: pointer;\n\n\t\t\t/* Match the box model of the link editor form\'s input so the balloon\n\t\t\tdoes not change width when moving between actions and the form. */\n\t\t\tmax-width: var(--ck-input-width);\n\t\t\tmin-width: 3em;\n\t\t\ttext-align: center;\n\n\t\t\t&:hover {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\n\t\t&,\n\t\t&:hover,\n\t\t&:focus,\n\t\t&:active {\n\t\t\tbackground: none;\n\t\t}\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t& .ck-button__label {\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-button:not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-button:not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\t& .ck-button.ck-link-actions__preview {\n\t\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;\n\n\t\t\t& .ck-button__label {\n\t\t\t\tmin-width: 0;\n\t\t\t\tmax-width: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-button:not(.ck-link-actions__preview) {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},3817:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-link-form{align-items:flex-start;display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBAEC,sBAAuB,CADvB,YAkBD,CAfC,2BACC,YACD,CCPA,oCDCD,iBASE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CChBD,CDwBD,iCACC,aAYD,CALE,wHAEC,mCACD,CEhCF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-link-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tdisplay: block;\n\n\t/*\n\t * Whether the form is in the responsive mode or not, if there are decorator buttons\n\t * keep the top margin of action buttons medium.\n\t */\n\t& .ck-button {\n\t\t&.ck-button-save,\n\t\t&.ck-button-cancel {\n\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/*\n * Style link form differently when manual decorators are available.\n * See: https://github.com/ckeditor/ckeditor5-link/issues/186.\n */\n.ck.ck-link-form_layout-vertical {\n\tpadding: 0;\n\tmin-width: var(--ck-input-width);\n\n\t& .ck-labeled-field-view {\n\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);\n\n\t\t& .ck-input-text {\n\t\t\tmin-width: 0;\n\t\t\twidth: 100%;\n\t\t}\n\t}\n\n\t& > .ck-button {\n\t\tpadding: var(--ck-spacing-standard);\n\t\tmargin: 0;\n\t\twidth: 50%;\n\t\tborder-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: 0;\n\n\t\t\t&:last-of-type {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Using additional `.ck` class for stronger CSS specificity than `.ck.ck-link-form > :not(:first-child)`. */\n\t& .ck.ck-list {\n\t\tmargin: var(--ck-spacing-standard) var(--ck-spacing-large);\n\n\t\t& .ck-button.ck-switchbutton {\n\t\t\tpadding: 0;\n\t\t\twidth: 100%;\n\n\t\t\t&:hover {\n\t\t\t\tbackground: none;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},4808:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAyMCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzUuNzUgMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNy43IDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NHptNS40OTQtNS4zMzVhLjc1Ljc1IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NS43NSAwIDAgMSAuMjE3LS4yMDYgNS4yNTEgNS4yNTEgMCAwIDEgOC41MDMgNS45NTVtLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,k2BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-editor__editable {\n\t/* Linked image indicator */\n\t& figure.image > a,\n\t& a span.image-inline {\n\t\t&::after {\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Match the icon size with the upload indicator brought by the image upload feature. */\n\t--ck-link-image-indicator-icon-size: 20;\n\t--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);\n}\n\n.ck.ck-editor__editable {\n\t/* Linked image indicator */\n\t& figure.image > a,\n\t& a span.image-inline {\n\t\t&::after {\n\t\t\tcontent: "";\n\n\t\t\t/*\n\t\t\t * Smaller images should have the icon closer to the border.\n\t\t\t * Match the icon position with the upload indicator brought by the image upload feature.\n\t\t\t */\n\t\t\ttop: min(var(--ck-spacing-medium), 6%);\n\t\t\tright: min(var(--ck-spacing-medium), 6%);\n\n\t\t\tbackground-color: hsla(0, 0%, 0%, .4);\n\t\t\tbackground-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");\n\t\t\tbackground-size: 14px;\n\t\t\tbackground-repeat: no-repeat;\n\t\t\tbackground-position: center;\n\t\t\tborder-radius: 100%;\n\n\t\t\t/*\n\t\t\t* Use CSS math to simulate container queries.\n\t\t\t* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things\n\t\t\t*/\n\t\t\toverflow: hidden;\n\t\t\twidth: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\n\t\t\theight: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));\n\t\t}\n\t}\n}\n\n'],sourceRoot:""}]);const a=s},1232:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-editor__editable .ck-list-bogus-paragraph {\n\tdisplay: block;\n}\n"],sourceRoot:""}]);const a=s},6903:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content ol {\n\tlist-style-type: decimal;\n\n\t& ol {\n\t\tlist-style-type: lower-latin;\n\n\t\t& ol {\n\t\t\tlist-style-type: lower-roman;\n\n\t\t\t& ol {\n\t\t\t\tlist-style-type: upper-latin;\n\n\t\t\t\t& ol {\n\t\t\t\t\tlist-style-type: upper-roman;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck-content ul {\n\tlist-style-type: disc;\n\n\t& ul {\n\t\tlist-style-type: circle;\n\n\t\t& ul {\n\t\t\tlist-style-type: square;\n\n\t\t\t& ul {\n\t\t\t\tlist-style-type: square;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},9968:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-list-properties {\n\t/* When there are no list styles and there is no collapsible. */\n\t&.ck-list-properties_without-styles {\n\t\tpadding: var(--ck-spacing-large);\n\n\t\t& > * {\n\t\t\tmin-width: 14em;\n\n\t\t\t& + * {\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * When the numbered list property fields (start at, reversed) should be displayed,\n\t * more horizontal space is needed. Reconfigure the style grid to create that space.\n\t */\n\t&.ck-list-properties_with-numbered-properties {\n\t\t& > .ck-list-styles-list {\n\t\t\tgrid-template-columns: repeat( 4, auto );\n\t\t}\n\n\t\t/* When list styles are rendered and property fields are in a collapsible. */\n\t\t& > .ck-collapsible {\n\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\n\t\t\t& > .ck-collapsible__children {\n\t\t\t\t& > * {\n\t\t\t\t\twidth: 100%;\n\n\t\t\t\t\t& + * {\n\t\t\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-numbered-list-properties__start-index .ck-input {\n\t\tmin-width: auto;\n\t\twidth: 100%;\n\t}\n\n\t& .ck.ck-numbered-list-properties__reversed-order {\n\t\tbackground: transparent;\n\t\tpadding-left: 0;\n\t\tpadding-right: 0;\n\t\tmargin-bottom: calc(-1 * var(--ck-spacing-tiny));\n\n\t\t&:active, &:hover {\n\t\t\tbox-shadow: none;\n\t\t\tborder-color: transparent;\n\t\t\tbackground: none;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},7141:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-list-styles-list {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-list-style-button-size: 44px;\n}\n\n.ck.ck-list-styles-list {\n\tgrid-template-columns: repeat( 3, auto );\n\trow-gap: var(--ck-spacing-medium);\n\tcolumn-gap: var(--ck-spacing-medium);\n\tpadding: var(--ck-spacing-large);\n\n\t& .ck-button {\n\t\t/* Make the button look like a thumbnail (the icon "takes it all"). */\n\t\twidth: var(--ck-list-style-button-size);\n\t\theight: var(--ck-list-style-button-size);\n\t\tpadding: 0;\n\n\t\t/*\n\t\t * Buttons are aligned by the grid so disable default button margins to not collide with the\n\t\t * gaps in the grid.\n\t\t */\n\t\tmargin: 0;\n\n\t\t/*\n\t\t * Make sure the button border (which is displayed on focus, BTW) does not steal pixels\n\t\t * from the button dimensions and, as a result, decrease the size of the icon\n\t\t * (which becomes blurry as it scales down).\n\t\t */\n\t\tbox-sizing: content-box;\n\n\t\t& .ck-icon {\n\t\t\twidth: var(--ck-list-style-button-size);\n\t\t\theight: var(--ck-list-style-button-size);\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},8991:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px;position:relative}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-content .todo-list .todo-list__label>input:before{transition:none}}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}.ck-editor__editable.ck-content .todo-list .todo-list__label>input,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{cursor:pointer}.ck-editor__editable.ck-content .todo-list .todo-list__label>input:hover:before,.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-editor__editable.ck-content[dir=rtl] .todo-list .todo-list__label>span[contenteditable=false]>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out;width:100%}@media (prefers-reduced-motion:reduce){.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:before{transition:none}}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-editor__editable.ck-content .todo-list .todo-list__label>span[contenteditable=false]>input[checked]:after{border-color:#fff}.ck-editor__editable.ck-content .todo-list .todo-list__label.todo-list__label_without-description input[type=checkbox]{position:absolute}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CA4EA,uBACC,eAwBD,CAtBC,0BAEC,iBAAkB,CADlB,iBAMD,CAHC,qCACC,cACD,CAIA,+CAtFD,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqFC,CAFA,wDApEA,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAoEA,CAhED,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sDAYE,eAEF,CADC,CAGD,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAwBA,wEACC,qBACD,CAEA,mGACC,iBACD,CAYD,kKAEC,cAKD,CAHC,4LACC,mCACD,CAMD,+FAxHA,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAuHA,CAFA,wGAtGC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAsGD,CAlGA,sGAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,sCAAwC,CAJxC,UASD,CAHC,uCAXD,sGAYE,eAEF,CADC,CAGD,qGAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+GACC,kBAA8B,CAC9B,oBACD,CAEA,8GACC,iBACD,CA2DA,uHACC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-todo-list-checkmark-size: 16px;\n}\n\n@define-mixin todo-list-checkbox {\n\t-webkit-appearance: none;\n\tdisplay: inline-block;\n\tposition: relative;\n\twidth: var(--ck-todo-list-checkmark-size);\n\theight: var(--ck-todo-list-checkmark-size);\n\tvertical-align: middle;\n\n\t/* Needed on iOS */\n\tborder: 0;\n\n\t/* LTR styles */\n\tleft: -25px;\n\tmargin-right: -15px;\n\tright: 0;\n\tmargin-left: 0;\n\n\t/* RTL styles */\n\t@nest [dir=rtl]& {\n\t\tleft: 0;\n\t\tmargin-right: 0;\n\t\tright: -25px;\n\t\tmargin-left: -15px;\n\t}\n\n\t&::before {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbox-sizing: border-box;\n\t\tcontent: '';\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder: 1px solid hsl(0, 0%, 20%);\n\t\tborder-radius: 2px;\n\t\ttransition: 250ms ease-in-out box-shadow;\n\n\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\ttransition: none;\n\t\t}\n\t}\n\n\t&::after {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tbox-sizing: content-box;\n\t\tpointer-events: none;\n\t\tcontent: '';\n\n\t\t/* Calculate tick position, size and border-width proportional to the checkmark size. */\n\t\tleft: calc( var(--ck-todo-list-checkmark-size) / 3 );\n\t\ttop: calc( var(--ck-todo-list-checkmark-size) / 5.3 );\n\t\twidth: calc( var(--ck-todo-list-checkmark-size) / 5.3 );\n\t\theight: calc( var(--ck-todo-list-checkmark-size) / 2.6 );\n\t\tborder-style: solid;\n\t\tborder-color: transparent;\n\t\tborder-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;\n\t\ttransform: rotate(45deg);\n\t}\n\n\t&[checked] {\n\t\t&::before {\n\t\t\tbackground: hsl(126, 64%, 41%);\n\t\t\tborder-color: hsl(126, 64%, 41%);\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: hsl(0, 0%, 100%);\n\t\t}\n\t}\n}\n\n/*\n * To-do list content styles.\n */\n.ck-content .todo-list {\n\tlist-style: none;\n\n\t& li {\n\t\tposition: relative;\n\t\tmargin-bottom: 5px;\n\n\t\t& .todo-list {\n\t\t\tmargin-top: 5px;\n\t\t}\n\t}\n\n\t& .todo-list__label {\n\t\t& > input {\n\t\t\t@mixin todo-list-checkbox;\n\t\t}\n\n\t\t& .todo-list__label__description {\n\t\t\tvertical-align: middle;\n\t\t}\n\n\t\t&.todo-list__label_without-description input[type=checkbox] {\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n\n/*\n * To-do list editing view styles.\n */\n.ck-editor__editable.ck-content .todo-list .todo-list__label {\n\t/*\n\t * To-do list should be interactive only during the editing\n\t * (https://github.com/ckeditor/ckeditor5/issues/2090).\n\t */\n\t& > input,\n\t& > span[contenteditable=false] > input {\n\t\tcursor: pointer;\n\n\t\t&:hover::before {\n\t\t\tbox-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);\n\t\t}\n\t}\n\n\t/*\n\t * Document Lists - editing view has an additional span around checkbox.\n\t */\n\t& > span[contenteditable=false] > input {\n\t\t@mixin todo-list-checkbox;\n\t}\n\n\t&.todo-list__label_without-description {\n\t\t& input[type=checkbox] {\n\t\t\tposition: absolute;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},70:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .media {\n\t/* Don\'t allow floated content overlap the media.\n\thttps://github.com/ckeditor/ckeditor5-media-embed/issues/53 */\n\tclear: both;\n\n\t/* Make sure there is some space between the content and the media. */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em 0;\n\n\t/* Make sure media is not overriden with Bootstrap default `flex` value.\n\tSee: https://github.com/ckeditor/ckeditor5/issues/1373. */\n\tdisplay: block;\n\n\t/* Give the media some minimal width in the content to prevent them\n\tfrom being "squashed" in tight spaces, e.g. in table cells (#44) */\n\tmin-width: 15em;\n}\n'],sourceRoot:""}]);const a=s},7048:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSlzY2FsZSguOTgwMTIpIj48cmVjdCB3aWR0aD0iNjAuMDk5IiBoZWlnaHQ9IjYwLjA5OSIgeD0iMTc2LjAzMSIgeT0iMjMxLjM5OSIgZmlsbD0iIzM0YTY2OCIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjIzOCIgcnk9IjUuMjM4Ii8+PHBhdGggZmlsbD0iIzVjODhjNSIgZD0ibTIwNi40NzcgMjYwLjktMjguOTg3IDI4Ljk4N2E1LjIyIDUuMjIgMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiLz48cGF0aCBmaWxsPSIjZGQ0YjNlIiBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwN3EuNS43NTMuOTUgMS41MDguNTE1LjcxNS45ODggMS40NGMxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5cS40NzMtLjcyMy45ODgtMS40MzkuNDUtLjc1NS45NS0xLjUwOGMuMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIGN4PSIyMjYuNzQyIiBjeT0iMjM5LjAwMiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiIHJ4PSI1LjgyOCIgcnk9IjUuNTY0Ii8+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjlxLS4wMDEtLjU0My0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhxLS4wMDEtLjAwMy0uMDA0LS4wMDVjLTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTVtNC40MyA1LjY2LjAwMy4wMDZ2LS4wMDN6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGZpbGw9IiNjM2MzYzMiIGQ9Im0yMTUuMTg0IDI1MS45MjktNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMiA1LjIgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjl6Ii8+PHBhdGggZmlsbD0iI2ZkZGM0ZiIgZD0ibTIxMi45ODMgMjQ4LjQ5NS0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYgMTM2IDAgMCAwLTIuNzY0LTMuOSAzOCAzOCAwIDAgMC0uOTg5LTEuNDQgMzUgMzUgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBmaWxsPSIjZmZmIiBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDI0IiBoZWlnaHQ9IjEwMjQiPjxwYXRoIGZpbGw9IiNGRkZGRkUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTk2Ny40ODQgMEg1Ni41MTdDMjUuMzA0IDAgMCAyNS4zMDQgMCA1Ni41MTd2OTEwLjk2NkMwIDk5OC42OTQgMjUuMjk3IDEwMjQgNTYuNTIyIDEwMjRINTQ3VjYyOEg0MTRWNDczaDEzM1YzNTkuMDI5YzAtMTMyLjI2MiA4MC43NzMtMjA0LjI4MiAxOTguNzU2LTIwNC4yODIgNTYuNTEzIDAgMTA1LjA4NiA0LjIwOCAxMTkuMjQ0IDYuMDg5VjI5OWwtODEuNjE2LjAzN2MtNjMuOTkzIDAtNzYuMzg0IDMwLjQ5Mi03Ni4zODQgNzUuMjM2VjQ3M2gxNTMuNDg3bC0xOS45ODYgMTU1SDcwN3YzOTZoMjYwLjQ4NGMzMS4yMTMgMCA1Ni41MTYtMjUuMzAzIDU2LjUxNi01Ni41MTZWNTYuNTE1QzEwMjQgMjUuMzAzIDk5OC42OTcgMCA5NjcuNDg0IDAiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OW0wIDQ1LjM5MWM2Ny4yNjUgMCA3NS4yMzMuMjU3IDEwMS43OTcgMS40NjkgMjQuNTYyIDEuMTIgMzcuOTAxIDUuMjI0IDQ2Ljc3OCA4LjY3NCAxMS43NTkgNC41NyAyMC4xNTEgMTAuMDI5IDI4Ljk2NiAxOC44NDVzMTQuMjc1IDE3LjIwNyAxOC44NDUgMjguOTY2YzMuNDUgOC44NzcgNy41NTQgMjIuMjE2IDguNjc0IDQ2Ljc3OCAxLjIxMiAyNi41NjQgMS40NjkgMzQuNTMyIDEuNDY5IDEwMS43OTggMCA2Ny4yNjUtLjI1NyA3NS4yMzMtMS40NjkgMTAxLjc5Ny0xLjEyIDI0LjU2Mi01LjIyNCAzNy45MDEtOC42NzQgNDYuNzc4LTQuNTcgMTEuNzU5LTEwLjAyOSAyMC4xNTEtMTguODQ1IDI4Ljk2NnMtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1Yy04Ljg3NyAzLjQ1LTIyLjIxNiA3LjU1NC00Ni43NzggOC42NzQtMjYuNTYgMS4yMTItMzQuNTI3IDEuNDY5LTEwMS43OTcgMS40NjktNjcuMjcxIDAtNzUuMjM3LS4yNTctMTAxLjc5OC0xLjQ2OS0yNC41NjItMS4xMi0zNy45MDEtNS4yMjQtNDYuNzc4LTguNjc0LTExLjc1OS00LjU3LTIwLjE1MS0xMC4wMjktMjguOTY2LTE4Ljg0NXMtMTQuMjc1LTE3LjIwNy0xOC44NDUtMjguOTY2Yy0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NnMxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDVjOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OSIgbWFzaz0idXJsKCNiKSIvPjxwYXRoIGZpbGw9IiNGRkYiIGQ9Ik0yNTEuOTIxIDMzNi4wNTNjLTQ2LjM3OCAwLTgzLjk3NC0zNy41OTYtODMuOTc0LTgzLjk3M3MzNy41OTYtODMuOTc0IDgzLjk3NC04My45NzRjNDYuMzc3IDAgODMuOTczIDM3LjU5NiA4My45NzMgODMuOTc0IDAgNDYuMzc3LTM3LjU5NiA4My45NzMtODMuOTczIDgzLjk3M20wLTIxMy4zMzhjLTcxLjQ0NyAwLTEyOS4zNjUgNTcuOTE4LTEyOS4zNjUgMTI5LjM2NSAwIDcxLjQ0NiA1Ny45MTggMTI5LjM2NCAxMjkuMzY1IDEyOS4zNjQgNzEuNDQ2IDAgMTI5LjM2NC01Ny45MTggMTI5LjM2NC0xMjkuMzY0IDAtNzEuNDQ3LTU3LjkxOC0xMjkuMzY1LTEyOS4zNjQtMTI5LjM2NU00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjNzMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzFjMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwME0xNjMuNCAzMDUuNWM4OC43IDAgMTM3LjItNzMuNSAxMzcuMi0xMzcuMiAwLTIuMSAwLTQuMi0uMS02LjIgOS40LTYuOCAxNy42LTE1LjMgMjQuMS0yNS04LjYgMy44LTE3LjkgNi40LTI3LjcgNy42IDEwLTYgMTcuNi0xNS40IDIxLjItMjYuNy05LjMgNS41LTE5LjYgOS41LTMwLjYgMTEuNy04LjgtOS40LTIxLjMtMTUuMi0zNS4yLTE1LjItMjYuNiAwLTQ4LjIgMjEuNi00OC4yIDQ4LjIgMCAzLjguNCA3LjUgMS4zIDExLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40LTQuMSA3LjEtNi41IDE1LjQtNi41IDI0LjIgMCAxNi43IDguNSAzMS41IDIxLjUgNDAuMS03LjktLjItMTUuMy0yLjQtMjEuOC02di42YzAgMjMuNCAxNi42IDQyLjggMzguNyA0Ny4zLTQgMS4xLTguMyAxLjctMTIuNyAxLjctMy4xIDAtNi4xLS4zLTkuMS0uOSA2LjEgMTkuMiAyMy45IDMzLjEgNDUgMzMuNS0xNi41IDEyLjktMzcuMyAyMC42LTU5LjkgMjAuNi0zLjkgMC03LjctLjItMTEuNS0uNyAyMS4xIDEzLjggNDYuNSAyMS44IDczLjcgMjEuOCIgc3R5bGU9ImZpbGw6I2ZmZiIvPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,goGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,o+GACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,g/BACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-media__wrapper {\n\t& .ck-media__placeholder {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\n\t\t& .ck-media__placeholder__url {\n\t\t\t/* Otherwise the URL will overflow when the content is very narrow. */\n\t\t\tmax-width: 100%;\n\n\t\t\tposition: relative;\n\n\t\t\t& .ck-media__placeholder__url__text {\n\t\t\t\toverflow: hidden;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"],\n\t&[data-oembed-url*="google.com/maps"],\n\t&[data-oembed-url*="goo.gl/maps"],\n\t&[data-oembed-url*="maps.google.com"],\n\t&[data-oembed-url*="maps.app.goo.gl"],\n\t&[data-oembed-url*="facebook.com"],\n\t&[data-oembed-url*="instagram.com"] {\n\t\t& .ck-media__placeholder__icon * {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n/* Disable all mouse interaction as long as the editor is not read\u2013only.\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */\n.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {\n\tpointer-events: none;\n}\n\n/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).\n   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */\n.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {\n\tpointer-events: none;\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-media-embed-placeholder-icon-size: 3em;\n\n\t--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);\n\t--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);\n}\n\n.ck-media__wrapper {\n\tmargin: 0 auto;\n\n\t& .ck-media__placeholder {\n\t\tpadding: calc( 3 * var(--ck-spacing-standard) );\n\t\tbackground: var(--ck-color-base-foreground);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tmin-width: var(--ck-media-embed-placeholder-icon-size);\n\t\t\theight: var(--ck-media-embed-placeholder-icon-size);\n\t\t\tmargin-bottom: var(--ck-spacing-large);\n\t\t\tbackground-position: center;\n\t\t\tbackground-size: cover;\n\n\t\t\t& .ck-icon {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 100%;\n\t\t\t}\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text);\n\t\t\twhite-space: nowrap;\n\t\t\ttext-align: center;\n\t\t\tfont-style: italic;\n\t\t\ttext-overflow: ellipsis;\n\n\t\t\t&:hover {\n\t\t\t\tcolor: var(--ck-color-media-embed-placeholder-url-text-hover);\n\t\t\t\tcursor: pointer;\n\t\t\t\ttext-decoration: underline;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="open.spotify.com"] {\n\t\tmax-width: 300px;\n\t\tmax-height: 380px;\n\t}\n\n\t&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,\n\t&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {\n\t\tbackground-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);\n\t}\n\n\t&[data-oembed-url*="facebook.com"] .ck-media__placeholder {\n\t\tbackground: hsl(220, 46%, 48%);\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(220, 100%, 90%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="instagram.com"] .ck-media__placeholder {\n\t\tbackground: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);\n\t\t}\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(302, 100%, 94%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n\n\t&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {\n\t\t/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */\n\t\tbackground: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );\n\n\t\t& .ck-media__placeholder__icon {\n\t\t\tbackground-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);\n\t\t}\n\n\t\t& .ck-media__placeholder__url__text {\n\t\t\tcolor: hsl(201, 100%, 86%);\n\n\t\t\t&:hover {\n\t\t\t\tcolor: hsl(0, 0%, 100%);\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},5651:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck.ck-media-form {\n\tdisplay: flex;\n\talign-items: flex-start;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\n\t& .ck-labeled-field-view {\n\t\tdisplay: inline-block;\n\t}\n\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t@mixin ck-media-phone {\n\t\tflex-wrap: wrap;\n\n\t\t& .ck-labeled-field-view {\n\t\t\tflex-basis: 100%;\n\t\t}\n\n\t\t& .ck-button {\n\t\t\tflex-basis: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},5506:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-input-color {\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: row-reverse;\n\n\t& > input.ck.ck-input-text {\n\t\tmin-width: auto;\n\t\tflex-grow: 1;\n\t}\n\n\t& > div.ck.ck-dropdown {\n\t\tmin-width: auto;\n\n\t\t/* This dropdown has no arrow but a color preview instead. */\n\t\t& > .ck-input-color__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck.ck-input-color__button {\n\t\t/* Resolving issue with misaligned buttons on Safari (see #10589) */\n\t\tdisplay: flex;\n\n\t\t& .ck.ck-input-color__button__preview {\n\t\t\tposition: relative;\n\t\t\toverflow: hidden;\n\n\t\t\t& > .ck.ck-input-color__button__preview__no-color-indicator {\n\t\t\t\tposition: absolute;\n\t\t\t\tdisplay: block;\n\t\t\t}\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../mixins/_rounded.css";\n\n.ck.ck-input-color {\n\t& > .ck.ck-input-text {\n\t\t@mixin ck-dir ltr {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* Make sure the focused input is always on top of the dropdown button so its\n\t\t   outline and border are never cropped (also when the input is read-only). */\n\t\t&:focus {\n\t\t\tz-index: 0;\n\t\t}\n\t}\n\n\t& > .ck.ck-dropdown {\n\t\t& > .ck.ck-button.ck-input-color__button {\n\t\t\tpadding: 0;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\n\t\t\t\t&:not(:focus) {\n\t\t\t\t\tborder-left: 1px solid transparent;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t\t&:not(:focus) {\n\t\t\t\t\tborder-right: 1px solid transparent;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t&.ck-disabled {\n\t\t\t\tbackground: var(--ck-color-input-disabled-background);\n\t\t\t}\n\n\t\t\t& > .ck.ck-input-color__button__preview {\n\t\t\t\t@mixin ck-rounded-corners;\n\n\t\t\t\twidth: 20px;\n\t\t\t\theight: 20px;\n\t\t\t\tborder: 1px solid var(--ck-color-input-border);\n\n\t\t\t\t& > .ck.ck-input-color__button__preview__no-color-indicator {\n\t\t\t\t\ttop: -30%;\n\t\t\t\t\tleft: 50%;\n\t\t\t\t\theight: 150%;\n\t\t\t\t\twidth: 8%;\n\t\t\t\t\tbackground: hsl(0, 100%, 50%);\n\t\t\t\t\tborder-radius: 2px;\n\t\t\t\t\ttransform: rotate(45deg);\n\t\t\t\t\ttransform-origin: 50%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-input-color__remove-color {\n\t\twidth: 100%;\n\t\tpadding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);\n\n\t\tborder-bottom-left-radius: 0;\n\t\tborder-bottom-right-radius: 0;\n\n\t\t&:not(:focus) {\n\t\t\tborder-bottom: 1px solid var(--ck-color-input-border);\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\tborder-top-right-radius: 0;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tborder-top-left-radius: 0;\n\t\t}\n\n\t\t& .ck.ck-icon {\n\t\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: 0;\n\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},4043:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form {\n\tpadding: 0 0 var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t& .ck.ck-input-text {\n\t\tmin-width: 100%;\n\t\twidth: 0;\n\t}\n\n\t& .ck.ck-dropdown {\n\t\tmin-width: 100%;\n\n\t\t& .ck-dropdown__button {\n\t\t\t&:not(:focus) {\n\t\t\t\tborder: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t& .ck-button__label {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},2655:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\n\t/* Ignore labels that work as fieldset legends */\n\t& > *:not(.ck-label) {\n\t\tflex-grow: 1;\n\t}\n\n\t&.ck-table-form__action-row {\n\t\t& .ck-button-save,\n\t\t& .ck-button-cancel {\n\t\t\tjustify-content: center;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-form__row {\n\tpadding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;\n\n\t/* Ignore labels that work as fieldset legends */\n\t& > *:not(.ck-label) {\n\t\t& + * {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck-label {\n\t\twidth: 100%;\n\t\tmin-width: 100%;\n\t}\n\n\t&.ck-table-form__action-row {\n\t\tmargin-top: var(--ck-spacing-large);\n\n\t\t& .ck-button .ck-button__label {\n\t\t\tcolor: var(--ck-color-text);\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},5032:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}@media (prefers-reduced-motion:reduce){.ck .ck-insert-table-dropdown-grid-box{transition:none}}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAcD,CAZC,uCATD,uCAUE,eAWF,CAVC,CAEA,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-insert-table-dropdown__grid {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: wrap;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-insert-table-dropdown-padding: 10px;\n\t--ck-insert-table-dropdown-box-height: 11px;\n\t--ck-insert-table-dropdown-box-width: 12px;\n\t--ck-insert-table-dropdown-box-margin: 1px;\n}\n\n.ck .ck-insert-table-dropdown__grid {\n\t/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */\n\twidth: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);\n\tpadding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;\n}\n\n.ck .ck-insert-table-dropdown__label,\n.ck[dir=rtl] .ck-insert-table-dropdown__label {\n\ttext-align: center;\n}\n\n.ck .ck-insert-table-dropdown-grid-box {\n\tmin-width: var(--ck-insert-table-dropdown-box-width);\n\tmin-height: var(--ck-insert-table-dropdown-box-height);\n\tmargin: var(--ck-insert-table-dropdown-box-margin);\n\tborder: 1px solid var(--ck-color-base-border);\n\tborder-radius: 1px;\n\toutline: none;\n\ttransition: none;\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\ttransition: none;\n\t}\n\n\t&:focus {\n\t\tbox-shadow: none;\n\t}\n\n\t&.ck-on {\n\t\tborder-color: var(--ck-color-focus-border);\n\t\tbackground: var(--ck-color-focus-outer-shadow);\n\t}\n}\n\n"],sourceRoot:""}]);const a=s},2329:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck-content .table {\n\t/* Give the table widget some air and center it horizontally */\n\t/* The first value should be equal to --ck-spacing-large variable if used in the editor context\n\tto avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */\n\tmargin: 0.9em auto;\n\tdisplay: table;\n\n\t& table {\n\t\t/* The table cells should have slight borders */\n\t\tborder-collapse: collapse;\n\t\tborder-spacing: 0;\n\n\t\t/* Table width and height are set on the parent <figure>. Make sure the table inside stretches\n\t\tto the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */\n\t\twidth: 100%;\n\t\theight: 100%;\n\n\t\t/* The outer border of the table should be slightly darker than the inner lines.\n\t\tAlso see https://github.com/ckeditor/ckeditor5-table/issues/50. */\n\t\tborder: 1px double hsl(0, 0%, 70%);\n\n\t\t& td,\n\t\t& th {\n\t\t\tmin-width: 2em;\n\t\t\tpadding: .4em;\n\n\t\t\t/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it\'s not necessary here.\n\t\t\tHowever, the border is a content style, so it should use .ck-content (so it works outside the editor).\n\t\t\tHence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */\n\t\t\tborder: 1px solid hsl(0, 0%, 75%);\n\t\t}\n\n\t\t& th {\n\t\t\tfont-weight: bold;\n\t\t\tbackground: hsla(0, 0%, 0%, 5%);\n\t\t}\n\t}\n}\n\n/* Text alignment of the table header should match the editor settings and override the native browser styling,\nwhen content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */\n.ck-content[dir="rtl"] .table th {\n\ttext-align: right;\n}\n\n.ck-content[dir="ltr"] .table th {\n\ttext-align: left;\n}\n\n.ck-editor__editable .ck-table-bogus-paragraph {\n\t/*\n\t * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.\n\t * See https://github.com/ckeditor/ckeditor5/issues/6062.\n\t */\n\tdisplay: inline-block;\n\n\t/*\n\t * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.\n\t * See https://github.com/ckeditor/ckeditor5/issues/9117.\n\t */\n\twidth: 100%;\n}\n'],sourceRoot:""}]);const a=s},4143:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}@media (forced-colors:active){.ck-content .table>figcaption{background-color:unset;color:unset}}@media (forced-colors:none){.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAOA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAaD,CCxBC,8BACC,8BDoBA,sBAAuB,CACvB,WCnBA,CACD,CAIA,4BDqBC,qEACC,iDACD,CCnBD,CDsBA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";\n\n:root {\n\t--ck-color-selector-caption-background: hsl(0, 0%, 97%);\n\t--ck-color-selector-caption-text: hsl(0, 0%, 20%);\n\t--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);\n}\n\n/* Content styles */\n.ck-content .table > figcaption {\n\tdisplay: table-caption;\n\tcaption-side: top;\n\tword-break: break-word;\n\ttext-align: center;\n\tcolor: var(--ck-color-selector-caption-text);\n\tbackground-color: var(--ck-color-selector-caption-background);\n\tpadding: .6em;\n\tfont-size: .75em;\n\toutline-offset: -1px;\n\n\t/* Improve placeholder rendering in high-constrast mode (https://github.com/ckeditor/ckeditor5/issues/14907). */\n\t@mixin ck-media-forced-colors {\n\t\tbackground-color: unset;\n\t\tcolor: unset;\n\t}\n}\n\n/* Editing styles */\n.ck.ck-editor__editable .table > figcaption {\n\t@mixin ck-media-default-colors {\n\t\t&.table__caption_highlighted {\n\t\t\tanimation: ck-table-caption-highlight .6s ease-out;\n\t\t}\n\t}\n\n\t&.ck-placeholder::before {\n\t\tpadding-left: inherit;\n\t\tpadding-right: inherit;\n\n\t\t/*\n\t\t * Make sure the table caption placeholder doesn\'t overflow the placeholder area.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9162.\n\t\t */\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t}\n}\n\n@keyframes ck-table-caption-highlight {\n\t0% {\n\t\tbackground-color: var(--ck-color-selector-caption-highlighted-background);\n\t}\n\n\t100% {\n\t\tbackground-color: var(--ck-color-selector-caption-background);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-forced-colors {\n\t@media (forced-colors: active) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n\n@define-mixin ck-media-default-colors {\n\t@media (forced-colors: none) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},8986:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-cell-properties-form {\n\t& .ck-form__row {\n\t\t&.ck-table-cell-properties-form__alignment-row {\n\t\t\tflex-wrap: wrap;\n\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\t&:first-of-type {\n\t\t\t\t\t/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */\n\t\t\t\t\tflex-grow: 0.57;\n\t\t\t\t}\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\t/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */\n\t\t\t\t\tflex-grow: 0.43;\n\t\t\t\t}\n\n\t\t\t\t& .ck-button {\n\t\t\t\t\tflex-grow: 1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-cell-properties-form {\n\twidth: 320px;\n\n\t& .ck-form__row {\n\t\t&.ck-table-cell-properties-form__padding-row {\n\t\t\talign-self: flex-end;\n\t\t\tpadding: 0;\n\t\t\twidth: 25%;\n\t\t}\n\n\t\t&.ck-table-cell-properties-form__alignment-row {\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\tbackground: none;\n\n\t\t\t\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},8795:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:0;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:0;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);bottom:-999999px;opacity:.25;top:-999999px}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAGC,QAAS,CAGT,iBAAkB,CALlB,iBAAkB,CAGlB,oDAAqD,CAFrD,KAAM,CAKN,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAO/D,gBAAiB,CANjB,WAAa,CAKb,aAED,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);\n\t--ck-table-column-resizer-width: 7px;\n\n\t/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.\n\t   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */\n\t--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);\n}\n\n.ck-content .table .ck-table-resized {\n\ttable-layout: fixed;\n}\n\n.ck-content .table table {\n\toverflow: hidden;\n}\n\n.ck-content .table td,\n.ck-content .table th {\n\t/* To prevent text overflowing beyond its cell when columns are resized by resize handler\n\t(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */\n\toverflow-wrap: break-word;\n\tposition: relative;\n}\n\n.ck.ck-editor__editable .table .ck-table-column-resizer {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tright: var(--ck-table-column-resizer-position-offset);\n\twidth: var(--ck-table-column-resizer-width);\n\tcursor: col-resize;\n\tuser-select: none;\n\tz-index: var(--ck-z-default);\n}\n\n.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {\n\tdisplay: none;\n}\n\n/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,\n   all resizers must be hidden while the table is dragged. */\n.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {\n\tdisplay: none;\n}\n\n.ck.ck-editor__editable .table .ck-table-column-resizer:hover,\n.ck.ck-editor__editable .table .ck-table-column-resizer__active {\n\tbackground-color: var(--ck-color-selector-column-resizer-hover);\n\topacity: 0.25;\n\t/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,\n\t   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as\n\t   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally\n\t   unrealistic height for a single table. */\n\ttop: -999999px;\n\tbottom: -999999px;\n}\n\n.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {\n\tleft: var(--ck-table-column-resizer-position-offset);\n\tright: unset;\n}\n"],sourceRoot:""}]);const a=s},8137:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);\n}\n\n.ck-widget.table {\n\t& td,\n\t& th {\n\t\t&.ck-editor__nested-editable.ck-editor__nested-editable_focused,\n\t\t&.ck-editor__nested-editable:focus {\n\t\t\t/* A very slight background to highlight the focused cell */\n\t\t\tbackground: var(--ck-color-selector-focused-cell-background);\n\n\t\t\t/* Fixes the problem where surrounding cells cover the focused cell's border.\n\t\t\tIt does not fix the problem in all places but the UX is improved.\n\t\t\tSee https://github.com/ckeditor/ckeditor5-table/issues/29. */\n\t\t\tborder-style: none;\n\t\t\toutline: 1px solid var(--ck-color-focus-border);\n\t\t\toutline-offset: -1px; /* progressive enhancement - no IE support */\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},1623:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}@media (prefers-reduced-motion:reduce){.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:none}}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCA6BD,CA3BC,8ECxCD,eD6DC,CArBA,mMCpCA,qCDyDA,CArBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAcD,CAXC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEAKD,CAHC,uCAlBD,8EAmBE,cAEF,CADC,CAID,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-form {\n\t& .ck-form__row {\n\t\t&.ck-table-form__border-row {\n\t\t\tflex-wrap: wrap;\n\t\t}\n\n\t\t&.ck-table-form__background-row {\n\t\t\tflex-wrap: wrap;\n\t\t}\n\n\t\t&.ck-table-form__dimensions-row {\n\t\t\tflex-wrap: wrap;\n\t\t\talign-items: center;\n\n\t\t\t& .ck-labeled-field-view {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column-reverse;\n\t\t\t\talign-items: center;\n\n\t\t\t\t& .ck.ck-dropdown {\n\t\t\t\t\tflex-grow: 0;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-table-form__dimension-operator {\n\t\t\t\tflex-grow: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-labeled-field-view {\n\t\t/* Allow absolute positioning of the status (error) balloons. */\n\t\tposition: relative;\n\n\t\t& .ck.ck-labeled-field-view__status {\n\t\t\tposition: absolute;\n\t\t\tleft: 50%;\n\t\t\tbottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );\n\t\t\ttransform: translate(-50%,100%);\n\n\t\t\t/* Make sure the balloon status stays on top of other form elements. */\n\t\t\tz-index: 1;\n\n\t\t\t/* The arrow pointing towards the field. */\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: calc( -1 * var(--ck-table-properties-error-arrow-size) );\n\t\t\t\tleft: 50%;\n\t\t\t\ttransform: translateX( -50% );\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_rounded.css";\n\n:root {\n\t--ck-table-properties-error-arrow-size: 6px;\n\t--ck-table-properties-min-error-width: 150px;\n}\n\n.ck.ck-table-form {\n\t& .ck-form__row {\n\t\t&.ck-table-form__border-row {\n\t\t\t& .ck-labeled-field-view {\n\t\t\t\t& > .ck-label {\n\t\t\t\t\tfont-size: var(--ck-font-size-tiny);\n\t\t\t\t\ttext-align: center;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-table-form__border-style,\n\t\t\t& .ck-table-form__border-width {\n\t\t\t\twidth: 80px;\n\t\t\t\tmin-width: 80px;\n\t\t\t\tmax-width: 80px;\n\t\t\t}\n\t\t}\n\n\t\t&.ck-table-form__dimensions-row {\n\t\t\tpadding: 0;\n\n\t\t\t& .ck-table-form__dimensions-row__width,\n\t\t\t& .ck-table-form__dimensions-row__height {\n\t\t\t\tmargin: 0\n\t\t\t}\n\n\t\t\t& .ck-table-form__dimension-operator {\n\t\t\t\talign-self: flex-end;\n\t\t\t\tdisplay: inline-block;\n\t\t\t\theight: var(--ck-ui-component-min-height);\n\t\t\t\tline-height: var(--ck-ui-component-min-height);\n\t\t\t\tmargin: 0 var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t& .ck.ck-labeled-field-view {\n\t\tpadding-top: var(--ck-spacing-standard);\n\n\t\t& .ck.ck-labeled-field-view__status {\n\t\t\t@mixin ck-rounded-corners;\n\n\t\t\tbackground: var(--ck-color-base-error);\n\t\t\tcolor: var(--ck-color-base-background);\n\t\t\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\n\t\t\tmin-width: var(--ck-table-properties-min-error-width);\n\t\t\ttext-align: center;\n\n\t\t\t/* The arrow pointing towards the field. */\n\t\t\t&::after {\n\t\t\t\tborder-color: transparent transparent var(--ck-color-base-error) transparent;\n\t\t\t\tborder-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);\n\t\t\t\tborder-style: solid;\n\t\t\t}\n\n\t\t\tanimation: ck-table-form-labeled-view-status-appear .15s ease both;\n\n\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\tanimation: none;\n\t\t\t}\n\t\t}\n\n\t\t/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */\n\t\t& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n\n@keyframes ck-table-form-labeled-view-status-appear {\n\t0% {\n\t\topacity: 0;\n\t}\n\n\t100% {\n\t\topacity: 1;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},5562:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-properties-form {\n\t& .ck-form__row {\n\t\t&.ck-table-properties-form__alignment-row {\n\t\t\tflex-wrap: wrap;\n\t\t\tflex-basis: 0;\n\t\t\talign-content: baseline;\n\n\t\t\t& .ck.ck-toolbar .ck-toolbar__items {\n\t\t\t\tflex-wrap: nowrap;\n\t\t\t}\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-table-properties-form {\n\twidth: 320px;\n\n\t& .ck-form__row {\n\t\t&.ck-table-properties-form__alignment-row {\n\t\t\talign-self: flex-end;\n\t\t\tpadding: 0;\n\n\t\t\t& .ck.ck-toolbar {\n\t\t\t\tbackground: none;\n\n\t\t\t\t/* Compensate for missing input label that would push the margin (toolbar has no inputs). */\n\t\t\t\tmargin-top: var(--ck-spacing-standard);\n\n\t\t\t\t& .ck-toolbar__items > * {\n\t\t\t\t\twidth: 40px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},8423:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);\n}\n\n.ck.ck-editor__editable .table table {\n\t& td.ck-editor__editable_selected,\n\t& th.ck-editor__editable_selected {\n\t\tposition: relative;\n\t\tcaret-color: transparent;\n\t\toutline: unset;\n\t\tbox-shadow: unset;\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/6446 */\n\t\t&:after {\n\t\t\tcontent: '';\n\t\t\tpointer-events: none;\n\t\t\tbackground-color: var(--ck-table-selected-cell-background);\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t}\n\n\t\t& ::selection,\n\t\t&:focus {\n\t\t\tbackground-color: transparent;\n\t\t}\n\n\t\t/*\n\t\t * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/9491.\n\t\t */\n\t\t& .ck-widget {\n\t\t\toutline: unset;\n\n\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},1801:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-aria-live-announcer{left:-10000px;position:absolute;top:-10000px}.ck.ck-aria-live-region-list{list-style-type:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/arialiveannouncer/arialiveannouncer.css"],names:[],mappings:"AAKA,2BAEC,aAAc,CADd,iBAAkB,CAElB,YACD,CAEA,6BACC,oBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-aria-live-announcer {\n\tposition: absolute;\n\tleft: -10000px;\n\ttop: -10000px;\n}\n\n.ck.ck-aria-live-region-list {\n\tlist-style-type: none;\n}\n"],sourceRoot:""}]);const a=s},5727:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-autocomplete{position:relative}.ck.ck-autocomplete>.ck-search__results{position:absolute;z-index:var(--ck-z-panel)}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{bottom:100%}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{bottom:auto;top:100%}.ck.ck-autocomplete>.ck-search__results{border-radius:0}.ck-rounded-corners .ck.ck-autocomplete>.ck-search__results,.ck.ck-autocomplete>.ck-search__results.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-autocomplete>.ck-search__results{background:var(--ck-color-base-background);border:1px solid var(--ck-color-dropdown-panel-border);box-shadow:var(--ck-drop-shadow),0 0;max-height:200px;min-width:auto;overflow-y:auto}.ck.ck-autocomplete>.ck-search__results.ck-search__results_n{border-bottom-left-radius:0;border-bottom-right-radius:0;margin-bottom:-1px}.ck.ck-autocomplete>.ck-search__results.ck-search__results_s{border-top-left-radius:0;border-top-right-radius:0;margin-top:-1px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/autocomplete/autocomplete.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,oBACC,iBAeD,CAbC,wCACC,iBAAkB,CAClB,yBAUD,CARC,6DACC,WACD,CAEA,6DAEC,WAAY,CADZ,QAED,CCVD,wCCEA,eDuBA,CAzBA,uHCMC,qCDmBD,CAzBA,wCAMC,0CAA2C,CAC3C,sDAAuD,CEPxD,oCAA8B,CFI7B,gBAAiB,CAIjB,cAAe,CAHf,eAoBD,CAfC,6DACC,2BAA4B,CAC5B,4BAA6B,CAG7B,kBACD,CAEA,6DACC,wBAAyB,CACzB,yBAA0B,CAG1B,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-autocomplete {\n\tposition: relative;\n\n\t& > .ck-search__results {\n\t\tposition: absolute;\n\t\tz-index: var(--ck-z-panel);\n\n\t\t&.ck-search__results_n {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-search__results_s {\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-theme-lark/theme/mixins/_shadow.css";\n\n.ck.ck-autocomplete {\n\t& > .ck-search__results {\n\t\t@mixin ck-rounded-corners;\n\t\t@mixin ck-drop-shadow;\n\n\t\tmax-height: 200px;\n\t\toverflow-y: auto;\n\t\tbackground: var(--ck-color-base-background);\n\t\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\t\tmin-width: auto;\n\n\t\t&.ck-search__results_n {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t/* Prevent duplicated borders between the input and the results pane. */\n\t\t\tmargin-bottom: -1px;\n\t\t}\n\n\t\t&.ck-search__results_s {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-top-right-radius: 0;\n\n\t\t\t/* Prevent duplicated borders between the input and the results pane. */\n\t\t\tmargin-top: -1px;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},9715:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}[dir=ltr] .ck.ck-button,[dir=ltr] a.ck.ck-button{justify-content:left}[dir=rtl] .ck.ck-button,[dir=rtl] a.ck.ck-button{justify-content:right}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}@media (prefers-reduced-motion:reduce){.ck.ck-button,a.ck.ck-button{transition:none}}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{opacity:.5}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAQA,6BAMC,kBAAmB,CADnB,mBAAoB,CADpB,iBAAkB,CCHlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD0BD,CA9BA,iDASE,oBAqBF,CA9BA,iDAaE,qBAiBF,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEzBD,6BCAC,oDD+ID,CC5IE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eFgJD,CA/IA,wIEGE,qCF4IF,CA/IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBA0ID,CAhHC,uCA/BD,6BAgCE,eA+GF,CA9GC,CAEA,oFGpCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHyCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAWD,CAZA,6FAIE,mCAQF,CAZA,6FAQE,oCAIF,CAZA,yEAWC,UACD,CAIC,oIIxFD,oDJ4FC,CAOA,gLKnGD,kCLqGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCClIA,+CDsIA,CCnIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDmHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CClJC,mDDuJD,CCpJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDmID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n@import "../../mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-unselectable;\n\n\tposition: relative;\n\tdisplay: inline-flex;\n\talign-items: center;\n\n\t@mixin ck-dir ltr {\n\t\tjustify-content: left;\n\t}\n\n\t@mixin ck-dir rtl {\n\t\tjustify-content: right;\n\t}\n\n\t& .ck-button__label {\n\t\tdisplay: none;\n\t}\n\n\t&.ck-button_with-text {\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t/* Center the icon horizontally in a button without text. */\n\t&:not(.ck-button_with-text)  {\n\t\tjustify-content: center;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-button,\na.ck.ck-button {\n\t@mixin ck-button-colors --ck-color-button-default;\n\t@mixin ck-rounded-corners;\n\n\twhite-space: nowrap;\n\tcursor: default;\n\tvertical-align: middle;\n\tpadding: var(--ck-spacing-tiny);\n\ttext-align: center;\n\n\t/* A very important piece of styling. Go to variable declaration to learn more. */\n\tmin-width: var(--ck-ui-component-min-height);\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Normalize the height of the line. Removing this will break consistent height\n\tamong text and text-less buttons (with icons). */\n\tline-height: 1;\n\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t/* Avoid flickering when the foucs border shows up. */\n\tborder: 1px solid transparent;\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .2s ease-in-out, border .2s ease-in-out;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */\n\t-webkit-appearance: none;\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\ttransition: none;\n\t}\n\n\t&:active,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t/* Allow icon coloring using the text "color" property. */\n\t& .ck-button__icon {\n\t\t& use,\n\t\t& use * {\n\t\t\tcolor: inherit;\n\t\t}\n\t}\n\n\t& .ck-button__label {\n\t\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\t\tfont-size: inherit;\n\t\tfont-weight: inherit;\n\t\tcolor: inherit;\n\t\tcursor: inherit;\n\n\t\t/* Must be consistent with .ck-icon\'s vertical align. Otherwise, buttons with and\n\t\twithout labels (but with icons) have different sizes in Chrome */\n\t\tvertical-align: middle;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& .ck-button__keystroke {\n\t\tcolor: inherit;\n\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-right: var(--ck-spacing-large);\n\t\t}\n\n\t\topacity: .5;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t&.ck-disabled {\n\t\t&:active,\n\t\t&:focus {\n\t\t\t/* The disabled button should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t\t& .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t& .ck-button__keystroke {\n\t\t\topacity: .3;\n\t\t}\n\t}\n\n\t&.ck-button_with-text {\n\t\tpadding: var(--ck-spacing-tiny) var(--ck-spacing-standard);\n\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__icon {\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-right: calc(-1 * var(--ck-spacing-small));\n\t\t\t\tmargin-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-button_with-keystroke {\n\t\t/* stylelint-disable-next-line no-descending-specificity */\n\t\t& .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t}\n\t}\n\n\t/* A style of the button which is currently on, e.g. its feature is active. */\n\t&.ck-on {\n\t\t@mixin ck-button-colors --ck-color-button-on;\n\n\t\tcolor: var(--ck-color-button-on-color);\n\t}\n\n\t&.ck-button-save {\n\t\tcolor: var(--ck-color-button-save);\n\t}\n\n\t&.ck-button-cancel {\n\t\tcolor: var(--ck-color-button-cancel);\n\t}\n}\n\n/* A style of the button which handles the primary action. */\n.ck.ck-button-action,\na.ck.ck-button-action {\n\t@mixin ck-button-colors --ck-color-button-action;\n\n\tcolor: var(--ck-color-button-action-text);\n}\n\n.ck.ck-button-bold,\na.ck.ck-button-bold {\n\tfont-weight: bold;\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements a button of given background color.\n *\n * @param {String} $background - Background color of the button.\n * @param {String} $border - Border color of the button.\n */\n@define-mixin ck-button-colors $prefix {\n\tbackground: var($(prefix)-background);\n\n\t&:not(.ck-disabled) {\n\t\t&:hover {\n\t\t\tbackground: var($(prefix)-hover-background);\n\t\t}\n\n\t\t&:active {\n\t\t\tbackground: var($(prefix)-active-background);\n\t\t}\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */\n\t&.ck-disabled {\n\t\tbackground: var($(prefix)-disabled-background);\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const a=s},4391:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{transition:none}}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eDgFA,CA5CA,yIChCC,qCD4ED,CA5CA,2DAKE,gBAuCF,CA5CA,2DAUE,iBAkCF,CA5CA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CA2BD,CAxBC,2ECxDD,eDuEC,CAfA,6LCpDA,qCAAsC,CDsDpC,8CAaF,CAfA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAUD,CAHC,uCAZD,2EAaE,eAEF,CADC,CAGD,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEpFA,kCFsFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-button.ck-switchbutton {\n\t& .ck-button__toggle {\n\t\tdisplay: block;\n\n\t\t& .ck-button__toggle__inner {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature\nof the component, floating\u2013point numbers have been used which, for the default font size\n(see: --ck-font-size-base), will generate simple integers. */\n:root {\n\t/* 34px at 13px font-size */\n\t--ck-switch-button-toggle-width: 2.6153846154em;\n\t/* 14px at 13px font-size */\n\t--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);\n\t--ck-switch-button-translation: calc(\n\t\tvar(--ck-switch-button-toggle-width) -\n\t\tvar(--ck-switch-button-toggle-inner-size) -\n\t\t2px /* Border */\n\t);\n\t--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);\n}\n\n.ck.ck-button.ck-switchbutton {\n\t/* Unlike a regular button, the switch button text color and background should never change.\n\t * Changing toggle switch (background, outline) is enough to carry the information about the\n\t * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)\n\t */\n\t&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {\n\t\tcolor: inherit;\n\t\tbackground: transparent;\n\t}\n\n\t& .ck-button__label {\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-right: calc(2 * var(--ck-spacing-large));\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Separate the label from the switch */\n\t\t\tmargin-left: calc(2 * var(--ck-spacing-large));\n\t\t}\n\t}\n\n\t& .ck-button__toggle {\n\t\t@mixin ck-rounded-corners;\n\n\t\t@mixin ck-dir ltr {\n\t\t\t/* Make sure the toggle is always to the right as far as possible. */\n\t\t\tmargin-left: auto;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t/* Make sure the toggle is always to the left as far as possible. */\n\t\t\tmargin-right: auto;\n\t\t}\n\n\t\t/* Apply some smooth transition to the box-shadow and border. */\n\t\t/* Gently animate the background color of the toggle switch */\n\t\ttransition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;\n\t\tborder: 1px solid transparent;\n\t\twidth: var(--ck-switch-button-toggle-width);\n\t\tbackground: var(--ck-color-switch-button-off-background);\n\n\t\t& .ck-button__toggle__inner {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-radius: calc(.5 * var(--ck-border-radius));\n\t\t\t}\n\n\t\t\twidth: var(--ck-switch-button-toggle-inner-size);\n\t\t\theight: var(--ck-switch-button-toggle-inner-size);\n\t\t\tbackground: var(--ck-color-switch-button-inner-background);\n\n\t\t\t/* Gently animate the inner part of the toggle switch */\n\t\t\ttransition: all 300ms ease;\n\n\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\ttransition: none;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\tbackground: var(--ck-color-switch-button-off-hover-background);\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\tbox-shadow: var(--ck-switch-button-inner-hover-shadow);\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-button__toggle {\n\t\t@mixin ck-disabled;\n\t}\n\n\t/* Overriding default .ck-button:focus styles + an outline around the toogle */\n\t&:focus {\n\t\tborder-color: transparent;\n\t\toutline: none;\n\t\tbox-shadow: none;\n\n\t\t& .ck-button__toggle {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);\n\t\t\toutline-offset: 1px;\n\t\t\toutline: var(--ck-focus-ring);\n\t\t}\n\t}\n\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-on {\n\t\t& .ck-button__toggle {\n\t\t\tbackground: var(--ck-color-switch-button-on-background);\n\n\t\t\t&:hover {\n\t\t\t\tbackground: var(--ck-color-switch-button-on-hover-background);\n\t\t\t}\n\n\t\t\t& .ck-button__toggle__inner {\n\t\t\t\t/*\n\t\t\t\t* Move the toggle switch to the right. It will be animated.\n\t\t\t\t*/\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\ttransform: translateX( var( --ck-switch-button-translation ) );\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\ttransform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const a=s},25:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-list-button-padding);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/collapsible/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/collapsible/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,qCAAsC,CAFtC,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,gFACD,CAGC,mEACC,wBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-collapsible.ck-collapsible_collapsed {\n\t& > .ck-collapsible__children {\n\t\tdisplay: none;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-collapsible {\n\t& > .ck.ck-button {\n\t\twidth: 100%;\n\t\tfont-weight: bold;\n\t\tpadding: var(--ck-list-button-padding);\n\t\tborder-radius: 0;\n\t\tcolor: inherit;\n\n\t\t&:focus {\n\t\t\tbackground: transparent;\n\t\t}\n\n\t\t&:active, &:not(:focus), &:hover:not(:focus) {\n\t\t\tbackground: transparent;\n\t\t\tborder-color: transparent;\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t& > .ck-icon {\n\t\t\tmargin-right: var(--ck-spacing-medium);\n\t\t\twidth: var(--ck-collapsible-arrow-size);\n\t\t}\n\t}\n\n\t& > .ck-collapsible__children {\n\t\tpadding: var(--ck-spacing-medium) var(--ck-spacing-large) var(--ck-spacing-large);\n\t}\n\n\t&.ck-collapsible_collapsed {\n\t\t& > .ck.ck-button .ck-icon {\n\t\t\ttransform: rotate(-90deg);\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},7317:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{transition:box-shadow .2s ease}@media (forced-colors:none){.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}}@media (forced-colors:active){.ck.ck-color-grid__tile{height:unset;min-height:unset;min-width:unset;padding:0 var(--ck-spacing-small);width:unset}.ck.ck-color-grid__tile .ck-button__label{display:inline-block}}@media (prefers-reduced-motion:reduce){.ck.ck-color-grid__tile{transition:none}}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,kBACC,YACD,CCCA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBACC,8BAkED,CC3EC,4BACC,wBDgBA,QAAS,CAJT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CAJV,oCCTA,CDgBA,8HAIC,QACD,CAEA,+DACC,gDACD,CAEA,8BACC,8FACD,CAEA,gGAEC,iGACD,CCjCD,CAZA,8BACC,wBDqDA,YAAa,CAEb,gBAAiB,CADjB,eAAgB,CAEhB,iCAAkC,CAJlC,WClDA,CDwDA,0CACC,oBACD,CCzDD,CD4DA,uCAhDD,wBAiDE,eAkBF,CAjBC,CAEA,oCACC,YAAa,CACb,gBACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAGC,0CACC,aACD,CAIF,yBACC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-color-grid {\n\tdisplay: grid;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";\n\n:root {\n\t--ck-color-grid-tile-size: 24px;\n\n\t/* Not using global colors here because these may change but some colors in a pallette\n\t * require special treatment. For instance, this ensures no matter what the UI text color is,\n\t * the check icon will look good on the black color tile. */\n\t--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);\n}\n\n.ck.ck-color-grid {\n\tgrid-gap: 5px;\n\tpadding: 8px;\n}\n\n.ck.ck-color-grid__tile {\n\ttransition: .2s ease box-shadow;\n\n\t@mixin ck-media-default-colors {\n\t\twidth: var(--ck-color-grid-tile-size);\n\t\theight: var(--ck-color-grid-tile-size);\n\t\tmin-width: var(--ck-color-grid-tile-size);\n\t\tmin-height: var(--ck-color-grid-tile-size);\n\t\tpadding: 0;\n\t\tborder: 0;\n\n\t\t&.ck-on,\n\t\t&:focus:not( .ck-disabled ),\n\t\t&:hover:not( .ck-disabled ) {\n\t\t\t/* Disable the default .ck-button\'s border ring. */\n\t\t\tborder: 0;\n\t\t}\n\n\t\t&.ck-color-selector__color-tile_bordered {\n\t\t\tbox-shadow: 0 0 0 1px var(--ck-color-base-border);\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);\n\t\t}\n\n\t\t&:focus:not( .ck-disabled ),\n\t\t&:hover:not( .ck-disabled ) {\n\t\t\tbox-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);\n\t\t}\n\t}\n\n\t/*\n\t * In high contrast mode, the colors are replaced with text labels.\n\t * See https://github.com/ckeditor/ckeditor5/issues/14907.\n\t */\n\t@mixin ck-media-forced-colors {\n\t\twidth: unset;\n\t\theight: unset;\n\t\tmin-width: unset;\n\t\tmin-height: unset;\n\t\tpadding: 0 var(--ck-spacing-small);\n\n\t\t& .ck-button__label {\n\t\t\tdisplay: inline-block;\n\t\t}\n\t}\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\ttransition: none;\n\t}\n\n\t&.ck-disabled {\n\t\tcursor: unset;\n\t\ttransition: unset;\n\t}\n\n\t& .ck.ck-icon {\n\t\tdisplay: none;\n\t\tcolor: var(--ck-color-color-grid-check-icon);\n\t}\n\n\t&.ck-on {\n\t\t& .ck.ck-icon {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n}\n\n.ck.ck-color-grid__label {\n\tpadding: 0 var(--ck-spacing-standard);\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-forced-colors {\n\t@media (forced-colors: active) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n\n@define-mixin ck-media-default-colors {\n\t@media (forced-colors: none) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},1905:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.color-picker-hex-input {\n\twidth: max-content;\n\n\t& .ck.ck-input {\n\t\tmin-width: unset;\n\t}\n}\n\n.ck.ck-color-picker__row {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\tjustify-content: space-between;\n\tmargin: var(--ck-spacing-large) 0 0;\n\twidth: unset;\n\n\t& .ck.ck-labeled-field-view {\n\t\tpadding-top: unset;\n\t}\n\n\t& .ck.ck-input-text {\n\t\twidth: unset;\n\t}\n\n\t& .ck-color-picker__hash-view {\n\t\tpadding-top: var(--ck-spacing-tiny);\n\t\tpadding-right: var(--ck-spacing-medium);\n\t}\n}\n"],sourceRoot:""}]);const a=s},6309:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-color-selector {\n\t/* View fragment with color grids. */\n\t& .ck-color-grids-fragment {\n\t\t& .ck-button.ck-color-selector__remove-color,\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tjustify-content: flex-start;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* View fragment with a color picker. */\n\t& .ck-color-picker-fragment {\n\t\t& .ck.ck-color-selector_action-bar {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: row;\n\t\t\tjustify-content: space-around;\n\n\t\t\t& .ck-button-save,\n\t\t\t& .ck-button-cancel {\n\t\t\t\tflex: 1\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-color-selector {\n\t/* View fragment with color grids. */\n\t& .ck-color-grids-fragment {\n\t\t& .ck-button.ck-color-selector__remove-color,\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t& .ck-button.ck-color-selector__color-picker {\n\t\t\tpadding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t& .ck.ck-icon {\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tmargin-right: var(--ck-spacing-standard);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& label.ck.ck-color-grid__label {\n\t\t\tfont-weight: unset;\n\t\t}\n\t}\n\n\t/* View fragment with a color picker. */\n\t& .ck-color-picker-fragment {\n\t\t& .ck.ck-color-picker {\n\t\t\tpadding: 8px;\n\n\t\t\t& .hex-color-picker {\n\t\t\t\theight: 100px;\n\t\t\t\tmin-width: 180px;\n\n\t\t\t\t&::part(saturation) {\n\t\t\t\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\t\t\t\t}\n\n\t\t\t\t&::part(hue) {\n\t\t\t\t\tborder-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);\n\t\t\t\t}\n\n\t\t\t\t&::part(saturation-pointer),\n\t\t\t\t&::part(hue-pointer) {\n\t\t\t\t\twidth: 15px;\n\t\t\t\t\theight: 15px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t& .ck.ck-color-selector_action-bar {\n\t\t\tpadding: 0 8px 8px;\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},9819:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-dialog-overlay{bottom:0;left:0;overscroll-behavior:none;position:fixed;right:0;top:0;user-select:none}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent{animation:none;background:none;pointer-events:none}.ck.ck-dialog{overscroll-behavior:none;position:absolute;width:fit-content}.ck.ck-dialog .ck.ck-form__header{flex-shrink:0}.ck.ck-dialog .ck.ck-form__header .ck-form__header__label{cursor:grab}.ck.ck-dialog-overlay.ck-dialog-overlay__transparent .ck.ck-dialog{pointer-events:all}:root{--ck-dialog-overlay-background-color:rgba(0,0,0,.5);--ck-dialog-drop-shadow:0px 0px 6px 2px rgba(0,0,0,.15);--ck-dialog-max-width:100vw;--ck-dialog-max-height:90vh;--ck-color-dialog-background:var(--ck-color-base-background);--ck-color-dialog-form-header-border:var(--ck-color-base-border)}.ck.ck-dialog-overlay{animation:ck-dialog-fade-in .3s;background:var(--ck-dialog-overlay-background-color);z-index:var(--ck-z-dialog)}.ck.ck-dialog{border-radius:0}.ck-rounded-corners .ck.ck-dialog,.ck.ck-dialog.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dialog{box-shadow:var(--ck-drop-shadow),0 0;--ck-drop-shadow:var(--ck-dialog-drop-shadow);background:var(--ck-color-dialog-background);border:1px solid var(--ck-color-base-border);max-height:var(--ck-dialog-max-height);max-width:var(--ck-dialog-max-width)}.ck.ck-dialog .ck.ck-form__header{border-bottom:1px solid var(--ck-color-dialog-form-header-border)}@keyframes ck-dialog-fade-in{0%{background:transparent}to{background:var(--ck-dialog-overlay-background-color)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialog.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,sBAKC,QAAS,CACT,MAAO,CAJP,wBAAyB,CAEzB,cAAe,CAGf,OAAQ,CACR,KAAM,CAPN,gBAcD,CALC,qDAEC,cAAe,CACf,eAAgB,CAFhB,mBAGD,CAGD,cACC,wBAAyB,CAEzB,iBAAkB,CADlB,iBAcD,CAXC,kCACC,aAKD,CAHC,0DACC,WACD,CAVF,mEAcE,kBAEF,CC7BA,MACC,mDAA2D,CAC3D,uDAA8D,CAC9D,2BAA4B,CAC5B,2BAA4B,CAC5B,4DAA6D,CAC7D,gEACD,CAEA,sBACC,+BAAgC,CAChC,oDAAqD,CACrD,0BACD,CAEA,cCbC,eD2BD,CAdA,mECTE,qCDuBF,CAdA,cEfC,oCAA8B,CFmB9B,6CAA8C,CAE9C,4CAA6C,CAG7C,4CAA6C,CAF7C,sCAAuC,CACvC,oCAMD,CAHC,kCACC,iEACD,CAGD,6BACC,GACC,sBACD,CAEA,GACC,oDACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-dialog-overlay {\n\tuser-select: none;\n\toverscroll-behavior: none;\n\n\tposition: fixed;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\ttop: 0;\n\n\t&.ck-dialog-overlay__transparent {\n\t\tpointer-events: none;\n\t\tanimation: none;\n\t\tbackground: none;\n\t}\n}\n\n.ck.ck-dialog {\n\toverscroll-behavior: none;\n\twidth: fit-content;\n\tposition: absolute;\n\n\t& .ck.ck-form__header  {\n\t\tflex-shrink: 0;\n\n\t\t& .ck-form__header__label {\n\t\t\tcursor: grab;\n\t\t}\n\t}\n\n\t@nest .ck.ck-dialog-overlay.ck-dialog-overlay__transparent & {\n\t\tpointer-events: all;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n:root {\n\t--ck-dialog-overlay-background-color: hsla( 0, 0%, 0%, .5 );\n\t--ck-dialog-drop-shadow: 0px 0px 6px 2px hsl(0deg 0% 0% / 15%);\n\t--ck-dialog-max-width: 100vw;\n\t--ck-dialog-max-height: 90vh;\n\t--ck-color-dialog-background: var(--ck-color-base-background);\n\t--ck-color-dialog-form-header-border: var(--ck-color-base-border);\n}\n\n.ck.ck-dialog-overlay {\n\tanimation: ck-dialog-fade-in .3s;\n\tbackground: var(--ck-dialog-overlay-background-color);\n\tz-index: var(--ck-z-dialog);\n}\n\n.ck.ck-dialog {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\t--ck-drop-shadow: var(--ck-dialog-drop-shadow);\n\n\tbackground: var(--ck-color-dialog-background);\n\tmax-height: var(--ck-dialog-max-height);\n\tmax-width: var(--ck-dialog-max-width);\n\tborder: 1px solid var(--ck-color-base-border);\n\n\t& .ck.ck-form__header {\n\t\tborder-bottom: 1px solid var(--ck-color-dialog-form-header-border);\n\t}\n}\n\n@keyframes ck-dialog-fade-in {\n\t0% {\n\t\tbackground: hsla( 0, 0%, 0%, 0 );\n\t}\n\n\t100% {\n\t\tbackground: var(--ck-dialog-overlay-background-color);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},9822:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-dialog .ck.ck-dialog__actions{display:flex;justify-content:flex-end;padding:var(--ck-spacing-large)}.ck.ck-dialog .ck.ck-dialog__actions>*+*{margin-left:var(--ck-spacing-large)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dialog/dialogactions.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dialog/dialogactions.css"],names:[],mappings:"AAMC,qCACC,YAAa,CACb,wBAAyB,CCDzB,+BDED,CCAC,yCACC,mCACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-dialog {\n\t& .ck.ck-dialog__actions {\n\t\tdisplay: flex;\n\t\tjustify-content: flex-end;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-dialog {\n\t& .ck.ck-dialog__actions {\n\t\tpadding: var(--ck-spacing-large);\n\n\t\t& > * + * {\n\t\t\tmargin-left: var(--ck-spacing-large);\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},8149:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-panel) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-dropdown-max-width: 75vw;\n}\n\n.ck.ck-dropdown {\n\tdisplay: inline-block;\n\tposition: relative;\n\n\t& .ck-dropdown__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n\n\t/* Dropdown button should span horizontally, e.g. in vertical toolbars */\n\t& .ck-button.ck-dropdown__button {\n\t\twidth: 100%;\n\t}\n\n\t& .ck-dropdown__panel {\n\t\tdisplay: none;\n\t\tz-index: var(--ck-z-panel);\n\t\tmax-width: var(--ck-dropdown-max-width);\n\n\t\tposition: absolute;\n\n\t\t&.ck-dropdown__panel-visible {\n\t\t\tdisplay: inline-block;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_n,\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_nme {\n\t\t\tbottom: 100%;\n\t\t}\n\n\t\t&.ck-dropdown__panel_se,\n\t\t&.ck-dropdown__panel_sw,\n\t\t&.ck-dropdown__panel_smw,\n\t\t&.ck-dropdown__panel_sme,\n\t\t&.ck-dropdown__panel_s {\n\t\t\t/*\n\t\t\t * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.\n\t\t\t * See https://github.com/ckeditor/ckeditor5/issues/1053.\n\t\t\t */\n\t\t\ttop: 100%;\n\t\t\tbottom: auto;\n\t\t}\n\n\t\t&.ck-dropdown__panel_ne,\n\t\t&.ck-dropdown__panel_se {\n\t\t\tleft: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_nw,\n\t\t&.ck-dropdown__panel_sw {\n\t\t\tright: 0px;\n\t\t}\n\n\t\t&.ck-dropdown__panel_s,\n\t\t&.ck-dropdown__panel_n {\n\t\t\t/* Positioning panels relative to the center of the button */\n\t\t\tleft: 50%;\n\t\t\ttransform: translateX(-50%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nmw,\n\t\t&.ck-dropdown__panel_smw {\n\t\t\t/* Positioning panels relative to the middle-west of the button */\n\t\t\tleft: 75%;\n\t\t\ttransform: translateX(-75%);\n\t\t}\n\n\t\t&.ck-dropdown__panel_nme,\n\t\t&.ck-dropdown__panel_sme {\n\t\t\t/* Positioning panels relative to the middle-east of the button */\n\t\t\tleft: 25%;\n\t\t\ttransform: translateX(-25%);\n\t\t}\n\t}\n}\n\n/*\n * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.\n * See https://github.com/ckeditor/ckeditor5/issues/7874\n */\n.ck.ck-toolbar .ck-dropdown__panel {\n\tz-index: calc( var(--ck-z-panel) + 1 );\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));\n}\n\n.ck.ck-dropdown {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-dropdown__arrow {\n\t\twidth: var(--ck-dropdown-arrow-size);\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& .ck-dropdown__arrow {\n\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& .ck-dropdown__arrow {\n\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t/* A space to accommodate the triangle. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\t}\n\n\t&.ck-disabled .ck-dropdown__arrow {\n\t\t@mixin ck-disabled;\n\t}\n\n\t& .ck-button.ck-dropdown__button {\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\t/* Make sure dropdowns with just an icon have the right inner spacing */\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t/* #23 */\n\t\t& .ck-button__label {\n\t\t\twidth: 7em;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */\n\t\t&.ck-disabled .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/816 */\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t&.ck-dropdown__button_label-width_auto .ck-button__label {\n\t\t\twidth: auto;\n\t\t}\n\n\t\t/* https://github.com/ckeditor/ckeditor5/issues/8699 */\n\t\t&.ck-off:active,\n\t\t&.ck-on:active {\n\t\t\tbox-shadow: none;\n\n\t\t\t&:focus {\n\t\t\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-dropdown__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\n\t/* Make sure the panel is at least as wide as the drop-down\'s button. */\n\tmin-width: 100%;\n\n\t/* Disabled corner border radius to be consistent with the .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-dropdown__panel_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-dropdown__panel_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},3629:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-dropdown>.ck-dropdown__panel>.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:first-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button,.ck.ck-dropdown>.ck-dropdown__panel>.ck-list .ck-list__item:last-child>.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-dropdown > .ck-dropdown__panel > .ck-list {\n\t/* Disabled radius of top-left border to be consistent with .dropdown__button\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t@mixin ck-rounded-corners {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t/* Make sure the button belonging to the first/last child of the list goes well with the\n\tborder radius of the entire panel. */\n\t& .ck-list__item {\n\t\t&:first-child > .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\n\t\t&:last-child > .ck-button {\n\t\t\t@mixin ck-rounded-corners {\n\t\t\t\tborder-top-left-radius: 0;\n\t\t\t\tborder-top-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},1792:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-splitbutton {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t& .ck-splitbutton__action:focus {\n\t\tz-index: calc(var(--ck-z-default) + 1);\n\t}\n}\n\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-color-split-button-hover-background: hsl(0, 0%, 92%);\n\t--ck-color-split-button-hover-border: hsl(0, 0%, 70%);\n}\n\n.ck.ck-splitbutton {\n\t/*\n\t * Note: ck-rounded and ck-dir mixins don\'t go together (because they both use @nest).\n\t */\n\t&:hover > .ck-splitbutton__action,\n\t&.ck-splitbutton_open > .ck-splitbutton__action {\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the action button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the action button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\t}\n\n\t& > .ck-splitbutton__arrow {\n\t\t/* It\'s a text-less button and since the icon is positioned absolutely in such situation,\n\t\tit must get some arbitrary min-width. */\n\t\tmin-width: unset;\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t/* Don\'t round the arrow button on the left side */\n\t\t\tborder-top-left-radius: unset;\n\t\t\tborder-bottom-left-radius: unset;\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t/* Don\'t round the arrow button on the right side */\n\t\t\tborder-top-right-radius: unset;\n\t\t\tborder-bottom-right-radius: unset;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\t\t}\n\t}\n\n\t/* Make sure the divider stretches 100% height of the button\n\thttps://github.com/ckeditor/ckeditor5/issues/10936 */\n\t& > .ck-splitbutton__arrow:not(:focus) {\n\t\tborder-top-width: 0px;\n\t\tborder-bottom-width: 0px;\n\t}\n\n\t/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling\n\tas a whole. The background of both buttons should stand out and there should be a visual\n\tseparation between both buttons. */\n\t&.ck-splitbutton_open,\n\t&:hover {\n\t\t/* When the split button hovered as a whole, not as individual buttons. */\n\t\t& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {\n\t\t\tbackground: var(--ck-color-split-button-hover-background);\n\t\t}\n\n\t\t/* Splitbutton separator needs to be set with the ::after pseudoselector\n\t\tto display properly the borders on focus */\n\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\tcontent: \'\';\n\t\t\tposition: absolute;\n\t\t\twidth: 1px;\n\t\t\theight: 100%;\n\t\t\tbackground-color: var(--ck-color-split-button-hover-border);\n\t\t}\n\n\t\t/* Make sure the divider between the buttons looks fine when the button is focused */\n\t\t& > .ck-splitbutton__arrow:focus::after {\n\t\t\t--ck-color-split-button-hover-border: var(--ck-color-focus-border);\n\t\t}\n\n\t\t@nest [dir="ltr"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tleft: -1px;\n\t\t\t}\n\t\t}\n\n\t\t@nest [dir="rtl"] & {\n\t\t\t& > .ck-splitbutton__arrow:not(.ck-disabled)::after {\n\t\t\t\tright: -1px;\n\t\t\t}\n\t\t}\n\t}\n\n\t/* Don\'t round the bottom left and right corners of the buttons when "open"\n\thttps://github.com/ckeditor/ckeditor5/issues/816 */\n\t&.ck-splitbutton_open {\n\t\t@mixin ck-rounded-corners {\n\t\t\t& > .ck-splitbutton__action {\n\t\t\t\tborder-bottom-left-radius: 0;\n\t\t\t}\n\n\t\t\t& > .ck-splitbutton__arrow {\n\t\t\t\tborder-bottom-right-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},1666:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-dropdown-max-width: 60vw;\n}\n\n.ck.ck-toolbar-dropdown > .ck-dropdown__panel {\n\t/* https://github.com/ckeditor/ckeditor5/issues/5586 */\n\twidth: max-content;\n\tmax-width: var(--ck-toolbar-dropdown-max-width);\n\n\t& .ck-button {\n\t\t&:focus {\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-toolbar-dropdown .ck-toolbar {\n\tborder: 0;\n}\n"],sourceRoot:""}]);const a=s},8527:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,":root{--ck-accessibility-help-dialog-max-width:600px;--ck-accessibility-help-dialog-max-height:400px;--ck-accessibility-help-dialog-border-color:#ccced1;--ck-accessibility-help-dialog-code-background-color:#ededed;--ck-accessibility-help-dialog-kbd-shadow-color:#9c9c9c}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{border:1px solid transparent;max-height:var(--ck-accessibility-help-dialog-max-height);max-width:var(--ck-accessibility-help-dialog-max-width);overflow:auto;padding:var(--ck-spacing-large);user-select:text}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content{*{white-space:normal}}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content .ck-label{display:none}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3{font-size:1.2em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4{font-size:1em;font-weight:700}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h3,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content h4,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content p,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content table{margin:1em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl{border-bottom:none;border-top:1px solid var(--ck-accessibility-help-dialog-border-color);display:grid;grid-template-columns:2fr 1fr}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{border-bottom:1px solid var(--ck-accessibility-help-dialog-border-color);padding:.4em 0}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dt{grid-column-start:1}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content dl dd{grid-column-start:2;text-align:right}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code,.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{background:var(--ck-accessibility-help-dialog-code-background-color);border-radius:2px;display:inline-block;font-size:.9em;line-height:1;padding:.4em;text-align:center;vertical-align:middle}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content code{font-family:monospace}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd{box-shadow:0 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);margin:0 1px;min-width:1.8em}.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content kbd+kbd{margin-left:2px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/accessibilityhelp.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAQA,MACC,8CAA+C,CAC/C,+CAAgD,CAChD,mDAA8D,CAC9D,4DAAyE,CACzE,uDACD,CAEA,wEAOC,4BAA6B,CAJ7B,yDAA0D,CAD1D,uDAAwD,CAExD,aAAc,CAHd,+BAAgC,CAIhC,gBAgFD,CA5EC,8ECdA,2BAA2B,CCF3B,2CAA8B,CDC9B,YDkBA,CAZD,wEAcC,EACC,kBACD,CAqED,CAlEC,kFACC,YACD,CAEA,2EAEC,eAAgB,CADhB,eAED,CAEA,2EAEC,aAAc,CADd,eAED,CAEA,8SAIC,YACD,CAEA,2EAIC,kBAAmB,CADnB,qEAAsE,CAFtE,YAAa,CACb,6BAiBD,CAbC,4JACC,wEAAyE,CACzE,cACD,CAEA,8EACC,mBACD,CAEA,8EACC,mBAAoB,CACpB,gBACD,CAGD,yJAEC,oEAAqE,CAIrE,iBAAkB,CALlB,oBAAqB,CAOrB,cAAe,CAHf,aAAc,CAFd,YAAa,CAIb,iBAAkB,CAHlB,qBAKD,CAEA,6EACC,qBACD,CAEA,4EAEC,yEAA4E,CAC5E,YAAa,CAFb,eAOD,CAHC,gFACC,eACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-accessibility-help-dialog-max-width: 600px;\n\t--ck-accessibility-help-dialog-max-height: 400px;\n\t--ck-accessibility-help-dialog-border-color: hsl(220, 6%, 81%);\n\t--ck-accessibility-help-dialog-code-background-color: hsl(0deg 0% 92.94%);\n\t--ck-accessibility-help-dialog-kbd-shadow-color: hsl(0deg 0% 61%);\n}\n\n.ck.ck-accessibility-help-dialog .ck-accessibility-help-dialog__content {\n\tpadding: var(--ck-spacing-large);\n\tmax-width: var(--ck-accessibility-help-dialog-max-width);\n\tmax-height: var(--ck-accessibility-help-dialog-max-height);\n\toverflow: auto;\n\tuser-select: text;\n\n\tborder: 1px solid transparent;\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t* {\n\t\twhite-space: normal;\n\t}\n\n\t/* Hide the main label of the content container. */\n\t& .ck-label {\n\t\tdisplay: none;\n\t}\n\n\t& h3 {\n\t\tfont-weight: bold;\n\t\tfont-size: 1.2em;\n\t}\n\n\t& h4 {\n\t\tfont-weight: bold;\n\t\tfont-size: 1em;\n\t}\n\n\t& p,\n\t& h3,\n\t& h4,\n\t& table {\n\t\tmargin: 1em 0;\n\t}\n\n\t& dl {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 2fr 1fr;\n\t\tborder-top: 1px solid var(--ck-accessibility-help-dialog-border-color);\n\t\tborder-bottom: none;\n\n\t\t& dt, & dd {\n\t\t\tborder-bottom: 1px solid var(--ck-accessibility-help-dialog-border-color);\n\t\t\tpadding: .4em 0;\n\t\t}\n\n\t\t& dt {\n\t\t\tgrid-column-start: 1;\n\t\t}\n\n\t\t& dd {\n\t\t\tgrid-column-start: 2;\n\t\t\ttext-align: right;\n\t\t}\n\t}\n\n\t& kbd, & code {\n\t\tdisplay: inline-block;\n\t\tbackground: var(--ck-accessibility-help-dialog-code-background-color);\n\t\tpadding: .4em;\n\t\tvertical-align: middle;\n\t\tline-height: 1;\n\t\tborder-radius: 2px;\n\t\ttext-align: center;\n\t\tfont-size: .9em;\n\t}\n\n\t& code {\n\t\tfont-family: monospace;\n\t}\n\n\t& kbd {\n\t\tmin-width: 1.8em;\n\t\tbox-shadow: 0px 1px 1px var(--ck-accessibility-help-dialog-kbd-shadow-color);\n\t\tmargin: 0 1px;\n\n\t\t& + kbd {\n\t\t\tmargin-left: 2px;\n\t\t}\n\t}\n}\n\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},1185:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_shadow.css";\n@import "../../../mixins/_focus.css";\n@import "../../mixins/_button.css";\n\n:root {\n\t--ck-color-editable-blur-selection: hsl(0, 0%, 85%);\n}\n\n.ck.ck-editor__editable:not(.ck-editor__nested-editable) {\n\t@mixin ck-rounded-corners;\n\n\t&.ck-focused {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t}\n}\n\n.ck.ck-editor__editable_inline {\n\toverflow: auto;\n\tpadding: 0 var(--ck-spacing-standard);\n\tborder: 1px solid transparent;\n\n\t&[dir="ltr"] {\n\t\ttext-align: left;\n\t}\n\n\t&[dir="rtl"] {\n\t\ttext-align: right;\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */\n\t& > *:first-child {\n\t\tmargin-top: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/847 */\n\t& > *:last-child {\n\t\t/*\n\t\t * This value should match with the default margins of the block elements (like .media or .image)\n\t\t * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).\n\t\t */\n\t\tmargin-bottom: var(--ck-spacing-large);\n\t}\n\n\t/* https://github.com/ckeditor/ckeditor5/issues/6517 */\n\t&.ck-blurred ::selection {\n\t\tbackground: var(--ck-color-editable-blur-selection);\n\t}\n}\n\n/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {\n\t&::after {\n\t\tborder-bottom-color: var(--ck-color-panel-background);\n\t}\n}\n\n.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {\n\t&::after {\n\t\tborder-top-color: var(--ck-color-panel-background);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},7913:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__header h2.ck-form__header__label{flex-grow:1}:root{--ck-form-header-height:44px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}[dir=ltr] .ck.ck-form__header>.ck-icon{margin-right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-form__header>.ck-icon{margin-left:var(--ck-spacing-medium)}.ck.ck-form__header .ck-form__header__label{--ck-font-size-base:15px;font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BAKD,CAHC,8CACC,WACD,CCPD,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAmBD,CAdC,uCAEE,qCAMF,CARA,uCAME,oCAEF,CAEA,4CACC,wBAAyB,CACzB,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-form__header {\n\tdisplay: flex;\n\tflex-direction: row;\n\tflex-wrap: nowrap;\n\talign-items: center;\n\tjustify-content: space-between;\n\n\t& h2.ck-form__header__label {\n\t\tflex-grow: 1;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-form-header-height: 44px;\n}\n\n.ck.ck-form__header {\n\tpadding: var(--ck-spacing-small) var(--ck-spacing-large);\n\theight: var(--ck-form-header-height);\n\tline-height: var(--ck-form-header-height);\n\tborder-bottom: 1px solid var(--ck-color-base-border);\n\n\t& > .ck-icon {\n\t\t@mixin ck-dir ltr {\n\t\t\tmargin-right: var(--ck-spacing-medium);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\tmargin-left: var(--ck-spacing-medium);\n\t\t}\n\t}\n\n\t& .ck-form__header__label {\n\t\t--ck-font-size-base: 15px;\n\t\tfont-weight: bold;\n\t}\n}\n'],sourceRoot:""}]);const a=s},9529:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-highlighted-text mark{background:var(--ck-color-highlight-background);font-size:inherit;font-weight:inherit;line-height:inherit;vertical-align:initial}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/highlightedtext/highlightedtext.css"],names:[],mappings:"AAKA,6BACC,+CAAgD,CAIhD,iBAAkB,CAFlB,mBAAoB,CACpB,mBAAoB,CAFpB,sBAID",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-highlighted-text mark {\n\tbackground: var(--ck-color-highlight-background);\n\tvertical-align: initial;\n\tfont-weight: inherit;\n\tline-height: inherit;\n\tfont-size: inherit;\n}\n"],sourceRoot:""}]);const a=s},7621:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-icon {\n\tvertical-align: middle;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));\n}\n\n.ck.ck-icon {\n\twidth: var(--ck-icon-size);\n\theight: var(--ck-icon-size);\n\n\t/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */\n\tfont-size: .8333350694em;\n\n\t/* Inherit cursor style (#5). */\n\tcursor: inherit;\n\n\t/* This will prevent blurry icons on Firefox. See #340. */\n\twill-change: transform;\n\n\t& * {\n\t\t/* Inherit cursor style (#5). */\n\t\tcursor: inherit;\n\t}\n\n\t/* Allows dynamic coloring of an icon by inheriting its color from the parent. */\n\t&.ck-icon_inherit-color {\n\t\tcolor: inherit;\n\n\t\t& * {\n\t\t\tcolor: inherit;\n\n\t\t\t&:not([fill]) {\n\t\t\t\t/* Needed by FF. */\n\t\t\t\tfill: currentColor;\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},253:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}@media (prefers-reduced-motion:reduce){.ck.ck-input{transition:none}}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}@media (prefers-reduced-motion:reduce){.ck.ck-input.ck-error{animation:none}}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eDmDD,CA9CA,iECDE,qCD+CF,CA9CA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DAkCD,CAhCC,uCAdD,aAeE,eA+BF,CA9BC,CAEA,mBEvBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YF2BA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BGnCD,oDHsCC,CAGD,sBAEC,sCAAuC,CADvC,+CAUD,CAPC,uCAJD,sBAKE,cAMF,CALC,CAEA,4BGjDD,iDHmDC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_focus.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-input-width: 18em;\n\n\t/* Backward compatibility. */\n\t--ck-input-text-width: var(--ck-input-width);\n}\n\n.ck.ck-input {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-input-background);\n\tborder: 1px solid var(--ck-color-input-border);\n\tpadding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);\n\tmin-width: var(--ck-input-width);\n\n\t/* This is important to stay of the same height as surrounding buttons */\n\tmin-height: var(--ck-ui-component-min-height);\n\n\t/* Apply some smooth transition to the box-shadow and border. */\n\ttransition: box-shadow .1s ease-in-out, border .1s ease-in-out;\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\ttransition: none;\n\t}\n\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-focus-outer-shadow);\n\t}\n\n\t&[readonly] {\n\t\tborder: 1px solid var(--ck-color-input-disabled-border);\n\t\tbackground: var(--ck-color-input-disabled-background);\n\t\tcolor: var(--ck-color-input-disabled-text);\n\n\t\t&:focus {\n\t\t\t/* The read-only input should have a slightly less visible shadow when focused. */\n\t\t\t@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\tborder-color: var(--ck-color-input-error-border);\n\t\tanimation: ck-input-shake .3s ease both;\n\n\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\tanimation: none;\n\t\t}\n\n\t\t&:focus {\n\t\t\t@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);\n\t\t}\n\t}\n}\n\n@keyframes ck-input-shake {\n\t20% {\n\t\ttransform: translateX(-2px);\n\t}\n\n\t40% {\n\t\ttransform: translateX(2px);\n\t}\n\n\t60% {\n\t\ttransform: translateX(-1px);\n\t}\n\n\t80% {\n\t\ttransform: translateX(1px);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},7801:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tdisplay: block;\n}\n\n.ck.ck-voice-label {\n\tdisplay: none;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-label {\n\tfont-weight: bold;\n}\n"],sourceRoot:""}]);const a=s},4962:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0;transform:translate(calc(var(--ck-spacing-medium)*-1),-6px) scale(.75);transform-origin:100% 0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}@media (prefers-reduced-motion:reduce){.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transition:none}}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eDmHD,CA9GA,2FCDE,qCD+GF,CA3GC,mEACC,UAwCD,CAtCC,gFACC,KAoCD,CArCA,0FAIE,MAAS,CAGT,6DAA+D,CAF/D,oBAgCF,CArCA,0FAWE,OAAU,CAEV,sEAA0E,CAD1E,uBAyBF,CArCA,gFAkBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAH9C,mBAAoB,CAQpB,sBAAuB,CAKvB,+JAQD,CAHC,uCAlCD,gFAmCE,eAEF,CADC,CASD,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,2XAGE,+HAYF,CAfA,2XAOE,wIAQF,CAfA,uWAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-labeled-field-view {\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\tdisplay: flex;\n\t\tposition: relative;\n\t}\n\n\t& .ck.ck-label {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n@import "../../../mixins/_rounded.css";\n\n:root {\n\t--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);\n\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);\n\t--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));\n\t--ck-color-labeled-field-label-background: var(--ck-color-base-background);\n}\n\n.ck.ck-labeled-field-view {\n\t@mixin ck-rounded-corners;\n\n\t& > .ck.ck-labeled-field-view__input-wrapper {\n\t\twidth: 100%;\n\n\t\t& > .ck.ck-label {\n\t\t\ttop: 0px;\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: 0px;\n\t\t\t\ttransform-origin: 0 0;\n\t\t\t\t/* By default, display the label scaled down above the field. */\n\t\t\t\ttransform: translate(var(--ck-spacing-medium), -6px) scale(.75);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: 0px;\n\t\t\t\ttransform-origin: 100% 0;\n\t\t\t\ttransform: translate(calc(-1 * var(--ck-spacing-medium)), -6px) scale(.75);\n\t\t\t}\n\n\t\t\tpointer-events: none;\n\n\t\t\tbackground: var(--ck-color-labeled-field-label-background);\n\t\t\tpadding: 0 calc(.5 * var(--ck-font-size-tiny));\n\t\t\tline-height: initial;\n\t\t\tfont-weight: normal;\n\n\t\t\t/* Prevent overflow when the label is longer than the input */\n\t\t\ttext-overflow: ellipsis;\n\t\t\toverflow: hidden;\n\n\t\t\tmax-width: 100%;\n\n\t\t\ttransition:\n\t\t\t\ttransform var(--ck-labeled-field-view-transition),\n\t\t\t\tpadding var(--ck-labeled-field-view-transition),\n\t\t\t\tbackground var(--ck-labeled-field-view-transition);\n\n\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\ttransition: none;\n\t\t\t}\n\t\t}\n\t}\n\n\t&.ck-error {\n\t\t& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\n\t\t& .ck-input:not([readonly]) + .ck.ck-label {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t& .ck-labeled-field-view__status {\n\t\tfont-size: var(--ck-font-size-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\n\t\t/* Let the info wrap to the next line to avoid stretching the layout horizontally.\n\t\tThe status could be very long. */\n\t\twhite-space: normal;\n\n\t\t&.ck-labeled-field-view__status_error {\n\t\t\tcolor: var(--ck-color-base-error);\n\t\t}\n\t}\n\n\t/* Disabled fields and fields that have no focus should fade out. */\n\t&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\tcolor: var(--ck-color-input-disabled-text);\n\t}\n\n\t/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */\n\t/* stylelint-disable-next-line no-descending-specificity */\n\t&.ck-disabled.ck-labeled-field-view_empty:not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder):not(.ck-error) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {\n\t\t@mixin ck-dir ltr {\n\t\t\ttransform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttransform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);\n\t\t}\n\n\t\t/* Compensate for the default translate position. */\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));\n\n\t\tbackground: transparent;\n\t\tpadding: 0;\n\t}\n\n\t/*------ DropdownView integration ----------------------------------------------------------------------------------- */\n\n\t/* Make sure dropdown\' background color in any of dropdown\'s state does not collide with labeled field. */\n\t& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {\n\t\tbackground: transparent;\n\t}\n\n\t/* When the dropdown is "empty", the labeled field label replaces its label. */\n\t&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {\n\t\topacity: 0;\n\t}\n\n\t/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */\n\t&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {\n\t\tmax-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},5199:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}:root{--ck-list-button-padding:calc(var(--ck-line-height-base)*0.11*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*0.4*var(--ck-font-size-base))}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item>.ck-button{border-radius:0;min-height:unset;width:100%}[dir=ltr] .ck.ck-list__item>.ck-button{text-align:left}[dir=rtl] .ck.ck-list__item>.ck-button{text-align:right}.ck.ck-list__item>.ck-button{padding:var(--ck-list-button-padding)}.ck.ck-list__item>.ck-button:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item>.ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item>.ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item>.ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item>.ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item>.ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item>.ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck-list .ck-list__group{padding-top:var(--ck-spacing-medium);:not(.ck-hidden)~&{border-top:1px solid var(--ck-color-base-border)}}.ck-list .ck-list__group>.ck-label{font-size:11px;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium)}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEdD,MACC,qJAGD,CAEA,YCLC,eDUD,CALA,+DCDE,qCDMF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAGC,eAAgB,CAFhB,gBAAiB,CACjB,UAwCD,CA1CA,uCAME,eAoCF,CA1CA,uCAUE,gBAgCF,CA1CA,6BAgBC,qCA0BD,CAxBC,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,yBACC,oCAAqC,CAGrC,mBACC,gDACD,CAOD,CALC,mCACC,cAAe,CACf,eAAiB,CACjB,oFACD,CAGD,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-list {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-direction: column;\n\n\t& .ck-list__item,\n\t& .ck-list__separator {\n\t\tdisplay: block;\n\t}\n\n\t/* Make sure that whatever child of the list item gets focus, it remains on the\n\ttop. Thanks to that, styles like box-shadow, outline, etc. are not masked by\n\tadjacent list items. */\n\t& .ck-list__item > *:focus {\n\t\tposition: relative;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-list-button-padding:\n\t\tcalc(.11 * var(--ck-line-height-base) * var(--ck-font-size-base))\n\t\tcalc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));\n}\n\n.ck.ck-list {\n\t@mixin ck-rounded-corners;\n\n\tlist-style-type: none;\n\tbackground: var(--ck-color-list-background);\n}\n\n.ck.ck-list__item {\n\tcursor: default;\n\tmin-width: 12em;\n\n\t& > .ck-button {\n\t\tmin-height: unset;\n\t\twidth: 100%;\n\t\tborder-radius: 0;\n\n\t\t@mixin ck-dir ltr {\n\t\t\ttext-align: left;\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\ttext-align: right;\n\t\t}\n\n\t\t/* List items should have the same height. Use absolute units to make sure it is so\n\t\t   because e.g. different heading styles may have different height\n\t\t   https://github.com/ckeditor/ckeditor5-heading/issues/63 */\n\t\tpadding: var(--ck-list-button-padding);\n\n\t\t&:active {\n\t\t\tbox-shadow: none;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-button-on-background);\n\t\t\tcolor: var(--ck-color-list-button-on-text);\n\n\t\t\t&:active {\n\t\t\t\tbox-shadow: none;\n\t\t\t}\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-on-background-focus);\n\t\t\t}\n\n\t\t\t&:focus:not(.ck-switchbutton):not(.ck-disabled) {\n\t\t\t\tborder-color: var(--ck-color-base-background);\n\t\t\t}\n\t\t}\n\n\t\t&:hover:not(.ck-disabled) {\n\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t}\n\t}\n\n\t/* It\'s unnecessary to change the background/text of a switch toggle; it has different ways\n\tof conveying its state (like the switcher) */\n\t& > .ck-switchbutton {\n\t\t&.ck-on {\n\t\t\tbackground: var(--ck-color-list-background);\n\t\t\tcolor: inherit;\n\n\t\t\t&:hover:not(.ck-disabled) {\n\t\t\t\tbackground: var(--ck-color-list-button-hover-background);\n\t\t\t\tcolor: inherit;\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck-list .ck-list__group {\n\tpadding-top: var(--ck-spacing-medium);\n\n\t/* The group should have a border when it\'s not the first item. */\n\t*:not(.ck-hidden) ~ & {\n\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t}\n\n\t& > .ck-label {\n\t\tfont-size: 11px;\n\t\tfont-weight: bold;\n\t\tpadding: var(--ck-spacing-medium) var(--ck-spacing-medium) 0 var(--ck-spacing-medium);\n\t}\n}\n\n.ck.ck-list__separator {\n\theight: 1px;\n\twidth: 100%;\n\tbackground: var(--ck-color-base-border);\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},497:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-menu-bar{background:var(--ck-color-base-background);border:1px solid var(--ck-color-toolbar-border);display:flex;flex-wrap:wrap;gap:var(--ck-spacing-small);justify-content:flex-start;padding:var(--ck-spacing-small);width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubar.css"],names:[],mappings:"AAKA,gBAIC,0CAA2C,CAG3C,+CAAgD,CANhD,YAAa,CACb,cAAe,CAIf,2BAA4B,CAH5B,0BAA2B,CAE3B,+BAAgC,CAGhC,UACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tjustify-content: flex-start;\n\tbackground: var(--ck-color-base-background);\n\tpadding: var(--ck-spacing-small);\n\tgap: var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\twidth: 100%;\n}\n"],sourceRoot:""}]);const a=s},4:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-menu-bar__menu{display:block;font-size:inherit;position:relative}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level{max-width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenu.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenu.css"],names:[],mappings:"AAKA,sBACC,aAAc,CCCd,iBAAkB,CDAlB,iBACD,CCCC,kDACC,cACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar__menu {\n\tdisplay: block;\n\tposition: relative;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar__menu {\n\t/* Enable font size inheritance, which allows fluid UI scaling. */\n\tfont-size: inherit;\n\n\t&.ck-menu-bar__menu_top-level {\n\t\tmax-width: 100%;\n\t}\n}\n"],sourceRoot:""}]);const a=s},3344:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button{padding:var(--ck-list-button-padding);width:100%}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button>.ck-button__label{flex-grow:1;overflow:hidden;text-overflow:ellipsis}.ck.ck-menu-bar__menu>.ck-menu-bar__menu__button.ck-disabled>.ck-button__label{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-menu-bar__menu>.ck-menu-bar__menu__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button{min-height:unset;padding:var(--ck-spacing-small) var(--ck-spacing-medium)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-button__label{line-height:unset;width:unset}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__button .ck-icon{display:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button{border-radius:0}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(-90deg)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{transform:rotate(90deg)}.ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button.ck-disabled>.ck-menu-bar__menu__button__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-menu-bar__menu:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button>.ck-menu-bar__menu__button__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenubutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAMC,mFACC,mBAAoB,CACpB,2BACD,CCIA,iDACC,qCAAsC,CACtC,UAuBD,CArBC,mEACC,WAAY,CACZ,eAAgB,CAChB,sBACD,CAEA,+ECdD,kCDgBC,CAGC,qFACC,oCACD,CAIA,qFACC,qCACD,CAOF,6EAEC,gBAAiB,CADjB,wDAgBD,CAbC,+FAEC,iBAAkB,CADlB,WAED,CAEA,mFACC,2BAA4B,CAC5B,4BACD,CAEA,sFACC,YACD,CAMD,mFACC,eAiDD,CA/CC,yFACC,wBAAyB,CACzB,eAKD,CAHC,qGACC,0DACD,CAID,iIACC,+DACD,CAEA,qHACC,mCASD,CAVA,+HAIE,wBAMF,CAVA,+HAQE,uBAEF,CAEA,iICrFD,kCDuFC,CAGC,+HAIC,sCAAuC,CAHvC,gCAID,CAIA,+HACC,+BAAgC,CAGhC,oCACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar__menu  {\n\t& > .ck-menu-bar__menu__button > .ck-menu-bar__menu__button__arrow {\n\t\tpointer-events: none;\n\t\tz-index: var(--ck-z-default);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_disabled.css";\n@import "../../mixins/_button.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-menu-bar__menu {\n\t/*\n\t * All menu buttons.\n\t */\n\t& > .ck-menu-bar__menu__button {\n\t\tpadding: var(--ck-list-button-padding);\n\t\twidth: 100%;\n\n\t\t& > .ck-button__label {\n\t\t\tflex-grow: 1;\n\t\t\toverflow: hidden;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\n\t\t&.ck-disabled > .ck-button__label {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\tpadding-left: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t&:not(.ck-button_with-text) {\n\t\t\t\tpadding-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Top-level menu buttons only.\n\t */\n\t&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__button {\n\t\tpadding: var(--ck-spacing-small) var(--ck-spacing-medium);\n\t\tmin-height: unset;\n\n\t\t& .ck-button__label {\n\t\t\twidth: unset;\n\t\t\tline-height: unset;\n\t\t}\n\n\t\t&.ck-on {\n\t\t\tborder-bottom-left-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t& .ck-icon {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t/*\n\t * Sub-menu buttons.\n\t */\n\t&:not(.ck-menu-bar__menu_top-level) .ck-menu-bar__menu__button {\n\t\tborder-radius: 0;\n\n\t\t&:focus {\n\t\t\tborder-color: transparent;\n\t\t\tbox-shadow: none;\n\n\t\t\t&:not(.ck-on) {\n\t\t\t\tbackground: var(--ck-color-button-default-hover-background);\n\t\t\t}\n\t\t}\n\n\t\t/* Spacing in buttons that miss the icon. */\n\t\t&:not(:has(.ck-button__icon)) > .ck-button__label {\n\t\t\tmargin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));\n\t\t}\n\n\t\t& > .ck-menu-bar__menu__button__arrow {\n\t\t\twidth: var(--ck-dropdown-arrow-size);\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\ttransform: rotate(-90deg);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\ttransform: rotate(90deg);\n\t\t\t}\n\t\t}\n\n\t\t&.ck-disabled > .ck-menu-bar__menu__button__arrow {\n\t\t\t@mixin ck-disabled;\n\t\t}\n\n\t\t@mixin ck-dir ltr {\n\t\t\t& > .ck-menu-bar__menu__button__arrow {\n\t\t\t\tright: var(--ck-spacing-standard);\n\n\t\t\t\t/* A space to accommodate the triangle. */\n\t\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t\t}\n\t\t}\n\n\t\t@mixin ck-dir rtl {\n\t\t\t& > .ck-menu-bar__menu__button__arrow {\n\t\t\t\tleft: var(--ck-spacing-standard);\n\n\t\t\t\t/* A space to accommodate the triangle. */\n\t\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which indicates that an element holding it is disabled.\n */\n@define-mixin ck-disabled {\n\topacity: var(--ck-disabled-opacity);\n}\n"],sourceRoot:""}]);const a=s},9481:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,":root{--ck-menu-bar-menu-item-min-width:18em}.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item{min-width:var(--ck-menu-bar-menu-item-min-width)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitem.css"],names:[],mappings:"AAKA,MACC,sCACD,CAEA,kDACC,gDACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-menu-bar-menu-item-min-width: 18em;\n}\n\n.ck.ck-menu-bar__menu .ck.ck-menu-bar__menu__item {\n\tmin-width: var(--ck-menu-bar-menu-item-min-width);\n}\n"],sourceRoot:""}]);const a=s},977:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button{border-radius:0}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container,.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container .ck-spinner{--ck-toolbar-spinner-size:20px}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button>.ck-spinner-container{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus{border-color:transparent;box-shadow:none}.ck.ck-menu-bar__menu .ck-button.ck-menu-bar__menu__item__button:focus:not(.ck-on){background:var(--ck-color-button-default-hover-background)}.ck.ck-menu-bar__menu.ck-menu-bar__menu_top-level>.ck-menu-bar__menu__panel>ul>.ck-menu-bar__menu__item>.ck-menu-bar__menu__item__button:not(:has(.ck-button__icon))>.ck-button__label{margin-left:calc(var(--ck-icon-size) - var(--ck-spacing-small))}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenulistitembutton.css"],names:[],mappings:"AASC,iEACC,eA0BD,CAxBC,0LAGC,8BACD,CAEA,uFAEC,4CAA+C,CAC/C,oCACD,CAMA,uEACC,wBAAyB,CACzB,eAKD,CAHC,mFACC,0DACD,CASD,uLACC,+DACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-menu-bar__menu {\n\t/*\n\t * List item buttons.\n\t */\n\t& .ck-button.ck-menu-bar__menu__item__button {\n\t\tborder-radius: 0;\n\n\t\t& > .ck-spinner-container,\n\t\t& > .ck-spinner-container .ck-spinner {\n\t\t\t/* These styles correspond to .ck-icon so that the spinner seamlessly replaces the icon. */\n\t\t\t--ck-toolbar-spinner-size: 20px;\n\t\t}\n\n\t\t& > .ck-spinner-container {\n\t\t\t/* These margins are the same as for .ck-icon. */\n\t\t\tmargin-left: calc(-1 * var(--ck-spacing-small));\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/*\n\t\t * Hovered items automatically get focused. Default focus styles look odd\n\t\t * while moving across a huge list of items so let's get rid of them\n\t\t */\n\t\t&:focus {\n\t\t\tborder-color: transparent;\n\t\t\tbox-shadow: none;\n\n\t\t\t&:not(.ck-on) {\n\t\t\t\tbackground: var(--ck-color-button-default-hover-background);\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * First-level sub-menu item buttons.\n\t */\n\t&.ck-menu-bar__menu_top-level > .ck-menu-bar__menu__panel > ul > .ck-menu-bar__menu__item > .ck-menu-bar__menu__item__button {\n\t\t/* Spacing in buttons that miss the icon. */\n\t\t&:not(:has(.ck-button__icon)) > .ck-button__label {\n\t\t\tmargin-left: calc(var(--ck-icon-size) - var(--ck-spacing-small));\n\t\t}\n\t}\n}\n\n\n"],sourceRoot:""}]);const a=s},9108:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,":root{--ck-menu-bar-menu-max-width:75vw;--ck-menu-bar-nested-menu-horizontal-offset:5px}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{max-width:var(--ck-menu-bar-menu-max-width);position:absolute;z-index:var(--ck-z-panel)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw{bottom:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{bottom:auto;top:100%}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{left:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw{right:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{left:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en{bottom:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{right:calc(100% - var(--ck-menu-bar-nested-menu-horizontal-offset))}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{top:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{bottom:0}:root{--ck-menu-bar-menu-panel-max-width:75vw}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{border-radius:0}.ck-rounded-corners .ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;height:fit-content;max-width:var(--ck-menu-bar-menu-panel-max-width)}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_es,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_se{border-top-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_sw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ws{border-top-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_en,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_ne{border-bottom-left-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_nw,.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel.ck-menu-bar__menu__panel_position_wn{border-bottom-right-radius:0}.ck.ck-menu-bar__menu>.ck.ck-menu-bar__menu__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/menubar/menubarmenupanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,iCAAkC,CAClC,+CACD,CAEA,mDAEC,2CAA4C,CAC5C,iBAAkB,CAFlB,yBAkDD,CA9CC,gLAEC,WACD,CAEA,gLAGC,WAAY,CADZ,QAED,CAEA,gLAEC,MACD,CAEA,gLAEC,OACD,CAEA,gLAEC,kEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CAEA,gLAEC,mEACD,CAEA,wFACC,KACD,CAEA,wFACC,QACD,CCpDD,MACC,uCACD,CAEA,mDCDC,eDmCD,CAlCA,6ICGE,qCD+BF,CAlCA,mDAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CETT,oCAA8B,CFU9B,kBAAmB,CACnB,iDA0BD,CAvBC,gLAEC,wBACD,CAEA,gLAEC,yBACD,CAEA,gLAEC,2BACD,CAEA,gLAEC,4BACD,CAEA,yDACC,YACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-menu-bar-menu-max-width: 75vw;\n\t--ck-menu-bar-nested-menu-horizontal-offset: 5px;\n}\n\n.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {\n\tz-index: var(--ck-z-panel);\n\tmax-width: var(--ck-menu-bar-menu-max-width);\n\tposition: absolute;\n\n\t&.ck-menu-bar__menu__panel_position_ne,\n\t&.ck-menu-bar__menu__panel_position_nw {\n\t\tbottom: 100%;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_se,\n\t&.ck-menu-bar__menu__panel_position_sw {\n\t\ttop: 100%;\n\t\tbottom: auto;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_ne,\n\t&.ck-menu-bar__menu__panel_position_se {\n\t\tleft: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_nw,\n\t&.ck-menu-bar__menu__panel_position_sw {\n\t\tright: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_es,\n\t&.ck-menu-bar__menu__panel_position_en {\n\t\tleft: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_es {\n\t\ttop: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_en {\n\t\tbottom: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_ws,\n\t&.ck-menu-bar__menu__panel_position_wn {\n\t\tright: calc( 100% - var(--ck-menu-bar-nested-menu-horizontal-offset) );\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_ws {\n\t\ttop: 0px;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_wn {\n\t\tbottom: 0px;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-menu-bar-menu-panel-max-width: 75vw;\n}\n\n.ck.ck-menu-bar__menu > .ck.ck-menu-bar__menu__panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tbackground: var(--ck-color-dropdown-panel-background);\n\tborder: 1px solid var(--ck-color-dropdown-panel-border);\n\tbottom: 0;\n\theight: fit-content;\n\tmax-width: var(--ck-menu-bar-menu-panel-max-width);\n\n\t/* Corner border radius consistent with the button. */\n\t&.ck-menu-bar__menu__panel_position_es,\n\t&.ck-menu-bar__menu__panel_position_se {\n\t\tborder-top-left-radius: 0;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_ws,\n\t&.ck-menu-bar__menu__panel_position_sw {\n\t\tborder-top-right-radius: 0;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_en,\n\t&.ck-menu-bar__menu__panel_position_ne {\n\t\tborder-bottom-left-radius: 0;\n\t}\n\n\t&.ck-menu-bar__menu__panel_position_wn,\n\t&.ck-menu-bar__menu__panel_position_nw {\n\t\tborder-bottom-right-radius: 0;\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},3710:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-panel)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* Make sure the balloon arrow does not float over its children. */\n\t--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);\n}\n\n.ck.ck-balloon-panel {\n\tdisplay: none;\n\tposition: absolute;\n\n\tz-index: var(--ck-z-panel);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tposition: absolute;\n\t\t}\n\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before {\n\t\t\tz-index: var(--ck-balloon-panel-arrow-z-index);\n\t\t}\n\n\t\t&::after {\n\t\t\tz-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_visible {\n\t\tdisplay: block;\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-border-width: 1px;\n\t--ck-balloon-arrow-offset: 2px;\n\t--ck-balloon-arrow-height: 10px;\n\t--ck-balloon-arrow-half-width: 8px;\n\t--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);\n}\n\n.ck.ck-balloon-panel {\n\t@mixin ck-rounded-corners;\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);\n\n\t&.ck-balloon-panel_with-arrow {\n\t\t&::before,\n\t\t&::after {\n\t\t\twidth: 0;\n\t\t\theight: 0;\n\t\t\tborder-style: solid;\n\t\t}\n\t}\n\n\t&[class*="arrow_n"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-border) transparent;\n\t\t\tmargin-top: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent var(--ck-color-panel-background) transparent;\n\t\t\tmargin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_s"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: var(--ck-color-panel-border) transparent transparent;\n\t\t\tfilter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));\n\t\t\tmargin-bottom: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: var(--ck-color-panel-background) transparent transparent transparent;\n\t\t\tmargin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_e"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-border);\n\t\t\tmargin-right: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent transparent transparent var(--ck-color-panel-background);\n\t\t\tmargin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&[class*="arrow_w"] {\n\t\t&::before,\n\t\t&::after {\n\t\t\tborder-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;\n\t\t}\n\n\t\t&::before {\n\t\t\tborder-color: transparent var(--ck-color-panel-border) transparent transparent;\n\t\t\tmargin-left: calc( -1 * var(--ck-balloon-border-width) );\n\t\t}\n\n\t\t&::after {\n\t\t\tborder-color: transparent var(--ck-color-panel-background) transparent transparent;\n\t\t\tmargin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_n {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_ne {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_s {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 50%;\n\t\t\tmargin-left: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_se {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_sme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_smw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\tbottom: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nme {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: 25%;\n\t\t\tmargin-right: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_nmw {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: 25%;\n\t\t\tmargin-left: calc(2 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_e {\n\t\t&::before,\n\t\t&::after {\n\t\t\tright: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n\n\t&.ck-balloon-panel_arrow_w {\n\t\t&::before,\n\t\t&::after {\n\t\t\tleft: calc(-1 * var(--ck-balloon-arrow-height));\n\t\t\tmargin-top: calc(-1 * var(--ck-balloon-arrow-half-width));\n\t\t\ttop: 50%;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},991:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n/* Buttons inside a toolbar should be centered when rotator bar is wider.\n * See: https://github.com/ckeditor/ckeditor5-ui/issues/495\n */\n.ck .ck-balloon-rotator__content .ck-toolbar {\n\tjustify-content: center;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-balloon-rotator__navigation {\n\tbackground: var(--ck-color-toolbar-background);\n\tborder-bottom: 1px solid var(--ck-color-toolbar-border);\n\tpadding: 0 var(--ck-spacing-small);\n\n\t/* Let's keep similar appearance to `ck-toolbar`. */\n\t& > * {\n\t\tmargin-right: var(--ck-spacing-small);\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t/* Gives counter more breath than buttons. */\n\t& .ck-balloon-rotator__counter {\n\t\tmargin-right: var(--ck-spacing-standard);\n\n\t\t/* We need to use smaller margin because of previous button's right margin. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n.ck .ck-balloon-rotator__content {\n\n\t/* Disable default annotation shadow inside rotator with fake panels. */\n\t& .ck.ck-annotation-wrapper {\n\t\tbox-shadow: none;\n\t}\n}\n"],sourceRoot:""}]);const a=s},5380:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-panel) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-fake-panel {\n\tposition: absolute;\n\n\t/* Fake panels should be placed under main balloon content. */\n\tz-index: calc(var(--ck-z-panel) - 1);\n}\n\n.ck .ck-fake-panel div {\n\tposition: absolute;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tz-index: 2;\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tz-index: 1;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n:root {\n\t--ck-balloon-fake-panel-offset-horizontal: 6px;\n\t--ck-balloon-fake-panel-offset-vertical: 6px;\n}\n\n/* Let\'s use `.ck-balloon-panel` appearance. See: balloonpanel.css. */\n.ck .ck-fake-panel div {\n\t@mixin ck-drop-shadow;\n\n\tmin-height: 15px;\n\n\tbackground: var(--ck-color-panel-background);\n\tborder: 1px solid var(--ck-color-panel-border);\n\tborder-radius: var(--ck-border-radius);\n\n\twidth: 100%;\n\theight: 100%;\n}\n\n.ck .ck-fake-panel div:nth-child( 1 ) {\n\tmargin-left: var(--ck-balloon-fake-panel-offset-horizontal);\n\tmargin-top: var(--ck-balloon-fake-panel-offset-vertical);\n}\n\n.ck .ck-fake-panel div:nth-child( 2 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);\n}\n.ck .ck-fake-panel div:nth-child( 3 ) {\n\tmargin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);\n\tmargin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);\n}\n\n/* If balloon is positioned above element, we need to move fake panel to the top. */\n.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,\n.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {\n\t--ck-balloon-fake-panel-offset-vertical: -6px;\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},8298:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-panel)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\tz-index: var(--ck-z-panel); /* #315 */\n\t\tposition: fixed;\n\t\ttop: 0;\n\t}\n\n\t& .ck-sticky-panel__content_sticky_bottom-limit {\n\t\ttop: auto;\n\t\tposition: absolute;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_shadow.css";\n\n.ck.ck-sticky-panel {\n\t& .ck-sticky-panel__content_sticky {\n\t\t@mixin ck-drop-shadow;\n\n\t\tborder-width: 0 1px 1px;\n\t\tborder-top-left-radius: 0;\n\t\tborder-top-right-radius: 0;\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n"],sourceRoot:""}]);const a=s},2722:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-number,.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAoED,CAlEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA+CF,CA7CE,8CACC,wDAYD,CAVC,4HAEC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDrEH",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n\n.ck-vertical-form .ck-button {\n\t&::after {\n\t\tcontent: "";\n\t\twidth: 0;\n\t\tposition: absolute;\n\t\tright: -1px;\n\t\ttop: -1px;\n\t\tbottom: -1px;\n\t\tz-index: 1;\n\t}\n\n\t&:focus::after {\n\t\tdisplay: none;\n\t}\n}\n\n.ck.ck-responsive-form {\n\t@mixin ck-media-phone {\n\t\t& .ck-button {\n\t\t\t&::after {\n\t\t\t\tcontent: "";\n\t\t\t\twidth: 0;\n\t\t\t\tposition: absolute;\n\t\t\t\tright: -1px;\n\t\t\t\ttop: -1px;\n\t\t\t\tbottom: -1px;\n\t\t\t\tz-index: 1;\n\t\t\t}\n\n\t\t\t&:focus::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-phone {\n\t@media screen and (max-width: 600px) {\n\t\t@mixin-content;\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck-vertical-form > .ck-button:nth-last-child(2)::after {\n\tborder-right: 1px solid var(--ck-color-base-border);\n}\n\n.ck.ck-responsive-form {\n\tpadding: var(--ck-spacing-large);\n\n\t&:focus {\n\t\t/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */\n\t\toutline: none;\n\t}\n\n\t@mixin ck-dir ltr {\n\t\t& > :not(:first-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-dir rtl {\n\t\t& > :not(:last-child) {\n\t\t\tmargin-left: var(--ck-spacing-standard);\n\t\t}\n\t}\n\n\t@mixin ck-media-phone {\n\t\tpadding: 0;\n\t\twidth: calc(.8 * var(--ck-input-width));\n\n\t\t& .ck-labeled-field-view {\n\t\t\tmargin: var(--ck-spacing-large) var(--ck-spacing-large) 0;\n\n\t\t\t& .ck-input-text,\n\t\t\t& .ck-input-number {\n\t\t\t\tmin-width: 0;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\n\t\t\t/* Let the long error messages wrap in the narrow form. */\n\t\t\t& .ck-labeled-field-view__error {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\t\t}\n\n\t\t/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\t&::after {\n\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\t\t}\n\n\t\t& > .ck-button:nth-last-child(1),\n\t\t& > .ck-button:nth-last-child(2) {\n\t\t\tpadding: var(--ck-spacing-standard);\n\t\t\tmargin-top: var(--ck-spacing-large);\n\t\t\tborder-radius: 0;\n\n\t\t\t&:not(:focus) {\n\t\t\t\tborder-top: 1px solid var(--ck-color-base-border);\n\t\t\t}\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tmargin-left: 0;\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tmargin-left: 0;\n\n\t\t\t\t&:last-of-type {\n\t\t\t\t\tborder-right: 1px solid var(--ck-color-base-border);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n'],sourceRoot:""}]);const a=s},8107:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{position:absolute;top:50%;transform:translateY(-50%)}[dir=ltr] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{left:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view>.ck-labeled-field-view__input-wrapper>.ck-icon{right:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view .ck-search__reset{position:absolute;top:50%;transform:translateY(-50%)}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{display:block}.ck.ck-search>.ck-search__results>.ck-search__info:not(.ck-hidden)~*{display:none}:root{--ck-search-field-view-horizontal-spacing:calc(var(--ck-icon-size) + var(--ck-spacing-medium))}.ck.ck-search>.ck-labeled-field-view .ck-input{width:100%}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon{--ck-labeled-field-label-default-position-x:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon>.ck-labeled-field-view__input-wrapper>.ck-icon{opacity:.5;pointer-events:none}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input,[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-icon .ck-input:not(.ck-input-text_empty){padding-left:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset{--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset.ck-labeled-field-view_empty{--ck-labeled-field-empty-unfocused-max-width:100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{background:none;min-height:auto;min-width:auto;opacity:.5;padding:0}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{right:var(--ck-spacing-medium)}[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset{left:var(--ck-spacing-medium)}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-search__reset:hover{opacity:1}.ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{width:100%}[dir=ltr] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input:not(.ck-input-text_empty),[dir=rtl] .ck.ck-search>.ck-labeled-field-view.ck-search__query_with-reset .ck-input{padding-right:var(--ck-search-field-view-horizontal-spacing)}.ck.ck-search>.ck-search__results{min-width:100%}.ck.ck-search>.ck-search__results>.ck-search__info{padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-search>.ck-search__results>.ck-search__info *{white-space:normal}.ck.ck-search>.ck-search__results>.ck-search__info>span:first-child{font-weight:700}.ck.ck-search>.ck-search__results>.ck-search__info>span:last-child{margin-top:var(--ck-spacing-medium)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/search/search.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/search/search.css"],names:[],mappings:"AASE,oFACC,iBAAkB,CAClB,OAAQ,CACR,0BASD,CAZA,8FAME,6BAMF,CAZA,8FAUE,8BAEF,CAEA,uDACC,iBAAkB,CAClB,OAAQ,CACR,0BACD,CAKC,oEACC,aACD,CAGA,qEACC,YACD,CChCH,MACC,8FACD,CAIE,+CACC,UACD,CAEA,gEACC,0FAoBD,CAlBC,+GACC,UAAW,CACX,mBACD,CAEA,0EACC,UAWD,CAJE,kMACC,2DACD,CAKH,iEACC,sGAwCD,CAtCC,6FACC,6HACD,CAEA,mFAIC,eAAgB,CAFhB,eAAgB,CADhB,cAAe,CAIf,UAAW,CACX,SAaD,CAnBA,6FASE,8BAUF,CAnBA,6FAaE,6BAMF,CAHC,yFACC,SACD,CAGD,2EACC,UAWD,CAZA,oMAUE,4DAEF,CAIF,kCACC,cAkBD,CAhBC,mDAEC,wDAAyD,CADzD,UAcD,CAXC,qDACC,kBACD,CAEA,oEACC,eACD,CAEA,mEACC,mCACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-search {\n\t& > .ck-labeled-field-view {\n\t\t& > .ck-labeled-field-view__input-wrapper > .ck-icon {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\n\t\t\t@mixin ck-dir ltr {\n\t\t\t\tleft: var(--ck-spacing-medium);\n\t\t\t}\n\n\t\t\t@mixin ck-dir rtl {\n\t\t\t\tright: var(--ck-spacing-medium);\n\t\t\t}\n\t\t}\n\n\t\t& .ck-search__reset {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\t}\n\n\t& > .ck-search__results {\n\t\t& > .ck-search__info {\n\t\t\t& > span:first-child {\n\t\t\t\tdisplay: block;\n\t\t\t}\n\n\t\t\t/* Hide the filtered view when nothing was found */\n\t\t\t&:not(.ck-hidden) ~ * {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t}\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n:root {\n\t--ck-search-field-view-horizontal-spacing: calc(var(--ck-icon-size) + var(--ck-spacing-medium));\n}\n\n.ck.ck-search {\n\t& > .ck-labeled-field-view {\n\t\t& .ck-input {\n\t\t\twidth: 100%;\n\t\t}\n\n\t\t&.ck-search__query_with-icon {\n\t\t\t--ck-labeled-field-label-default-position-x: var(--ck-search-field-view-horizontal-spacing);\n\n\t\t\t& > .ck-labeled-field-view__input-wrapper > .ck-icon {\n\t\t\t\topacity: .5;\n\t\t\t\tpointer-events: none;\n\t\t\t}\n\n\t\t\t& .ck-input {\n\t\t\t\twidth: 100%;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tpadding-left: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\t&:not(.ck-input-text_empty) {\n\t\t\t\t\t\tpadding-left: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t&.ck-search__query_with-reset {\n\t\t\t--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-search-field-view-horizontal-spacing);\n\n\t\t\t&.ck-labeled-field-view_empty {\n\t\t\t\t--ck-labeled-field-empty-unfocused-max-width: 100% - var(--ck-search-field-view-horizontal-spacing) - var(--ck-spacing-medium);\n\t\t\t}\n\n\t\t\t& .ck-search__reset {\n\t\t\t\tmin-width: auto;\n\t\t\t\tmin-height: auto;\n\n\t\t\t\tbackground: none;\n\t\t\t\topacity: .5;\n\t\t\t\tpadding: 0;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\tright: var(--ck-spacing-medium);\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tleft: var(--ck-spacing-medium);\n\t\t\t\t}\n\n\t\t\t\t&:hover {\n\t\t\t\t\topacity: 1;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t& .ck-input {\n\t\t\t\twidth: 100%;\n\n\t\t\t\t@mixin ck-dir ltr {\n\t\t\t\t\t&:not(.ck-input-text_empty) {\n\t\t\t\t\t\tpadding-right: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t@mixin ck-dir rtl {\n\t\t\t\t\tpadding-right: var(--ck-search-field-view-horizontal-spacing);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck-search__results {\n\t\tmin-width: 100%;\n\n\t\t& > .ck-search__info {\n\t\t\twidth: 100%;\n\t\t\tpadding: var(--ck-spacing-medium) var(--ck-spacing-large);\n\n\t\t\t& * {\n\t\t\t\twhite-space: normal;\n\t\t\t}\n\n\t\t\t& > span:first-child {\n\t\t\t\tfont-weight: bold;\n\t\t\t}\n\n\t\t\t& > span:last-child {\n\t\t\t\tmargin-top: var(--ck-spacing-medium);\n\t\t\t}\n\t\t}\n\t}\n}\n\n'],sourceRoot:""}]);const a=s},109:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-spinner-container{display:block;position:relative}.ck.ck-spinner{left:0;margin:0 auto;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:1}:root{--ck-toolbar-spinner-size:18px}.ck.ck-spinner-container{animation:rotate 1.5s linear infinite;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@media (prefers-reduced-motion:reduce){.ck.ck-spinner-container{animation-duration:3s}}.ck.ck-spinner{border:2px solid var(--ck-color-text);border-radius:50%;border-top:2px solid transparent;height:var(--ck-toolbar-spinner-size);width:var(--ck-toolbar-spinner-size)}@keyframes rotate{to{transform:rotate(1turn)}}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/spinner/spinner.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/spinner/spinner.css"],names:[],mappings:"AASA,yBACC,aAAc,CACd,iBACD,CAEA,eAGC,MAAO,CAEP,aAAc,CAJd,iBAAkB,CAGlB,OAAQ,CAFR,OAAQ,CAIR,0BAA2B,CAC3B,SACD,CCjBA,MACC,8BACD,CAEA,yBAGC,qCAAsC,CADtC,qCAAsC,CADtC,oCAOD,CAHC,uCALD,yBAME,qBAEF,CADC,CAGD,eAKC,qCAA6B,CAF7B,iBAAkB,CAElB,gCAA6B,CAH7B,qCAAsC,CADtC,oCAKD,CAEA,kBACC,GACC,uBACD,CACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-spinner-size: 18px;\n}\n\n.ck.ck-spinner-container {\n\tdisplay: block;\n\tposition: relative;\n}\n\n.ck.ck-spinner {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 0;\n\tright: 0;\n\tmargin: 0 auto;\n\ttransform: translateY(-50%);\n\tz-index: 1;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-toolbar-spinner-size: 18px;\n}\n\n.ck.ck-spinner-container {\n\twidth: var(--ck-toolbar-spinner-size);\n\theight: var(--ck-toolbar-spinner-size);\n\tanimation: 1.5s infinite rotate linear;\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\tanimation-duration: 3s;\n\t}\n}\n\n.ck.ck-spinner {\n\twidth: var(--ck-toolbar-spinner-size);\n\theight: var(--ck-toolbar-spinner-size);\n\tborder-radius: 50%;\n\tborder: 2px solid var(--ck-color-text);\n\tborder-top-color: transparent;\n}\n\n@keyframes rotate {\n\tto {\n\t\ttransform: rotate(360deg)\n\t}\n}\n"],sourceRoot:""}]);const a=s},1671:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck-textarea{overflow-x:hidden}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/textarea/textarea.css"],names:[],mappings:"AASA,aACC,iBACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/*\n * This fixes a problem in Firefox when the initial height of the complement does not match the number of rows.\n * This bug is especially visible when rows=1.\n */\n.ck-textarea {\n\toverflow-x: hidden\n}\n"],sourceRoot:""}]);const a=s},2710:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck.ck-block-toolbar-button {\n\tposition: absolute;\n\tz-index: var(--ck-z-default);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-block-toolbar-button: var(--ck-color-text);\n\t--ck-block-toolbar-button-size: var(--ck-font-size-normal);\n}\n\n.ck.ck-block-toolbar-button {\n\tcolor: var(--ck-color-block-toolbar-button);\n\tfont-size: var(--ck-block-toolbar-size);\n}\n"],sourceRoot:""}]);const a=s},9677:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-unselectable;\n\n\tdisplay: flex;\n\tflex-flow: row nowrap;\n\talign-items: center;\n\n\t& > .ck-toolbar__items {\n\t\tdisplay: flex;\n\t\tflex-flow: row wrap;\n\t\talign-items: center;\n\t\tflex-grow: 1;\n\n\t}\n\n\t& .ck.ck-toolbar__separator {\n\t\tdisplay: inline-block;\n\n\t\t/*\n\t\t * A leading or trailing separator makes no sense (separates from nothing on one side).\n\t\t * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and\n\t\t * moved to another toolbar in the dropdown.\n\t\t */\n\t\t&:first-child,\n\t\t&:last-child {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\tflex-basis: 100%;\n\t}\n\n\t&.ck-toolbar_grouping > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t&.ck-toolbar_vertical > .ck-toolbar__items {\n\t\tflex-direction: column;\n\t}\n\n\t&.ck-toolbar_floating > .ck-toolbar__items {\n\t\tflex-wrap: nowrap;\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t& > .ck-dropdown__button .ck-dropdown__arrow {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";\n\n.ck.ck-toolbar {\n\t@mixin ck-rounded-corners;\n\n\tbackground: var(--ck-color-toolbar-background);\n\tpadding: 0 var(--ck-spacing-small);\n\tborder: 1px solid var(--ck-color-toolbar-border);\n\n\t& .ck.ck-toolbar__separator {\n\t\talign-self: stretch;\n\t\twidth: 1px;\n\t\tmin-width: 1px;\n\t\tbackground: var(--ck-color-toolbar-border);\n\n\t\t/*\n\t\t * These margins make the separators look better in balloon toolbars (when aligned with the "tip").\n\t\t * See https://github.com/ckeditor/ckeditor5/issues/7493.\n\t\t */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t& .ck-toolbar__line-break {\n\t\theight: 0;\n\t}\n\n\t& > .ck-toolbar__items {\n\t\t& > *:not(.ck-toolbar__line-break) {\n\t\t\t/* (#11) Separate toolbar items. */\n\t\t\tmargin-right: var(--ck-spacing-small);\n\t\t}\n\n\t\t/* Don\'t display a separator after an empty items container, for instance,\n\t\twhen all items were grouped */\n\t\t&:empty + .ck.ck-toolbar__separator {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\n\t& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/* Make sure items wrapped to the next line have v-spacing */\n\t\tmargin-top: var(--ck-spacing-small);\n\t\tmargin-bottom: var(--ck-spacing-small);\n\t}\n\n\t&.ck-toolbar_vertical {\n\t\t/* Items in a vertical toolbar span the entire width. */\n\t\tpadding: 0;\n\n\t\t/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */\n\t\t& > .ck-toolbar__items > .ck {\n\t\t\t/* Items in a vertical toolbar should span the horizontal space. */\n\t\t\twidth: 100%;\n\n\t\t\t/* Items in a vertical toolbar should have no margin. */\n\t\t\tmargin: 0;\n\n\t\t\t/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */\n\t\t\tborder-radius: 0;\n\t\t}\n\t}\n\n\t&.ck-toolbar_compact {\n\t\t/* No spacing around items. */\n\t\tpadding: 0;\n\n\t\t& > .ck-toolbar__items > * {\n\t\t\t/* Compact toolbar items have no spacing between them. */\n\t\t\tmargin: 0;\n\n\t\t\t/* "Middle" children should have no rounded corners. */\n\t\t\t&:not(:first-child):not(:last-child) {\n\t\t\t\tborder-radius: 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t& > .ck.ck-toolbar__grouped-dropdown {\n\t\t/*\n\t\t * Dropdown button has asymmetric padding to fit the arrow.\n\t\t * This button has no arrow so let\'s revert that padding back to normal.\n\t\t */\n\t\t& > .ck.ck-button.ck-dropdown__button {\n\t\t\tpadding-left: var(--ck-spacing-tiny);\n\t\t}\n\t}\n\n\t/* A drop-down containing the nested toolbar with configured items. */\n\t& .ck-toolbar__nested-toolbar-dropdown {\n\t\t/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */\n\t\t& > .ck-dropdown__panel {\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t& > .ck-button > .ck-button__label {\n\t\t\tmax-width: 7em;\n\t\t\twidth: auto;\n\t\t}\n\t}\n\n\t&:focus {\n\t\toutline: none;\n\t}\n\n\t@nest .ck-toolbar-container & {\n\t\tborder: 0;\n\t}\n}\n\n/* stylelint-disable */\n\n/*\n * Styles for RTL toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="rtl"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="rtl"] {\n\t& > .ck-toolbar__items > .ck {\n\t\tmargin-right: 0;\n\t}\n\n\t&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {\n\t\t/* (#11) Separate toolbar items. */\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-left: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-left: var(--ck-spacing-small);\n\t}\n}\n\n/*\n * Styles for LTR toolbars.\n *\n * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"\n * because its parent is not controlled by the editor framework.\n */\n[dir="ltr"] .ck.ck-toolbar,\n.ck.ck-toolbar[dir="ltr"] {\n\t& > .ck-toolbar__items > .ck:last-child {\n\t\tmargin-right: 0;\n\t}\n\n\t&.ck-toolbar_compact > .ck-toolbar__items > .ck {\n\t\t/* No rounded corners on the right side of the first child. */\n\t\t&:first-child {\n\t\t\tborder-top-right-radius: 0;\n\t\t\tborder-bottom-right-radius: 0;\n\t\t}\n\n\t\t/* No rounded corners on the left side of the last child. */\n\t\t&:last-child {\n\t\t\tborder-top-left-radius: 0;\n\t\t\tborder-bottom-left-radius: 0;\n\t\t}\n\t}\n\n\t/* Separate the the separator form the grouping dropdown when some items are grouped. */\n\t& > .ck.ck-toolbar__separator {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n\n\t/* Some spacing between the items and the separator before the grouped items dropdown. */\n\t&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {\n\t\tmargin-right: var(--ck-spacing-small);\n\t}\n}\n\n/* stylelint-enable */\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Implements rounded corner interface for .ck-rounded-corners class.\n *\n * @see $ck-border-radius\n */\n@define-mixin ck-rounded-corners {\n\tborder-radius: 0;\n\n\t@nest .ck-rounded-corners &,\n\t&.ck-rounded-corners {\n\t\tborder-radius: var(--ck-border-radius);\n\t\t@mixin-content;\n\t}\n}\n"],sourceRoot:""}]);const a=s},9205:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100);--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-tooltip-text-padding:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip.ck-tooltip_multi-line .ck-tooltip__text{display:inline-block;max-width:200px;padding:var(--ck-tooltip-text-padding) 0;white-space:break-spaces}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAOA,gCCEC,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBAAgB,CDFhB,sCAAyC,CEFzC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,6BAA8B,CAC9B,8DAA+D,CAE/D,kCFJD,CEMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAEA,wEAEC,oBAAqB,CAErB,eAAgB,CADhB,wCAAyC,CAFzC,wBAID,CArBD,gCAwBC,eAMD,CAHC,uCACC,YACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../mixins/_unselectable.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t@mixin ck-unselectable;\n\n\tz-index: calc( var(--ck-z-dialog) + 100 );\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Makes element unselectable.\n */\n@define-mixin ck-unselectable {\n\t-moz-user-select: none;\n\t-webkit-user-select: none;\n\t-ms-user-select: none;\n\tuser-select: none\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../../../mixins/_rounded.css";\n\n.ck.ck-balloon-panel.ck-tooltip {\n\t--ck-balloon-border-width: 0px;\n\t--ck-balloon-arrow-offset: 0px;\n\t--ck-balloon-arrow-half-width: 4px;\n\t--ck-balloon-arrow-height: 4px;\n\t--ck-tooltip-text-padding: 4px;\n\t--ck-color-panel-background: var(--ck-color-tooltip-background);\n\n\tpadding: 0 var(--ck-spacing-medium);\n\n\t& .ck-tooltip__text {\n\t\tfont-size: .9em;\n\t\tline-height: 1.5;\n\t\tcolor: var(--ck-color-tooltip-text);\n\t}\n\n\t&.ck-tooltip_multi-line .ck-tooltip__text {\n\t\twhite-space: break-spaces;\n\t\tdisplay: inline-block;\n\t\tpadding: var(--ck-tooltip-text-padding) 0;\n\t\tmax-width: 200px;\n\t}\n\n\t/* Reset balloon panel styles */\n\tbox-shadow: none;\n\n\t/* Hide the default shadow of the .ck-balloon-panel tip */\n\t&::before {\n\t\tdisplay: none;\n\t}\n}\n'],sourceRoot:""}]);const a=s},7676:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck-hidden{display:none!important}:root{--ck-z-default:1;--ck-z-panel:calc(var(--ck-z-default) + 999);--ck-z-dialog:9999}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-panel) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-dialog-background:var(--ck-custom-background);--ck-color-dialog-form-header-border:var(--ck-custom-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-color-light-red:#fcc;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{background:transparent;border:0;box-sizing:border-box;height:auto;margin:0;padding:0;position:static;text-decoration:none;transition:none;vertical-align:middle;width:auto;word-wrap:break-word}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,MACC,gBAAiB,CACjB,4CAA+C,CAC/C,kBACD,CCDA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,wDAAiE,CACjE,4DAAmE,CAInE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAyD,CAIzD,yBAAgD,CChHhD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJgHD,CI1GA,2EAYC,sBAAuB,CADvB,QAAS,CART,qBAAsB,CAEtB,WAAY,CAIZ,QAAS,CACT,SAAU,CAJV,eAAgB,CAOhB,oBAAqB,CAErB,eAAgB,CADhB,qBAAsB,CAVtB,UAAW,CAcX,oBACD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCxFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class which hides an element in DOM.\n */\n.ck-hidden {\n\t/* Override selector specificity. Otherwise, all elements with some display\n\tstyle defined will override this one, which is not a desired result. */\n\tdisplay: none !important;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-z-default: 1;\n\t--ck-z-panel: calc( var(--ck-z-default) + 999 );\n\t--ck-z-dialog: 9999;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A class that disables all transitions of the element and its children.\n */\n.ck-transitions-disabled,\n.ck-transitions-disabled * {\n\ttransition: none !important;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-powered-by-line-height: 10px;\n\t--ck-powered-by-padding-vertical: 2px;\n\t--ck-powered-by-padding-horizontal: 4px;\n\t--ck-powered-by-text-color: hsl(0, 0%, 31%);\n\t--ck-powered-by-border-radius: var(--ck-border-radius);\n\t--ck-powered-by-background: hsl(0, 0%, 100%);\n\t--ck-powered-by-border-color: var(--ck-color-focus-border);\n}\n\n.ck.ck-balloon-panel.ck-powered-by-balloon {\n\t--ck-border-radius: var(--ck-powered-by-border-radius);\n\n\tbox-shadow: none;\n\tbackground: var(--ck-powered-by-background);\n\tmin-height: unset;\n\tz-index: calc( var(--ck-z-panel) - 1 );\n\n\t& .ck.ck-powered-by {\n\t\tline-height: var(--ck-powered-by-line-height);\n\n\t\t& a {\n\t\t\tcursor: pointer;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\topacity: .66;\n\t\t\tfilter: grayscale(80%);\n\t\t\tline-height: var(--ck-powered-by-line-height);\n\t\t\tpadding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);\n\t\t}\n\n\t\t& .ck-powered-by__label {\n\t\t\tfont-size: 7.5px;\n\t\t\tletter-spacing: -.2px;\n\t\t\tpadding-left: 2px;\n\t\t\ttext-transform: uppercase;\n\t\t\tfont-weight: bold;\n\t\t\tmargin-right: 4px;\n\t\t\tcursor: pointer;\n\t\t\tline-height: normal;\n\t\t\tcolor: var(--ck-powered-by-text-color);\n\n\t\t}\n\n\t\t& .ck-icon {\n\t\t\tdisplay: block;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t&:hover {\n\t\t\t& a {\n\t\t\t\tfilter: grayscale(0%);\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n\n\t&[class*="position_inside"] {\n\t\tborder-color: transparent;\n\t}\n\n\t&[class*="position_border"] {\n\t\tborder: var(--ck-focus-ring);\n\t\tborder-color: var(--ck-powered-by-border-color);\n\t}\n}\n\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-base-foreground: \t\t\t\t\t\t\t\thsl(0, 0%, 98%);\n\t--ck-color-base-background: \t\t\t\t\t\t\t\thsl(0, 0%, 100%);\n\t--ck-color-base-border: \t\t\t\t\t\t\t\t\thsl(220, 6%, 81%);\n\t--ck-color-base-action: \t\t\t\t\t\t\t\t\thsl(104, 50.2%, 42.5%);\n\t--ck-color-base-focus: \t\t\t\t\t\t\t\t\t\thsl(209, 92%, 70%);\n\t--ck-color-base-text: \t\t\t\t\t\t\t\t\t\thsl(0, 0%, 20%);\n\t--ck-color-base-active: \t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\t--ck-color-base-active-focus:\t\t\t\t\t\t\t\thsl(218.2, 100%, 52.5%);\n\t--ck-color-base-error:\t\t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------ */\n\n\t--ck-color-focus-border-coordinates: \t\t\t\t\t\t218, 81.8%, 56.9%;\n\t--ck-color-focus-border: \t\t\t\t\t\t\t\t\thsl(var(--ck-color-focus-border-coordinates));\n\t--ck-color-focus-outer-shadow:\t\t\t\t\t\t\t\thsl(212.4, 89.3%, 89%);\n\t--ck-color-focus-disabled-shadow:\t\t\t\t\t\t\thsla(209, 90%, 72%,.3);\n\t--ck-color-focus-error-shadow:\t\t\t\t\t\t\t\thsla(9,100%,56%,.3);\n\t--ck-color-text: \t\t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-shadow-drop: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.15);\n\t--ck-color-shadow-drop-active:\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.2);\n\t--ck-color-shadow-inner: \t\t\t\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Buttons ------------------------------------------------------------------------------- */\n\n\t--ck-color-button-default-background: \t\t\t\t\t\ttransparent;\n\t--ck-color-button-default-hover-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-active-background: \t\t\t\thsl(0, 0%, 94.1%);\n\t--ck-color-button-default-disabled-background: \t\t\t\ttransparent;\n\n\t--ck-color-button-on-background: \t\t\t\t\t\t\thsl(212, 100%, 97.1%);\n\t--ck-color-button-on-hover-background: \t\t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-active-background: \t\t\t\t\thsl(211.7, 100%, 92.9%);\n\t--ck-color-button-on-disabled-background: \t\t\t\t\thsl(211, 15%, 95%);\n\t--ck-color-button-on-color:\t\t\t\t\t\t\t\t\thsl(218.1, 100%, 58%);\n\n\n\t--ck-color-button-action-background: \t\t\t\t\t\tvar(--ck-color-base-action);\n\t--ck-color-button-action-hover-background: \t\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-active-background: \t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-button-action-disabled-background: \t\t\t\thsl(104, 44%, 58%);\n\t--ck-color-button-action-text: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t--ck-color-button-save: \t\t\t\t\t\t\t\t\thsl(120, 100%, 27%);\n\t--ck-color-button-cancel: \t\t\t\t\t\t\t\t\thsl(15, 100%, 43%);\n\n\t--ck-color-switch-button-off-background:\t\t\t\t\thsl(0, 0%, 57.6%);\n\t--ck-color-switch-button-off-hover-background:\t\t\t\thsl(0, 0%, 49%);\n\t--ck-color-switch-button-on-background:\t\t\t\t\t\tvar(--ck-color-button-action-background);\n\t--ck-color-switch-button-on-hover-background:\t\t\t\thsl(104, 53.2%, 40.2%);\n\t--ck-color-switch-button-inner-background:\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-switch-button-inner-shadow:\t\t\t\t\t\thsla(0, 0%, 0%, 0.1);\n\n\t/* -- Dropdown ------------------------------------------------------------------------------ */\n\n\t--ck-color-dropdown-panel-background: \t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-dropdown-panel-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Dialog -------------------------------------------------------------------------------- */\n\n\t--ck-color-dialog-background: \t\t\t\t\t\t\t\tvar(--ck-custom-background);\n\t--ck-color-dialog-form-header-border: \t\t\t\t\t\tvar(--ck-custom-border);\n\n\t/* -- Input --------------------------------------------------------------------------------- */\n\n\t--ck-color-input-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-input-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-error-border:\t\t\t\t\t\t\t\tvar(--ck-color-base-error);\n\t--ck-color-input-text: \t\t\t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-input-disabled-background: \t\t\t\t\t\thsl(0, 0%, 95%);\n\t--ck-color-input-disabled-border: \t\t\t\t\t\t\tvar(--ck-color-base-border);\n\t--ck-color-input-disabled-text: \t\t\t\t\t\t\thsl(0, 0%, 46%);\n\n\t/* -- List ---------------------------------------------------------------------------------- */\n\n\t--ck-color-list-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-list-button-hover-background: \t\t\t\t\tvar(--ck-color-button-default-hover-background);\n\t--ck-color-list-button-on-background: \t\t\t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-background-focus: \t\t\t\tvar(--ck-color-button-on-color);\n\t--ck-color-list-button-on-text:\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Panel --------------------------------------------------------------------------------- */\n\n\t--ck-color-panel-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-panel-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Toolbar ------------------------------------------------------------------------------- */\n\n\t--ck-color-toolbar-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\t--ck-color-toolbar-border: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-border);\n\n\t/* -- Tooltip ------------------------------------------------------------------------------- */\n\n\t--ck-color-tooltip-background: \t\t\t\t\t\t\t\tvar(--ck-color-base-text);\n\t--ck-color-tooltip-text: \t\t\t\t\t\t\t\t\tvar(--ck-color-base-background);\n\n\t/* -- Engine -------------------------------------------------------------------------------- */\n\n\t--ck-color-engine-placeholder-text: \t\t\t\t\t\thsl(0, 0%, 44%);\n\n\t/* -- Upload -------------------------------------------------------------------------------- */\n\n\t--ck-color-upload-bar-background:\t\t \t\t\t\t\thsl(209, 92%, 70%);\n\n\t/* -- Link -------------------------------------------------------------------------------- */\n\n\t--ck-color-link-default:\t\t\t\t\t\t\t\t\thsl(240, 100%, 47%);\n\t--ck-color-link-selected-background:\t\t\t\t\t\thsla(201, 100%, 56%, 0.1);\n\t--ck-color-link-fake-selection:\t\t\t\t\t\t\t\thsla(201, 100%, 56%, 0.3);\n\n\t/* -- Search result highlight ---------------------------------------------------------------- */\n\n\t--ck-color-highlight-background:\t\t\t\t\t\t\thsl(60, 100%, 50%);\n\n\t/* -- Generic colors ------------------------------------------------------------------------- */\n\n\t--ck-color-light-red:\t\t\t\t\t\t\t\t\t\thsl(0, 100%, 90%);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * An opacity value of disabled UI item.\n\t */\n\t--ck-disabled-opacity: .5;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * The geometry of the of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow-geometry: 0 0 0 3px;\n\n\t/**\n\t * A visual style of focused element's outer shadow.\n\t */\n\t--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when disabled).\n\t */\n\t--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);\n\n\t/**\n\t * A visual style of focused element's outer shadow (when has errors).\n\t */\n\t--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);\n\n\t/**\n\t * A visual style of focused element's border or outline.\n\t */\n\t--ck-focus-ring: 1px solid var(--ck-color-focus-border);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-font-size-base: 13px;\n\t--ck-line-height-base: 1.84615;\n\t--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;\n\n\t--ck-font-size-tiny: 0.7em;\n\t--ck-font-size-small: 0.75em;\n\t--ck-font-size-normal: 1em;\n\t--ck-font-size-big: 1.4em;\n\t--ck-font-size-large: 1.8em;\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/* This is super-important. This is **manually** adjusted so a button without an icon\n\tis never smaller than a button with icon, additionally making sure that text-less buttons\n\tare perfect squares. The value is also shared by other components which should stay "in-line"\n\twith buttons. */\n\t--ck-ui-component-min-height: 2.3em;\n}\n\n/**\n * Resets an element, ignoring its children.\n */\n.ck.ck-reset,\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\tbox-sizing: border-box;\n\twidth: auto;\n\theight: auto;\n\tposition: static;\n\n\t/* Do not include inheritable rules here. */\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tbackground: transparent;\n\ttext-decoration: none;\n\tvertical-align: middle;\n\ttransition: none;\n\n\t/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */\n\tword-wrap: break-word;\n}\n\n/**\n * Resets an element AND its children.\n */\n.ck.ck-reset_all,\n.ck-reset_all *:not(.ck-reset_all-excluded *) {\n\t/* These are rule inherited by all children elements. */\n\tborder-collapse: collapse;\n\tfont: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);\n\tcolor: var(--ck-color-text);\n\ttext-align: left;\n\twhite-space: nowrap;\n\tcursor: auto;\n\tfloat: none;\n}\n\n.ck-reset_all {\n\t& .ck-rtl *:not(.ck-reset_all-excluded *) {\n\t\ttext-align: right;\n\t}\n\n\t& iframe:not(.ck-reset_all-excluded *) {\n\t\t/* For IE */\n\t\tvertical-align: inherit;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *) {\n\t\twhite-space: pre-wrap;\n\t}\n\n\t& textarea:not(.ck-reset_all-excluded *),\n\t& input[type="text"]:not(.ck-reset_all-excluded *),\n\t& input[type="password"]:not(.ck-reset_all-excluded *) {\n\t\tcursor: text;\n\t}\n\n\t& textarea[disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="text"][disabled]:not(.ck-reset_all-excluded *),\n\t& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {\n\t\tcursor: default;\n\t}\n\n\t& fieldset:not(.ck-reset_all-excluded *) {\n\t\tpadding: 10px;\n\t\tborder: 2px groove hsl(255, 7%, 88%);\n\t}\n\n\t& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {\n\t\t/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */\n\t\tpadding: 0;\n\t\tborder: 0\n\t}\n}\n\n/**\n * Default UI rules for RTL languages.\n */\n.ck[dir="rtl"],\n.ck[dir="rtl"] .ck {\n\ttext-align: right;\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * Default border-radius value.\n */\n:root{\n\t--ck-border-radius: 2px;\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t/**\n\t * A visual style of element's inner shadow (i.e. input).\n\t */\n\t--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;\n\n\t/**\n\t * A visual style of element's drop shadow (i.e. panel).\n\t */\n\t--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);\n\n\t/**\n\t * A visual style of element's active shadow (i.e. comment or suggestion).\n\t */\n\t--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-spacing-unit: \t\t\t\t\t\t0.6em;\n\t--ck-spacing-large: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 1.5);\n\t--ck-spacing-standard: \t\t\t\t\tvar(--ck-spacing-unit);\n\t--ck-spacing-medium: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.8);\n\t--ck-spacing-small: \t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.5);\n\t--ck-spacing-tiny: \t\t\t\t\t\tcalc(var(--ck-spacing-unit) * 0.3);\n\t--ck-spacing-extra-tiny: \t\t\t\tcalc(var(--ck-spacing-unit) * 0.16);\n}\n"],sourceRoot:""}]);const a=s},695:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget{transition:none}}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}@media (forced-colors:none){.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background)}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}@media (prefers-reduced-motion:reduce){.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{transition:none}}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-ui/theme/mixins/_mediacolors.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CChFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAcD,CAZC,uCAND,eAOE,eAWF,CAVC,CAEA,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAYD,CARC,yGCnCA,2BAA2B,CCF3B,qCAA8B,CDC9B,YD2CA,CGvCA,4BACC,yGHoCC,iEGlCD,CACD,CHuCA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAwCD,CA3BC,uCAzBD,4EA0BE,eA0BF,CAzBC,CAEA,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAeD,CAVC,kHACC,SAAU,CAGV,+DAKD,CAHC,uCAND,kHAOE,eAEF,CADC,CAKF,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-color-resizer: var(--ck-color-focus-border);\n\t--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);\n\t--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);\n\n\t--ck-resizer-border-radius: var(--ck-border-radius);\n\t--ck-resizer-tooltip-offset: 10px;\n\t--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);\n}\n\n.ck .ck-widget {\n\t/* This is neccessary for type around UI to be positioned properly. */\n\tposition: relative;\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n\n\t& .ck-widget__selection-handle {\n\t\tposition: absolute;\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the icon in not a subject to font-size or line-height to avoid\n\t\t\tunnecessary spacing around it. */\n\t\t\tdisplay: block;\n\t\t}\n\t}\n\n\t/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n\n\t/* Show the selection handle when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected > .ck-widget__selection-handle {\n\t\tvisibility: visible;\n\t}\n}\n\n.ck .ck-size-view {\n\tbackground: var(--ck-color-resizer-tooltip-background);\n\tcolor: var(--ck-color-resizer-tooltip-text);\n\tborder: 1px solid var(--ck-color-resizer-tooltip-text);\n\tborder-radius: var(--ck-resizer-border-radius);\n\tfont-size: var(--ck-font-size-tiny);\n\tdisplay: block;\n\tpadding: 0 var(--ck-spacing-small);\n\theight: var(--ck-resizer-tooltip-height);\n\tline-height: var(--ck-resizer-tooltip-height);\n\n\t&.ck-orientation-top-left,\n\t&.ck-orientation-top-right,\n\t&.ck-orientation-bottom-right,\n\t&.ck-orientation-bottom-left,\n\t&.ck-orientation-above-center {\n\t\tposition: absolute;\n\t}\n\n\t&.ck-orientation-top-left {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-top-right {\n\t\ttop: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-right {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tright: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t&.ck-orientation-bottom-left {\n\t\tbottom: var(--ck-resizer-tooltip-offset);\n\t\tleft: var(--ck-resizer-tooltip-offset);\n\t}\n\n\t/* Class applied if the widget is too small to contain the size label */\n\t&.ck-orientation-above-center {\n\t\ttop: calc(var(--ck-resizer-tooltip-height) * -1);\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t}\n}\n",'/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@import "../mixins/_focus.css";\n@import "../mixins/_shadow.css";\n@import "@ckeditor/ckeditor5-ui/theme/mixins/_mediacolors.css";\n\n:root {\n\t--ck-widget-outline-thickness: 3px;\n\t--ck-widget-handler-icon-size: 16px;\n\t--ck-widget-handler-animation-duration: 200ms;\n\t--ck-widget-handler-animation-curve: ease;\n\n\t--ck-color-widget-blurred-border: hsl(0, 0%, 87%);\n\t--ck-color-widget-hover-border: hsl(43, 100%, 62%);\n\t--ck-color-widget-editable-focus-background: var(--ck-color-base-background);\n\t--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);\n}\n\n.ck .ck-widget {\n\toutline-width: var(--ck-widget-outline-thickness);\n\toutline-style: solid;\n\toutline-color: transparent;\n\ttransition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t@media (prefers-reduced-motion: reduce) {\n\t\ttransition: none;\n\t}\n\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);\n\t}\n\n\t&:hover {\n\t\toutline-color: var(--ck-color-widget-hover-border);\n\t}\n}\n\n.ck .ck-editor__nested-editable {\n\tborder: 1px solid transparent;\n\n\t/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.\n\tThese styles show a different border for a blink of an eye, so `:focus` need to have same styles applied. */\n\t&.ck-editor__nested-editable_focused,\n\t&:focus {\n\t\t@mixin ck-focus-ring;\n\t\t@mixin ck-box-shadow var(--ck-inner-shadow);\n\t\t@mixin ck-media-default-colors {\n\t\t\tbackground-color: var(--ck-color-widget-editable-focus-background);\n\t\t}\n\t}\n}\n\n.ck .ck-widget.ck-widget_with-selection-handle {\n\t& .ck-widget__selection-handle {\n\t\tpadding: 4px;\n\t\tbox-sizing: border-box;\n\n\t\t/* Background and opacity will be animated as the handler shows up or the widget gets selected. */\n\t\tbackground-color: transparent;\n\t\topacity: 0;\n\n\t\t/* Transition:\n\t\t   * background-color for the .ck-widget_selected state change,\n\t\t   * visibility for hiding the handler,\n\t\t   * opacity for the proper look of the icon when the handler disappears. */\n\t\ttransition:\n\t\t\tbackground-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\tvisibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),\n\t\t\topacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t/* Make only top corners round. */\n\t\tborder-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;\n\n\t\t/* Place the drag handler outside the widget wrapper. */\n\t\ttransform: translateY(-100%);\n\t\tleft: calc(0px - var(--ck-widget-outline-thickness));\n\t\ttop: 0;\n\n\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\ttransition: none;\n\t\t}\n\n\t\t& .ck-icon {\n\t\t\t/* Make sure the dimensions of the icon are independent of the fon-size of the content. */\n\t\t\twidth: var(--ck-widget-handler-icon-size);\n\t\t\theight: var(--ck-widget-handler-icon-size);\n\t\t\tcolor: var(--ck-color-widget-drag-handler-icon-color);\n\n\t\t\t/* The "selected" part of the icon is invisible by default */\n\t\t\t& .ck-icon__selected-indicator {\n\t\t\t\topacity: 0;\n\n\t\t\t\t/* Note: The animation is longer on purpose. Simply feels better. */\n\t\t\t\ttransition: opacity 300ms var(--ck-widget-handler-animation-curve);\n\n\t\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\t\ttransition: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */\n\t\t&:hover .ck-icon .ck-icon__selected-indicator {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */\n\t&:hover > .ck-widget__selection-handle {\n\t\topacity: 1;\n\t\tbackground-color: var(--ck-color-widget-hover-border);\n\t}\n\n\t/* Show the selection handler when the widget is selected, but not for nested widgets. */\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\t& > .ck-widget__selection-handle {\n\t\t\topacity: 1;\n\t\t\tbackground-color: var(--ck-color-focus-border);\n\n\t\t\t/* When the widget is selected, notify the user using the proper look of the icon. */\n\t\t\t& .ck-icon .ck-icon__selected-indicator {\n\t\t\t\topacity: 1;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/* In a RTL environment, align the selection handler to the right side of the widget */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {\n\tleft: auto;\n\tright: calc(0px - var(--ck-widget-outline-thickness));\n}\n\n/* https://github.com/ckeditor/ckeditor5/issues/6415 */\n.ck.ck-editor__editable.ck-read-only .ck-widget {\n\t/* Prevent the :hover outline from showing up because of the used outline-color transition. */\n\ttransition: none;\n\n\t&:not(.ck-widget_selected) {\n\t\t/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/1261\n\t\t *\n\t\t * Leave the unit because this custom property is used in calc() by other features.\n\t\t * See: https://github.com/ckeditor/ckeditor5/issues/6775\n\t\t */\n\t\t--ck-widget-outline-thickness: 0px;\n\t}\n\n\t&.ck-widget_with-selection-handle {\n\t\t& .ck-widget__selection-handle,\n\t\t& .ck-widget__selection-handle:hover {\n\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t}\n\t}\n}\n\n/* Style the widget when it\'s selected but the editable it belongs to lost focus. */\n/* stylelint-disable-next-line no-descending-specificity */\n.ck.ck-editor__editable.ck-blurred .ck-widget {\n\t&.ck-widget_selected,\n\t&.ck-widget_selected:hover {\n\t\toutline-color: var(--ck-color-widget-blurred-border);\n\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t& > .ck-widget__selection-handle,\n\t\t\t& > .ck-widget__selection-handle:hover {\n\t\t\t\tbackground: var(--ck-color-widget-blurred-border);\n\t\t\t}\n\t\t}\n\t}\n}\n\n.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,\n.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {\n\t/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.\n\tIn fact, anything with overflow: hidden.\n\thttps://github.com/ckeditor/ckeditor5-block-quote/issues/28\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/44\n\thttps://github.com/ckeditor/ckeditor5-widget/issues/66 */\n\tmargin-top: calc(1em + var(--ck-widget-handler-icon-size));\n}\n',"/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A visual style of focused element's border.\n */\n@define-mixin ck-focus-ring {\n\t/* Disable native outline. */\n\toutline: none;\n\tborder: var(--ck-focus-ring)\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n/**\n * A helper to combine multiple shadows.\n */\n@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {\n\tbox-shadow: $shadowA, $shadowB;\n}\n\n/**\n * Gives an element a drop shadow so it looks like a floating panel.\n */\n@define-mixin ck-drop-shadow {\n\t@mixin ck-box-shadow var(--ck-drop-shadow);\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n@define-mixin ck-media-forced-colors {\n\t@media (forced-colors: active) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n\n@define-mixin ck-media-default-colors {\n\t@media (forced-colors: none) {\n\t\t& {\n\t\t\t@mixin-content;\n\t\t}\n\t}\n}\n"],sourceRoot:""}]);const a=s},4095:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:["/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget_with-resizer {\n\t/* Make the widget wrapper a relative positioning container for the drag handle. */\n\tposition: relative;\n}\n\n.ck .ck-widget__resizer {\n\tdisplay: none;\n\tposition: absolute;\n\n\t/* The wrapper itself should not interfere with the pointer device, only the handles should. */\n\tpointer-events: none;\n\n\tleft: 0;\n\ttop: 0;\n}\n\n.ck-focused .ck-widget_with-resizer.ck-widget_selected {\n\t& > .ck-widget__resizer {\n\t\tdisplay: block;\n\t}\n}\n\n.ck .ck-widget__resizer__handle {\n\tposition: absolute;\n\n\t/* Resizers are the only UI elements that should interfere with a pointer device. */\n\tpointer-events: all;\n\n\t&.ck-widget__resizer__handle-top-left,\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tcursor: nwse-resize;\n\t}\n\n\t&.ck-widget__resizer__handle-top-right,\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tcursor: nesw-resize;\n\t}\n}\n","/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-resizer-size: 10px;\n\n\t/* Set the resizer with a 50% offset. */\n\t--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);\n\t--ck-resizer-border-width: 1px;\n}\n\n.ck .ck-widget__resizer {\n\toutline: 1px solid var(--ck-color-resizer);\n}\n\n.ck .ck-widget__resizer__handle {\n\twidth: var(--ck-resizer-size);\n\theight: var(--ck-resizer-size);\n\tbackground: var(--ck-color-focus-border);\n\tborder: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);\n\tborder-radius: var(--ck-resizer-border-radius);\n\n\t&.ck-widget__resizer__handle-top-left {\n\t\ttop: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-top-right {\n\t\ttop: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-right {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tright: var(--ck-resizer-offset);\n\t}\n\n\t&.ck-widget__resizer__handle-bottom-left {\n\t\tbottom: var(--ck-resizer-offset);\n\t\tleft: var(--ck-resizer-offset);\n\t}\n}\n"],sourceRoot:""}]);const a=s},8508:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(9372),o=n.n(i),r=n(935),s=n.n(r)()(o());s.push([e.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button svg{transition:none}}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}@media (prefers-reduced-motion:reduce){.ck .ck-widget .ck-widget__type-around__button:hover,.ck .ck-widget .ck-widget__type-around__button:hover svg line,.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:none}}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAwED,CAhEC,uCATD,+CAUE,eA+DF,CA9DC,CAEA,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAwBD,CAlBC,uCAPD,mDAQE,eAiBF,CAhBC,CAEA,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DA4BD,CAtBE,kEACC,oDACD,CAEA,8DACC,wDACD,CAGD,uCAQE,qLACC,cACD,CAEF,CASD,uKA7FD,SAAU,CACV,mBA8FC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAxKD,SAAU,CACV,mBAyKC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAxNF,SAAU,CACV,mBAyNE,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:['/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\toverflow: hidden;\n\t\tz-index: var(--ck-z-default);\n\n\t\t& svg {\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 50%;\n\t\t\tz-index: calc(var(--ck-z-default) + 2);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_before {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\ttop: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tleft: min(10%, 30px);\n\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\n\t\t&.ck-widget__type-around__button_after {\n\t\t\t/* Place it in the middle of the outline */\n\t\t\tbottom: calc(-0.5 * var(--ck-widget-outline-thickness));\n\t\t\tright: min(10%, 30px);\n\n\t\t\ttransform: translateY(50%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\t&::after {\n\t\t\tcontent: "";\n\t\t\tdisplay: block;\n\t\t\tposition: absolute;\n\t\t\ttop: 1px;\n\t\t\tleft: 1px;\n\t\t\tz-index: calc(var(--ck-z-default) + 1);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tdisplay: none;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\n\t/*\n\t * When the widget is hovered the "fake caret" would normally be narrower than the\n\t * extra outline displayed around the widget. Let\'s extend the "fake caret" to match\n\t * the full width of the widget.\n\t */\n\t&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tleft: calc( -1 * var(--ck-widget-outline-thickness) );\n\t\tright: calc( -1 * var(--ck-widget-outline-thickness) );\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\ttop: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).\n\t */\n\t&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {\n\t\tbottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );\n\t\tdisplay: block;\n\t}\n}\n\n/*\n * Integration with the read-only mode of the editor.\n */\n.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the restricted editing mode (feature) of the editor.\n */\n.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {\n\tdisplay: none;\n}\n\n/*\n * Integration with the #isEnabled property of the WidgetTypeAround plugin.\n */\n.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {\n\tdisplay: none;\n}\n','/*\n * Copyright (c) 2003-2024, CKSource Holding sp. z o.o. All rights reserved.\n * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license\n */\n\n:root {\n\t--ck-widget-type-around-button-size: 20px;\n\t--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);\n\t--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);\n\t--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);\n\t--ck-color-widget-type-around-button-radar-start-alpha: 0;\n\t--ck-color-widget-type-around-button-radar-end-alpha: .3;\n\t--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);\n}\n\n@define-mixin ck-widget-type-around-button-visible {\n\topacity: 1;\n\tpointer-events: auto;\n}\n\n@define-mixin ck-widget-type-around-button-hidden {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n.ck .ck-widget {\n\t/*\n\t * Styles of the type around buttons\n\t */\n\t& .ck-widget__type-around__button {\n\t\twidth: var(--ck-widget-type-around-button-size);\n\t\theight: var(--ck-widget-type-around-button-size);\n\t\tbackground: var(--ck-color-widget-type-around-button);\n\t\tborder-radius: 100px;\n\t\ttransition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);\n\n\t\t@mixin ck-widget-type-around-button-hidden;\n\n\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\ttransition: none;\n\t\t}\n\n\t\t& svg {\n\t\t\twidth: 10px;\n\t\t\theight: 8px;\n\t\t\ttransform: translate(-50%,-50%);\n\t\t\ttransition: transform .5s ease;\n\t\t\tmargin-top: 1px;\n\n\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\ttransition: none;\n\t\t\t}\n\n\t\t\t& * {\n\t\t\t\tstroke-dasharray: 10;\n\t\t\t\tstroke-dashoffset: 0;\n\n\t\t\t\tfill: none;\n\t\t\t\tstroke: var(--ck-color-widget-type-around-button-icon);\n\t\t\t\tstroke-width: 1.5px;\n\t\t\t\tstroke-linecap: round;\n\t\t\t\tstroke-linejoin: round;\n\t\t\t}\n\n\t\t\t& line {\n\t\t\t\tstroke-dasharray: 7;\n\t\t\t}\n\t\t}\n\n\t\t&:hover {\n\t\t\t/*\n\t\t\t * Display the "sonar" around the button when hovered.\n\t\t\t */\n\t\t\tanimation: ck-widget-type-around-button-sonar 1s ease infinite;\n\n\t\t\t/*\n\t\t\t * Animate active button\'s icon.\n\t\t\t */\n\t\t\t& svg {\n\t\t\t\t& polyline {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-dash 2s linear;\n\t\t\t\t}\n\n\t\t\t\t& line {\n\t\t\t\t\tanimation: ck-widget-type-around-arrow-tip-dash 2s linear;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t@media (prefers-reduced-motion: reduce) {\n\t\t\t\tanimation: none;\n\n\t\t\t\t& svg {\n\t\t\t\t\t& polyline {\n\t\t\t\t\t\tanimation: none;\n\t\t\t\t\t}\n\n\t\t\t\t\t& line {\n\t\t\t\t\t\tanimation: none;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/*\n\t * Show type around buttons when the widget gets selected or being hovered.\n\t */\n\t&.ck-widget_selected,\n\t&:hover {\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-visible;\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the buttons when the widget is NOT selected (but the buttons are visible\n\t * and still can be hovered).\n\t */\n\t&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\tbackground: var(--ck-color-widget-type-around-button-hover);\n\t}\n\n\t/*\n\t * Styles for the buttons when:\n\t * - the widget is selected,\n\t * - or the button is being hovered (regardless of the widget state).\n\t */\n\t&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,\n\t& > .ck-widget__type-around > .ck-widget__type-around__button:hover {\n\t\tbackground: var(--ck-color-widget-type-around-button-active);\n\n\t\t&::after {\n\t\t\twidth: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\theight: calc(var(--ck-widget-type-around-button-size) - 2px);\n\t\t\tborder-radius: 100px;\n\t\t\tbackground: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);\n\t\t}\n\t}\n\n\t/*\n\t * Styles for the "before" button when the widget has a selection handle. Because some space\n\t * is consumed by the handle, the button must be moved slightly to the right to let it breathe.\n\t */\n\t&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {\n\t\tmargin-left: 20px;\n\t}\n\n\t/*\n\t * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.\n\t */\n\t& .ck-widget__type-around__fake-caret {\n\t\tpointer-events: none;\n\t\theight: 1px;\n\t\tanimation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;\n\n\t\t/*\n\t\t * The semi-transparent-outline+background combo improves the contrast\n\t\t * when the background underneath the fake caret is dark.\n\t\t */\n\t\toutline: solid 1px hsla(0, 0%, 100%, .5);\n\t\tbackground: var(--ck-color-base-text);\n\t}\n\n\t/*\n\t * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t * Despite the widget being physically selected in the model, its outline should disappear.\n\t */\n\t&.ck-widget_selected {\n\t\t&.ck-widget_type-around_show-fake-caret_before,\n\t\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t\toutline-color: transparent;\n\t\t}\n\t}\n\n\t&.ck-widget_type-around_show-fake-caret_before,\n\t&.ck-widget_type-around_show-fake-caret_after {\n\t\t/*\n\t\t * When the "fake caret" is visible we simulate that the widget is not selected\n\t\t * (despite being physically selected), so the outline color should be for the\n\t\t * unselected widget.\n\t\t */\n\t\t&.ck-widget_selected:hover {\n\t\t\toutline-color: var(--ck-color-widget-hover-border);\n\t\t}\n\n\t\t/*\n\t\t * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).\n\t\t * In this state, the type around buttons would collide with the fake carets so they should disappear.\n\t\t */\n\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the selection handle. When the caret is visible, simply\n\t\t * hide the handle because it intersects with the caret (and does not make much sense anyway).\n\t\t */\n\t\t&.ck-widget_with-selection-handle {\n\t\t\t&.ck-widget_selected,\n\t\t\t&.ck-widget_selected:hover {\n\t\t\t\t& > .ck-widget__selection-handle {\n\t\t\t\t\topacity: 0\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/*\n\t\t * Fake horizontal caret integration with the resize UI. When the caret is visible, simply\n\t\t * hide the resize UI because it creates too much noise. It can be visible when the user\n\t\t * hovers the widget, though.\n\t\t */\n\t\t&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {\n\t\t\topacity: 0\n\t\t}\n\t}\n}\n\n/*\n * Styles for the "before" button when the widget has a selection handle in an RTL environment.\n * The selection handler is aligned to the right side of the widget so there is no need to create\n * additional space for it next to the "before" button.\n */\n.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {\n\tmargin-left: 0;\n\tmargin-right: 20px;\n}\n\n/*\n * Hide type around buttons when the widget is selected as a child of a selected\n * nested editable (e.g. mulit-cell table selection).\n *\n * See https://github.com/ckeditor/ckeditor5/issues/7263.\n */\n.ck-editor__nested-editable.ck-editor__editable_selected {\n\t& .ck-widget {\n\t\t&.ck-widget_selected,\n\t\t&:hover {\n\t\t\t& > .ck-widget__type-around > .ck-widget__type-around__button {\n\t\t\t\t@mixin ck-widget-type-around-button-hidden;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/*\n * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).\n */\n.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {\n\tbackground: var(--ck-color-widget-type-around-button-blurred-editable);\n\n\t& svg * {\n\t\tstroke: hsl(0,0%,60%);\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-dash {\n\t0% {\n\t\tstroke-dashoffset: 10;\n\t}\n\t20%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-arrow-tip-dash {\n\t0%, 20% {\n\t\tstroke-dashoffset: 7;\n\t}\n\t40%, 100% {\n\t\tstroke-dashoffset: 0;\n\t}\n}\n\n@keyframes ck-widget-type-around-button-sonar {\n\t0% {\n\t\tbox-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n\t50% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));\n\t}\n\t100% {\n\t\tbox-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));\n\t}\n}\n\n@keyframes ck-widget-type-around-fake-caret-pulse {\n\t0% {\n\t\topacity: 1;\n\t}\n\t49% {\n\t\topacity: 1;\n\t}\n\t50% {\n\t\topacity: 0;\n\t}\n\t99% {\n\t\topacity: 0;\n\t}\n\t100% {\n\t\topacity: 1;\n\t}\n}\n'],sourceRoot:""}]);const a=s},935:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(i)for(var r=0;r<this.length;r++){var s=this[r][0];null!=s&&(o[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);i&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},9372:e=>{"use strict";function t(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var i,o,r=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(r.push(i.value),!t||r.length!==t);s=!0);}catch(e){a=!0,o=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}e.exports=function(e){var n=t(e,4),i=n[1],o=n[3];if(!o)return i;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),a="/*# ".concat(s," */"),l=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[i].concat(l).concat([a]).join("\n")}return[i].join("\n")}},2591:(e,t,n)=>{"use strict";var i,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),r=[];function s(e){for(var t=-1,n=0;n<r.length;n++)if(r[n].identifier===e){t=n;break}return t}function a(e,t){for(var n={},i=[],o=0;o<e.length;o++){var a=e[o],l=t.base?a[0]+t.base:a[0],c=n[l]||0,d="".concat(l," ").concat(c);n[l]=c+1;var u=s(d),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==u?(r[u].references++,r[u].updater(p)):r.push({identifier:d,updater:m(p,t),references:1}),i.push(d)}return i}function l(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var s=o(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function u(e,t,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var r=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(r,s[t]):e.appendChild(r)}}function p(e,t,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var h=null,g=0;function m(e,t){var n,i,o;if(t.singleton){var r=g++;n=h||(h=l(t)),i=u.bind(null,n,r,!1),o=u.bind(null,n,r,!0)}else n=l(t),i=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=a(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var o=s(n[i]);r[o].references--}for(var l=a(e,t),c=0;c<n.length;c++){var d=s(n[c]);0===r[d].references&&(r[d].updater(),r.splice(d,1))}n=l}}}}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={id:e,exports:{}};return i[e](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.nc=void 0;var s={};return(()=>{"use strict";let i;r.d(s,{default:()=>ZS});try{i={window:window,document:document}}catch(o){i={window:{},document:{}}}const o=i,a=function(){try{return navigator.userAgent.toLowerCase()}catch(i){return""}}();var l;const c={isMac:d(a),isWindows:(l=a,l.indexOf("windows")>-1),isGecko:function(e){return!!e.match(/gecko\/\d+/)}(a),isSafari:function(e){return e.indexOf(" applewebkit/")>-1&&-1===e.indexOf("chrome")}(a),isiOS:function(e){return!!e.match(/iphone|ipad/i)||d(e)&&navigator.maxTouchPoints>0}(a),isAndroid:function(e){return e.indexOf("android")>-1}(a),isBlink:function(e){return e.indexOf("chrome/")>-1&&e.indexOf("edge/")<0}(a),get isMediaForcedColors(){return!!o.window.matchMedia&&o.window.matchMedia("(forced-colors: active)").matches},get isMotionReduced(){return!!o.window.matchMedia&&o.window.matchMedia("(prefers-reduced-motion)").matches},features:{isRegExpUnicodePropertySupported:function(){let e=!1;try{e=0==="\u0107".search(new RegExp("[\\p{L}]","u"))}catch(e){}return e}()}};function d(e){return e.indexOf("macintosh")>-1}function u(e,t,n,i){n=n||function(e,t){return e===t};const o=Array.isArray(e)?e:Array.prototype.slice.call(e),r=Array.isArray(t)?t:Array.prototype.slice.call(t),s=function(e,t,n){const i=p(e,t,n);if(-1===i)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const o=p(h(e,i),h(t,i),n);return{firstIndex:i,lastIndexOld:e.length-o,lastIndexNew:t.length-o}}(o,r,n),a=i?function(e,t){const{firstIndex:n,lastIndexOld:i,lastIndexNew:o}=e;if(-1===n)return Array(t).fill("equal");let r=[];return n>0&&(r=r.concat(Array(n).fill("equal"))),o-n>0&&(r=r.concat(Array(o-n).fill("insert"))),i-n>0&&(r=r.concat(Array(i-n).fill("delete"))),o<t&&(r=r.concat(Array(t-o).fill("equal"))),r}(s,r.length):function(e,t){const n=[],{firstIndex:i,lastIndexOld:o,lastIndexNew:r}=t;return r-i>0&&n.push({index:i,type:"insert",values:e.slice(i,r)}),o-i>0&&n.push({index:i+(r-i),type:"delete",howMany:o-i}),n}(r,s);return a}function p(e,t,n){for(let i=0;i<Math.max(e.length,t.length);i++)if(void 0===e[i]||void 0===t[i]||!n(e[i],t[i]))return i;return-1}function h(e,t){return e.slice(t).reverse()}function g(e,t,n){n=n||function(e,t){return e===t};const i=e.length,o=t.length;if(i>200||o>200||i+o>300)return g.fastDiff(e,t,n,!0);let r,s;if(o<i){const n=e;e=t,t=n,r="delete",s="insert"}else r="insert",s="delete";const a=e.length,l=t.length,c=l-a,d={},u={};function p(i){const o=(void 0!==u[i-1]?u[i-1]:-1)+1,c=void 0!==u[i+1]?u[i+1]:-1,p=o>c?-1:1;d[i+p]&&(d[i]=d[i+p].slice(0)),d[i]||(d[i]=[]),d[i].push(o>c?r:s);let h=Math.max(o,c),g=h-i;for(;g<a&&h<l&&n(e[g],t[h]);)g++,h++,d[i].push("equal");return h}let h,m=0;do{for(h=-m;h<c;h++)u[h]=p(h);for(h=c+m;h>c;h--)u[h]=p(h);u[c]=p(c),m++}while(u[c]!==l);return d[c].slice(1)}g.fastDiff=u;class m{constructor(e,t){this.source=e,this.name=t,this.path=[],this.stop=function e(){e.called=!0},this.off=function e(){e.called=!0}}}const f=new Array(256).fill("").map(((e,t)=>("0"+t.toString(16)).slice(-2)));function b(){const e=4294967296*Math.random()>>>0,t=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0;return"e"+f[255&e]+f[e>>8&255]+f[e>>16&255]+f[e>>24&255]+f[255&t]+f[t>>8&255]+f[t>>16&255]+f[t>>24&255]+f[255&n]+f[n>>8&255]+f[n>>16&255]+f[n>>24&255]+f[255&i]+f[i>>8&255]+f[i>>16&255]+f[i>>24&255]}const y={get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"normal";return"number"!=typeof e?this[e]||this.normal:e},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function w(e,t){const n=y.get(t.priority);for(let i=0;i<e.length;i++)if(y.get(e[i].priority)<n)return void e.splice(i,0,t);e.push(t)}class v extends Error{constructor(e,t,n){super(function(e,t){const n=new WeakSet,i=t?` ${JSON.stringify(t,((e,t)=>{if("object"==typeof t&&null!==t){if(n.has(t))return`[object ${t.constructor.name}]`;n.add(t)}return t}))}`:"";return e+i+x(e)}(e,n)),this.name="CKEditorError",this.context=t,this.data=n}is(e){return"CKEditorError"===e}static rethrowUnexpectedError(e,t){if(e.is&&e.is("CKEditorError"))throw e;const n=new v(e.message,t);throw n.stack=e.stack,n}}function k(e,t){console.warn(...A(e,t))}function _(e,t){console.error(...A(e,t))}function x(e){return`\nRead more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${e}`}function A(e,t){const n=x(e);return t?[e,t,n]:[e,n]}const C=new Date(2024,4,17);if(globalThis.CKEDITOR_VERSION)throw new v("ckeditor-duplicated-modules",null);globalThis.CKEDITOR_VERSION="41.4.2";const S=Symbol("listeningTo"),I=Symbol("emitterId"),T=Symbol("delegations"),E=D(Object);function D(e){return e?class extends e{on(e,t,n){this.listenTo(this,e,t,n)}once(e,t,n){var i=this;let o=!1;this.listenTo(this,e,(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];o||(o=!0,e.off(),t.call(i,e,...r))}),n)}off(e,t){this.stopListening(this,e,t)}listenTo(e,t,n){let i,o,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this[S]||(this[S]={});const s=this[S];P(e)||M(e);const a=P(e);(i=s[a])||(i=s[a]={emitter:e,callbacks:{}}),(o=i.callbacks[t])||(o=i.callbacks[t]=[]),o.push(n),function(e,t,n,i,o){t._addEventListener?t._addEventListener(n,i,o):e._addEventListener.call(t,n,i,o)}(this,e,t,n,r)}stopListening(e,t,n){const i=this[S];let o=e&&P(e);const r=i&&o?i[o]:void 0,s=r&&t?r.callbacks[t]:void 0;if(!(!i||e&&!r||t&&!s))if(n)z(this,e,t,n),-1!==s.indexOf(n)&&(1===s.length?delete r.callbacks[t]:z(this,e,t,n));else if(s){for(;n=s.pop();)z(this,e,t,n);delete r.callbacks[t]}else if(r){for(t in r.callbacks)this.stopListening(e,t);delete i[o]}else{for(o in i)this.stopListening(i[o].emitter);delete this[S]}}fire(e){try{const o=e instanceof m?e:new m(this,e),r=o.name;let s=j(this,r);for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(o.path.push(this),s){const e=[o,...n];s=Array.from(s);for(let t=0;t<s.length&&(s[t].callback.apply(this,e),o.off.called&&(delete o.off.called,this._removeEventListener(r,s[t].callback)),!o.stop.called);t++);}const a=this[T];if(a){const e=a.get(r),t=a.get("*");e&&L(e,o,n),t&&L(t,o,n)}return o.return}catch(e){v.rethrowUnexpectedError(e,this)}}delegate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{to:(e,n)=>{this[T]||(this[T]=new Map),t.forEach((t=>{const i=this[T].get(t);i?i.set(e,n):this[T].set(t,new Map([[e,n]]))}))}}}stopDelegating(e,t){if(this[T])if(e)if(t){const n=this[T].get(e);n&&n.delete(t)}else this[T].delete(e);else this[T].clear()}_addEventListener(e,t,n){!function(e,t){const n=R(e);if(n[t])return;let i=t,o=null;const r=[];for(;""!==i&&!n[i];)n[i]={callbacks:[],childEvents:[]},r.push(n[i]),o&&n[i].childEvents.push(o),o=i,i=i.substr(0,i.lastIndexOf(":"));if(""!==i){for(const e of r)e.callbacks=n[i].callbacks.slice();n[i].childEvents.push(o)}}(this,e);const i=B(this,e),o={callback:t,priority:y.get(n.priority)};for(const r of i)w(r,o)}_removeEventListener(e,t){const n=B(this,e);for(const i of n)for(let e=0;e<i.length;e++)i[e].callback==t&&(i.splice(e,1),e--)}}:E}function M(e,t){e[I]||(e[I]=t||b())}function P(e){return e[I]}function R(e){return e._events||Object.defineProperty(e,"_events",{value:{}}),e._events}function B(e,t){const n=R(e)[t];if(!n)return[];let i=[n.callbacks];for(let o=0;o<n.childEvents.length;o++){const t=B(e,n.childEvents[o]);i=i.concat(t)}return i}function j(e,t){let n;return e._events&&(n=e._events[t])&&n.callbacks.length?n.callbacks:t.indexOf(":")>-1?j(e,t.substr(0,t.lastIndexOf(":"))):null}function L(e,t,n){for(let[i,o]of e){o?"function"==typeof o&&(o=o(t.name)):o=t.name;const e=new m(t.source,o);e.path=[...t.path],i.fire(e,...n)}}function z(e,t,n,i){t._removeEventListener?t._removeEventListener(n,i):e._removeEventListener.call(t,n,i)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{D[e]=E.prototype[e]}));const O=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},N=Symbol("observableProperties"),F=Symbol("boundObservables"),V=Symbol("boundProperties"),H=Symbol("decoratedMethods"),W=Symbol("decoratedOriginal"),U=q(D());function q(e){return e?class extends e{set(e,t){if(O(e))return void Object.keys(e).forEach((t=>{this.set(t,e[t])}),this);$(this);const n=this[N];if(e in this&&!n.has(e))throw new v("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>n.get(e),set(t){const i=n.get(e);let o=this.fire(`set:${e}`,e,t,i);void 0===o&&(o=t),i===o&&n.has(e)||(n.set(e,o),this.fire(`change:${e}`,e,o,i))}}),this[e]=t}bind(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length||!Y(t))throw new v("observable-bind-wrong-properties",this);if(new Set(t).size!==t.length)throw new v("observable-bind-duplicate-properties",this);$(this);const i=this[V];t.forEach((e=>{if(i.has(e))throw new v("observable-bind-rebind",this)}));const o=new Map;return t.forEach((e=>{const t={property:e,to:[]};i.set(e,t),o.set(e,t)})),{to:G,toMany:K,_observable:this,_bindProperties:t,_to:[],_bindings:o}}unbind(){if(!this[N])return;const e=this[V],t=this[F];for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];if(i.length){if(!Y(i))throw new v("observable-unbind-wrong-properties",this);i.forEach((n=>{const i=e.get(n);i&&(i.to.forEach((e=>{let[n,o]=e;const r=t.get(n),s=r[o];s.delete(i),s.size||delete r[o],Object.keys(r).length||(t.delete(n),this.stopListening(n,"change"))})),e.delete(n))}))}else t.forEach(((e,t)=>{this.stopListening(t,"change")})),t.clear(),e.clear()}decorate(e){$(this);const t=this[e];if(!t)throw new v("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,((e,n)=>{e.return=t.apply(this,n)})),this[e]=function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return this.fire(e,n)},this[e][W]=t,this[H]||(this[H]=[]),this[H].push(e)}stopListening(e,t,n){if(!e&&this[H]){for(const e of this[H])this[e]=this[e][W];delete this[H]}super.stopListening(e,t,n)}}:U}function $(e){e[N]||(Object.defineProperty(e,N,{value:new Map}),Object.defineProperty(e,F,{value:new Map}),Object.defineProperty(e,V,{value:new Map}))}function G(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)throw new v("observable-bind-to-parse-error",null);const i={to:[]};let o;return"function"==typeof t[t.length-1]&&(i.callback=t.pop()),t.forEach((e=>{if("string"==typeof e)o.properties.push(e);else{if("object"!=typeof e)throw new v("observable-bind-to-parse-error",null);o={observable:e,properties:[]},i.to.push(o)}})),i}(...arguments),t=Array.from(this._bindings.keys()),n=t.length;if(!e.callback&&e.to.length>1)throw new v("observable-bind-to-no-callback",this);if(n>1&&e.callback)throw new v("observable-bind-to-extra-callback",this);var i;e.to.forEach((e=>{if(e.properties.length&&e.properties.length!==n)throw new v("observable-bind-to-properties-length",this);e.properties.length||(e.properties=this._bindProperties)})),this._to=e.to,e.callback&&(this._bindings.get(t[0]).callback=e.callback),i=this._observable,this._to.forEach((e=>{const t=i[F];let n;t.get(e.observable)||i.listenTo(e.observable,"change",((o,r)=>{n=t.get(e.observable)[r],n&&n.forEach((e=>{Q(i,e.property)}))}))})),function(e){let t;e._bindings.forEach(((n,i)=>{e._to.forEach((o=>{t=o.properties[n.callback?0:e._bindProperties.indexOf(i)],n.to.push([o.observable,t]),function(e,t,n,i){const o=e[F],r=o.get(n),s=r||{};s[i]||(s[i]=new Set),s[i].add(t),r||o.set(n,s)}(e._observable,n,o.observable,t)}))}))}(this),this._bindProperties.forEach((e=>{Q(this._observable,e)}))}function K(e,t,n){if(this._bindings.size>1)throw new v("observable-bind-to-many-not-one-binding",this);this.to(...function(e,t){const n=e.map((e=>[e,t]));return Array.prototype.concat.apply([],n)}(e,t),n)}function Y(e){return e.every((e=>"string"==typeof e))}function Q(e,t){const n=e[V].get(t);let i;n.callback?i=n.callback.apply(e,n.to.map((e=>e[0][e[1]]))):(i=n.to[0],i=i[0][i[1]]),Object.prototype.hasOwnProperty.call(e,t)?e[t]=i:e.set(t,i)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{q[e]=U.prototype[e]}));class Z{constructor(){this._replacedElements=[]}replace(e,t){this._replacedElements.push({element:e,newElement:t}),e.style.display="none",t&&e.parentNode.insertBefore(t,e.nextSibling)}restore(){this._replacedElements.forEach((e=>{let{element:t,newElement:n}=e;t.style.display="",n&&n.remove()})),this._replacedElements=[]}}function X(e){let t=0;for(const n of e)t++;return t}function J(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++)if(e[i]!=t[i])return i;return e.length==t.length?"same":e.length<t.length?"prefix":"extension"}function ee(e){return!(!e||!e[Symbol.iterator])}const te="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;var ne="object"==typeof self&&self&&self.Object===Object&&self;const ie=te||ne||Function("return this")(),oe=ie.Symbol;var re=Object.prototype,se=re.hasOwnProperty,ae=re.toString,le=oe?oe.toStringTag:void 0,ce=Object.prototype.toString,de=oe?oe.toStringTag:void 0;const ue=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":de&&de in Object(e)?function(e){var t=se.call(e,le),n=e[le];try{e[le]=void 0;var i=!0}catch(e){}var o=ae.call(e);return i&&(t?e[le]=n:delete e[le]),o}(e):function(e){return ce.call(e)}(e)},pe=Array.isArray,he=function(e){return null!=e&&"object"==typeof e},ge=function(e){return"string"==typeof e||!pe(e)&&he(e)&&"[object String]"==ue(e)};function me(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];const o=n&&n.xmlns,r=o?e.createElementNS(o,t):e.createElement(t);for(const s in n)r.setAttribute(s,n[s]);!ge(i)&&ee(i)||(i=[i]);for(let s of i)ge(s)&&(s=e.createTextNode(s)),r.appendChild(s);return r}const fe=function(e,t){return function(n){return e(t(n))}},be=fe(Object.getPrototypeOf,Object);var ye=Function.prototype,we=Object.prototype,ve=ye.toString,ke=we.hasOwnProperty,_e=ve.call(Object);const xe=function(e){if(!he(e)||"[object Object]"!=ue(e))return!1;var t=be(e);if(null===t)return!0;var n=ke.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&ve.call(n)==_e},Ae=function(e,t){return e===t||e!=e&&t!=t},Ce=function(e,t){for(var n=e.length;n--;)if(Ae(e[n][0],t))return n;return-1};var Se=Array.prototype.splice;function Ie(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ie.prototype.clear=function(){this.__data__=[],this.size=0},Ie.prototype.delete=function(e){var t=this.__data__,n=Ce(t,e);return!(n<0)&&(n==t.length-1?t.pop():Se.call(t,n,1),--this.size,!0)},Ie.prototype.get=function(e){var t=this.__data__,n=Ce(t,e);return n<0?void 0:t[n][1]},Ie.prototype.has=function(e){return Ce(this.__data__,e)>-1},Ie.prototype.set=function(e,t){var n=this.__data__,i=Ce(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this};const Te=Ie,Ee=function(e){if(!O(e))return!1;var t=ue(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},De=ie["__core-js_shared__"];var Me=function(){var e=/[^.]+$/.exec(De&&De.keys&&De.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Pe=Function.prototype.toString;const Re=function(e){if(null!=e){try{return Pe.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var Be=/^\[object .+?Constructor\]$/,je=Function.prototype,Le=Object.prototype,ze=je.toString,Oe=Le.hasOwnProperty,Ne=RegExp("^"+ze.call(Oe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Fe=function(e){return!(!O(e)||function(e){return!!Me&&Me in e}(e))&&(Ee(e)?Ne:Be).test(Re(e))},Ve=function(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Fe(n)?n:void 0},He=Ve(ie,"Map"),We=Ve(Object,"create");var Ue=Object.prototype.hasOwnProperty,qe=Object.prototype.hasOwnProperty;function $e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}$e.prototype.clear=function(){this.__data__=We?We(null):{},this.size=0},$e.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$e.prototype.get=function(e){var t=this.__data__;if(We){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Ue.call(t,e)?t[e]:void 0},$e.prototype.has=function(e){var t=this.__data__;return We?void 0!==t[e]:qe.call(t,e)},$e.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=We&&void 0===t?"__lodash_hash_undefined__":t,this};const Ge=$e,Ke=function(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map};function Ye(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Ye.prototype.clear=function(){this.size=0,this.__data__={hash:new Ge,map:new(He||Te),string:new Ge}},Ye.prototype.delete=function(e){var t=Ke(this,e).delete(e);return this.size-=t?1:0,t},Ye.prototype.get=function(e){return Ke(this,e).get(e)},Ye.prototype.has=function(e){return Ke(this,e).has(e)},Ye.prototype.set=function(e,t){var n=Ke(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this};const Qe=Ye;function Ze(e){var t=this.__data__=new Te(e);this.size=t.size}Ze.prototype.clear=function(){this.__data__=new Te,this.size=0},Ze.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ze.prototype.get=function(e){return this.__data__.get(e)},Ze.prototype.has=function(e){return this.__data__.has(e)},Ze.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Te){var i=n.__data__;if(!He||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Qe(i)}return n.set(e,t),this.size=n.size,this};const Xe=Ze,Je=function(){try{var e=Ve(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),et=function(e,t,n){"__proto__"==t&&Je?Je(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var tt=Object.prototype.hasOwnProperty;const nt=function(e,t,n){var i=e[t];tt.call(e,t)&&Ae(i,n)&&(void 0!==n||t in e)||et(e,t,n)},it=function(e,t,n,i){var o=!n;n||(n={});for(var r=-1,s=t.length;++r<s;){var a=t[r],l=i?i(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),o?et(n,a,l):nt(n,a,l)}return n},ot=function(e){return he(e)&&"[object Arguments]"==ue(e)};var rt=Object.prototype,st=rt.hasOwnProperty,at=rt.propertyIsEnumerable;const lt=ot(function(){return arguments}())?ot:function(e){return he(e)&&st.call(e,"callee")&&!at.call(e,"callee")};var ct=t&&!t.nodeType&&t,dt=ct&&e&&!e.nodeType&&e,ut=dt&&dt.exports===ct?ie.Buffer:void 0;const pt=(ut?ut.isBuffer:void 0)||function(){return!1};var ht=/^(?:0|[1-9]\d*)$/;const gt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ht.test(e))&&e>-1&&e%1==0&&e<t},mt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var ft={};ft["[object Float32Array]"]=ft["[object Float64Array]"]=ft["[object Int8Array]"]=ft["[object Int16Array]"]=ft["[object Int32Array]"]=ft["[object Uint8Array]"]=ft["[object Uint8ClampedArray]"]=ft["[object Uint16Array]"]=ft["[object Uint32Array]"]=!0,ft["[object Arguments]"]=ft["[object Array]"]=ft["[object ArrayBuffer]"]=ft["[object Boolean]"]=ft["[object DataView]"]=ft["[object Date]"]=ft["[object Error]"]=ft["[object Function]"]=ft["[object Map]"]=ft["[object Number]"]=ft["[object Object]"]=ft["[object RegExp]"]=ft["[object Set]"]=ft["[object String]"]=ft["[object WeakMap]"]=!1;const bt=function(e){return function(t){return e(t)}};var yt=t&&!t.nodeType&&t,wt=yt&&e&&!e.nodeType&&e,vt=wt&&wt.exports===yt&&te.process;const kt=function(){try{return wt&&wt.require&&wt.require("util").types||vt&&vt.binding&&vt.binding("util")}catch(i){}}();var _t=kt&&kt.isTypedArray;const xt=_t?bt(_t):function(e){return he(e)&&mt(e.length)&&!!ft[ue(e)]};var At=Object.prototype.hasOwnProperty;const Ct=function(e,t){var n=pe(e),i=!n&&lt(e),o=!n&&!i&&pt(e),r=!n&&!i&&!o&&xt(e),s=n||i||o||r,a=s?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var c in e)!t&&!At.call(e,c)||s&&("length"==c||o&&("offset"==c||"parent"==c)||r&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||gt(c,l))||a.push(c);return a};var St=Object.prototype;const It=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||St)},Tt=fe(Object.keys,Object);var Et=Object.prototype.hasOwnProperty;const Dt=function(e){return null!=e&&mt(e.length)&&!Ee(e)},Mt=function(e){return Dt(e)?Ct(e):function(e){if(!It(e))return Tt(e);var t=[];for(var n in Object(e))Et.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)};var Pt=Object.prototype.hasOwnProperty;const Rt=function(e){if(!O(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=It(e),n=[];for(var i in e)("constructor"!=i||!t&&Pt.call(e,i))&&n.push(i);return n},Bt=function(e){return Dt(e)?Ct(e,!0):Rt(e)};var jt=t&&!t.nodeType&&t,Lt=jt&&e&&!e.nodeType&&e,zt=Lt&&Lt.exports===jt?ie.Buffer:void 0,Ot=zt?zt.allocUnsafe:void 0;const Nt=function(e,t){if(t)return e.slice();var n=e.length,i=Ot?Ot(n):new e.constructor(n);return e.copy(i),i},Ft=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t},Vt=function(){return[]};var Ht=Object.prototype.propertyIsEnumerable,Wt=Object.getOwnPropertySymbols;const Ut=Wt?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,o=0,r=[];++n<i;){var s=e[n];t(s,n,e)&&(r[o++]=s)}return r}(Wt(e),(function(t){return Ht.call(e,t)})))}:Vt,qt=function(e,t){for(var n=-1,i=t.length,o=e.length;++n<i;)e[o+n]=t[n];return e},$t=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)qt(t,Ut(e)),e=be(e);return t}:Vt,Gt=function(e,t,n){var i=t(e);return pe(e)?i:qt(i,n(e))},Kt=function(e){return Gt(e,Mt,Ut)},Yt=function(e){return Gt(e,Bt,$t)},Qt=Ve(ie,"DataView"),Zt=Ve(ie,"Promise"),Xt=Ve(ie,"Set"),Jt=Ve(ie,"WeakMap");var en="[object Map]",tn="[object Promise]",nn="[object Set]",on="[object WeakMap]",rn="[object DataView]",sn=Re(Qt),an=Re(He),ln=Re(Zt),cn=Re(Xt),dn=Re(Jt),un=ue;(Qt&&un(new Qt(new ArrayBuffer(1)))!=rn||He&&un(new He)!=en||Zt&&un(Zt.resolve())!=tn||Xt&&un(new Xt)!=nn||Jt&&un(new Jt)!=on)&&(un=function(e){var t=ue(e),n="[object Object]"==t?e.constructor:void 0,i=n?Re(n):"";if(i)switch(i){case sn:return rn;case an:return en;case ln:return tn;case cn:return nn;case dn:return on}return t});const pn=un;var hn=Object.prototype.hasOwnProperty;const gn=ie.Uint8Array,mn=function(e){var t=new e.constructor(e.byteLength);return new gn(t).set(new gn(e)),t};var fn=/\w*$/,bn=oe?oe.prototype:void 0,yn=bn?bn.valueOf:void 0;const wn=function(e,t){var n=t?mn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},vn=function(e,t,n){var i=e.constructor;switch(t){case"[object ArrayBuffer]":return mn(e);case"[object Boolean]":case"[object Date]":return new i(+e);case"[object DataView]":return function(e,t){var n=t?mn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return wn(e,n);case"[object Map]":case"[object Set]":return new i;case"[object Number]":case"[object String]":return new i(e);case"[object RegExp]":return function(e){var t=new e.constructor(e.source,fn.exec(e));return t.lastIndex=e.lastIndex,t}(e);case"[object Symbol]":return function(e){return yn?Object(yn.call(e)):{}}(e)}};var kn=Object.create;const _n=function(){function e(){}return function(t){if(!O(t))return{};if(kn)return kn(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),xn=function(e){return"function"!=typeof e.constructor||It(e)?{}:_n(be(e))};var An=kt&&kt.isMap;const Cn=An?bt(An):function(e){return he(e)&&"[object Map]"==pn(e)};var Sn=kt&&kt.isSet;const In=Sn?bt(Sn):function(e){return he(e)&&"[object Set]"==pn(e)};var Tn="[object Arguments]",En="[object Function]",Dn="[object Object]",Mn={};Mn[Tn]=Mn["[object Array]"]=Mn["[object ArrayBuffer]"]=Mn["[object DataView]"]=Mn["[object Boolean]"]=Mn["[object Date]"]=Mn["[object Float32Array]"]=Mn["[object Float64Array]"]=Mn["[object Int8Array]"]=Mn["[object Int16Array]"]=Mn["[object Int32Array]"]=Mn["[object Map]"]=Mn["[object Number]"]=Mn[Dn]=Mn["[object RegExp]"]=Mn["[object Set]"]=Mn["[object String]"]=Mn["[object Symbol]"]=Mn["[object Uint8Array]"]=Mn["[object Uint8ClampedArray]"]=Mn["[object Uint16Array]"]=Mn["[object Uint32Array]"]=!0,Mn["[object Error]"]=Mn[En]=Mn["[object WeakMap]"]=!1;const Pn=function e(t,n,i,o,r,s){var a,l=1&n,c=2&n,d=4&n;if(i&&(a=r?i(t,o,r,s):i(t)),void 0!==a)return a;if(!O(t))return t;var u=pe(t);if(u){if(a=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&hn.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(t),!l)return Ft(t,a)}else{var p=pn(t),h=p==En||"[object GeneratorFunction]"==p;if(pt(t))return Nt(t,l);if(p==Dn||p==Tn||h&&!r){if(a=c||h?{}:xn(t),!l)return c?function(e,t){return it(e,$t(e),t)}(t,function(e,t){return e&&it(t,Bt(t),e)}(a,t)):function(e,t){return it(e,Ut(e),t)}(t,function(e,t){return e&&it(t,Mt(t),e)}(a,t))}else{if(!Mn[p])return r?t:{};a=vn(t,p,l)}}s||(s=new Xe);var g=s.get(t);if(g)return g;s.set(t,a),In(t)?t.forEach((function(o){a.add(e(o,n,i,o,t,s))})):Cn(t)&&t.forEach((function(o,r){a.set(r,e(o,n,i,r,t,s))}));var m=u?void 0:(d?c?Yt:Kt:c?Bt:Mt)(t);return function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););}(m||t,(function(o,r){m&&(o=t[r=o]),nt(a,r,e(o,n,i,r,t,s))})),a},Rn=function(e,t){return Pn(e,5,t="function"==typeof t?t:void 0)},Bn=function(e){return he(e)&&1===e.nodeType&&!xe(e)};class jn{constructor(e,t){this._config={},t&&this.define(Ln(t)),e&&this._setObjectToTarget(this._config,e)}set(e,t){this._setToTarget(this._config,e,t)}define(e,t){this._setToTarget(this._config,e,t,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(xe(t))return void this._setObjectToTarget(e,t,i);const o=t.split(".");t=o.pop();for(const r of o)xe(e[r])||(e[r]={}),e=e[r];if(xe(n))return xe(e[t])||(e[t]={}),e=e[t],void this._setObjectToTarget(e,n,i);i&&void 0!==e[t]||(e[t]=n)}_getFromSource(e,t){const n=t.split(".");t=n.pop();for(const i of n){if(!xe(e[i])){e=null;break}e=e[i]}return e?Ln(e[t]):void 0}_setObjectToTarget(e,t,n){Object.keys(t).forEach((i=>{this._setToTarget(e,i,t[i],n)}))}}function Ln(e){return Rn(e,zn)}function zn(e){return Bn(e)||"function"==typeof e?e:void 0}function On(e){if(e){if(e.defaultView)return e instanceof e.defaultView.Document;if(e.ownerDocument&&e.ownerDocument.defaultView)return e instanceof e.ownerDocument.defaultView.Node}return!1}function Nn(e){const t=Object.prototype.toString.apply(e);return"[object Window]"==t||"[object global]"==t}const Fn=Vn(D());function Vn(e){return e?class extends e{listenTo(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(On(e)||Nn(e)){const o={capture:!!i.useCapture,passive:!!i.usePassive},r=this._getProxyEmitter(e,o)||new Hn(e,o);this.listenTo(r,t,n,i)}else super.listenTo(e,t,n,i)}stopListening(e,t,n){if(On(e)||Nn(e)){const i=this._getAllProxyEmitters(e);for(const e of i)this.stopListening(e,t,n)}else super.stopListening(e,t,n)}_getProxyEmitter(e,t){return function(e,t){const n=e[S];return n&&n[t]?n[t].emitter:null}(this,Wn(e,t))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map((t=>this._getProxyEmitter(e,t))).filter((e=>!!e))}}:Fn}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach((e=>{Vn[e]=Fn.prototype[e]}));class Hn extends(D()){constructor(e,t){super(),M(this,Wn(e,t)),this._domNode=e,this._options=t}attach(e){if(this._domListeners&&this._domListeners[e])return;const t=this._createDomListener(e);this._domNode.addEventListener(e,t,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=t}detach(e){let t;!this._domListeners[e]||(t=this._events[e])&&t.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,t,n){this.attach(e),D().prototype._addEventListener.call(this,e,t,n)}_removeEventListener(e,t){D().prototype._removeEventListener.call(this,e,t),this.detach(e)}_createDomListener(e){const t=t=>{this.fire(e,t)};return t.removeListener=()=>{this._domNode.removeEventListener(e,t,this._options),delete this._domListeners[e]},t}}function Wn(e,t){let n=function(e){return e["data-ck-expando"]||(e["data-ck-expando"]=b())}(e);for(const i of Object.keys(t).sort())t[i]&&(n+="-"+i);return n}function Un(e){const t=e.ownerDocument.defaultView.getComputedStyle(e);return{top:parseInt(t.borderTopWidth,10),right:parseInt(t.borderRightWidth,10),bottom:parseInt(t.borderBottomWidth,10),left:parseInt(t.borderLeftWidth,10)}}function qn(e){return"[object Text]"==Object.prototype.toString.call(e)}function $n(e){return"[object Range]"==Object.prototype.toString.apply(e)}function Gn(e){return e&&e.parentNode?e.offsetParent===o.document.body?null:e.offsetParent:null}const Kn=["top","right","bottom","left","width","height"];class Yn{constructor(e){const t=$n(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),Xn(e)||t)if(t){const t=Yn.getDomRangeRects(e);Qn(this,Yn.getBoundingRect(t))}else Qn(this,e.getBoundingClientRect());else if(Nn(e)){const{innerWidth:t,innerHeight:n}=e;Qn(this,{top:0,right:t,bottom:n,left:0,width:t,height:n})}else Qn(this,e)}clone(){return new Yn(this)}moveTo(e,t){return this.top=t,this.right=e+this.width,this.bottom=t+this.height,this.left=e,this}moveBy(e,t){return this.top+=t,this.right+=e,this.left+=e,this.bottom+=t,this}getIntersection(e){const t={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};if(t.width=t.right-t.left,t.height=t.bottom-t.top,t.width<0||t.height<0)return null;{const e=new Yn(t);return e._source=this._source,e}}getIntersectionArea(e){const t=this.getIntersection(e);return t?t.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let t=this.clone();if(Zn(e))return t;let n,i=e,o=e.parentNode||e.commonAncestorContainer;for(;o&&!Zn(o);){const e="visible"===((r=o)instanceof HTMLElement?r.ownerDocument.defaultView.getComputedStyle(r).overflow:"visible");i instanceof HTMLElement&&"absolute"===Jn(i)&&(n=i);const s=Jn(o);if(e||n&&("relative"===s&&e||"relative"!==s)){i=o,o=o.parentNode;continue}const a=new Yn(o),l=t.getIntersection(a);if(!l)return null;l.getArea()<t.getArea()&&(t=l),i=o,o=o.parentNode}var r;return t}isEqual(e){for(const t of Kn)if(this[t]!==e[t])return!1;return!0}contains(e){const t=this.getIntersection(e);return!(!t||!t.isEqual(e))}toAbsoluteRect(){const{scrollX:e,scrollY:t}=o.window,n=this.clone().moveBy(e,t);if(Xn(n._source)){const e=Gn(n._source);e&&function(e,t){const n=new Yn(t),i=Un(t);let o=0,r=0;o-=n.left,r-=n.top,o+=t.scrollLeft,r+=t.scrollTop,o-=i.left,r-=i.top,e.moveBy(o,r)}(n,e)}return n}excludeScrollbarsAndBorders(){const e=this._source;let t,n,i;if(Nn(e))t=e.innerWidth-e.document.documentElement.clientWidth,n=e.innerHeight-e.document.documentElement.clientHeight,i=e.getComputedStyle(e.document.documentElement).direction;else{const o=Un(e);t=e.offsetWidth-e.clientWidth-o.left-o.right,n=e.offsetHeight-e.clientHeight-o.top-o.bottom,i=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=t,"ltr"===i?this.right-=t:this.left+=t,this.height-=n,this.bottom-=n,this}static getDomRangeRects(e){const t=[],n=Array.from(e.getClientRects());if(n.length)for(const i of n)t.push(new Yn(i));else{let n=e.startContainer;qn(n)&&(n=n.parentNode);const i=new Yn(n.getBoundingClientRect());i.right=i.left,i.width=0,t.push(i)}return t}static getBoundingRect(e){const t={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let n=0;for(const i of e)n++,t.left=Math.min(t.left,i.left),t.top=Math.min(t.top,i.top),t.right=Math.max(t.right,i.right),t.bottom=Math.max(t.bottom,i.bottom);return 0==n?null:(t.width=t.right-t.left,t.height=t.bottom-t.top,new Yn(t))}}function Qn(e,t){for(const n of Kn)e[n]=t[n]}function Zn(e){return!!Xn(e)&&e===e.ownerDocument.body}function Xn(e){return null!==e&&"object"==typeof e&&1===e.nodeType&&"function"==typeof e.getBoundingClientRect}function Jn(e){return e instanceof HTMLElement?e.ownerDocument.defaultView.getComputedStyle(e).position:"static"}const ei=class{constructor(e,t){ei._observerInstance||ei._createObserver(),this._element=e,this._callback=t,ei._addElementCallback(e,t),ei._observerInstance.observe(e)}get element(){return this._element}destroy(){ei._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,t){ei._elementCallbacks||(ei._elementCallbacks=new Map);let n=ei._elementCallbacks.get(e);n||(n=new Set,ei._elementCallbacks.set(e,n)),n.add(t)}static _deleteElementCallback(e,t){const n=ei._getElementCallbacks(e);n&&(n.delete(t),n.size||(ei._elementCallbacks.delete(e),ei._observerInstance.unobserve(e))),ei._elementCallbacks&&!ei._elementCallbacks.size&&(ei._observerInstance=null,ei._elementCallbacks=null)}static _getElementCallbacks(e){return ei._elementCallbacks?ei._elementCallbacks.get(e):null}static _createObserver(){ei._observerInstance=new o.window.ResizeObserver((e=>{for(const t of e){const e=ei._getElementCallbacks(t.target);if(e)for(const n of e)n(t)}}))}};let ti=ei;function ni(e,t){e instanceof HTMLTextAreaElement&&(e.value=t),e.innerHTML=t}function ii(e){return t=>t+e}function oi(e){let t=0;for(;e.previousSibling;)e=e.previousSibling,t++;return t}function ri(e,t,n){e.insertBefore(n,e.childNodes[t]||null)}function si(e){return e&&e.nodeType===Node.COMMENT_NODE}function ai(e){return!!(e&&e.getClientRects&&e.getClientRects().length)}ti._observerInstance=null,ti._elementCallbacks=null;var li=Math.pow;function ci(e){let{element:t,target:n,positions:i,limiter:r,fitInViewport:s,viewportOffsetConfig:a}=e;Ee(n)&&(n=n()),Ee(r)&&(r=r());const l=Gn(t),c=function(e){e=Object.assign({top:0,bottom:0,left:0,right:0},e);const t=new Yn(o.window);return t.top+=e.top,t.height-=e.top,t.bottom-=e.bottom,t.height-=e.bottom,t}(a),d=new Yn(t),u=di(n,c);let p;if(!u||!c.getIntersection(u))return null;const h={targetRect:u,elementRect:d,positionedElementAncestor:l,viewportRect:c};if(r||s){if(r){const e=di(r,c);e&&(h.limiterRect=e)}p=function(e,t){const{elementRect:n}=t,i=n.getArea(),o=e.map((e=>new ui(e,t))).filter((e=>!!e.name));let r=0,s=null;for(const a of o){const{limiterIntersectionArea:e,viewportIntersectionArea:t}=a;if(e===i)return a;const n=li(t,2)+li(e,2);n>r&&(r=n,s=a)}return s}(i,h)}else p=new ui(i[0],h);return p}function di(e,t){const n=new Yn(e).getVisible();return n?n.getIntersection(t):null}class ui{constructor(e,t){const n=e(t.targetRect,t.elementRect,t.viewportRect,t.limiterRect);if(!n)return;const{left:i,top:o,name:r,config:s}=n;this.name=r,this.config=s,this._positioningFunctionCoordinates={left:i,top:o},this._options=t}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;return e?e.getIntersectionArea(this._rect):0}get viewportIntersectionArea(){return this._options.viewportRect.getIntersectionArea(this._rect)}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCoordinates.left,this._positioningFunctionCoordinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=this._rect.toAbsoluteRect()),this._cachedAbsoluteRect}}function pi(e){const t=e.parentNode;t&&t.removeChild(e)}function hi(e){let{window:t,rect:n,alignToTop:i,forceScroll:o,viewportOffset:r}=e;const s=n.clone().moveBy(0,r.bottom),a=n.clone().moveBy(0,-r.top),l=new Yn(t).excludeScrollbarsAndBorders(),c=i&&o,d=[a,s].every((e=>l.contains(e)));let{scrollX:u,scrollY:p}=t;const h=u,g=p;c?p-=l.top-n.top+r.top:d||(fi(a,l)?p-=l.top-n.top+r.top:mi(s,l)&&(p+=i?n.top-l.top-r.top:n.bottom-l.bottom+r.bottom)),d||(bi(n,l)?u-=l.left-n.left+r.left:yi(n,l)&&(u+=n.right-l.right+r.right)),u==h&&p===g||t.scrollTo(u,p)}function gi(e){let{parent:t,getRect:n,alignToTop:i,forceScroll:o,ancestorOffset:r=0,limiterElement:s}=e;const a=wi(t),l=i&&o;let c,d,u;const p=s||a.document.body;for(;t!=p;)d=n(),c=new Yn(t).excludeScrollbarsAndBorders(),u=c.contains(d),l?t.scrollTop-=c.top-d.top+r:u||(fi(d,c)?t.scrollTop-=c.top-d.top+r:mi(d,c)&&(t.scrollTop+=i?d.top-c.top-r:d.bottom-c.bottom+r)),u||(bi(d,c)?t.scrollLeft-=c.left-d.left+r:yi(d,c)&&(t.scrollLeft+=d.right-c.right+r)),t=t.parentNode}function mi(e,t){return e.bottom>t.bottom}function fi(e,t){return e.top<t.top}function bi(e,t){return e.left<t.left}function yi(e,t){return e.right>t.right}function wi(e){return $n(e)?e.startContainer.ownerDocument.defaultView:e.ownerDocument.defaultView}function vi(e){if($n(e)){let t=e.commonAncestorContainer;return qn(t)&&(t=t.parentNode),t}return e.parentNode}function ki(e,t){const n=wi(e),i=new Yn(e);if(n===t)return i;{let e=n;for(;e!=t;){const t=e.frameElement,n=new Yn(t).excludeScrollbarsAndBorders();i.moveBy(n.left,n.top),e=e.parent}}return i}const _i={ctrl:"\u2303",cmd:"\u2318",alt:"\u2325",shift:"\u21e7"},xi={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Ai={37:"\u2190",38:"\u2191",39:"\u2192",40:"\u2193",9:"\u21e5",33:"Page Up",34:"Page Down"},Ci=function(){const e={pageup:33,pagedown:34,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let t=65;t<=90;t++)e[String.fromCharCode(t).toLowerCase()]=t;for(let t=48;t<=57;t++)e[t-48]=t;for(let t=112;t<=123;t++)e["f"+(t-111)]=t;return Object.assign(e,{"'":222,",":108,"-":109,".":110,"/":111,";":186,"=":187,"[":219,"\\":220,"]":221,"`":223}),e}(),Si=Object.fromEntries(Object.entries(Ci).map((e=>{let t,[n,i]=e;return t=i in Ai?Ai[i]:n.charAt(0).toUpperCase()+n.slice(1),[i,t]})));function Ii(e){let t;if("string"==typeof e){if(t=Ci[e.toLowerCase()],!t)throw new v("keyboard-unknown-key",null,{key:e})}else t=e.keyCode+(e.altKey?Ci.alt:0)+(e.ctrlKey?Ci.ctrl:0)+(e.shiftKey?Ci.shift:0)+(e.metaKey?Ci.cmd:0);return t}function Ti(e){return"string"==typeof e&&(e=function(e){return e.split("+").map((e=>e.trim()))}(e)),e.map((e=>"string"==typeof e?function(e){if(e.endsWith("!"))return Ii(e.slice(0,-1));const t=Ii(e);return(c.isMac||c.isiOS)&&t==Ci.ctrl?Ci.cmd:t}(e):e)).reduce(((e,t)=>t+e),0)}function Ei(e){let t=Ti(e);return Object.entries(c.isMac||c.isiOS?_i:xi).reduce(((e,n)=>{let[i,o]=n;return t&Ci[i]&&(t&=~Ci[i],e+=o),e}),"")+(t?Si[t]:"")}function Di(e,t){const n="ltr"===t;switch(e){case Ci.arrowleft:return n?"left":"right";case Ci.arrowright:return n?"right":"left";case Ci.arrowup:return"up";case Ci.arrowdown:return"down"}}function Mi(e){return Array.isArray(e)?e:[e]}const Pi=function(e,t,n){(void 0!==n&&!Ae(e[t],n)||void 0===n&&!(t in e))&&et(e,t,n)},Ri=function(e,t,n){for(var i=-1,o=Object(e),r=n(e),s=r.length;s--;){var a=r[++i];if(!1===t(o[a],a,o))break}return e},Bi=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},ji=function(e,t,n,i,o,r,s){var a=Bi(e,n),l=Bi(t,n),c=s.get(l);if(c)Pi(e,n,c);else{var d=r?r(a,l,n+"",e,t,s):void 0,u=void 0===d;if(u){var p=pe(l),h=!p&&pt(l),g=!p&&!h&&xt(l);d=l,p||h||g?pe(a)?d=a:function(e){return he(e)&&Dt(e)}(a)?d=Ft(a):h?(u=!1,d=Nt(l,!0)):g?(u=!1,d=wn(l,!0)):d=[]:xe(l)||lt(l)?(d=a,lt(a)?d=function(e){return it(e,Bt(e))}(a):O(a)&&!Ee(a)||(d=xn(l))):u=!1}u&&(s.set(l,d),o(d,l,i,r,s),s.delete(l)),Pi(e,n,d)}},Li=function e(t,n,i,o,r){t!==n&&Ri(n,(function(s,a){if(r||(r=new Xe),O(s))ji(t,n,a,i,e,o,r);else{var l=o?o(Bi(t,a),s,a+"",t,n,r):void 0;void 0===l&&(l=s),Pi(t,a,l)}}),Bt)},zi=function(e){return e};var Oi=Math.max;const Ni=function(e){return function(){return e}},Fi=Je?function(e,t){return Je(e,"toString",{configurable:!0,enumerable:!1,value:Ni(t),writable:!0})}:zi;var Vi=Date.now;const Hi=function(e){var t=0,n=0;return function(){var i=Vi(),o=16-(i-n);if(n=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(Fi),Wi=function(e,t){return Hi(function(e,t,n){return t=Oi(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,r=Oi(i.length-t,0),s=Array(r);++o<r;)s[o]=i[t+o];o=-1;for(var a=Array(t+1);++o<t;)a[o]=i[o];return a[t]=n(s),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}(e,t,zi),e+"")},Ui=function(e){return Wi((function(t,n){var i=-1,o=n.length,r=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(r=e.length>3&&"function"==typeof r?(o--,r):void 0,s&&function(e,t,n){if(!O(n))return!1;var i=typeof t;return!!("number"==i?Dt(n)&&gt(t,n.length):"string"==i&&t in n)&&Ae(n[t],e)}(n[0],n[1],s)&&(r=o<3?void 0:r,o=1),t=Object(t);++i<o;){var a=n[i];a&&e(t,a,i,r)}return t}))},qi=Ui((function(e,t,n){Li(e,t,n)}));function $i(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0;if("number"!=typeof n)throw new v("translation-service-quantity-not-a-number",null,{quantity:n});const r=i||o.window.CKEDITOR_TRANSLATIONS,s=function(e){return Object.keys(e).length}(r);1===s&&(e=Object.keys(r)[0]);const a=t.id||t.string;if(0===s||!function(e,t,n){return!!n[e]&&!!n[e].dictionary[t]}(e,a,r))return 1!==n?t.plural:t.string;const l=r[e].dictionary,c=r[e].getPluralForm||(e=>1===e?0:1),d=l[a];return"string"==typeof d?d:d[Number(c(n))]}o.window.CKEDITOR_TRANSLATIONS||(o.window.CKEDITOR_TRANSLATIONS={});const Gi=["ar","ara","dv","div","fa","per","fas","he","heb","ku","kur","ug","uig"];function Ki(e){return Gi.includes(e)?"rtl":"ltr"}class Yi{constructor(){let{uiLanguage:e="en",contentLanguage:t,translations:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.uiLanguage=e,this.contentLanguage=t||this.uiLanguage,this.uiLanguageDirection=Ki(this.uiLanguage),this.contentLanguageDirection=Ki(this.contentLanguage),this.translations=function(e){return Array.isArray(e)?e.reduce(((e,t)=>qi(e,t))):e}(n),this.t=(e,t)=>this._t(e,t)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t=Mi(t),"string"==typeof e&&(e={string:e});const n=e.plural?t[0]:1;return function(e,t){return e.replace(/%(\d+)/g,((e,n)=>n<t.length?t[n]:e))}($i(this.uiLanguage,e,n,this.translations),t)}}class Qi extends(D()){constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super();const n=ee(e);if(n||(t=e),this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n)for(const i of e)this._items.push(i),this._itemMap.set(this._getItemIdBeforeAdding(i),i)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,t){return this.addMany([e],t)}addMany(e,t){if(void 0===t)t=this._items.length;else if(t>this._items.length||t<0)throw new v("collection-add-item-invalid-index",this);let n=0;for(const i of e){const e=this._getItemIdBeforeAdding(i),o=t+n;this._items.splice(o,0,i),this._itemMap.set(e,i),this.fire("add",i,o),n++}return this.fire("change",{added:e,removed:[],index:t}),this}get(e){let t;if("string"==typeof e)t=this._itemMap.get(e);else{if("number"!=typeof e)throw new v("collection-get-invalid-arg",this);t=this._items[e]}return t||null}has(e){if("string"==typeof e)return this._itemMap.has(e);{const t=e[this._idProperty];return t&&this._itemMap.has(t)}}getIndex(e){let t;return t="string"==typeof e?this._itemMap.get(e):e,t?this._items.indexOf(t):-1}remove(e){const[t,n]=this._remove(e);return this.fire("change",{added:[],removed:[t],index:n}),t}map(e,t){return this._items.map(e,t)}forEach(e,t){this._items.forEach(e,t)}find(e,t){return this._items.find(e,t)}filter(e,t){return this._items.filter(e,t)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new v("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:e=>{this._setUpBindToBinding((t=>new e(t)))},using:e=>{"function"==typeof e?this._setUpBindToBinding(e):this._setUpBindToBinding((t=>t[e]))}}}_setUpBindToBinding(e){const t=this._bindToCollection,n=(n,i,o)=>{const r=t._bindToCollection==this,s=t._bindToInternalToExternalMap.get(i);if(r&&s)this._bindToExternalToInternalMap.set(i,s),this._bindToInternalToExternalMap.set(s,i);else{const n=e(i);if(!n)return void this._skippedIndexesFromExternal.push(o);let r=o;for(const e of this._skippedIndexesFromExternal)o>e&&r--;for(const e of t._skippedIndexesFromExternal)r>=e&&r++;this._bindToExternalToInternalMap.set(i,n),this._bindToInternalToExternalMap.set(n,i),this.add(n,r);for(let e=0;e<t._skippedIndexesFromExternal.length;e++)r<=t._skippedIndexesFromExternal[e]&&t._skippedIndexesFromExternal[e]++}};for(const i of t)n(0,i,t.getIndex(i));this.listenTo(t,"add",n),this.listenTo(t,"remove",((e,t,n)=>{const i=this._bindToExternalToInternalMap.get(t);i&&this.remove(i),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(((e,t)=>(n<t&&e.push(t-1),n>t&&e.push(t),e)),[])}))}_getItemIdBeforeAdding(e){const t=this._idProperty;let n;if(t in e){if(n=e[t],"string"!=typeof n)throw new v("collection-add-invalid-id",this);if(this.get(n))throw new v("collection-add-item-already-exists",this)}else e[t]=n=b();return n}_remove(e){let t,n,i,o=!1;const r=this._idProperty;if("string"==typeof e?(n=e,i=this._itemMap.get(n),o=!i,i&&(t=this._items.indexOf(i))):"number"==typeof e?(t=e,i=this._items[t],o=!i,i&&(n=i[r])):(i=e,n=i[r],t=this._items.indexOf(i),o=-1==t||!this._itemMap.get(n)),o)throw new v("collection-remove-404",this);this._items.splice(t,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(s),this.fire("remove",i,t),[i,t]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Zi(e){const t=e.next();return t.done?null:t.value}class Xi extends(Vn(q())){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new v("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",(()=>this._focus(e)),{useCapture:!0}),this.listenTo(e,"blur",(()=>this._blur()),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout((()=>{this.focusedElement=null,this.isFocused=!1}),0)}}class Ji{constructor(){this._listener=new(Vn())}listenTo(e){this._listener.listenTo(e,"keydown",((e,t)=>{this._listener.fire("_keydown:"+Ii(t),t)}))}set(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=Ti(e),o=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,((e,n)=>{t(n,(()=>{n.preventDefault(),n.stopPropagation(),e.stop()})),e.return=!0}),{priority:o})}press(e){return!!this._listener.fire("_keydown:"+Ii(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function eo(e){return ee(e)?new Map(e):function(e){const t=new Map;for(const n in e)t.set(n,e[n]);return t}(e)}function to(e,t){let n;function i(){for(var o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];i.cancel(),n=setTimeout((()=>e(...r)),t)}return i.cancel=()=>{clearTimeout(n)},i}function no(e,t){return!!(n=e.charAt(t-1))&&1==n.length&&/[\ud800-\udbff]/.test(n)&&function(e){return!!e&&1==e.length&&/[\udc00-\udfff]/.test(e)}(e.charAt(t));var n}function io(e,t){return!!(n=e.charAt(t))&&1==n.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(n);var n}Math.pow;const oo=function(){const e=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],t=new RegExp("\\p{Regional_Indicator}{2}","u").source,n="(?:"+e.map((e=>e.source)).join("|")+")";return new RegExp(`${t}|${n}(?:\u200d${n})*`,"ug")}();function ro(e,t){const n=String(e).matchAll(oo);return Array.from(n).some((e=>e.index<t&&t<e.index+e[0].length))}class so extends Qi{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{idProperty:"viewUid"}),this.on("add",((e,t,n)=>{this._renderViewIntoCollectionParent(t,n)})),this.on("remove",((e,t)=>{t.element&&this._parentElement&&t.element.remove()})),this._parentElement=null}destroy(){this.map((e=>e.destroy()))}setParent(e){this._parentElement=e;for(const t of this)this._renderViewIntoCollectionParent(t)}delegate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length||!t.every((e=>"string"==typeof e)))throw new v("ui-viewcollection-delegate-wrong-events",this);return{to:e=>{for(const n of this)for(const i of t)n.delegate(i).to(e);this.on("add",((n,i)=>{for(const o of t)i.delegate(o).to(e)})),this.on("remove",((n,i)=>{for(const o of t)i.stopDelegating(o,e)}))}}}_renderViewIntoCollectionParent(e,t){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[t])}remove(e){return super.remove(e)}}class ao extends(D()){constructor(e){super(),Object.assign(this,yo(bo(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new v("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(t){if(t.children)for(const n of t.children)Ao(n)?yield n:Co(n)&&(yield*e(n))}(this)}static bind(e,t){return{to:(n,i)=>new co({eventNameOrFunction:n,attribute:n,observable:e,emitter:t,callback:i}),if:(n,i,o)=>new uo({observable:e,emitter:t,attribute:n,valueIfTrue:i,callback:o})}}static extend(e,t){if(e._isRendered)throw new v("template-extend-render",[this,e]);_o(e,yo(bo(t)))}_renderNode(e){let t;if(t=e.node?this.tag&&this.text:this.tag?this.text:!this.text,t)throw new v("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let t=e.node;return t||(t=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),t}_renderText(e){let t=e.node;return t?e.revertData.text=t.textContent:t=e.node=document.createTextNode(""),po(this.text)?this._bindToObservable({schema:this.text,updater:go(t),data:e}):t.textContent=this.text.join(""),t}_renderAttributes(e){if(!this.attributes)return;const t=e.node,n=e.revertData;for(const i in this.attributes){const o=t.getAttribute(i),r=this.attributes[i];n&&(n.attributes[i]=o);const s=Io(r)?r[0].ns:null;if(po(r)){const a=Io(r)?r[0].value:r;n&&To(i)&&a.unshift(o),this._bindToObservable({schema:a,updater:mo(t,i,s),data:e})}else if("style"==i&&"string"!=typeof r[0])this._renderStyleAttribute(r[0],e);else{n&&o&&To(i)&&r.unshift(o);const e=r.map((e=>e&&e.value||e)).reduce(((e,t)=>e.concat(t)),[]).reduce(vo,"");xo(e)||t.setAttributeNS(s,i,e)}}}_renderStyleAttribute(e,t){const n=t.node;for(const i in e){const o=e[i];po(o)?this._bindToObservable({schema:[o],updater:fo(n,i),data:t}):n.style[i]=o}}_renderElementChildren(e){const t=e.node,n=e.intoFragment?document.createDocumentFragment():t,i=e.isApplying;let o=0;for(const r of this.children)if(So(r)){if(!i){r.setParent(t);for(const e of r)n.appendChild(e.element)}}else if(Ao(r))i||(r.isRendered||r.render(),n.appendChild(r.element));else if(On(r))n.appendChild(r);else if(i){const t={children:[],bindings:[],attributes:{}};e.revertData.children.push(t),r._renderNode({intoFragment:!1,node:n.childNodes[o++],isApplying:!0,revertData:t})}else n.appendChild(r.render());e.intoFragment&&t.appendChild(n)}_setUpListeners(e){if(this.eventListeners)for(const t in this.eventListeners){const n=this.eventListeners[t].map((n=>{const[i,o]=t.split("@");return n.activateDomEventListener(i,o,e)}));e.revertData&&e.revertData.bindings.push(n)}}_bindToObservable(e){let{schema:t,updater:n,data:i}=e;const o=i.revertData;ho(t,n,i);const r=t.filter((e=>!xo(e))).filter((e=>e.observable)).map((e=>e.activateAttributeListener(t,n,i)));o&&o.bindings.push(r)}_revertTemplateFromNode(e,t){for(const i of t.bindings)for(const e of i)e();if(t.text)return void(e.textContent=t.text);const n=e;for(const i in t.attributes){const e=t.attributes[i];null===e?n.removeAttribute(i):n.setAttribute(i,e)}for(let i=0;i<t.children.length;++i)this._revertTemplateFromNode(n.childNodes[i],t.children[i])}}class lo{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const t=this.observable[this.attribute];return this.callback?this.callback(t,e):t}activateAttributeListener(e,t,n){const i=()=>ho(e,t,n);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,i),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,i)}}}class co extends lo{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,t,n){const i=(e,n)=>{t&&!n.target.matches(t)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,e,i),()=>{this.emitter.stopListening(n.node,e,i)}}}class uo extends lo{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!xo(super.getValue(e))&&(this.valueIfTrue||!0)}}function po(e){return!!e&&(e.value&&(e=e.value),Array.isArray(e)?e.some(po):e instanceof lo)}function ho(e,t,n){let{node:i}=n;const o=function(e,t){return e.map((e=>e instanceof lo?e.getValue(t):e))}(e,i);let r;r=1==e.length&&e[0]instanceof uo?o[0]:o.reduce(vo,""),xo(r)?t.remove():t.set(r)}function go(e){return{set(t){e.textContent=t},remove(){e.textContent=""}}}function mo(e,t,n){return{set(i){e.setAttributeNS(n,t,i)},remove(){e.removeAttributeNS(n,t)}}}function fo(e,t){return{set(n){e.style[t]=n},remove(){e.style[t]=null}}}function bo(e){return Rn(e,(e=>{if(e&&(e instanceof lo||Co(e)||Ao(e)||So(e)))return e}))}function yo(e){if("string"==typeof e?e=function(e){return{text:[e]}}(e):e.text&&function(e){e.text=Mi(e.text)}(e),e.on&&(e.eventListeners=function(e){for(const t in e)wo(e,t);return e}(e.on),delete e.on),!e.text){e.attributes&&function(e){for(const t in e)e[t].value&&(e[t].value=Mi(e[t].value)),wo(e,t)}(e.attributes);const t=[];if(e.children)if(So(e.children))t.push(e.children);else for(const n of e.children)Co(n)||Ao(n)||On(n)?t.push(n):t.push(new ao(n));e.children=t}return e}function wo(e,t){e[t]=Mi(e[t])}function vo(e,t){return xo(t)?e:xo(e)?t:`${e} ${t}`}function ko(e,t){for(const n in t)e[n]?e[n].push(...t[n]):e[n]=t[n]}function _o(e,t){if(t.attributes&&(e.attributes||(e.attributes={}),ko(e.attributes,t.attributes)),t.eventListeners&&(e.eventListeners||(e.eventListeners={}),ko(e.eventListeners,t.eventListeners)),t.text&&e.text.push(...t.text),t.children&&t.children.length){if(e.children.length!=t.children.length)throw new v("ui-template-extend-children-mismatch",e);let n=0;for(const i of t.children)_o(e.children[n++],i)}}function xo(e){return!e&&0!==e}function Ao(e){return e instanceof Po}function Co(e){return e instanceof ao}function So(e){return e instanceof so}function Io(e){return O(e[0])&&e[0].ns}function To(e){return"class"==e||"style"==e}var Eo=r(2591),Do=r.n(Eo),Mo=r(7676);Do()(Mo.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Mo.A.locals;class Po extends(Vn(q())){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Qi,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",((t,n)=>{n.locale=e,n.t=e&&e.t})),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=ao.bind(this,this)}createCollection(e){const t=new so(e);return this._viewCollections.add(t),t}registerChild(e){ee(e)||(e=[e]);for(const t of e)this._unboundChildren.add(t)}deregisterChild(e){ee(e)||(e=[e]);for(const t of e)this._unboundChildren.remove(t)}setTemplate(e){this.template=new ao(e)}extendTemplate(e){ao.extend(this.template,e)}render(){if(this.isRendered)throw new v("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map((e=>e.destroy())),this.template&&this.template._revertData&&this.template.revert(this.element)}}function Ro(e){let{emitter:t,activator:n,callback:i,contextElements:o}=e;t.listenTo(document,"mousedown",((e,t)=>{if(!n())return;const r="function"==typeof t.composedPath?t.composedPath():[],s="function"==typeof o?o():o;for(const n of s)if(n.contains(t.target)||r.includes(n))return;i()}))}function Bo(e){return class extends e{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(){super(...arguments),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function jo(e){let{view:t}=e;t.listenTo(t.element,"submit",((e,n)=>{n.preventDefault(),t.fire("submit")}),{useCapture:!0})}class Lo extends(q()){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",zo,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",zo),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function zo(e){e.return=!1,e.stop()}class Oo extends(q()){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",(()=>{this.refresh()})),this.listenTo(e,"change:isReadOnly",(()=>{this.refresh()})),this.on("set:isEnabled",(t=>{if(!this.affectsData)return;const n=e.model.document.selection,i=!("$graveyard"==n.getFirstPosition().root.rootName)&&e.model.canEditAt(n);(e.isReadOnly||this._isEnabledBasedOnSelection&&!i)&&(t.return=!1,t.stop())}),{priority:"highest"}),this.on("execute",(e=>{this.isEnabled||e.stop()}),{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),1==this._disableStack.size&&(this.on("set:isEnabled",No,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),0==this._disableStack.size&&(this.off("set:isEnabled",No),this.refresh())}execute(){}destroy(){this.stopListening()}}function No(e){e.return=!1,e.stop()}class Fo extends Oo{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(){const e=this._getFirstEnabledCommand();for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return!!e&&e.execute(n)}registerChildCommand(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};w(this._childCommandsDefinitions,{command:e,priority:t.priority||"normal"}),e.on("change:isEnabled",(()=>this._checkEnabled())),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find((e=>{let{command:t}=e;return t.isEnabled}));return e&&e.command}}class Vo extends(D()){constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const i of t)i.pluginName&&this._availablePlugins.set(i.pluginName,i);this._contextPlugins=new Map;for(const[i,o]of n)this._contextPlugins.set(i,o),this._contextPlugins.set(o,i),i.pluginName&&this._availablePlugins.set(i.pluginName,i)}*[Symbol.iterator](){for(const e of this._plugins)"function"==typeof e[0]&&(yield e)}get(e){const t=this._plugins.get(e);if(!t){let t=e;throw"function"==typeof e&&(t=e.pluginName||e.name),new v("plugincollection-plugin-not-loaded",this._context,{plugin:t})}return t}has(e){return this._plugins.has(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];const i=this,o=this._context;!function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;t.forEach((t=>{a(t)&&(n.has(t)||(n.add(t),t.pluginName&&!i._availablePlugins.has(t.pluginName)&&i._availablePlugins.set(t.pluginName,t),t.requires&&e(t.requires,n)))}))}(e),u(e);const r=[...function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;return t.map((e=>a(e)?e:i._availablePlugins.get(e))).reduce(((t,i)=>n.has(i)?t:(n.add(i),i.requires&&(u(i.requires,i),e(i.requires,n).forEach((e=>t.add(e)))),t.add(i))),new Set)}(e.filter((e=>!c(e,t))))];!function(e,t){for(const n of t){if("function"!=typeof n)throw new v("plugincollection-replace-plugin-invalid-type",null,{pluginItem:n});const t=n.pluginName;if(!t)throw new v("plugincollection-replace-plugin-missing-name",null,{pluginItem:n});if(n.requires&&n.requires.length)throw new v("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:t});const o=i._availablePlugins.get(t);if(!o)throw new v("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:t});const r=e.indexOf(o);if(-1===r){if(i._contextPlugins.has(o))return;throw new v("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:t})}if(o.requires&&o.requires.length)throw new v("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:t});e.splice(r,1,n),i._availablePlugins.set(t,n)}}(r,n);const s=r.map((e=>{let t=i._contextPlugins.get(e);return t=t||new e(o),i._add(e,t),t}));return p(s,"init").then((()=>p(s,"afterInit"))).then((()=>s));function a(e){return"function"==typeof e}function l(e){return a(e)&&!!e.isContextPlugin}function c(e,t){return t.some((t=>t===e||d(e)===t||d(t)===e))}function d(e){return a(e)?e.pluginName||e.name:e}function u(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e.map((e=>a(e)?e:i._availablePlugins.get(e)||e)).forEach((e=>{!function(e,t){if(!a(e)){if(t)throw new v("plugincollection-soft-required",o,{missingPlugin:e,requiredBy:d(t)});throw new v("plugincollection-plugin-not-found",o,{plugin:e})}}(e,n),function(e,t){if(l(t)&&!l(e))throw new v("plugincollection-context-required",o,{plugin:d(e),requiredBy:d(t)})}(e,n),function(e,n){if(n&&c(e,t))throw new v("plugincollection-required",o,{plugin:d(e),requiredBy:d(n)})}(e,n)}))}function p(e,t){return e.reduce(((e,n)=>n[t]?i._contextPlugins.has(n)?e:e.then(n[t].bind(n)):e),Promise.resolve())}}destroy(){const e=[];for(const[,t]of this)"function"!=typeof t.destroy||this._contextPlugins.has(t)||e.push(t.destroy());return Promise.all(e)}_add(e,t){this._plugins.set(e,t);const n=e.pluginName;if(n){if(this._plugins.has(n))throw new v("plugincollection-plugin-name-conflict",null,{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:e});this._plugins.set(n,t)}}}var Ho=Object.getOwnPropertySymbols,Wo=Object.prototype.hasOwnProperty,Uo=Object.prototype.propertyIsEnumerable;class qo{constructor(e){this._contextOwner=null;const t=e||{},{translations:n}=t,i=((e,t)=>{var n={};for(var i in e)Wo.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Ho)for(var i of Ho(e))t.indexOf(i)<0&&Uo.call(e,i)&&(n[i]=e[i]);return n})(t,["translations"]);this.config=new jn(i,this.constructor.defaultConfig);const o=this.constructor.builtinPlugins;this.config.define("plugins",o),this.plugins=new Vo(this,o);const r=this.config.get("language")||{};this.locale=new Yi({uiLanguage:"string"==typeof r?r:r.ui,contentLanguage:this.config.get("language.content"),translations:n}),this.t=this.locale.t,this.editors=new Qi}initPlugins(){const e=this.config.get("plugins")||[],t=this.config.get("substitutePlugins")||[];for(const n of e.concat(t)){if("function"!=typeof n)throw new v("context-initplugins-constructor-only",null,{Plugin:n});if(!0!==n.isContextPlugin)throw new v("context-initplugins-invalid-plugin",null,{Plugin:n})}return this.plugins.init(e,[],t)}destroy(){return Promise.all(Array.from(this.editors,(e=>e.destroy()))).then((()=>this.plugins.destroy()))}_addEditor(e,t){if(this._contextOwner)throw new v("context-addeditor-private-context");this.editors.add(e),t&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const t of this.config.names())["plugins","removePlugins","extraPlugins"].includes(t)||(e[t]=this.config.get(t));return e}static create(e){return new Promise((t=>{const n=new this(e);t(n.initPlugins().then((()=>n)))}))}}class $o extends(q()){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class Go extends Ji{constructor(e){super(),this.editor=e}set(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof t){const e=t;t=(t,n)=>{this.editor.execute(e),n()}}super.set(e,t,n)}}var Ko=r(4098);Do()(Ko.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ko.A.locals;const Yo=new WeakMap;let Qo=!1;function Zo(e){let{view:t,element:n,text:i,isDirectHost:o=!0,keepOnFocus:r=!1}=e;const s=t.document;function a(e){Yo.get(s).set(n,{text:e,isDirectHost:o,keepOnFocus:r,hostElement:o?n:null}),t.change((e=>Xo(s,e)))}Yo.has(s)||(Yo.set(s,new Map),s.registerPostFixer((e=>Xo(s,e))),s.on("change:isComposing",(()=>{t.change((e=>Xo(s,e)))}),{priority:"high"})),n.is("editableElement")&&n.on("change:placeholder",((e,t,n)=>{a(n)})),n.placeholder?a(n.placeholder):i&&a(i),i&&(Qo||k("enableplaceholder-deprecated-text-option"),Qo=!0)}function Xo(e,t){const n=Yo.get(e),i=[];let o=!1;for(const[r,s]of n)s.isDirectHost&&(i.push(r),Jo(t,r,s)&&(o=!0));for(const[r,s]of n){if(s.isDirectHost)continue;const e=er(r);e&&(i.includes(e)||(s.hostElement=e,Jo(t,r,s)&&(o=!0)))}return o}function Jo(e,t,n){const{text:i,isDirectHost:o,hostElement:r}=n;let s=!1;return r.getAttribute("data-placeholder")!==i&&(e.setAttribute("data-placeholder",i,r),s=!0),(o||1==t.childCount)&&function(e,t){if(!e.isAttached())return!1;if(Array.from(e.getChildren()).some((e=>!e.is("uiElement"))))return!1;const n=e.document,i=n.selection.anchor;return(!n.isComposing||!i||i.parent!==e)&&(!!t||!n.isFocused||!!i&&i.parent!==e)}(r,n.keepOnFocus)?function(e,t){return!t.hasClass("ck-placeholder")&&(e.addClass("ck-placeholder",t),!0)}(e,r)&&(s=!0):function(e,t){return!!t.hasClass("ck-placeholder")&&(e.removeClass("ck-placeholder",t),!0)}(e,r)&&(s=!0),s}function er(e){if(e.childCount){const t=e.getChild(0);if(t.is("element")&&!t.is("uiElement")&&!t.is("attributeElement"))return t}return null}class tr{is(){throw new Error("is() method is abstract")}}const nr=function(e){return Pn(e,4)};class ir extends(D(tr)){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if(-1==(e=this.parent.getChildIndex(this)))throw new v("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.index),t=t.parent;return e}getAncestors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getAncestors(t),i=e.getAncestors(t);let o=0;for(;n[o]==i[o]&&n[o];)o++;return 0===o?null:n[o-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),i=J(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,t){this.fire(`change:${e}`,t),this.parent&&this.parent._fireChange(e,t)}toJSON(){const e=nr(this);return delete e.parent,e}}ir.prototype.is=function(e){return"node"===e||"view:node"===e};class or extends ir{constructor(e,t){super(e),this._textData=t}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof or&&(this===e||this.data===e.data)}_clone(){return new or(this.document,this.data)}}or.prototype.is=function(e){return"$text"===e||"view:$text"===e||"text"===e||"view:text"===e||"node"===e||"view:node"===e};class rr extends tr{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.data.length)throw new v("view-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.data.length)throw new v("view-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];let n=e.includeSelf?this.textNode:this.parent;for(;null!==n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}}rr.prototype.is=function(e){return"$textProxy"===e||"view:$textProxy"===e||"textProxy"===e||"view:textProxy"===e};class sr{constructor(){this._patterns=[],this.add(...arguments)}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let i of t)("string"==typeof i||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const i of t)for(const e of this._patterns){const t=ar(i,e);if(t)return{element:i,pattern:e,match:t}}return null}matchAll(){const e=[];for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];for(const o of n)for(const t of this._patterns){const n=ar(o,t);n&&e.push({element:o,pattern:t,match:n})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const e=this._patterns[0],t=e.name;return"function"==typeof e||!t||t instanceof RegExp?null:t}}function ar(e,t){if("function"==typeof t)return t(e);const n={};return t.name&&(n.name=function(e,t){return e instanceof RegExp?!!t.match(e):e===t}(t.name,e.name),!n.name)||t.attributes&&(n.attributes=function(e,t){const n=new Set(t.getAttributeKeys());return xe(e)?(void 0!==e.style&&k("matcher-pattern-deprecated-attributes-style-key",e),void 0!==e.class&&k("matcher-pattern-deprecated-attributes-class-key",e)):(n.delete("style"),n.delete("class")),lr(e,n,(e=>t.getAttribute(e)))}(t.attributes,e),!n.attributes)||t.classes&&(n.classes=function(e,t){return lr(e,t.getClassNames(),(()=>{}))}(t.classes,e),!n.classes)||t.styles&&(n.styles=function(e,t){return lr(e,t.getStyleNames(!0),(e=>t.getStyle(e)))}(t.styles,e),!n.styles)?null:n}function lr(e,t,n){const i=function(e){return Array.isArray(e)?e.map((e=>xe(e)?(void 0!==e.key&&void 0!==e.value||k("matcher-pattern-missing-key-or-value",e),[e.key,e.value]):[e,!0])):xe(e)?Object.entries(e):[[e,!0]]}(e),o=Array.from(t),r=[];if(i.forEach((e=>{let[t,i]=e;o.forEach((e=>{(function(e,t){return!0===e||e===t||e instanceof RegExp&&t.match(e)})(t,e)&&function(e,t,n){if(!0===e)return!0;const i=n(t);return e===i||e instanceof RegExp&&!!String(i).match(e)}(i,e,n)&&r.push(e)}))})),i.length&&!(r.length<i.length))return r}const cr=function(e){return"symbol"==typeof e||he(e)&&"[object Symbol]"==ue(e)};var dr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ur=/^\w*$/;const pr=function(e,t){if(pe(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!cr(e))||ur.test(e)||!dr.test(e)||null!=t&&e in Object(t)};function hr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,o=t?t.apply(this,i):i[0],r=n.cache;if(r.has(o))return r.get(o);var s=e.apply(this,i);return n.cache=r.set(o,s)||r,s};return n.cache=new(hr.Cache||Qe),n}hr.Cache=Qe;const gr=hr;var mr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,fr=/\\(\\)?/g,br=function(e){var t=gr(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(mr,(function(e,n,i,o){t.push(i?o.replace(fr,"$1"):n||e)})),t}));const yr=br;var wr=oe?oe.prototype:void 0,vr=wr?wr.toString:void 0;const kr=function e(t){if("string"==typeof t)return t;if(pe(t))return function(e,t){for(var n=-1,i=null==e?0:e.length,o=Array(i);++n<i;)o[n]=t(e[n],n,e);return o}(t,e)+"";if(cr(t))return vr?vr.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n},_r=function(e){return null==e?"":kr(e)},xr=function(e,t){return pe(e)?e:pr(e,t)?[e]:yr(_r(e))},Ar=function(e){if("string"==typeof e||cr(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Cr=function(e,t){for(var n=0,i=(t=xr(t,e)).length;null!=e&&n<i;)e=e[Ar(t[n++])];return n&&n==i?e:void 0},Sr=function(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var r=Array(o);++i<o;)r[i]=e[i+t];return r},Ir=function(e,t){return null==(e=function(e,t){return t.length<2?e:Cr(e,Sr(t,0,-1))}(e,t=xr(t,e)))||delete e[Ar(function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}(t))]},Tr=function(e,t,n){var i=null==e?void 0:Cr(e,t);return void 0===i?n:i},Er=function(e,t,n){return null==e?e:function(e,t,n,i){if(!O(e))return e;for(var o=-1,r=(t=xr(t,e)).length,s=r-1,a=e;null!=a&&++o<r;){var l=Ar(t[o]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return e;if(o!=s){var d=a[l];void 0===(c=i?i(d,l,a):void 0)&&(c=O(d)?d:gt(t[o+1])?[]:{})}nt(a,l,c),a=a[l]}return e}(e,t,n)};class Dr{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){return!Object.entries(this._styles).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const t=function(e){let t=null,n=0,i=0,o=null;const r=new Map;if(""===e)return r;";"!=e.charAt(e.length-1)&&(e+=";");for(let s=0;s<e.length;s++){const a=e.charAt(s);if(null===t)switch(a){case":":o||(o=e.substr(n,s-n),i=s+1);break;case'"':case"'":t=a;break;case";":{const t=e.substr(i,s-i);o&&r.set(o.trim(),t.trim()),o=null,n=s+1;break}}else a===t&&(t=null)}return r}(e);for(const[n,i]of t)this._styleProcessor.toNormalizedForm(n,i,this._styles)}has(e){if(this.isEmpty)return!1;const t=this._styleProcessor.getReducedForm(e,this._styles).find((t=>{let[n]=t;return n===e}));return Array.isArray(t)}set(e,t){if(O(e))for(const[n,i]of Object.entries(e))this._styleProcessor.toNormalizedForm(n,i,this._styles);else this._styleProcessor.toNormalizedForm(e,t,this._styles)}remove(e){const t=Pr(e);(function(e,t){null==e||Ir(e,t)})(this._styles,t),delete this._styles[e],this._cleanEmptyObjectsOnPath(t)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this.getStylesEntries().map((e=>e.join(":"))).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!O(this._styles[e]))return this._styles[e];const t=this._styleProcessor.getReducedForm(e,this._styles).find((t=>{let[n]=t;return n===e}));return Array.isArray(t)?t[1]:void 0}getStyleNames(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this.getStylesEntries().map((e=>{let[t]=e;return t}))}clear(){this._styles={}}getStylesEntries(){const e=[],t=Object.keys(this._styles);for(const n of t)e.push(...this._styleProcessor.getReducedForm(n,this._styles));return e}_cleanEmptyObjectsOnPath(e){const t=e.split(".");if(!(t.length>1))return;const n=t.splice(0,t.length-1).join("."),i=Tr(this._styles,n);i&&!Object.keys(i).length&&this.remove(n)}}class Mr{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,t,n){if(O(t))Rr(n,Pr(e),t);else if(this._normalizers.has(e)){const i=this._normalizers.get(e),{path:o,value:r}=i(t);Rr(n,o,r)}else Rr(n,e,t)}getNormalized(e,t){if(!e)return qi({},t);if(void 0!==t[e])return t[e];if(this._extractors.has(e)){const n=this._extractors.get(e);if("string"==typeof n)return Tr(t,n);const i=n(e,t);if(i)return i}return Tr(t,Pr(e))}getReducedForm(e,t){const n=this.getNormalized(e,t);return void 0===n?[]:this._reducers.has(e)?this._reducers.get(e)(n):[[e,n]]}getStyleNames(e){const t=Array.from(this._consumables.keys()).filter((t=>{const n=this.getNormalized(t,e);return n&&"object"==typeof n?Object.keys(n).length:n})),n=new Set([...t,...Object.keys(e)]);return Array.from(n)}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,t){this._normalizers.set(e,t)}setExtractor(e,t){this._extractors.set(e,t)}setReducer(e,t){this._reducers.set(e,t)}setStyleRelation(e,t){this._mapStyleNames(e,t);for(const n of t)this._mapStyleNames(n,[e])}_mapStyleNames(e,t){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...t)}}function Pr(e){return e.replace("-",".")}function Rr(e,t,n){let i=n;O(n)&&(i=qi({},Tr(e,t),n)),Er(e,t,i)}class Br extends ir{constructor(e,t,n,i){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=t,this._attrs=function(e){const t=eo(e);for(const[n,i]of t)null===i?t.delete(n):"string"!=typeof i&&t.set(n,String(i));return t}(n),this._children=[],i&&this._insertChild(0,i),this._classes=new Set,this._attrs.has("class")){const e=this._attrs.get("class");jr(this._classes,e),this._attrs.delete("class")}this._styles=new Dr(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if("class"==e)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"==e){const e=this._styles.toString();return""==e?void 0:e}return this._attrs.get(e)}hasAttribute(e){return"class"==e?this._classes.size>0:"style"==e?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof Br))return!1;if(this===e)return!0;if(this.name!=e.name)return!1;if(this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[t,n]of this._attrs)if(!e._attrs.has(t)||e._attrs.get(t)!==n)return!1;for(const t of this._classes)if(!e._classes.has(t))return!1;for(const t of this._styles.getStyleNames())if(!e._styles.has(t)||e._styles.getAsString(t)!==this._styles.getAsString(t))return!1;return!0}hasClass(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const i of t)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const i of t)if(!this._styles.has(i))return!1;return!0}findAncestor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=new sr(...t);let o=this.parent;for(;o&&!o.is("documentFragment");){if(i.match(o))return o;o=o.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),t=this._styles.toString(),n=Array.from(this._attrs).map((e=>`${e[0]}="${e[1]}"`)).sort().join(" ");return this.name+(""==e?"":` class="${e}"`)+(t?` style="${t}"`:"")+(""==n?"":` ${n}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=[];if(e)for(const i of this.getChildren())t.push(i._clone(e));const n=new this.constructor(this.document,this.name,this._attrs,t);return n._classes=new Set(this._classes),n._styles.set(this._styles.getNormalized()),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n._unsafeAttributesToRender=this._unsafeAttributesToRender,n}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,t){this._fireChange("children",this);let n=0;const i=function(e,t){return"string"==typeof t?[new or(e,t)]:(ee(t)||(t=[t]),Array.from(t).map((t=>"string"==typeof t?new or(e,t):t instanceof rr?new or(e,t.data):t)))}(this.document,t);for(const o of i)null!==o.parent&&o._remove(),o.parent=this,o.document=this.document,this._children.splice(e,0,o),e++,n++;return n}_removeChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_setAttribute(e,t){const n=String(t);this._fireChange("attributes",this),"class"==e?jr(this._classes,n):"style"==e?this._styles.setTo(n):this._attrs.set(e,n)}_removeAttribute(e){return this._fireChange("attributes",this),"class"==e?this._classes.size>0&&(this._classes.clear(),!0):"style"==e?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const t of Mi(e))this._classes.add(t)}_removeClass(e){this._fireChange("attributes",this);for(const t of Mi(e))this._classes.delete(t)}_setStyle(e,t){this._fireChange("attributes",this),"string"!=typeof e?this._styles.set(e):this._styles.set(e,t)}_removeStyle(e){this._fireChange("attributes",this);for(const t of Mi(e))this._styles.remove(t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function jr(e,t){const n=t.split(/\s+/);e.clear(),n.forEach((t=>e.add(t)))}Br.prototype.is=function(e,t){return t?t===this.name&&("element"===e||"view:element"===e):"element"===e||"view:element"===e||"node"===e||"view:node"===e};class Lr extends Br{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=zr}}function zr(){const e=[...this.getChildren()],t=e[this.childCount-1];if(t&&t.is("element","br"))return this.childCount;for(const n of e)if(!n.is("uiElement"))return null;return this.childCount}Lr.prototype.is=function(e,t){return t?t===this.name&&("containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class Or extends(q(Lr)){constructor(e,t,n,i){super(e,t,n,i),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",(t=>t&&e.selection.editableElement==this)),this.listenTo(e.selection,"change",(()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this}))}destroy(){this.stopListening()}}Or.prototype.is=function(e,t){return t?t===this.name&&("editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};const Nr=Symbol("rootName");class Fr extends Or{constructor(e,t){super(e,t),this.rootName="main"}get rootName(){return this.getCustomProperty(Nr)}set rootName(e){this._setCustomProperty(Nr,e)}set _name(e){this.name=e}}Fr.prototype.is=function(e,t){return t?t===this.name&&("rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e):"rootElement"===e||"view:rootElement"===e||"editableElement"===e||"view:editableElement"===e||"containerElement"===e||"view:containerElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class Vr{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.boundaries&&!e.startPosition)throw new v("view-tree-walker-no-start-position",null);if(e.direction&&"forward"!=e.direction&&"backward"!=e.direction)throw new v("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=Hr._createAt(e.startPosition):this._position=Hr._createAt(e.boundaries["backward"==e.direction?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n;do{n=this.position,t=this.next()}while(!t.done&&e(t.value));t.done||(this._position=n)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let e=this.position.clone();const t=this.position,n=e.parent;if(null===n.parent&&e.offset===n.childCount)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let i;if(n instanceof or){if(e.isAtEnd)return this._position=Hr._createAfter(n),this._next();i=n.data[e.offset]}else i=n.getChild(e.offset);if(i instanceof Br){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new Hr(i,0);return this._position=e,this._formatReturnValue("elementStart",i,t,e,1)}if(i instanceof or){if(this.singleCharacters)return e=new Hr(i,0),this._position=e,this._next();let n,o=i.data.length;return i==this._boundaryEndParent?(o=this.boundaries.end.offset,n=new rr(i,0,o),e=Hr._createAfter(n)):(n=new rr(i,0,i.data.length),e.offset++),this._position=e,this._formatReturnValue("text",n,t,e,o)}if("string"==typeof i){let i;i=this.singleCharacters?1:(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-e.offset;const o=new rr(n,e.offset,i);return e.offset+=i,this._position=e,this._formatReturnValue("text",o,t,e,i)}return e=Hr._createAfter(n),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,t,e)}_previous(){let e=this.position.clone();const t=this.position,n=e.parent;if(null===n.parent&&0===e.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let i;if(n instanceof or){if(e.isAtStart)return this._position=Hr._createBefore(n),this._previous();i=n.data[e.offset-1]}else i=n.getChild(e.offset-1);if(i instanceof Br)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",i,t,e,1)):(e=new Hr(i,i.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,t,e));if(i instanceof or){if(this.singleCharacters)return e=new Hr(i,i.data.length),this._position=e,this._previous();let n,o=i.data.length;if(i==this._boundaryStartParent){const t=this.boundaries.start.offset;n=new rr(i,t,i.data.length-t),o=n.data.length,e=Hr._createBefore(n)}else n=new rr(i,0,i.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",n,t,e,o)}if("string"==typeof i){let i;if(this.singleCharacters)i=1;else{const t=n===this._boundaryStartParent?this.boundaries.start.offset:0;i=e.offset-t}e.offset-=i;const o=new rr(n,e.offset,i);return this._position=e,this._formatReturnValue("text",o,t,e,i)}return e=Hr._createBefore(n),this._position=e,this._formatReturnValue("elementStart",n,t,e,1)}_formatReturnValue(e,t,n,i,o){return t instanceof rr&&(t.offsetInText+t.data.length==t.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Hr._createAfter(t.textNode):(i=Hr._createAfter(t.textNode),this._position=i)),0===t.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Hr._createBefore(t.textNode):(i=Hr._createBefore(t.textNode),this._position=i))),{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:o}}}}class Hr extends tr{constructor(e,t){super(),this.parent=e,this.offset=t}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Or);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const t=Hr._createAt(this),n=t.offset+e;return t.offset=n<0?0:n,t}getLastMatchingPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;const n=new Vr(t);return n.skip(e),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let i=0;for(;t[i]==n[i]&&t[i];)i++;return 0===i?null:t[i-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return"before"==this.compareWith(e)}isAfter(e){return"after"==this.compareWith(e)}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const t=this.parent.is("node")?this.parent.getPath():[],n=e.parent.is("node")?e.parent.getPath():[];t.push(this.offset),n.push(e.offset);const i=J(t,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return t[i]<n[i]?"before":"after"}}getWalker(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.startPosition=this,new Vr(e)}clone(){return new Hr(this.parent,this.offset)}static _createAt(e,t){if(e instanceof Hr)return new this(e.parent,e.offset);{const n=e;if("end"==t)t=n.is("$text")?n.data.length:n.childCount;else{if("before"==t)return this._createBefore(n);if("after"==t)return this._createAfter(n);if(0!==t&&!t)throw new v("view-createpositionat-offset-required",n)}return new Hr(n,t)}}static _createAfter(e){if(e.is("$textProxy"))return new Hr(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new v("view-position-after-root",e,{root:e});return new Hr(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Hr(e.textNode,e.offsetInText);if(!e.parent)throw new v("view-position-before-root",e,{root:e});return new Hr(e.parent,e.index)}}Hr.prototype.is=function(e){return"position"===e||"view:position"===e};class Wr extends tr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(),this.start=e.clone(),this.end=t?t.clone():e.clone()}*[Symbol.iterator](){yield*new Vr({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Ur,{direction:"backward"}),t=this.end.getLastMatchingPosition(Ur);return e.parent.is("$text")&&e.isAtStart&&(e=Hr._createBefore(e.parent)),t.parent.is("$text")&&t.isAtEnd&&(t=Hr._createAfter(t.parent)),new Wr(e,t)}getTrimmed(){let e=this.start.getLastMatchingPosition(Ur);if(e.isAfter(this.end)||e.isEqual(this.end))return new Wr(e,e);let t=this.end.getLastMatchingPosition(Ur,{direction:"backward"});const n=e.nodeAfter,i=t.nodeBefore;return n&&n.is("$text")&&(e=new Hr(n,0)),i&&i.is("$text")&&(t=new Hr(i,i.data.length)),new Wr(e,t)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new Wr(this.start,e.start)),this.containsPosition(e.end)&&t.push(new Wr(e.end,this.end))):t.push(this.clone()),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new Wr(t,n)}return null}getWalker(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new Vr(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,t=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(t=this.end.parent.previousSibling),e&&e.is("element")&&e===t?e:null}clone(){return new Wr(this.start,this.end)}getItems(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){t.boundaries=e,t.ignoreElementEnd=!0;const n=new Vr(t);for(const e of n)yield e.item}()}getPositions(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){t.boundaries=e;const n=new Vr(t);yield n.position;for(const e of n)yield e.nextPosition}()}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,t,n,i){return new this(new Hr(e,t),new Hr(n,i))}static _createFromPositionAndShift(e,t){const n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const t=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Hr._createBefore(e),t)}}function Ur(e){return!(!e.item.is("attributeElement")&&!e.item.is("uiElement"))}Wr.prototype.is=function(e){return"range"===e||"view:range"===e};class qr extends(D(tr)){constructor(){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",arguments.length&&this.setTo(...arguments)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?e.clone():null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel)return!1;if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const i of e._ranges)if(t.isEqual(i)){n=!0;break}if(!n)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const t=X(this.getRanges());if(t!=X(e.getRanges()))return!1;if(0==t)return!0;for(let n of this.getRanges()){n=n.getTrimmed();let t=!1;for(let i of e.getRanges())if(i=i.getTrimmed(),n.start.isEqual(i.start)&&n.end.isEqual(i.end)){t=!0;break}if(!t)return!1}return!0}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}setTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[i,o,r]=t;if("object"==typeof o&&(r=o,o=void 0),null===i)this._setRanges([]),this._setFakeOptions(r);else if(i instanceof qr||i instanceof $r)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof Wr)this._setRanges([i],r&&r.backward),this._setFakeOptions(r);else if(i instanceof Hr)this._setRanges([new Wr(i)]),this._setFakeOptions(r);else if(i instanceof ir){const e=!!r&&!!r.backward;let t;if(void 0===o)throw new v("view-selection-setto-required-second-parameter",this);t="in"==o?Wr._createIn(i):"on"==o?Wr._createOn(i):new Wr(Hr._createAt(i,o)),this._setRanges([t],e),this._setFakeOptions(r)}else{if(!ee(i))throw new v("view-selection-setto-not-selectable",this);this._setRanges(i,r&&r.backward),this._setFakeOptions(r)}this.fire("change")}setFocus(e,t){if(null===this.anchor)throw new v("view-selection-setfocus-no-ranges",this);const n=Hr._createAt(e,t);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.pop(),"before"==n.compareWith(i)?this._addRange(new Wr(n,i),!0):this._addRange(new Wr(i,n)),this.fire("change")}_setRanges(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=Array.from(e),this._ranges=[];for(const n of e)this._addRange(n);this._lastRangeBackward=!!t}_setFakeOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(e instanceof Wr))throw new v("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!t}_pushRange(e){for(const t of this._ranges)if(e.isIntersecting(t))throw new v("view-selection-range-intersects",this,{addedRange:e,intersectingRange:t});this._ranges.push(new Wr(e.start,e.end))}}qr.prototype.is=function(e){return"selection"===e||"view:selection"===e};class $r extends(D(tr)){constructor(){super(),this._selection=new qr,this._selection.delegate("change").to(this),arguments.length&&this._selection.setTo(...arguments)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(){this._selection.setTo(...arguments)}_setFocus(e,t){this._selection.setFocus(e,t)}}$r.prototype.is=function(e){return"selection"===e||"documentSelection"==e||"view:selection"==e||"view:documentSelection"==e};class Gr extends m{constructor(e,t,n){super(e,t),this.startRange=n,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Kr=Symbol("bubbling contexts");function Yr(e){return class extends e{fire(e){try{const o=e instanceof m?e:new m(this,e),r=Jr(this);if(!r.size)return;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(Qr(o,"capturing",this),Zr(r,"$capture",o,...n))return o.return;const s=o.startRange||this.selection.getFirstRange(),a=s?s.getContainedElement():null,l=!!a&&Boolean(Xr(r,a));let c=a||function(e){if(!e)return null;const t=e.start.parent,n=e.end.parent,i=t.getPath(),o=n.getPath();return i.length>o.length?t:n}(s);if(Qr(o,"atTarget",c),!l){if(Zr(r,"$text",o,...n))return o.return;Qr(o,"bubbling",c)}for(;c;){if(c.is("rootElement")){if(Zr(r,"$root",o,...n))return o.return}else if(c.is("element")&&Zr(r,c.name,o,...n))return o.return;if(Zr(r,c,o,...n))return o.return;c=c.parent,Qr(o,"bubbling",c)}return Qr(o,"bubbling",this),Zr(r,"$document",o,...n),o.return}catch(e){v.rethrowUnexpectedError(e,this)}}_addEventListener(e,t,n){const i=Mi(n.context||"$document"),o=Jr(this);for(const r of i){let i=o.get(r);i||(i=new(D()),o.set(r,i)),this.listenTo(i,e,t,n)}}_removeEventListener(e,t){const n=Jr(this);for(const i of n.values())this.stopListening(i,e,t)}}}{const e=Yr(Object);["fire","_addEventListener","_removeEventListener"].forEach((t=>{Yr[t]=e.prototype[t]}))}function Qr(e,t,n){e instanceof Gr&&(e._eventPhase=t,e._currentTarget=n)}function Zr(e,t,n){const i="string"==typeof t?e.get(t):Xr(e,t);for(var o=arguments.length,r=new Array(o>3?o-3:0),s=3;s<o;s++)r[s-3]=arguments[s];return!!i&&(i.fire(n,...r),n.stop.called)}function Xr(e,t){for(const[n,i]of e)if("function"==typeof n&&n(t))return i;return null}function Jr(e){return e[Kr]||(e[Kr]=new Map),e[Kr]}class es extends(Yr(q())){constructor(e){super(),this._postFixers=new Set,this.selection=new $r,this.roots=new Qi({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.forEach((e=>e.destroy())),this.stopListening()}_callPostFixers(e){let t=!1;do{for(const n of this._postFixers)if(t=n(e),t)break}while(t)}}class ts extends Br{constructor(e,t,n,i){super(e,t,n,i),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=ns}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new v("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return null!==this.id||null!==e.id?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=super._clone(e);return t._priority=this._priority,t._id=this._id,t}}function ns(){if(is(this))return null;let e=this.parent;for(;e&&e.is("attributeElement");){if(is(e)>1)return null;e=e.parent}return!e||is(e)>1?null:this.childCount}function is(e){return Array.from(e.getChildren()).filter((e=>!e.is("uiElement"))).length}ts.DEFAULT_PRIORITY=10,ts.prototype.is=function(e,t){return t?t===this.name&&("attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e):"attributeElement"===e||"view:attributeElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class os extends Br{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=rs}_insertChild(e,t){if(t&&(t instanceof ir||Array.from(t).length>0))throw new v("view-emptyelement-cannot-add",[this,t]);return 0}}function rs(){return null}os.prototype.is=function(e,t){return t?t===this.name&&("emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e):"emptyElement"===e||"view:emptyElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class ss extends Br{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=as}_insertChild(e,t){if(t&&(t instanceof ir||Array.from(t).length>0))throw new v("view-uielement-cannot-add",[this,t]);return 0}render(e,t){return this.toDomElement(e)}toDomElement(e){const t=e.createElement(this.name);for(const n of this.getAttributeKeys())t.setAttribute(n,this.getAttribute(n));return t}}function as(){return null}ss.prototype.is=function(e,t){return t?t===this.name&&("uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e):"uiElement"===e||"view:uiElement"===e||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class ls extends Br{constructor(e,t,n,i){super(e,t,n,i),this.getFillerOffset=cs}_insertChild(e,t){if(t&&(t instanceof ir||Array.from(t).length>0))throw new v("view-rawelement-cannot-add",[this,t]);return 0}render(e,t){}}function cs(){return null}ls.prototype.is=function(e,t){return t?t===this.name&&("rawElement"===e||"view:rawElement"===e||"element"===e||"view:element"===e):"rawElement"===e||"view:rawElement"===e||e===this.name||e==="view:"+this.name||"element"===e||"view:element"===e||"node"===e||"view:node"===e};class ds extends(D(tr)){constructor(e,t){super(),this._children=[],this._customProperties=new Map,this.document=e,t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}get name(){}get getFillerOffset(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,t){this._fireChange("children",this);let n=0;const i=function(e,t){return"string"==typeof t?[new or(e,t)]:(ee(t)||(t=[t]),Array.from(t).map((t=>"string"==typeof t?new or(e,t):t instanceof rr?new or(e,t.data):t)))}(this.document,t);for(const o of i)null!==o.parent&&o._remove(),o.parent=this,this._children.splice(e,0,o),e++,n++;return n}_removeChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this._fireChange("children",this);for(let n=e;n<e+t;n++)this._children[n].parent=null;return this._children.splice(e,t)}_fireChange(e,t){this.fire("change:"+e,t)}_setCustomProperty(e,t){this._customProperties.set(e,t)}_removeCustomProperty(e){return this._customProperties.delete(e)}}ds.prototype.is=function(e){return"documentFragment"===e||"view:documentFragment"===e};class us{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(){this.document.selection._setTo(...arguments)}setSelectionFocus(e,t){this.document.selection._setFocus(e,t)}createDocumentFragment(e){return new ds(this.document,e)}createText(e){return new or(this.document,e)}createAttributeElement(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new ts(this.document,e,t);return"number"==typeof n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createContainerElement(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=null;xe(n)?i=n:o=n;const r=new Lr(this.document,e,t,o);return i.renderUnsafeAttributes&&r._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),r}createEditableElement(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new Or(this.document,e,t);return n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createEmptyElement(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new os(this.document,e,t);return n.renderUnsafeAttributes&&i._unsafeAttributesToRender.push(...n.renderUnsafeAttributes),i}createUIElement(e,t,n){const i=new ss(this.document,e,t);return n&&(i.render=n),i}createRawElement(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=new ls(this.document,e,t);return n&&(o.render=n),i.renderUnsafeAttributes&&o._unsafeAttributesToRender.push(...i.renderUnsafeAttributes),o}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){xe(e)&&void 0===n?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}breakAttributes(e){return e instanceof Hr?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const t=e.parent;if(!t.is("containerElement"))throw new v("view-writer-break-non-container-element",this.document);if(!t.parent)throw new v("view-writer-break-root",this.document);if(e.isAtStart)return Hr._createBefore(t);if(!e.isAtEnd){const n=t._clone(!1);this.insert(Hr._createAfter(t),n);const i=new Wr(e,Hr._createAt(t,"end")),o=new Hr(n,0);this.move(i,o)}return Hr._createAfter(t)}mergeAttributes(e){const t=e.offset,n=e.parent;if(n.is("$text"))return e;if(n.is("attributeElement")&&0===n.childCount){const e=n.parent,t=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Hr(e,t))}const i=n.getChild(t-1),o=n.getChild(t);if(!i||!o)return e;if(i.is("$text")&&o.is("$text"))return fs(i,o);if(i.is("attributeElement")&&o.is("attributeElement")&&i.isSimilar(o)){const e=i.childCount;return i._appendChild(o.getChildren()),o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new Hr(i,e))}return e}mergeContainers(e){const t=e.nodeBefore,n=e.nodeAfter;if(!(t&&n&&t.is("containerElement")&&n.is("containerElement")))throw new v("view-writer-merge-containers-invalid-position",this.document);const i=t.getChild(t.childCount-1),o=i instanceof or?Hr._createAt(i,"end"):Hr._createAt(t,"end");return this.move(Wr._createIn(n),Hr._createAt(t,"end")),this.remove(Wr._createOn(n)),o}insert(e,t){ys(t=ee(t)?[...t]:[t],this.document);const n=t.reduce(((e,t)=>{const n=e[e.length-1],i=!t.is("uiElement");return n&&n.breakAttributes==i?n.nodes.push(t):e.push({breakAttributes:i,nodes:[t]}),e}),[]);let i=null,o=e;for(const{nodes:r,breakAttributes:s}of n){const e=this._insertNodes(o,r,s);i||(i=e.start),o=e.end}return i?new Wr(i,o):new Wr(e)}remove(e){const t=e instanceof Wr?e:Wr._createOn(e);if(vs(t,this.document),t.isCollapsed)return new ds(this.document);const{start:n,end:i}=this._breakAttributesRange(t,!0),o=n.parent,r=i.offset-n.offset,s=o._removeChildren(n.offset,r);for(const l of s)this._removeFromClonedElementsGroup(l);const a=this.mergeAttributes(n);return t.start=a,t.end=a.clone(),new ds(this.document,s)}clear(e,t){vs(e,this.document);const n=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of n){const n=i.item;let o;if(n.is("element")&&t.isSimilar(n))o=Wr._createOn(n);else if(!i.nextPosition.isAfter(e.start)&&n.is("$textProxy")){const e=n.getAncestors().find((e=>e.is("element")&&t.isSimilar(e)));e&&(o=Wr._createIn(e))}o&&(o.end.isAfter(e.end)&&(o.end=e.end),o.start.isBefore(e.start)&&(o.start=e.start),this.remove(o))}}move(e,t){let n;if(t.isAfter(e.end)){const i=(t=this._breakAttributes(t,!0)).parent,o=i.childCount;e=this._breakAttributesRange(e,!0),n=this.remove(e),t.offset+=i.childCount-o}else n=this.remove(e);return this.insert(t,n)}wrap(e,t){if(!(t instanceof ts))throw new v("view-writer-wrap-invalid-attribute",this.document);if(vs(e,this.document),e.isCollapsed){let i=e.start;i.parent.is("element")&&(n=i.parent,!Array.from(n.getChildren()).some((e=>!e.is("uiElement"))))&&(i=i.getLastMatchingPosition((e=>e.item.is("uiElement")))),i=this._wrapPosition(i,t);const o=this.document.selection;return o.isCollapsed&&o.getFirstPosition().isEqual(e.start)&&this.setSelection(i),new Wr(i)}return this._wrapRange(e,t);var n}unwrap(e,t){if(!(t instanceof ts))throw new v("view-writer-unwrap-invalid-attribute",this.document);if(vs(e,this.document),e.isCollapsed)return e;const{start:n,end:i}=this._breakAttributesRange(e,!0),o=n.parent,r=this._unwrapChildren(o,n.offset,i.offset,t),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;const a=this.mergeAttributes(r.end);return new Wr(s,a)}rename(e,t){const n=new Lr(this.document,e,t.getAttributes());return this.insert(Hr._createAfter(t),n),this.move(Wr._createIn(t),Hr._createAt(n,0)),this.remove(Wr._createOn(t)),n}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,t){return Hr._createAt(e,t)}createPositionAfter(e){return Hr._createAfter(e)}createPositionBefore(e){return Hr._createBefore(e)}createRange(e,t){return new Wr(e,t)}createRangeOn(e){return Wr._createOn(e)}createRangeIn(e){return Wr._createIn(e)}createSelection(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qr(...t)}createSlot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"children";if(!this._slotFactory)throw new v("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,t,n){let i,o;if(i=n?ps(e):e.parent.is("$text")?e.parent.parent:e.parent,!i)throw new v("view-writer-invalid-position-container",this.document);o=n?this._breakAttributes(e,!0):e.parent.is("$text")?ms(e):e;const r=i._insertChild(o.offset,t);for(const c of t)this._addToClonedElementsGroup(c);const s=o.getShiftedBy(r),a=this.mergeAttributes(o);a.isEqual(o)||s.offset--;const l=this.mergeAttributes(s);return new Wr(a,l)}_wrapChildren(e,t,n,i){let o=t;const r=[];for(;o<n;){const t=e.getChild(o),n=t.is("$text"),s=t.is("attributeElement");if(s&&this._wrapAttributeElement(i,t))r.push(new Hr(e,o));else if(n||!s||hs(i,t)){const n=i._clone();t._remove(),n._appendChild(t),e._insertChild(o,n),this._addToClonedElementsGroup(n),r.push(new Hr(e,o))}else this._wrapChildren(t,0,t.childCount,i);o++}let s=0;for(const a of r)a.offset-=s,a.offset!=t&&(this.mergeAttributes(a).isEqual(a)||(s++,n--));return Wr._createFromParentsAndOffsets(e,t,e,n)}_unwrapChildren(e,t,n,i){let o=t;const r=[];for(;o<n;){const t=e.getChild(o);if(t.is("attributeElement"))if(t.isSimilar(i)){const i=t.getChildren(),s=t.childCount;t._remove(),e._insertChild(o,i),this._removeFromClonedElementsGroup(t),r.push(new Hr(e,o),new Hr(e,o+s)),o+=s,n+=s-1}else this._unwrapAttributeElement(i,t)?(r.push(new Hr(e,o),new Hr(e,o+1)),o++):(this._unwrapChildren(t,0,t.childCount,i),o++);else o++}let s=0;for(const a of r)a.offset-=s,a.offset!=t&&a.offset!=n&&(this.mergeAttributes(a).isEqual(a)||(s++,n--));return Wr._createFromParentsAndOffsets(e,t,e,n)}_wrapRange(e,t){const{start:n,end:i}=this._breakAttributesRange(e,!0),o=n.parent,r=this._wrapChildren(o,n.offset,i.offset,t),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;const a=this.mergeAttributes(r.end);return new Wr(s,a)}_wrapPosition(e,t){if(t.isSimilar(e.parent))return gs(e.clone());e.parent.is("$text")&&(e=ms(e));const n=this.createAttributeElement("_wrapPosition-fake-element");n._priority=Number.POSITIVE_INFINITY,n.isSimilar=()=>!1,e.parent._insertChild(e.offset,n);const i=new Wr(e,e.getShiftedBy(1));this.wrap(i,t);const o=new Hr(n.parent,n.index);n._remove();const r=o.nodeBefore,s=o.nodeAfter;return r instanceof or&&s instanceof or?fs(r,s):gs(o)}_wrapAttributeElement(e,t){if(!ks(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if("class"!==n&&"style"!==n&&t.hasAttribute(n)&&t.getAttribute(n)!==e.getAttribute(n))return!1;for(const n of e.getStyleNames())if(t.hasStyle(n)&&t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())"class"!==n&&"style"!==n&&(t.hasAttribute(n)||this.setAttribute(n,e.getAttribute(n),t));for(const n of e.getStyleNames())t.hasStyle(n)||this.setStyle(n,e.getStyle(n),t);for(const n of e.getClassNames())t.hasClass(n)||this.addClass(n,t);return!0}_unwrapAttributeElement(e,t){if(!ks(e,t))return!1;if(e.name!==t.name||e.priority!==t.priority)return!1;for(const n of e.getAttributeKeys())if("class"!==n&&"style"!==n&&(!t.hasAttribute(n)||t.getAttribute(n)!==e.getAttribute(n)))return!1;if(!t.hasClass(...e.getClassNames()))return!1;for(const n of e.getStyleNames())if(!t.hasStyle(n)||t.getStyle(n)!==e.getStyle(n))return!1;for(const n of e.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,t);return this.removeClass(Array.from(e.getClassNames()),t),this.removeStyle(Array.from(e.getStyleNames()),t),!0}_breakAttributesRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.start,i=e.end;if(vs(e,this.document),e.isCollapsed){const n=this._breakAttributes(e.start,t);return new Wr(n,n)}const o=this._breakAttributes(i,t),r=o.parent.childCount,s=this._breakAttributes(n,t);return o.offset+=o.parent.childCount-r,new Wr(s,o)}_breakAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.offset,i=e.parent;if(e.parent.is("emptyElement"))throw new v("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new v("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new v("view-writer-cannot-break-raw-element",this.document);if(!t&&i.is("$text")&&ws(i.parent))return e.clone();if(ws(i))return e.clone();if(i.is("$text"))return this._breakAttributes(ms(e),t);if(n==i.childCount){const e=new Hr(i.parent,i.index+1);return this._breakAttributes(e,t)}if(0===n){const e=new Hr(i.parent,i.index);return this._breakAttributes(e,t)}{const e=i.index+1,o=i._clone();i.parent._insertChild(e,o),this._addToClonedElementsGroup(o);const r=i.childCount-n,s=i._removeChildren(n,r);o._appendChild(s);const a=new Hr(i.parent,e);return this._breakAttributes(a,t)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const i of e.getChildren())this._addToClonedElementsGroup(i);const t=e.id;if(!t)return;let n=this._cloneGroups.get(t);n||(n=new Set,this._cloneGroups.set(t,n)),n.add(e),e._clonesGroup=n}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const i of e.getChildren())this._removeFromClonedElementsGroup(i);const t=e.id;if(!t)return;const n=this._cloneGroups.get(t);n&&n.delete(e)}}function ps(e){let t=e.parent;for(;!ws(t);){if(!t)return;t=t.parent}return t}function hs(e,t){return e.priority<t.priority||!(e.priority>t.priority)&&e.getIdentity()<t.getIdentity()}function gs(e){const t=e.nodeBefore;if(t&&t.is("$text"))return new Hr(t,t.data.length);const n=e.nodeAfter;return n&&n.is("$text")?new Hr(n,0):e}function ms(e){if(e.offset==e.parent.data.length)return new Hr(e.parent.parent,e.parent.index+1);if(0===e.offset)return new Hr(e.parent.parent,e.parent.index);const t=e.parent.data.slice(e.offset);return e.parent._data=e.parent.data.slice(0,e.offset),e.parent.parent._insertChild(e.parent.index+1,new or(e.root.document,t)),new Hr(e.parent.parent,e.parent.index+1)}function fs(e,t){const n=e.data.length;return e._data+=t.data,t._remove(),new Hr(e,n)}const bs=[or,ts,Lr,os,ls,ss];function ys(e,t){for(const n of e){if(!bs.some((e=>n instanceof e)))throw new v("view-writer-insert-invalid-node-type",t);n.is("$text")||ys(n.getChildren(),t)}}function ws(e){return e&&(e.is("containerElement")||e.is("documentFragment"))}function vs(e,t){const n=ps(e.start),i=ps(e.end);if(!n||!i||n!==i)throw new v("view-writer-invalid-range-container",t)}function ks(e,t){return null===e.id&&null===t.id}const _s=e=>e.createTextNode("\xa0"),xs=e=>{const t=e.createElement("span");return t.dataset.ckeFiller="true",t.innerText="\xa0",t},As=e=>{const t=e.createElement("br");return t.dataset.ckeFiller="true",t},Cs="\u2060".repeat(7);function Ss(e){return"string"==typeof e?e.substr(0,7)===Cs:qn(e)&&e.data.substr(0,7)===Cs}function Is(e){return 7==e.data.length&&Ss(e)}function Ts(e){const t="string"==typeof e?e:e.data;return Ss(e)?t.slice(7):t}function Es(e,t){if(t.keyCode==Ci.arrowleft){const e=t.domTarget.ownerDocument.defaultView.getSelection();if(1==e.rangeCount&&e.getRangeAt(0).collapsed){const t=e.getRangeAt(0).startContainer,n=e.getRangeAt(0).startOffset;Ss(t)&&n<=7&&e.collapse(t,0)}}}var Ds=r(8264);Do()(Ds.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ds.A.locals;class Ms extends(q()){constructor(e,t){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=t,this.set("isFocused",!1),this.set("isSelecting",!1),c.isBlink&&!c.isAndroid&&this.on("change:isSelecting",(()=>{this.isSelecting||this.render()})),this.set("isComposing",!1),this.on("change:isComposing",(()=>{this.isComposing||this.render()}))}markToSync(e,t){if("text"===e)this.domConverter.mapViewToDom(t.parent)&&this.markedTexts.add(t);else{if(!this.domConverter.mapViewToDom(t))return;if("attributes"===e)this.markedAttributes.add(t);else{if("children"!==e)throw new v("view-renderer-unknown-type",this);this.markedChildren.add(t)}}}render(){if(this.isComposing&&!c.isAndroid)return;let e=null;const t=!(c.isBlink&&!c.isAndroid)||!this.isSelecting;for(const n of this.markedChildren)this._updateChildrenMappings(n);t?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Hr._createBefore(e.parent)));for(const n of this.markedAttributes)this._updateAttrs(n);for(const n of this.markedChildren)this._updateChildren(n,{inlineFillerPosition:e});for(const n of this.markedTexts)!this.markedChildren.has(n.parent)&&this.domConverter.mapViewToDom(n.parent)&&this._updateText(n,{inlineFillerPosition:e});if(t)if(e){const t=this.domConverter.viewPositionToDom(e),n=t.parent.ownerDocument;Ss(t.parent)?this._inlineFiller=t.parent:this._inlineFiller=Ps(n,t.parent,t.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.domConverter._clearTemporaryCustomProperties(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.childNodes),i=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),o=this._diffNodeLists(n,i),r=this._findUpdateActions(o,n,i,Rs);if(-1!==r.indexOf("update")){const t={equal:0,insert:0,delete:0};for(const o of r)if("update"===o){const o=t.equal+t.insert,r=t.equal+t.delete,s=e.getChild(o);!s||s.is("uiElement")||s.is("rawElement")||this._updateElementMappings(s,n[r]),pi(i[o]),t.equal++}else t[o]++}}_updateElementMappings(e,t){this.domConverter.unbindDomElement(t),this.domConverter.bindElements(t,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Hr._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=this.domConverter.viewPositionToDom(e);return!!(t&&qn(t.parent)&&Ss(t.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!Ss(e))throw new v("view-renderer-filler-was-lost",this);Is(e)?e.remove():e.data=e.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),t=e.parent,n=e.offset;if(!this.domConverter.mapViewToDom(t.root))return!1;if(!t.is("element"))return!1;if(!function(e){if("false"==e.getAttribute("contenteditable"))return!1;const t=e.findAncestor((e=>e.hasAttribute("contenteditable")));return!t||"true"==t.getAttribute("contenteditable")}(t))return!1;const i=e.nodeBefore,o=e.nodeAfter;return!(i instanceof or||o instanceof or)&&!!(n!==t.getFillerOffset()||i&&i.is("element","br"))&&(!c.isAndroid||!i&&!o)}_updateText(e,t){const n=this.domConverter.findCorrespondingDomText(e);let i=this.domConverter.viewToDom(e).data;const o=t.inlineFillerPosition;o&&o.parent==e.parent&&o.offset==e.index&&(i=Cs+i),Ls(n,i)}_updateAttrs(e){const t=this.domConverter.mapViewToDom(e);if(!t)return;const n=Array.from(t.attributes).map((e=>e.name)),i=e.getAttributeKeys();for(const o of i)this.domConverter.setDomElementAttribute(t,o,e.getAttribute(o),e);for(const o of n)e.hasAttribute(o)||this.domConverter.removeDomElementAttribute(t,o)}_updateChildren(e,t){const n=this.domConverter.mapViewToDom(e);if(!n)return;if(c.isAndroid){let e=null;for(const t of Array.from(n.childNodes)){if(e&&qn(e)&&qn(t)){n.normalize();break}e=t}}const i=t.inlineFillerPosition,o=n.childNodes,r=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));i&&i.parent===e&&Ps(n.ownerDocument,r,i.offset);const s=this._diffNodeLists(o,r),a=this._findUpdateActions(s,o,r,Bs);let l=0;const d=new Set;for(const c of a)"delete"===c?(d.add(o[l]),pi(o[l])):"equal"!==c&&"update"!==c||l++;l=0;for(const c of a)"insert"===c?(ri(n,l,r[l]),l++):"update"===c?(Ls(o[l],r[l].data),l++):"equal"===c&&(this._markDescendantTextToSync(this.domConverter.domToView(r[l])),l++);for(const c of d)c.parentNode||this.domConverter.unbindDomElement(c)}_diffNodeLists(e,t){return e=function(e,t){const n=Array.from(e);return 0!=n.length&&t?(n[n.length-1]==t&&n.pop(),n):n}(e,this._fakeSelectionContainer),g(e,t,js.bind(null,this.domConverter))}_findUpdateActions(e,t,n,i){if(-1===e.indexOf("insert")||-1===e.indexOf("delete"))return e;let o=[],r=[],s=[];const a={equal:0,insert:0,delete:0};for(const l of e)"insert"===l?s.push(n[a.equal+a.insert]):"delete"===l?r.push(t[a.equal+a.delete]):(o=o.concat(g(r,s,i).map((e=>"equal"===e?"update":e))),o.push("equal"),r=[],s=[]),a[l]++;return o.concat(g(r,s,i).map((e=>"equal"===e?"update":e)))}_markDescendantTextToSync(e){if(e)if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const t of e.getChildren())this._markDescendantTextToSync(t)}_updateSelection(){if(c.isBlink&&!c.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&c.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const t=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(e){const t=e.createElement("div");return t.className="ck-fake-selection-container",Object.assign(t.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),t.textContent="\xa0",t}(t));const n=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(n,this.selection),!this._fakeSelectionNeedsUpdate(e))return;n.parentElement&&n.parentElement==e||e.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||"\xa0";const i=t.getSelection(),o=t.createRange();i.removeAllRanges(),o.selectNodeContents(n),i.addRange(o)}_updateDomSelection(e){const t=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(t))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);t.setBaseAndExtent(n.parent,n.offset,i.parent,i.offset),c.isGecko&&function(e,t){let n=e.parent,i=e.offset;if(qn(n)&&Is(n)&&(i=oi(n)+1,n=n.parentNode),n.nodeType!=Node.ELEMENT_NODE||i!=n.childNodes.length-1)return;const o=n.childNodes[i];o&&"BR"==o.tagName&&t.addRange(t.getRangeAt(0))}(i,t)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const t=e&&this.domConverter.domSelectionToView(e);return(!t||!this.selection.isEqual(t))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(t))}_fakeSelectionNeedsUpdate(e){const t=this._fakeSelectionContainer,n=e.ownerDocument.getSelection();return!t||t.parentElement!==e||n.anchorNode!==t&&!t.contains(n.anchorNode)||t.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const t=e.getSelection();if(t.rangeCount){const n=e.activeElement,i=this.domConverter.mapDomToView(n);n&&i&&t.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function Ps(e,t,n){const i=t instanceof Array?t:t.childNodes,o=i[n];if(qn(o))return o.data=Cs+o.data,o;{const o=e.createTextNode(Cs);return Array.isArray(t)?i.splice(n,0,o):ri(t,n,o),o}}function Rs(e,t){return On(e)&&On(t)&&!qn(e)&&!qn(t)&&!si(e)&&!si(t)&&e.tagName.toLowerCase()===t.tagName.toLowerCase()}function Bs(e,t){return On(e)&&On(t)&&qn(e)&&qn(t)}function js(e,t,n){return t===n||(qn(t)&&qn(n)?t.data===n.data:!(!e.isBlockFiller(t)||!e.isBlockFiller(n)))}function Ls(e,t){const n=e.data;if(n==t)return;const i=u(n,t);for(const o of i)"insert"===o.type?e.insertData(o.index,o.values.join("")):e.deleteData(o.index,o.howMany)}const zs=As(o.document),Os=_s(o.document),Ns=xs(o.document),Fs="data-ck-unsafe-attribute-",Vs="data-ck-unsafe-element";class Hs{constructor(e){let{blockFillerMode:t,renderingMode:n="editing"}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new sr,this._inlineObjectElementMatcher=new sr,this._elementsWithTemporaryCustomProperties=new Set,this.document=e,this.renderingMode=n,this.blockFillerMode=t||("editing"===n?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument="editing"===this.renderingMode?o.document:o.document.implementation.createHTMLDocument("")}bindFakeSelection(e,t){this._fakeSelectionMapping.set(e,new qr(t))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}unbindDomElement(e){const t=this._domToViewMapping.get(e);if(t){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(t);for(const t of Array.from(e.children))this.unbindDomElement(t)}}bindDocumentFragments(e,t){this._domToViewMapping.set(e,t),this._viewToDomMapping.set(t,e)}shouldRenderAttribute(e,t,n){return"data"===this.renderingMode||!(e=e.toLowerCase()).startsWith("on")&&("srcdoc"!==e||!t.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&("img"===n&&("src"===e||"srcset"===e)||"source"===n&&"srcset"===e||!t.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,t){if("data"===this.renderingMode)return void(e.innerHTML=t);const n=(new DOMParser).parseFromString(t,"text/html"),i=n.createDocumentFragment(),o=n.body.childNodes;for(;o.length>0;)i.appendChild(o[0]);const r=n.createTreeWalker(i,NodeFilter.SHOW_ELEMENT),s=[];let a;for(;a=r.nextNode();)s.push(a);for(const l of s){for(const t of l.getAttributeNames())this.setDomElementAttribute(l,t,l.getAttribute(t));const e=l.tagName.toLowerCase();this._shouldRenameElement(e)&&($s(e),l.replaceWith(this._createReplacementDomElement(e,l)))}for(;e.firstChild;)e.firstChild.remove();e.append(i)}viewToDom(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.is("$text")){const t=this._processDataFromViewText(e);return this._domDocument.createTextNode(t)}{const n=e;if(this.mapViewToDom(n)){if(!n.getCustomProperty("editingPipeline:doNotReuseOnce"))return this.mapViewToDom(n);this._elementsWithTemporaryCustomProperties.add(n)}let i;if(n.is("documentFragment"))i=this._domDocument.createDocumentFragment(),t.bind&&this.bindDocumentFragments(i,n);else{if(n.is("uiElement"))return i="$comment"===n.name?this._domDocument.createComment(n.getCustomProperty("$rawContent")):n.render(this._domDocument,this),t.bind&&this.bindElements(i,n),i;this._shouldRenameElement(n.name)?($s(n.name),i=this._createReplacementDomElement(n.name)):i=n.hasAttribute("xmlns")?this._domDocument.createElementNS(n.getAttribute("xmlns"),n.name):this._domDocument.createElement(n.name),n.is("rawElement")&&n.render(i,this),t.bind&&this.bindElements(i,n);for(const e of n.getAttributeKeys())this.setDomElementAttribute(i,e,n.getAttribute(e),n)}if(!1!==t.withChildren)for(const e of this.viewChildrenToDom(n,t))i instanceof HTMLTemplateElement?i.content.appendChild(e):i.appendChild(e);return i}}setDomElementAttribute(e,t,n,i){const r=this.shouldRenderAttribute(t,n,e.tagName.toLowerCase())||i&&i.shouldRenderUnsafeAttribute(t);r||k("domconverter-unsafe-attribute-detected",{domElement:e,key:t,value:n}),function(e){try{o.document.createAttribute(e)}catch(e){return!1}return!0}(t)?(e.hasAttribute(t)&&!r?e.removeAttribute(t):e.hasAttribute(Fs+t)&&r&&e.removeAttribute(Fs+t),e.setAttribute(r?t:Fs+t,n)):k("domconverter-invalid-attribute-detected",{domElement:e,key:t,value:n})}removeDomElementAttribute(e,t){t!=Vs&&(e.removeAttribute(t),e.removeAttribute(Fs+t))}viewChildrenToDom(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function*(){const i=e.getFillerOffset&&e.getFillerOffset();let o=0;for(const r of e.getChildren()){i===o&&(yield t._getBlockFiller());const e=r.is("element")&&!!r.getCustomProperty("dataPipeline:transparentRendering")&&!Zi(r.getAttributes());e&&"data"==t.renderingMode?yield*t.viewChildrenToDom(r,n):(e&&k("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:r}),yield t.viewToDom(r,n)),o++}i===o&&(yield t._getBlockFiller())}()}viewRangeToDom(e){const t=this.viewPositionToDom(e.start),n=this.viewPositionToDom(e.end),i=this._domDocument.createRange();return i.setStart(t.parent,t.offset),i.setEnd(n.parent,n.offset),i}viewPositionToDom(e){const t=e.parent;if(t.is("$text")){const n=this.findCorrespondingDomText(t);if(!n)return null;let i=e.offset;return Ss(n)&&(i+=7),{parent:n,offset:i}}{let n,i,o;if(0===e.offset){if(n=this.mapViewToDom(t),!n)return null;o=n.childNodes[0]}else{const t=e.nodeBefore;if(i=t.is("$text")?this.findCorrespondingDomText(t):this.mapViewToDom(t),!i)return null;n=i.parentNode,o=i.nextSibling}return qn(o)&&Ss(o)?{parent:o,offset:7}:{parent:n,offset:i?oi(i)+1:0}}}domToView(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],i=this._domToView(e,t,n),o=i.next().value;return o?(i.next(),this._processDomInlineNodes(null,n,t),o.is("$text")&&0==o.data.length?null:o):null}domChildrenToView(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function*(){let o=[];o=e instanceof HTMLTemplateElement?[...e.content.childNodes]:[...e.childNodes];for(let r=0;r<o.length;r++){const s=o[r],a=t._domToView(s,n,i),l=a.next().value;null!==l&&(t._isBlockViewElement(l)&&t._processDomInlineNodes(e,i,n),yield l,a.next())}t._processDomInlineNodes(e,i,n)}()}domSelectionToView(e){if(function(e){if(!c.isGecko)return!1;if(!e.rangeCount)return!1;const t=e.getRangeAt(0).startContainer;try{Object.prototype.toString.call(t)}catch(e){return!0}return!1}(e))return new qr([]);if(1===e.rangeCount){let t=e.getRangeAt(0).startContainer;qn(t)&&(t=t.parentNode);const n=this.fakeSelectionToView(t);if(n)return n}const t=this.isDomSelectionBackward(e),n=[];for(let i=0;i<e.rangeCount;i++){const t=e.getRangeAt(i),o=this.domRangeToView(t);o&&n.push(o)}return new qr(n,{backward:t})}domRangeToView(e){const t=this.domPositionToView(e.startContainer,e.startOffset),n=this.domPositionToView(e.endContainer,e.endOffset);return t&&n?new Wr(t,n):null}domPositionToView(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,oi(e));const n=this.mapDomToView(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return Hr._createBefore(n);if(qn(e)){if(Is(e))return this.domPositionToView(e.parentNode,oi(e));const n=this.findCorrespondingViewText(e);let i=t;return n?(Ss(e)&&(i-=7,i=i<0?0:i),new Hr(n,i)):null}if(0===t){const t=this.mapDomToView(e);if(t)return new Hr(t,0)}else{const n=e.childNodes[t-1];if(qn(n)&&Is(n)||n&&this.isBlockFiller(n))return this.domPositionToView(n.parentNode,oi(n));const i=qn(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(i&&i.parent)return new Hr(i.parent,i.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Is(e))return null;const t=this.getHostViewElement(e);if(t)return t;const n=e.previousSibling;if(n){if(!this.isElement(n))return null;const e=this.mapDomToView(n);if(e){const t=e.nextSibling;return t instanceof or?t:null}}else{const t=this.mapDomToView(e.parentNode);if(t){const e=t.getChild(0);return e instanceof or?e:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const t=e.previousSibling;return t&&this.mapViewToDom(t)?this.mapViewToDom(t).nextSibling:!t&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const t=this.mapViewToDom(e);if(t&&t.ownerDocument.activeElement!==t){const{scrollX:e,scrollY:n}=o.window,i=[];Us(t,(e=>{const{scrollLeft:t,scrollTop:n}=e;i.push([t,n])})),t.focus(),Us(t,(e=>{const[t,n]=i.shift();e.scrollLeft=t,e.scrollTop=n})),o.window.scrollTo(e,n)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const t=e.ownerDocument.defaultView.getSelection(),n=this.domSelectionToView(t);n&&n.rangeCount>0&&t.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return"br"==this.blockFillerMode?e.isEqualNode(zs):!("BR"!==e.tagName||!qs(e,this.blockElements)||1!==e.parentNode.childNodes.length)||e.isEqualNode(Ns)||function(e,t){return e.isEqualNode(Os)&&qs(e,t)&&1===e.parentNode.childNodes.length}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const t=this._domDocument.createRange();try{t.setStart(e.anchorNode,e.anchorOffset),t.setEnd(e.focusNode,e.focusOffset)}catch(e){return!1}const n=t.collapsed;return t.detach(),n}getHostViewElement(e){const t=function(e){const t=[];let n=e;for(;n&&n.nodeType!=Node.DOCUMENT_NODE;)t.unshift(n),n=n.parentNode;return t}(e);for(t.pop();t.length;){const e=t.pop(),n=this._domToViewMapping.get(e);if(n&&(n.is("uiElement")||n.is("rawElement")))return n}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_clearTemporaryCustomProperties(){for(const e of this._elementsWithTemporaryCustomProperties)e._removeCustomProperty("editingPipeline:doNotReuseOnce");this._elementsWithTemporaryCustomProperties.clear()}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return _s(this._domDocument);case"markedNbsp":return xs(this._domDocument);case"br":return As(this._domDocument)}}_isDomSelectionPositionCorrect(e,t){if(qn(e)&&Ss(e)&&t<7)return!1;if(this.isElement(e)&&Ss(e.childNodes[t]))return!1;const n=this.mapDomToView(e);return!n||!n.is("uiElement")&&!n.is("rawElement")}*_domToView(e,t,n){if(this.isBlockFiller(e))return null;const i=this.getHostViewElement(e);if(i)return i;if(si(e)&&t.skipComments)return null;if(qn(e)){if(Is(e))return null;{const t=e.data;if(""===t)return null;const i=new or(this.document,t);return n.push(i),i}}{let i=this.mapDomToView(e);if(i)return this._isInlineObjectElement(i)&&n.push(i),i;if(this.isDocumentFragment(e))i=new ds(this.document),t.bind&&this.bindDocumentFragments(e,i);else{i=this._createViewElement(e,t),t.bind&&this.bindElements(e,i);const o=e.attributes;if(o)for(let e=o.length,t=0;t<e;t++)i._setAttribute(o[t].name,o[t].value);if(this._isViewElementWithRawContent(i,t))return i._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(i)||n.push(i),i;if(si(e))return i._setCustomProperty("$rawContent",e.data),i}yield i;const o=[];if(!1!==t.withChildren)for(const n of this.domChildrenToView(e,t,o))i._appendChild(n);if(this._isInlineObjectElement(i))n.push(i);else for(const e of o)n.push(e)}}_processDomInlineNodes(e,t,n){if(!t.length)return;if(e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let i=!1;for(let o=0;o<t.length;o++){const e=t[o];if(!e.is("$text")){i=!1;continue}let r,s=!1;if(Ws(e,this.preElements))r=Ts(e.data);else{r=e.data.replace(/[ \n\t\r]{1,}/g," "),s=/[^\S\u00A0]/.test(r.charAt(r.length-1));const a=o>0?t[o-1]:null,l=o+1<t.length?t[o+1]:null,c=!a||a.is("element")&&"br"==a.name||i,d=!l&&!Ss(e.data);!1!==n.withChildren&&(c&&(r=r.replace(/^ /,"")),d&&(r=r.replace(/ $/,""))),r=Ts(r),r=r.replace(/ \u00A0/g,"  ");const u=l&&l.is("element")&&"br"!=l.name,p=l&&l.is("$text")&&" "==l.data.charAt(0);(/[ \u00A0]\u00A0$/.test(r)||!l||u||p)&&(r=r.replace(/\u00A0$/," ")),(c||a&&a.is("element")&&"br"!=a.name)&&(r=r.replace(/^\u00A0/," "))}0==r.length&&e.parent?(e._remove(),t.splice(o,1),o--):(e._data=r,i=s)}t.length=0}_processDataFromViewText(e){let t=e.data;if(e.getAncestors().some((e=>this.preElements.includes(e.name))))return t;if(" "==t.charAt(0)){const n=this._getTouchingInlineViewNode(e,!1);!(n&&n.is("$textProxy")&&this._nodeEndsWithSpace(n))&&n||(t="\xa0"+t.substr(1))}if(" "==t.charAt(t.length-1)){const n=this._getTouchingInlineViewNode(e,!0),i=n&&n.is("$textProxy")&&" "==n.data.charAt(0);" "!=t.charAt(t.length-2)&&n&&!i||(t=t.substr(0,t.length-1)+"\xa0")}return t.replace(/ {2}/g," \xa0")}_nodeEndsWithSpace(e){if(e.getAncestors().some((e=>this.preElements.includes(e.name))))return!1;const t=this._processDataFromViewText(e);return" "==t.charAt(t.length-1)}_getTouchingInlineViewNode(e,t){const n=new Vr({startPosition:t?Hr._createAfter(e):Hr._createBefore(e),direction:t?"forward":"backward"});for(const i of n){if(i.item.is("element","br"))return null;if(this._isInlineObjectElement(i.item))return i.item;if(i.item.is("containerElement"))return null;if(i.item.is("$textProxy"))return i.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&("br"==e.name||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,t){if(si(e))return new ss(this.document,"$comment");const n=t.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new Br(this.document,n)}_isViewElementWithRawContent(e,t){return!1!==t.withChildren&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const t=e.toLowerCase();return"editing"===this.renderingMode&&this.unsafeElements.includes(t)}_createReplacementDomElement(e,t){const n=this._domDocument.createElement("span");if(n.setAttribute(Vs,e),t){for(;t.firstChild;)n.appendChild(t.firstChild);for(const e of t.getAttributeNames())n.setAttribute(e,t.getAttribute(e))}return n}}function Ws(e,t){return e.getAncestors().some((e=>e.is("element")&&t.includes(e.name)))}function Us(e,t){let n=e;for(;n;)t(n),n=n.parentElement}function qs(e,t){const n=e.parentNode;return!!n&&!!n.tagName&&t.includes(n.tagName.toLowerCase())}function $s(e){"script"===e&&k("domconverter-unsafe-script-element-detected"),"style"===e&&k("domconverter-unsafe-style-element-detected")}class Gs extends(Vn()){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&3===e.nodeType&&(e=e.parentNode),!(!e||1!==e.nodeType)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Ks=Ui((function(e,t){it(t,Bt(t),e)}));class Ys{constructor(e,t,n){this.view=e,this.document=e.document,this.domEvent=t,this.domTarget=t.target,Ks(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Qs extends Gs{constructor(){super(...arguments),this.useCapture=!1}observe(e){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach((t=>{this.listenTo(e,t,((e,t)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(t.target)&&this.onDomEvent(t)}),{useCapture:this.useCapture})}))}stopObserving(e){this.stopListening(e)}fire(e,t,n){this.isEnabled&&this.document.fire(e,new Ys(this.view,t,n))}}class Zs extends Qs{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const t={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return Ii(this)}};this.fire(e.type,e,t)}}const Xs=function(){return ie.Date.now()};var Js=/\s/,ea=/^\s+/;const ta=function(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&Js.test(e.charAt(t)););return t}(e)+1).replace(ea,""):e};var na=/^[-+]0x[0-9a-f]+$/i,ia=/^0b[01]+$/i,oa=/^0o[0-7]+$/i,ra=parseInt;const sa=function(e){if("number"==typeof e)return e;if(cr(e))return NaN;if(O(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=O(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=ta(e);var n=ia.test(e);return n||oa.test(e)?ra(e.slice(2),n?2:8):na.test(e)?NaN:+e};var aa=Math.max,la=Math.min;const ca=function(e,t,n){var i,o,r,s,a,l,c=0,d=!1,u=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function h(t){var n=i,r=o;return i=o=void 0,c=t,s=e.apply(r,n)}function g(e){var n=e-l;return void 0===l||n>=t||n<0||u&&e-c>=r}function m(){var e=Xs();if(g(e))return f(e);a=setTimeout(m,function(e){var n=t-(e-l);return u?la(n,r-(e-c)):n}(e))}function f(e){return a=void 0,p&&i?h(e):(i=o=void 0,s)}function b(){var e=Xs(),n=g(e);if(i=arguments,o=this,l=e,n){if(void 0===a)return function(e){return c=e,a=setTimeout(m,t),d?h(e):s}(l);if(u)return clearTimeout(a),a=setTimeout(m,t),h(l)}return void 0===a&&(a=setTimeout(m,t)),s}return t=sa(t)||0,O(n)&&(d=!!n.leading,r=(u="maxWait"in n)?aa(sa(n.maxWait)||0,t):r,p="trailing"in n?!!n.trailing:p),b.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=o=a=void 0},b.flush=function(){return void 0===a?s:f(Xs())},b};class da extends Gs{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=ca((e=>{this.document.fire("selectionChangeDone",e)}),200)}observe(){const e=this.document;e.on("arrowKey",((t,n)=>{e.selection.isFake&&this.isEnabled&&n.preventDefault()}),{context:"$capture"}),e.on("arrowKey",((t,n)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(n.keyCode)}),{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const t=this.document.selection,n=new qr(t.getRanges(),{backward:t.isBackward,fake:!1});e!=Ci.arrowleft&&e!=Ci.arrowup||n.setTo(n.getFirstPosition()),e!=Ci.arrowright&&e!=Ci.arrowdown||n.setTo(n.getLastPosition());const i={oldSelection:t,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}function ua(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Qe;++t<n;)this.add(e[t])}ua.prototype.add=ua.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},ua.prototype.has=function(e){return this.__data__.has(e)};const pa=ua,ha=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1},ga=function(e,t){return e.has(t)},ma=function(e,t,n,i,o,r){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=r.get(e),d=r.get(t);if(c&&d)return c==t&&d==e;var u=-1,p=!0,h=2&n?new pa:void 0;for(r.set(e,t),r.set(t,e);++u<a;){var g=e[u],m=t[u];if(i)var f=s?i(m,g,u,t,e,r):i(g,m,u,e,t,r);if(void 0!==f){if(f)continue;p=!1;break}if(h){if(!ha(t,(function(e,t){if(!ga(h,t)&&(g===e||o(g,e,n,i,r)))return h.push(t)}))){p=!1;break}}else if(g!==m&&!o(g,m,n,i,r)){p=!1;break}}return r.delete(e),r.delete(t),p},fa=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n},ba=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var ya=oe?oe.prototype:void 0,wa=ya?ya.valueOf:void 0,va=Object.prototype.hasOwnProperty,ka="[object Arguments]",_a="[object Array]",xa="[object Object]",Aa=Object.prototype.hasOwnProperty;const Ca=function(e,t,n,i,o,r){var s=pe(e),a=pe(t),l=s?_a:pn(e),c=a?_a:pn(t),d=(l=l==ka?xa:l)==xa,u=(c=c==ka?xa:c)==xa,p=l==c;if(p&&pt(e)){if(!pt(t))return!1;s=!0,d=!1}if(p&&!d)return r||(r=new Xe),s||xt(e)?ma(e,t,n,i,o,r):function(e,t,n,i,o,r,s){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!r(new gn(e),new gn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ae(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=fa;case"[object Set]":var l=1&i;if(a||(a=ba),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;i|=2,s.set(e,t);var d=ma(a(e),a(t),i,o,r,s);return s.delete(e),d;case"[object Symbol]":if(wa)return wa.call(e)==wa.call(t)}return!1}(e,t,l,n,i,o,r);if(!(1&n)){var h=d&&Aa.call(e,"__wrapped__"),g=u&&Aa.call(t,"__wrapped__");if(h||g){var m=h?e.value():e,f=g?t.value():t;return r||(r=new Xe),o(m,f,n,i,r)}}return!!p&&(r||(r=new Xe),function(e,t,n,i,o,r){var s=1&n,a=Kt(e),l=a.length;if(l!=Kt(t).length&&!s)return!1;for(var c=l;c--;){var d=a[c];if(!(s?d in t:va.call(t,d)))return!1}var u=r.get(e),p=r.get(t);if(u&&p)return u==t&&p==e;var h=!0;r.set(e,t),r.set(t,e);for(var g=s;++c<l;){var m=e[d=a[c]],f=t[d];if(i)var b=s?i(f,m,d,t,e,r):i(m,f,d,e,t,r);if(!(void 0===b?m===f||o(m,f,n,i,r):b)){h=!1;break}g||(g="constructor"==d)}if(h&&!g){var y=e.constructor,w=t.constructor;y==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(h=!1)}return r.delete(e),r.delete(t),h}(e,t,n,i,o,r))},Sa=function e(t,n,i,o,r){return t===n||(null==t||null==n||!he(t)&&!he(n)?t!=t&&n!=n:Ca(t,n,i,o,e,r))},Ia=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?Sa(e,t,void 0,n):!!i};class Ta extends Gs{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(0===e.length)return;const t=this.domConverter,n=new Set,i=new Set;for(const r of e){const e=t.mapDomToView(r.target);e&&(e.is("uiElement")||e.is("rawElement")||"childList"!==r.type||this._isBogusBrMutation(r)||i.add(e))}for(const r of e){const e=t.mapDomToView(r.target);if((!e||!e.is("uiElement")&&!e.is("rawElement"))&&"characterData"===r.type){const e=t.findCorrespondingViewText(r.target);e&&!i.has(e.parent)?n.add(e):!e&&Ss(r.target)&&i.add(t.mapDomToView(r.target.parentNode))}}let o=!1;for(const r of n)o=!0,this.renderer.markToSync("text",r);for(const r of i){const e=t.mapViewToDom(r),n=Array.from(r.getChildren()),i=Array.from(t.domChildrenToView(e,{withChildren:!1}));Ia(n,i,Ea)||(o=!0,this.renderer.markToSync("children",r))}o&&this.view.forceRender()}_isBogusBrMutation(e){let t=null;return null===e.nextSibling&&0===e.removedNodes.length&&1==e.addedNodes.length&&(t=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),t&&t.is("element","br")}}function Ea(e,t){if(!Array.isArray(e))return e===t||!(!e.is("$text")||!t.is("$text"))&&e.data===t.data}class Da extends Qs{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const t=this.document;t.on("focus",(()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout((()=>{this.flush(),e.change((()=>{}))}),50)})),t.on("blur",((n,i)=>{const o=t.selection.editableElement;null!==o&&o!==i.target||(t.isFocused=!1,this._isFocusChanging=!1,e.change((()=>{})))}))}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class Ma extends Gs{constructor(e){super(e),this.mutationObserver=e.getObserver(Ta),this.focusObserver=e.getObserver(Da),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=ca((e=>{this.document.fire("selectionChangeDone",e)}),200),this._clearInfiniteLoopInterval=setInterval((()=>this._clearInfiniteLoop()),1e3),this._documentIsSelectingInactivityTimeoutDebounced=ca((()=>this.document.isSelecting=!1),5e3),this._loopbackCounter=0}observe(e){const t=e.ownerDocument,n=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,t),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",(()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()}),{priority:"highest"}),this.listenTo(e,"keydown",n,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",n,{priority:"highest",useCapture:!0}),this._documents.has(t)||(this.listenTo(t,"mouseup",n,{priority:"highest",useCapture:!0}),this.listenTo(t,"selectionchange",((e,n)=>{this.document.isComposing&&!c.isAndroid||(this._handleSelectionChange(n,t),this._documentIsSelectingInactivityTimeoutDebounced())})),this._documents.add(t))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,t){if(!this.isEnabled)return;const n=t.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(n.anchorNode))return;this.mutationObserver.flush();const i=this.domConverter.domSelectionToView(n);if(0!=i.rangeCount){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(i)||!this.domConverter.isDomSelectionCorrect(n))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(i))this.view.forceRender();else{const e={oldSelection:this.selection,newSelection:i,domSelection:n};this.document.fire("selectionChange",e),this._fireSelectionChangeDoneDebounced(e)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class Pa extends Qs{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const t=this.document;t.on("compositionstart",(()=>{t.isComposing=!0}),{priority:"low"}),t.on("compositionend",(()=>{t.isComposing=!1}),{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class Ra{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._files=t.cacheFiles?Ba(e):null,this._native=e}get files(){return this._files||(this._files=Ba(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,t){this._native.setData(e,t)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,t,n){this._native.setDragImage(e,t,n)}get isCanceled(){return"none"==this._native.dropEffect||!!this._native.mozUserCancelled}}function Ba(e){const t=Array.from(e.files||[]),n=Array.from(e.items||[]);return t.length?t:n.filter((e=>"file"===e.kind)).map((e=>e.getAsFile()))}class ja extends Qs{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const t=e.getTargetRanges(),n=this.view,i=n.document;let o=null,r=null,s=[];if(e.dataTransfer&&(o=new Ra(e.dataTransfer)),null!==e.data?r=e.data:o&&(r=o.getData("text/plain")),i.selection.isFake)s=Array.from(i.selection.getRanges());else if(t.length)s=t.map((e=>{const t=n.domConverter.domPositionToView(e.startContainer,e.startOffset),i=n.domConverter.domPositionToView(e.endContainer,e.endOffset);return t?n.createRange(t,i):i?n.createRange(i):void 0})).filter((e=>!!e));else if(c.isAndroid){const t=e.target.ownerDocument.defaultView.getSelection();s=Array.from(n.domConverter.domSelectionToView(t).getRanges())}if(c.isAndroid&&"insertCompositionText"==e.inputType&&r&&r.endsWith("\n"))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[n.createRange(s[0].end)]});else if("insertText"==e.inputType&&r&&r.includes("\n")){const t=r.split(/\n{1,2}/g);let n=s;for(let r=0;r<t.length;r++){const s=t[r];""!=s&&(this.fire(e.type,e,{data:s,dataTransfer:o,targetRanges:n,inputType:e.inputType,isComposing:e.isComposing}),n=[i.selection.getFirstRange()]),r+1<t.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:n}),n=[i.selection.getFirstRange()])}}else this.fire(e.type,e,{data:r,dataTransfer:o,targetRanges:s,inputType:e.inputType,isComposing:e.isComposing})}}class La extends Gs{constructor(e){super(e),this.document.on("keydown",((e,t)=>{if(this.isEnabled&&((n=t.keyCode)==Ci.arrowright||n==Ci.arrowleft||n==Ci.arrowup||n==Ci.arrowdown)){const n=new Gr(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(n,t),n.stop.called&&e.stop()}var n}))}observe(){}stopObserving(){}}class za extends Gs{constructor(e){super(e);const t=this.document;t.on("keydown",((e,n)=>{if(!this.isEnabled||n.keyCode!=Ci.tab||n.ctrlKey)return;const i=new Gr(t,"tab",t.selection.getFirstRange());t.fire(i,n),i.stop.called&&e.stop()}))}observe(){}stopObserving(){}}const Oa=function(e){return Pn(e,5)};class Na extends(q()){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new es(e),this.domConverter=new Hs(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Ms(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new us(this.document),this.addObserver(Ta),this.addObserver(Da),this.addObserver(Ma),this.addObserver(Zs),this.addObserver(da),this.addObserver(Pa),this.addObserver(La),this.addObserver(ja),this.addObserver(za),this.document.on("arrowKey",Es,{priority:"low"}),function(e){e.document.on("arrowKey",((t,n)=>function(e,t,n){if(t.keyCode==Ci.arrowright){const e=t.domTarget.ownerDocument.defaultView.getSelection(),i=1==e.rangeCount&&e.getRangeAt(0).collapsed;if(i||t.shiftKey){const t=e.focusNode,o=e.focusOffset,r=n.domPositionToView(t,o);if(null===r)return;let s=!1;const a=r.getLastMatchingPosition((e=>(e.item.is("uiElement")&&(s=!0),!(!e.item.is("uiElement")&&!e.item.is("attributeElement")))));if(s){const t=n.viewPositionToDom(a);i?e.collapse(t.parent,t.offset):e.extend(t.parent,t.offset)}}}}(0,n,e.domConverter)),{priority:"low"})}(this),this.on("render",(()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1})),this.listenTo(this.document.selection,"change",(()=>{this._hasChangedSinceTheLastRendering=!0})),this.listenTo(this.document,"change:isFocused",(()=>{this._hasChangedSinceTheLastRendering=!0})),c.isiOS&&this.listenTo(this.document,"blur",((e,t)=>{this.domConverter.mapDomToView(t.domEvent.relatedTarget)||this.domConverter._clearDomSelection()}))}attachDomRoot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";const n=this.document.getRoot(t);n._name=e.tagName.toLowerCase();const i={};for(const{name:r,value:s}of Array.from(e.attributes))i[r]=s,"class"===r?this._writer.addClass(s.split(" "),n):this._writer.setAttribute(r,s,n);this._initialDomRootAttributes.set(e,i);const o=()=>{this._writer.setAttribute("contenteditable",(!n.isReadOnly).toString(),n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};o(),this.domRoots.set(t,e),this.domConverter.bindElements(e,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(e.ownerDocument),n.on("change:children",((e,t)=>this._renderer.markToSync("children",t))),n.on("change:attributes",((e,t)=>this._renderer.markToSync("attributes",t))),n.on("change:text",((e,t)=>this._renderer.markToSync("text",t))),n.on("change:isReadOnly",(()=>this.change(o))),n.on("change",(()=>{this._hasChangedSinceTheLastRendering=!0}));for(const r of this._observers.values())r.observe(e,t)}detachDomRoot(e){const t=this.domRoots.get(e);Array.from(t.attributes).forEach((e=>{let{name:n}=e;return t.removeAttribute(n)}));const n=this._initialDomRootAttributes.get(t);for(const i in n)t.setAttribute(i,n[i]);this.domRoots.delete(e),this.domConverter.unbindDomElement(t);for(const i of this._observers.values())i.stopObserving(t)}getDomRoot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.domRoots.get(e)}addObserver(e){let t=this._observers.get(e);if(t)return t;t=new e(this),this._observers.set(e,t);for(const[n,i]of this.domRoots)t.observe(i,n);return t.enable(),t}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection(){let{alignToTop:e,forceScroll:t,viewportOffset:n=20,ancestorOffset:i=20}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const o=this.document.selection.getFirstRange();if(!o)return;const r=Oa({alignToTop:e,forceScroll:t,viewportOffset:n,ancestorOffset:i});"number"==typeof n&&(n={top:n,bottom:n,left:n,right:n});const s={target:this.domConverter.viewRangeToDom(o),viewportOffset:n,ancestorOffset:i,alignToTop:e,forceScroll:t};this.fire("scrollToTheSelection",s,r),function(e){let{target:t,viewportOffset:n=0,ancestorOffset:i=0,alignToTop:o,forceScroll:r}=e;const s=wi(t);let a=s,l=null;for(n=function(e){return"number"==typeof e?{top:e,bottom:e,left:e,right:e}:e}(n);a;){let e;e=vi(a==s?t:l),gi({parent:e,getRect:()=>ki(t,a),alignToTop:o,ancestorOffset:i,forceScroll:r});const c=ki(t,a);if(hi({window:a,rect:c,viewportOffset:n,alignToTop:o,forceScroll:r}),a.parent!=a){if(l=a.frameElement,a=a.parent,!l)return}else a=null}}(s)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new v("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const t=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),t}catch(e){v.rethrowUnexpectedError(e,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(Da).flush(),this.change((()=>{}))}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,t){return Hr._createAt(e,t)}createPositionAfter(e){return Hr._createAfter(e)}createPositionBefore(e){return Hr._createBefore(e)}createRange(e,t){return new Wr(e,t)}createRangeOn(e){return Wr._createOn(e)}createRangeIn(e){return Wr._createIn(e)}createSelection(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qr(...t)}_disableRendering(e){this._renderingDisabled=e,0==e&&this.change((()=>{}))}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class Fa{is(){throw new Error("is() method is abstract")}}class Va extends Fa{constructor(e){super(),this.parent=null,this._attrs=eo(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildIndex(this)))throw new v("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if(null===(e=this.parent.getChildStartOffset(this)))throw new v("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return null!==e&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return null!==e&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return null!==this.parent&&this.root.isAttached()}getPath(){const e=[];let t=this;for(;t.parent;)e.unshift(t.startOffset),t=t.parent;return e}getAncestors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}getCommonAncestor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getAncestors(t),i=e.getAncestors(t);let o=0;for(;n[o]==i[o]&&n[o];)o++;return 0===o?null:n[o-1]}isBefore(e){if(this==e)return!1;if(this.root!==e.root)return!1;const t=this.getPath(),n=e.getPath(),i=J(t,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return t[i]<n[i]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce(((e,t)=>(e[t[0]]=t[1],e)),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,t){this._attrs.set(e,t)}_setAttributesTo(e){this._attrs=eo(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}Va.prototype.is=function(e){return"node"===e||"model:node"===e};class Ha{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce(((e,t)=>e+t.offsetSize),0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const t=this._nodes.indexOf(e);return-1==t?null:t}getNodeStartOffset(e){const t=this.getNodeIndex(e);return null===t?null:this._nodes.slice(0,t).reduce(((e,t)=>e+t.offsetSize),0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const t=this._nodes[e];if(!t)throw new v("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(t)}offsetToIndex(e){let t=0;for(const n of this._nodes){if(e>=t&&e<t+n.offsetSize)return this.getNodeIndex(n);t+=n.offsetSize}if(t!=e)throw new v("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,t){for(const n of t)if(!(n instanceof Va))throw new v("model-nodelist-insertnodes-not-node",this);this._nodes=function(e,t,n){if(Math.max(t.length,e.length)>1e4)return e.slice(0,n).concat(t).concat(e.slice(n+0,e.length));{const i=Array.from(e);return i.splice(n,0,...t),i}}(this._nodes,Array.from(t),e)}_removeNodes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._nodes.splice(e,t)}toJSON(){return this._nodes.map((e=>e.toJSON()))}}class Wa extends Va{constructor(e,t){super(t),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new Wa(this.data,this.getAttributes())}static fromJSON(e){return new Wa(e.data,e.attributes)}}Wa.prototype.is=function(e){return"$text"===e||"model:$text"===e||"text"===e||"model:text"===e||"node"===e||"model:node"===e};class Ua extends Fa{constructor(e,t,n){if(super(),this.textNode=e,t<0||t>e.offsetSize)throw new v("model-textproxy-wrong-offsetintext",this);if(n<0||t+n>e.offsetSize)throw new v("model-textproxy-wrong-length",this);this.data=e.data.substring(t,t+n),this.offsetInText=t}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];let n=e.includeSelf?this:this.parent;for(;n;)t[e.parentFirst?"push":"unshift"](n),n=n.parent;return t}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Ua.prototype.is=function(e){return"$textProxy"===e||"model:$textProxy"===e||"textProxy"===e||"model:textProxy"===e};class qa extends Va{constructor(e,t,n){super(t),this._children=new Ha,this.name=e,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}findAncestor(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).includeSelf?this:this.parent;for(;t;){if(t.name===e)return t;t=t.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const t of this._children)e.children.push(t.toJSON())}return e}_clone(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?Array.from(this._children).map((e=>e._clone(!0))):void 0;return new qa(this.name,this.getAttributes(),e)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(e){return"string"==typeof e?[new Wa(e)]:(ee(e)||(e=[e]),Array.from(e).map((e=>"string"==typeof e?new Wa(e):e instanceof Ua?new Wa(e.data,e.getAttributes()):e)))}(t);for(const i of n)null!==i.parent&&i._remove(),i.parent=this;this._children._insertNodes(e,n)}_removeChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this._children._removeNodes(e,t);for(const i of n)i.parent=null;return n}static fromJSON(e){let t;if(e.children){t=[];for(const n of e.children)n.name?t.push(qa.fromJSON(n)):t.push(Wa.fromJSON(n))}return new qa(e.name,e.attributes,t)}}qa.prototype.is=function(e,t){return t?t===this.name&&("element"===e||"model:element"===e):"element"===e||"model:element"===e||"node"===e||"model:node"===e};class $a{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new v("model-tree-walker-no-start-position",null);const t=e.direction||"forward";if("forward"!=t&&"backward"!=t)throw new v("model-tree-walker-unknown-direction",e,{direction:t});this.direction=t,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=Ka._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let t,n,i,o;do{i=this.position,o=this._visitedParent,({done:t,value:n}=this.next())}while(!t&&e(n));t||(this._position=i,this._visitedParent=o)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&t.offset===n.maxOffset)return{done:!0,value:void 0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const i=Ya(t,n),o=i||Qa(t,n,i);if(o instanceof qa){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(t))return{done:!0,value:void 0};t.offset++}else t.path.push(0),this._visitedParent=o;return this._position=t,Ga("elementStart",o,e,t,1)}if(o instanceof Wa){let i;if(this.singleCharacters)i=1;else{let e=o.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<e&&(e=this.boundaries.end.offset),i=e-t.offset}const r=t.offset-o.startOffset,s=new Ua(o,r,i);return t.offset+=i,this._position=t,Ga("text",s,e,t,i)}return t.path.pop(),t.offset++,this._position=t,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Ga("elementEnd",n,e,t)}_previous(){const e=this.position,t=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===t.offset)return{done:!0,value:void 0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const i=t.parent,o=Ya(t,i),r=o||Za(t,i,o);if(r instanceof qa)return t.offset--,this.shallow?(this._position=t,Ga("elementStart",r,e,t,1)):(t.path.push(r.maxOffset),this._position=t,this._visitedParent=r,this.ignoreElementEnd?this._previous():Ga("elementEnd",r,e,t));if(r instanceof Wa){let i;if(this.singleCharacters)i=1;else{let e=r.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>e&&(e=this.boundaries.start.offset),i=t.offset-e}const o=t.offset-r.startOffset,s=new Ua(r,o-i,i);return t.offset-=i,this._position=t,Ga("text",s,e,t,i)}return t.path.pop(),this._position=t,this._visitedParent=n.parent,Ga("elementStart",n,e,t,1)}}function Ga(e,t,n,i,o){return{done:!1,value:{type:e,item:t,previousPosition:n,nextPosition:i,length:o}}}class Ka extends Fa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(super(),!e.is("element")&&!e.is("documentFragment"))throw new v("model-position-root-invalid",e);if(!(t instanceof Array)||0===t.length)throw new v("model-position-path-incorrect-format",e,{path:t});e.is("rootElement")?t=t.slice():(t=[...e.getPath(),...t],e=e.root),this.root=e,this.path=t,this.stickiness=n}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let t=0;t<this.path.length-1;t++)if(e=e.getChild(e.offsetToIndex(this.path[t])),!e)throw new v("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new v("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Ya(this,this.parent)}get nodeAfter(){const e=this.parent;return Qa(this,e,Ya(this,e))}get nodeBefore(){const e=this.parent;return Za(this,e,Ya(this,e))}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const t=J(this.path,e.path);switch(t){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[t]<e.path[t]?"before":"after"}}getLastMatchingPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.startPosition=this;const n=new $a(t);return n.skip(e),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const t=this.parent;return t.is("element")?t.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const t=J(this.path,e.path),n="string"==typeof t?Math.min(this.path.length,e.path.length):t;return this.path.slice(0,n)}getCommonAncestor(e){const t=this.getAncestors(),n=e.getAncestors();let i=0;for(;t[i]==n[i]&&t[i];)i++;return 0===i?null:t[i-1]}getShiftedBy(e){const t=this.clone(),n=t.offset+e;return t.offset=n<0?0:n,t}isAfter(e){return"after"==this.compareWith(e)}isBefore(e){return"before"==this.compareWith(e)}isEqual(e){return"same"==this.compareWith(e)}isTouching(e){if(this.root!==e.root)return!1;const t=Math.min(this.path.length,e.path.length);for(let n=0;n<t;n++){const t=this.path[n]-e.path[n];if(t<-1||t>1)return!1;if(1===t)return Xa(e,this,n);if(-1===t)return Xa(this,e,n)}return this.path.length===e.path.length||(this.path.length>e.path.length?Ja(this.path,t):Ja(e.path,t))}hasSameParentAs(e){return this.root===e.root&&"same"==J(this.getParentPath(),e.getParentPath())}getTransformedByOperation(e){let t;switch(e.type){case"insert":t=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":t=this._getTransformedByMoveOperation(e);break;case"split":t=this._getTransformedBySplitOperation(e);break;case"merge":t=this._getTransformedByMergeOperation(e);break;default:t=Ka._createAt(this)}return t}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const t=e.movedRange;return t.containsPosition(this)||t.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const t=e.movedRange;let n;return t.containsPosition(this)||t.start.isEqual(this)?(n=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(n=n._getTransformedByDeletion(e.deletionPosition,1))):n=this.isEqual(e.deletionPosition)?Ka._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),n}_getTransformedByDeletion(e,t){const n=Ka._createAt(this);if(this.root!=e.root)return n;if("same"==J(e.getParentPath(),this.getParentPath())){if(e.offset<this.offset){if(e.offset+t>this.offset)return null;n.offset-=t}}else if("prefix"==J(e.getParentPath(),this.getParentPath())){const i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+t>this.path[i])return null;n.path[i]-=t}}return n}_getTransformedByInsertion(e,t){const n=Ka._createAt(this);if(this.root!=e.root)return n;if("same"==J(e.getParentPath(),this.getParentPath()))(e.offset<this.offset||e.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=t);else if("prefix"==J(e.getParentPath(),this.getParentPath())){const i=e.path.length-1;e.offset<=this.path[i]&&(n.path[i]+=t)}return n}_getTransformedByMove(e,t,n){if(t=t._getTransformedByDeletion(e,n),e.isEqual(t))return Ka._createAt(this);const i=this._getTransformedByDeletion(e,n);return null===i||e.isEqual(this)&&"toNext"==this.stickiness||e.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(e,t):i._getTransformedByInsertion(t,n)}_getCombined(e,t){const n=e.path.length-1,i=Ka._createAt(t);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[n]-e.offset,i.path=[...i.path,...this.path.slice(n+1)],i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone";if(e instanceof Ka)return new Ka(e.root,e.path,e.stickiness);{const i=e;if("end"==t)t=i.maxOffset;else{if("before"==t)return this._createBefore(i,n);if("after"==t)return this._createAfter(i,n);if(0!==t&&!t)throw new v("model-createpositionat-offset-required",[this,e])}if(!i.is("element")&&!i.is("documentFragment"))throw new v("model-position-parent-incorrect",[this,e]);const o=i.getPath();return o.push(t),new this(i.root,o,n)}}static _createAfter(e,t){if(!e.parent)throw new v("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,t)}static _createBefore(e,t){if(!e.parent)throw new v("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,t)}static fromJSON(e,t){if("$graveyard"===e.root){const n=new Ka(t.graveyard,e.path);return n.stickiness=e.stickiness,n}if(!t.getRoot(e.root))throw new v("model-position-fromjson-no-root",t,{rootName:e.root});return new Ka(t.getRoot(e.root),e.path,e.stickiness)}}function Ya(e,t){const n=t.getChild(t.offsetToIndex(e.offset));return n&&n.is("$text")&&n.startOffset<e.offset?n:null}function Qa(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset))}function Za(e,t,n){return null!==n?null:t.getChild(t.offsetToIndex(e.offset)-1)}function Xa(e,t,n){return n+1!==e.path.length&&!!Ja(t.path,n+1)&&!!function(e,t){let n=e.parent,i=e.path.length-1,o=0;for(;i>=t;){if(e.path[i]+o!==n.maxOffset)return!1;o=1,i--,n=n.parent}return!0}(e,n+1)}function Ja(e,t){for(;t<e.length;){if(0!==e[t])return!1;t++}return!0}Ka.prototype.is=function(e){return"position"===e||"model:position"===e};class el extends Fa{constructor(e,t){super(),this.start=Ka._createAt(e),this.end=t?Ka._createAt(t):Ka._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new $a({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==J(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.isCollapsed&&(t=!1);const n=this.containsPosition(e.start)||t&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||t&&this.end.isEqual(e.end);return n&&i}containsItem(e){const t=Ka._createBefore(e);return this.containsPosition(t)||this.start.isEqual(t)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const t=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&t.push(new el(this.start,e.start)),this.containsPosition(e.end)&&t.push(new el(e.end,this.end))):t.push(new el(this.start,this.end)),t}getIntersection(e){if(this.isIntersecting(e)){let t=this.start,n=this.end;return this.containsPosition(e.start)&&(t=e.start),this.containsPosition(e.end)&&(n=e.end),new el(t,n)}return null}getJoined(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.isIntersecting(e);if(n||(n=this.start.isBefore(e.start)?t?this.end.isTouching(e.start):this.end.isEqual(e.start):t?e.end.isTouching(this.start):e.end.isEqual(this.start)),!n)return null;let i=this.start,o=this.end;return e.start.isBefore(i)&&(i=e.start),e.end.isAfter(o)&&(o=e.end),new el(i,o)}getMinimalFlatRanges(){const e=[],t=this.start.getCommonPath(this.end).length,n=Ka._createAt(this.start);let i=n.parent;for(;n.path.length>t+1;){const t=i.maxOffset-n.offset;0!==t&&e.push(new el(n,n.getShiftedBy(t))),n.path=n.path.slice(0,-1),n.offset++,i=i.parent}for(;n.path.length<=this.end.path.length;){const t=this.end.path[n.path.length-1],i=t-n.offset;0!==i&&e.push(new el(n,n.getShiftedBy(i))),n.offset=t,n.path.push(0)}return e}getWalker(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.boundaries=this,new $a(e)}getItems(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){t.boundaries=e,t.ignoreElementEnd=!0;const n=new $a(t);for(const e of n)yield e.item}()}getPositions(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){t.boundaries=e;const n=new $a(t);yield n.position;for(const e of n)yield e.nextPosition}()}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new el(this.start,this.end)]}getTransformedByOperations(e){const t=[new el(this.start,this.end)];for(const n of e)for(let e=0;e<t.length;e++){const i=t[e].getTransformedByOperation(n);t.splice(e,1,...i),e+=i.length-1}for(let n=0;n<t.length;n++){const e=t[n];for(let i=n+1;i<t.length;i++){const n=t[i];(e.containsRange(n)||n.containsRange(e)||e.isEqual(n))&&t.splice(i,1)}}return t}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,t=this.end.nodeBefore;return e&&e.is("element")&&e===t?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._getTransformedByInsertion(e.position,e.howMany,t)}_getTransformedByMoveOperation(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e.sourcePosition,i=e.howMany,o=e.targetPosition;return this._getTransformedByMove(n,o,i,t)}_getTransformedBySplitOperation(e){const t=this.start._getTransformedBySplitOperation(e);let n=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(n=this.end.getShiftedBy(1)),t.root!=n.root&&(n=this.end.getShiftedBy(-1)),new el(t,n)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new el(this.start);let t=this.start._getTransformedByMergeOperation(e),n=this.end._getTransformedByMergeOperation(e);return t.root!=n.root&&(n=this.end.getShiftedBy(-1)),t.isAfter(n)?(e.sourcePosition.isBefore(e.targetPosition)?(t=Ka._createAt(n),t.offset=0):(e.deletionPosition.isEqual(t)||(n=e.deletionPosition),t=e.targetPosition),new el(t,n)):new el(t,n)}_getTransformedByInsertion(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&this.containsPosition(e))return[new el(this.start,e),new el(e.getShiftedBy(t),this.end._getTransformedByInsertion(e,t))];{const n=new el(this.start,this.end);return n.start=n.start._getTransformedByInsertion(e,t),n.end=n.end._getTransformedByInsertion(e,t),[n]}}_getTransformedByMove(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.isCollapsed){const i=this.start._getTransformedByMove(e,t,n);return[new el(i)]}const o=el._createFromPositionAndShift(e,n),r=t._getTransformedByDeletion(e,n);if(this.containsPosition(t)&&!i&&(o.containsPosition(this.start)||o.containsPosition(this.end))){const i=this.start._getTransformedByMove(e,t,n),o=this.end._getTransformedByMove(e,t,n);return[new el(i,o)]}let s;const a=this.getDifference(o);let l=null;const c=this.getIntersection(o);if(1==a.length?l=new el(a[0].start._getTransformedByDeletion(e,n),a[0].end._getTransformedByDeletion(e,n)):2==a.length&&(l=new el(this.start,this.end._getTransformedByDeletion(e,n))),s=l?l._getTransformedByInsertion(r,n,null!==c||i):[],c){const e=new el(c.start._getCombined(o.start,r),c.end._getCombined(o.start,r));2==s.length?s.splice(1,0,e):s.push(e)}return s}_getTransformedByDeletion(e,t){let n=this.start._getTransformedByDeletion(e,t),i=this.end._getTransformedByDeletion(e,t);return null==n&&null==i?null:(null==n&&(n=e),null==i&&(i=e),new el(n,i))}static _createFromPositionAndShift(e,t){const n=e,i=e.getShiftedBy(t);return t>0?new this(n,i):new this(i,n)}static _createIn(e){return new this(Ka._createAt(e,0),Ka._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Ka._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(0===e.length)throw new v("range-create-from-ranges-empty-array",null);if(1==e.length)return e[0].clone();const t=e[0];e.sort(((e,t)=>e.start.isAfter(t.start)?1:-1));const n=e.indexOf(t),i=new this(t.start,t.end);if(n>0)for(let o=n-1;e[o].end.isEqual(i.start);o++)i.start=Ka._createAt(e[o].start);for(let o=n+1;o<e.length&&e[o].start.isEqual(i.end);o++)i.end=Ka._createAt(e[o].end);return i}static fromJSON(e,t){return new this(Ka.fromJSON(e.start,t),Ka.fromJSON(e.end,t))}}el.prototype.is=function(e){return"range"===e||"model:range"===e};class tl extends(D()){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",((e,t)=>{if(t.viewPosition)return;const n=this._modelToViewMapping.get(t.modelPosition.parent);if(!n)throw new v("mapping-model-position-view-parent-not-found",this,{modelPosition:t.modelPosition});t.viewPosition=this.findPositionIn(n,t.modelPosition.offset)}),{priority:"low"}),this.on("viewToModelPosition",((e,t)=>{if(t.modelPosition)return;const n=this.findMappedViewAncestor(t.viewPosition),i=this._viewToModelMapping.get(n),o=this._toModelOffset(t.viewPosition.parent,t.viewPosition.offset,n);t.modelPosition=Ka._createAt(i,o)}),{priority:"low"})}bindElements(e,t){this._modelToViewMapping.set(e,t),this._viewToModelMapping.set(t,e)}unbindViewElement(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const i of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(i);t.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n))}unbindModelElement(e){const t=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(t)==e&&this._viewToModelMapping.delete(t)}bindElementToMarker(e,t){const n=this._markerNameToElements.get(t)||new Set;n.add(e);const i=this._elementToMarkerNames.get(e)||new Set;i.add(t),this._markerNameToElements.set(t,n),this._elementToMarkerNames.set(e,i)}unbindElementFromMarkerName(e,t){const n=this._markerNameToElements.get(t);n&&(n.delete(e),0==n.size&&this._markerNameToElements.delete(t));const i=this._elementToMarkerNames.get(e);i&&(i.delete(t),0==i.size&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,t]of this._deferredBindingRemovals)e.root==t&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new el(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Wr(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const t={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",t),t.modelPosition}toViewPosition(e){const t={modelPosition:e,mapper:this,isPhantom:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).isPhantom};return this.fire("modelToViewPosition",t),t.viewPosition}markerNameToElements(e){const t=this._markerNameToElements.get(e);if(!t)return null;const n=new Set;for(const i of t)if(i.is("attributeElement"))for(const e of i.getElementsWithSameId())n.add(e);else n.add(i);return n}registerViewToModelLength(e,t){this._viewToModelLengthCallbacks.set(e,t)}findMappedViewAncestor(e){let t=e.parent;for(;!this._viewToModelMapping.has(t);)t=t.parent;return t}_toModelOffset(e,t,n){if(n!=e)return this._toModelOffset(e.parent,e.index,n)+this._toModelOffset(e,t,e);if(e.is("$text"))return t;let i=0;for(let o=0;o<t;o++)i+=this.getModelLength(e.getChild(o));return i}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let t=0;for(const n of e.getChildren())t+=this.getModelLength(n);return t}}findPositionIn(e,t){let n,i=0,o=0,r=0;if(e.is("$text"))return new Hr(e,t);for(;o<t;)n=e.getChild(r),i=this.getModelLength(n),o+=i,r++;return o==t?this._moveViewPositionToTextNode(new Hr(e,r)):this.findPositionIn(n,t-(o-i))}_moveViewPositionToTextNode(e){const t=e.nodeBefore,n=e.nodeAfter;return t instanceof or?new Hr(t,t.data.length):n instanceof or?new Hr(n,0):e}}class nl{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,t){t=il(t),e instanceof Ua&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(t,!0)}consume(e,t){return t=il(t),e instanceof Ua&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,t)&&(this._consumable.get(e).set(t,!1),!0)}test(e,t){t=il(t),e instanceof Ua&&(e=this._getSymbolForTextProxy(e));const n=this._consumable.get(e);if(void 0===n)return null;const i=n.get(t);return void 0===i?null:i}revert(e,t){t=il(t),e instanceof Ua&&(e=this._getSymbolForTextProxy(e));const n=this.test(e,t);return!1===n?(this._consumable.get(e).set(t,!0),!0):!0!==n&&null}verifyAllConsumed(e){const t=[];for(const[n,i]of this._consumable)for(const[o,r]of i){const i=o.split(":")[0];r&&e==i&&t.push({event:o,item:n.name||n.description})}if(t.length)throw new v("conversion-model-consumable-not-consumed",null,{items:t})}_getSymbolForTextProxy(e){let t=null;const n=this._textProxyRegistry.get(e.startOffset);if(n){const i=n.get(e.endOffset);i&&(t=i.get(e.parent))}return t||(t=this._addSymbolForTextProxy(e)),t}_addSymbolForTextProxy(e){const t=e.startOffset,n=e.endOffset,i=e.parent,o=Symbol("$textProxy:"+e.data);let r,s;return r=this._textProxyRegistry.get(t),r||(r=new Map,this._textProxyRegistry.set(t,r)),s=r.get(n),s||(s=new Map,r.set(n,s)),s.set(i,o),o}}function il(e){const t=e.split(":");return"insert"==t[0]?t[0]:"addMarker"==t[0]||"removeMarker"==t[0]?e:t.length>1?t[0]+":"+t[1]:t[0]}var ol=Object.defineProperty,rl=Object.defineProperties,sl=Object.getOwnPropertyDescriptors,al=Object.getOwnPropertySymbols,ll=Object.prototype.hasOwnProperty,cl=Object.prototype.propertyIsEnumerable,dl=(e,t,n)=>t in e?ol(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ul=(e,t)=>{for(var n in t||(t={}))ll.call(t,n)&&dl(e,n,t[n]);if(al)for(var n of al(t))cl.call(t,n)&&dl(e,n,t[n]);return e},pl=(e,t)=>rl(e,sl(t));class hl extends(D()){constructor(e){super(),this._conversionApi=ul({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,t,n){const i=this._createConversionApi(n,e.getRefreshedItems());for(const r of e.getMarkersToRemove())this._convertMarkerRemove(r.name,r.range,i);const o=this._reduceChanges(e.getChanges());for(const r of o)"insert"===r.type?this._convertInsert(el._createFromPositionAndShift(r.position,r.length),i):"reinsert"===r.type?this._convertReinsert(el._createFromPositionAndShift(r.position,r.length),i):"remove"===r.type?this._convertRemove(r.position,r.length,r.name,i):this._convertAttribute(r.range,r.attributeKey,r.attributeOldValue,r.attributeNewValue,i);i.mapper.flushDeferredBindings();for(const r of i.mapper.flushUnboundMarkerNames()){const e=t.get(r).getRange();this._convertMarkerRemove(r,e,i),this._convertMarkerAdd(r,e,i)}for(const r of e.getMarkersToAdd())this._convertMarkerAdd(r.name,r.range,i);i.consumable.verifyAllConsumed("insert")}convert(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=this._createConversionApi(n,void 0,i);this._convertInsert(e,o);for(const[r,s]of t)this._convertMarkerAdd(r,s,o);o.consumable.verifyAllConsumed("insert")}convertSelection(e,t,n){const i=this._createConversionApi(n);this.fire("cleanSelection",{selection:e},i);const o=e.getFirstPosition().root;if(!i.mapper.toViewElement(o))return;const r=Array.from(t.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(i.consumable,e,r),this.fire("selection",{selection:e},i),e.isCollapsed){for(const t of r)if(i.consumable.test(e,"addMarker:"+t.name)){const n=t.getRange();if(!gl(e.getFirstPosition(),t,i.mapper))continue;const o={item:e,markerName:t.name,markerRange:n};this.fire(`addMarker:${t.name}`,o,i)}for(const t of e.getAttributeKeys())if(i.consumable.test(e,"attribute:"+t)){const n={item:e,range:e.getFirstRange(),attributeKey:t,attributeOldValue:null,attributeNewValue:e.getAttribute(t)};this.fire(`attribute:${t}:$text`,n,i)}}}_convertInsert(e,t){(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).doNotAddConsumables||this._addConsumablesForInsert(t.consumable,e);for(const n of Array.from(e.getWalker({shallow:!0})).map(ml))this._testAndFire("insert",n,t)}_convertRemove(e,t,n,i){this.fire(`remove:${n}`,{position:e,length:t},i)}_convertAttribute(e,t,n,i,o){this._addConsumablesForRange(o.consumable,e,`attribute:${t}`);for(const r of e){const e={item:r.item,range:el._createFromPositionAndShift(r.previousPosition,r.length),attributeKey:t,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${t}`,e,o)}}_convertReinsert(e,t){const n=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(t.consumable,n);for(const i of n.map(ml))this._testAndFire("insert",pl(ul({},i),{reconversion:!0}),t)}_convertMarkerAdd(e,t,n){if("$graveyard"==t.root.rootName)return;const i=`addMarker:${e}`;if(n.consumable.add(t,i),this.fire(i,{markerName:e,markerRange:t},n),n.consumable.consume(t,i)){this._addConsumablesForRange(n.consumable,t,i);for(const o of t.getItems()){if(!n.consumable.test(o,i))continue;const r={item:o,range:el._createOn(o),markerName:e,markerRange:t};this.fire(i,r,n)}}}_convertMarkerRemove(e,t,n){"$graveyard"!=t.root.rootName&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:t},n)}_reduceChanges(e){const t={changes:e};return this.fire("reduceChanges",t),t.changes}_addConsumablesForInsert(e,t){for(const n of t){const t=n.item;if(null===e.test(t,"insert")){e.add(t,"insert");for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n)}}return e}_addConsumablesForRange(e,t,n){for(const i of t.getItems())e.add(i,n);return e}_addConsumablesForSelection(e,t,n){e.add(t,"selection");for(const i of n)e.add(t,"addMarker:"+i.name);for(const i of t.getAttributeKeys())e.add(t,"attribute:"+i);return e}_testAndFire(e,t,n){const i=function(e,t){return`${e}:${t.item.is("element")?t.item.name:"$text"}`}(e,t),o=t.item.is("$textProxy")?n.consumable._getSymbolForTextProxy(t.item):t.item,r=this._firedEventsMap.get(n),s=r.get(o);if(s){if(s.has(i))return;s.add(i)}else r.set(o,new Set([i]));this.fire(i,t,n)}_testAndFireAddAttributes(e,t){const n={item:e,range:el._createOn(e)};for(const i of n.item.getAttributeKeys())n.attributeKey=i,n.attributeOldValue=null,n.attributeNewValue=n.item.getAttribute(i),this._testAndFire(`attribute:${i}`,n,t)}_createConversionApi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=pl(ul({},this._conversionApi),{consumable:new nl,writer:e,options:n,convertItem:e=>this._convertInsert(el._createOn(e),i),convertChildren:e=>this._convertInsert(el._createIn(e),i,{doNotAddConsumables:!0}),convertAttributes:e=>this._testAndFireAddAttributes(e,i),canReuseView:e=>!t.has(i.mapper.toModelElement(e))});return this._firedEventsMap.set(i,new Map),i}}function gl(e,t,n){const i=t.getRange(),o=Array.from(e.getAncestors());return o.shift(),o.reverse(),!o.some((e=>{if(i.containsItem(e))return!!n.toViewElement(e).getCustomProperty("addHighlight")}))}function ml(e){return{item:e.item,range:el._createFromPositionAndShift(e.previousPosition,e.length)}}class fl extends(D(Fa)){constructor(){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],arguments.length&&this.setTo(...arguments)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const t of this._ranges){let n=!1;for(const i of e._ranges)if(t.isEqual(i)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new el(e.start,e.end)}getFirstRange(){let e=null;for(const t of this._ranges)e&&!t.start.isBefore(e.start)||(e=t);return e?new el(e.start,e.end):null}getLastRange(){let e=null;for(const t of this._ranges)e&&!t.end.isAfter(e.end)||(e=t);return e?new el(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[i,o,r]=t;if("object"==typeof o&&(r=o,o=void 0),null===i)this._setRanges([]);else if(i instanceof fl)this._setRanges(i.getRanges(),i.isBackward);else if(i&&"function"==typeof i.getRanges)this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof el)this._setRanges([i],!!r&&!!r.backward);else if(i instanceof Ka)this._setRanges([new el(i)]);else if(i instanceof Va){const e=!!r&&!!r.backward;let t;if("in"==o)t=el._createIn(i);else if("on"==o)t=el._createOn(i);else{if(void 0===o)throw new v("model-selection-setto-required-second-parameter",[this,i]);t=new el(Ka._createAt(i,o))}this._setRanges([t],e)}else{if(!ee(i))throw new v("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,r&&!!r.backward)}}_setRanges(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Array.from(e),i=n.some((t=>{if(!(t instanceof el))throw new v("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every((e=>!e.isEqual(t)))}));(n.length!==this._ranges.length||i)&&(this._replaceAllRanges(n),this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0}))}setFocus(e,t){if(null===this.anchor)throw new v("model-selection-setfocus-no-ranges",[this,e]);const n=Ka._createAt(e,t);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(i)?(this._pushRange(new el(n,i)),this._lastRangeBackward=!0):(this._pushRange(new el(i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,t){this.getAttribute(e)!==t&&(this._attrs.set(e,t),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return 1!==this.rangeCount?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const t of this.getRanges()){const n=wl(t.start,e);kl(n,t)&&(yield n);for(const o of t.getWalker()){const n=o.item;"elementEnd"==o.type&&yl(n,e,t)&&(yield n)}const i=wl(t.end,e);_l(i,t)&&(yield i)}}containsEntireContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.anchor.root;const t=Ka._createAt(e,0),n=Ka._createAt(e,"end");return t.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new el(e.start,e.end))}_checkRange(e){for(let t=0;t<this._ranges.length;t++)if(e.isIntersecting(this._ranges[t]))throw new v("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[t]})}_replaceAllRanges(e){this._removeAllRanges();for(const t of e)this._pushRange(t)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function bl(e,t){return!t.has(e)&&(t.add(e),e.root.document.model.schema.isBlock(e)&&!!e.parent)}function yl(e,t,n){return bl(e,t)&&vl(e,n)}function wl(e,t){const n=e.parent.root.document.model.schema,i=e.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const r=i.find((e=>!o&&(o=n.isLimit(e),!o&&bl(e,t))));return i.forEach((e=>t.add(e))),r}function vl(e,t){const n=function(e){const t=e.root.document.model.schema;let n=e.parent;for(;n;){if(t.isBlock(n))return n;n=n.parent}}(e);return!n||!t.containsRange(el._createOn(n),!0)}function kl(e,t){return!!e&&(!(!t.isCollapsed&&!e.isEmpty)||!t.start.isTouching(Ka._createAt(e,e.maxOffset))&&vl(e,t))}function _l(e,t){return!!e&&(!(!t.isCollapsed&&!e.isEmpty)||!t.end.isTouching(Ka._createAt(e,0))&&vl(e,t))}fl.prototype.is=function(e){return"selection"===e||"model:selection"===e};class xl extends(D(el)){constructor(e,t){super(e,t),Al.call(this)}detach(){this.stopListening()}toRange(){return new el(this.start,this.end)}static fromRange(e){return new xl(e.start,e.end)}}function Al(){this.listenTo(this.root.document.model,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&Cl.call(this,n)}),{priority:"low"})}function Cl(e){const t=this.getTransformedByOperation(e),n=el._createFromRanges(t),i=!n.isEqual(this),o=function(e,t){switch(t.type){case"insert":return e.containsPosition(t.position);case"move":case"remove":case"reinsert":case"merge":return e.containsPosition(t.sourcePosition)||e.start.isEqual(t.sourcePosition)||e.containsPosition(t.targetPosition);case"split":return e.containsPosition(t.splitPosition)||e.containsPosition(t.insertionPosition)}return!1}(this,e);let r=null;if(i){"$graveyard"==n.root.rootName&&(r="remove"==e.type?e.sourcePosition:e.deletionPosition);const t=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",t,{deletionPosition:r})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:r})}xl.prototype.is=function(e){return"liveRange"===e||"model:liveRange"===e||"range"==e||"model:range"===e};const Sl="selection:";class Il extends(D(Fa)){constructor(e){super(),this._selection=new Tl(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,t){this._selection.setFocus(e,t)}_setTo(){this._selection.setTo(...arguments)}_setAttribute(e,t){this._selection.setAttribute(e,t)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return Sl+e}static _isStoreAttributeKey(e){return e.startsWith(Sl)}}Il.prototype.is=function(e){return"selection"===e||"model:selection"==e||"documentSelection"==e||"model:documentSelection"==e};class Tl extends fl{constructor(e){super(),this.markers=new Qi({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type&&(0==this._ranges.length&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))}),{priority:"lowest"}),this.on("change:range",(()=>{this._validateSelectionRanges(this.getRanges())})),this.listenTo(this._model.markers,"update",((e,t,n,i)=>{this._updateMarker(t,i)})),this.listenTo(this._document,"change",((e,t)=>{!function(e,t){const n=e.document.differ;for(const i of n.getChanges()){if("insert"!=i.type)continue;const n=i.position.parent;i.length===n.maxOffset&&e.enqueueChange(t,(e=>{const t=Array.from(n.getAttributeKeys()).filter((e=>e.startsWith(Sl)));for(const i of t)e.removeAttribute(i,n)}))}}(this._model,t)}))}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(){super.setTo(...arguments),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,t){super.setFocus(e,t),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,t){if(this._setAttribute(e,t)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const t=[e];this.fire("change:attribute",{attributeKeys:t,directChange:!0})}}overrideGravity(){const e=b();return this._overriddenGravityRegister.add(e),1===this._overriddenGravityRegister.size&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new v("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const t=this._prepareRange(e);t&&this._ranges.push(t)}_validateSelectionRanges(e){for(const t of e)if(!this._document._validateSelectionRange(t))throw new v("document-selection-wrong-position",this,{range:t})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const t=xl.fromRange(e);return t.on("change:range",((e,n,i)=>{if(this._hasChangedRange=!0,t.root==this._document.graveyard){this._selectionRestorePosition=i.deletionPosition;const e=this._ranges.indexOf(t);this._ranges.splice(e,1),t.detach()}})),t}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let t=!1;for(const i of this._model.markers){const t=i.name.split(":",1)[0];if(!this._observedMarkers.has(t))continue;const n=i.getRange();for(const o of this.getRanges())n.containsRange(o,!o.isCollapsed)&&e.push(i)}const n=Array.from(this.markers);for(const i of e)this.markers.has(i)||(this.markers.add(i),t=!0);for(const i of Array.from(this.markers))e.includes(i)||(this.markers.remove(i),t=!0);t&&this.fire("change:marker",{oldMarkers:n,directChange:!1})}_updateMarker(e,t){const n=e.name.split(":",1)[0];if(!this._observedMarkers.has(n))return;let i=!1;const o=Array.from(this.markers),r=this.markers.has(e);if(t){let n=!1;for(const e of this.getRanges())if(t.containsRange(e,!e.isCollapsed)){n=!0;break}n&&!r?(this.markers.add(e),i=!0):!n&&r&&(this.markers.remove(e),i=!0)}else r&&(this.markers.remove(e),i=!0);i&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateAttributes(e){const t=eo(this._getSurroundingAttributes()),n=eo(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[o,r]of this._attributePriority)"low"==r&&(this._attrs.delete(o),this._attributePriority.delete(o));this._setAttributesTo(t);const i=[];for(const[o,r]of this.getAttributes())n.has(o)&&n.get(o)===r||i.push(o);for(const[o]of n)this.hasAttribute(o)||i.push(o);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(e,t){const n=arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?"low":"normal";return("low"!=n||"normal"!=this._attributePriority.get(e))&&super.getAttribute(e)!==t&&(this._attrs.set(e,t),this._attributePriority.set(e,n),!0)}_removeAttribute(e){const t=arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?"low":"normal";return("low"!=t||"normal"!=this._attributePriority.get(e))&&(this._attributePriority.set(e,t),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const t=new Set;for(const[n,i]of this.getAttributes())e.get(n)!==i&&this._removeAttribute(n,!1);for(const[n,i]of e)this._setAttribute(n,i,!1)&&t.add(n);return t}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const t of e.getAttributeKeys())if(t.startsWith(Sl)){const n=t.substr(10);yield[n,e.getAttribute(t)]}}_getSurroundingAttributes(){const e=this.getFirstPosition(),t=this._model.schema;if("$graveyard"==e.root.rootName)return null;let n=null;if(this.isCollapsed){const i=e.textNode?e.textNode:e.nodeBefore,o=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(n=El(i,t)),n||(n=El(o,t)),!this.isGravityOverridden&&!n){let e=i;for(;e&&!n;)e=e.previousSibling,n=El(e,t)}if(!n){let e=o;for(;e&&!n;)e=e.nextSibling,n=El(e,t)}n||(n=this.getStoredAttributes())}else{const e=this.getFirstRange();for(const i of e){if(i.item.is("element")&&t.isObject(i.item)){n=El(i.item,t);break}if("text"==i.type){n=i.item.getAttributes();break}}}return n}_fixGraveyardSelection(e){const t=this._model.schema.getNearestSelectionRange(e);t&&this._pushRange(t)}}function El(e,t){if(!e)return null;if(e instanceof Ua||e instanceof Wa)return e.getAttributes();if(!t.isInline(e))return null;if(!t.isObject(e))return[];const n=[];for(const[i,o]of e.getAttributes())t.checkAttribute("$text",i)&&!1!==t.getAttributeProperties(i).copyFromObject&&n.push([i,o]);return n}class Dl{constructor(e){this._dispatchers=e}add(e){for(const t of this._dispatchers)e(t);return this}}class Ml extends Dl{elementToElement(e){return this.add(function(e){const t=Bl(e.model),n=jl(e.view,"container");return t.attributes.length&&(t.children=!0),i=>{i.on(`insert:${t.name}`,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wl;return(n,i,o)=>{if(!t(i.item,o.consumable,{preflight:!0}))return;const r=e(i.item,o,i);if(!r)return;t(i.item,o.consumable);const s=o.mapper.toViewPosition(i.range.start);o.mapper.bindElements(i.item,r),o.writer.insert(s,r),o.convertAttributes(i.item),Vl(r,i.item.getChildren(),o,{reconversion:i.reconversion})}}(n,Fl(t)),{priority:e.converterPriority||"normal"}),(t.children||t.attributes.length)&&i.on("reduceChanges",Nl(t),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(e){const t=Bl(e.model),n=jl(e.view,"container");return t.children=!0,i=>{if(i._conversionApi.schema.checkChild(t.name,"$text"))throw new v("conversion-element-to-structure-disallowed-text",i,{elementName:t.name});var o,r;i.on(`insert:${t.name}`,(o=n,r=Fl(t),(e,t,n)=>{if(!r(t.item,n.consumable,{preflight:!0}))return;const i=new Map;n.writer._registerSlotFactory(function(e,t,n){return(i,o)=>{const r=i.createContainerElement("$slot");let s=null;if("children"===o)s=Array.from(e.getChildren());else{if("function"!=typeof o)throw new v("conversion-slot-mode-unknown",n.dispatcher,{modeOrFilter:o});s=Array.from(e.getChildren()).filter((e=>o(e)))}return t.set(r,s),r}}(t.item,i,n));const s=o(t.item,n,t);if(n.writer._clearSlotFactory(),!s)return;!function(e,t,n){const i=Array.from(t.values()).flat(),o=new Set(i);if(o.size!=i.length)throw new v("conversion-slot-filter-overlap",n.dispatcher,{element:e});if(o.size!=e.childCount)throw new v("conversion-slot-filter-incomplete",n.dispatcher,{element:e})}(t.item,i,n),r(t.item,n.consumable);const a=n.mapper.toViewPosition(t.range.start);n.mapper.bindElements(t.item,s),n.writer.insert(a,s),n.convertAttributes(t.item),function(e,t,n,i){n.mapper.on("modelToViewPosition",s,{priority:"highest"});let o=null,r=null;for([o,r]of t)Vl(e,r,n,i),n.writer.move(n.writer.createRangeIn(o),n.writer.createPositionBefore(o)),n.writer.remove(o);function s(e,t){const n=t.modelPosition.nodeAfter,i=r.indexOf(n);i<0||(t.viewPosition=t.mapper.findPositionIn(o,i))}n.mapper.off("modelToViewPosition",s)}(s,i,n,{reconversion:t.reconversion})}),{priority:e.converterPriority||"normal"}),i.on("reduceChanges",Nl(t),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(e){let t=(e=Oa(e)).model;"string"==typeof t&&(t={key:t});let n=`attribute:${t.key}`;if(t.name&&(n+=":"+t.name),t.values)for(const o of t.values)e.view[o]=jl(e.view[o],"attribute");else e.view=jl(e.view,"attribute");const i=Ll(e);return t=>{t.on(n,function(e){return(t,n,i)=>{if(!i.consumable.test(n.item,t.name))return;const o=e(n.attributeOldValue,i,n),r=e(n.attributeNewValue,i,n);if(!o&&!r)return;i.consumable.consume(n.item,t.name);const s=i.writer,a=s.document.selection;if(n.item instanceof fl||n.item instanceof Il)s.wrap(a.getFirstRange(),r);else{let e=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&o&&(e=s.unwrap(e,o)),null!==n.attributeNewValue&&r&&s.wrap(e,r)}}}(i),{priority:e.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(e){let t=(e=Oa(e)).model;"string"==typeof t&&(t={key:t});let n=`attribute:${t.key}`;if(t.name&&(n+=":"+t.name),t.values)for(const o of t.values)e.view[o]=zl(e.view[o]);else e.view=zl(e.view);const i=Ll(e);return t=>{var o;t.on(n,(o=i,(e,t,n)=>{if(!n.consumable.test(t.item,e.name))return;const i=o(t.attributeOldValue,n,t),r=o(t.attributeNewValue,n,t);if(!i&&!r)return;n.consumable.consume(t.item,e.name);const s=n.mapper.toViewElement(t.item),a=n.writer;if(!s)throw new v("conversion-attribute-to-attribute-on-text",n.dispatcher,t);if(null!==t.attributeOldValue&&i)if("class"==i.key){const e="string"==typeof i.value?i.value.split(/\s+/):i.value;for(const t of e)a.removeClass(t,s)}else if("style"==i.key)if("string"==typeof i.value){const e=new Dr(a.document.stylesProcessor);e.setTo(i.value);for(const[t]of e.getStylesEntries())a.removeStyle(t,s)}else{const e=Object.keys(i.value);for(const t of e)a.removeStyle(t,s)}else a.removeAttribute(i.key,s);if(null!==t.attributeNewValue&&r)if("class"==r.key){const e="string"==typeof r.value?r.value.split(/\s+/):r.value;for(const t of e)a.addClass(t,s)}else if("style"==r.key)if("string"==typeof r.value){const e=new Dr(a.document.stylesProcessor);e.setTo(r.value);for(const[t,n]of e.getStylesEntries())a.setStyle(t,n,s)}else{const e=Object.keys(r.value);for(const t of e)a.setStyle(t,r.value[t],s)}else a.setAttribute(r.key,r.value,s)}),{priority:e.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(e){const t=jl(e.view,"ui");return n=>{n.on(`addMarker:${e.model}`,function(e){return(t,n,i)=>{n.isOpening=!0;const o=e(n,i);n.isOpening=!1;const r=e(n,i);if(!o||!r)return;const s=n.markerRange;if(s.isCollapsed&&!i.consumable.consume(s,t.name))return;for(const e of s)if(!i.consumable.consume(e.item,t.name))return;const a=i.mapper,l=i.writer;l.insert(a.toViewPosition(s.start),o),i.mapper.bindElementToMarker(o,n.markerName),s.isCollapsed||(l.insert(a.toViewPosition(s.end),r),i.mapper.bindElementToMarker(r,n.markerName)),t.stop()}}(t),{priority:e.converterPriority||"normal"}),n.on(`removeMarker:${e.model}`,((e,t,n)=>{const i=n.mapper.markerNameToElements(t.markerName);if(i){for(const e of i)n.mapper.unbindElementFromMarkerName(e,t.markerName),n.writer.clear(n.writer.createRangeOn(e),e);n.writer.clearClonedElementsGroup(t.markerName),e.stop()}}),{priority:e.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(e){return t=>{var n;t.on(`addMarker:${e.model}`,(n=e.view,(e,t,i)=>{if(!t.item)return;if(!(t.item instanceof fl||t.item instanceof Il||t.item.is("$textProxy")))return;const o=Ol(n,t,i);if(!o)return;if(!i.consumable.consume(t.item,e.name))return;const r=i.writer,s=Pl(r,o),a=r.document.selection;if(t.item instanceof fl||t.item instanceof Il)r.wrap(a.getFirstRange(),s);else{const e=i.mapper.toViewRange(t.range),n=r.wrap(e,s);for(const o of n.getItems())if(o.is("attributeElement")&&o.isSimilar(s)){i.mapper.bindElementToMarker(o,t.markerName);break}}}),{priority:e.converterPriority||"normal"}),t.on(`addMarker:${e.model}`,function(e){return(t,n,i)=>{if(!n.item)return;if(!(n.item instanceof qa))return;const o=Ol(e,n,i);if(!o)return;if(!i.consumable.test(n.item,t.name))return;const r=i.mapper.toViewElement(n.item);if(r&&r.getCustomProperty("addHighlight")){i.consumable.consume(n.item,t.name);for(const e of el._createIn(n.item))i.consumable.consume(e.item,t.name);r.getCustomProperty("addHighlight")(r,o,i.writer),i.mapper.bindElementToMarker(r,n.markerName)}}}(e.view),{priority:e.converterPriority||"normal"}),t.on(`removeMarker:${e.model}`,function(e){return(t,n,i)=>{if(n.markerRange.isCollapsed)return;const o=Ol(e,n,i);if(!o)return;const r=Pl(i.writer,o),s=i.mapper.markerNameToElements(n.markerName);if(s){for(const e of s)i.mapper.unbindElementFromMarkerName(e,n.markerName),e.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(e),r):e.getCustomProperty("removeHighlight")(e,o.id,i.writer);i.writer.clearClonedElementsGroup(n.markerName),t.stop()}}}(e.view),{priority:e.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(e){const t=(e=Oa(e)).model;let n=e.view;return n||(n=n=>({group:t,name:n.substr(e.model.length+1)})),i=>{var o;i.on(`addMarker:${t}`,(o=n,(e,t,n)=>{const i=o(t.markerName,n);if(!i)return;const r=t.markerRange;n.consumable.consume(r,e.name)&&(Rl(r,!1,n,t,i),Rl(r,!0,n,t,i),e.stop())}),{priority:e.converterPriority||"normal"}),i.on(`removeMarker:${t}`,function(e){return(t,n,i)=>{const o=e(n.markerName,i);if(!o)return;const r=i.mapper.markerNameToElements(n.markerName);if(r){for(const e of r)i.mapper.unbindElementFromMarkerName(e,n.markerName),e.is("containerElement")?(s(`data-${o.group}-start-before`,e),s(`data-${o.group}-start-after`,e),s(`data-${o.group}-end-before`,e),s(`data-${o.group}-end-after`,e)):i.writer.clear(i.writer.createRangeOn(e),e);i.writer.clearClonedElementsGroup(n.markerName),t.stop()}function s(e,t){if(t.hasAttribute(e)){const n=new Set(t.getAttribute(e).split(","));n.delete(o.name),0==n.size?i.writer.removeAttribute(e,t):i.writer.setAttribute(e,Array.from(n).join(","),t)}}}}(n),{priority:e.converterPriority||"normal"})}}(e))}}function Pl(e,t){const n=e.createAttributeElement("span",t.attributes);return t.classes&&n._addClass(t.classes),"number"==typeof t.priority&&(n._priority=t.priority),n._id=t.id,n}function Rl(e,t,n,i,o){const r=t?e.start:e.end,s=r.nodeAfter&&r.nodeAfter.is("element")?r.nodeAfter:null,a=r.nodeBefore&&r.nodeBefore.is("element")?r.nodeBefore:null;if(s||a){let e,r;t&&s||!t&&!a?(e=s,r=!0):(e=a,r=!1);const l=n.mapper.toViewElement(e);if(l)return void function(e,t,n,i,o,r){const s=`data-${r.group}-${t?"start":"end"}-${n?"before":"after"}`,a=e.hasAttribute(s)?e.getAttribute(s).split(","):[];a.unshift(r.name),i.writer.setAttribute(s,a.join(","),e),i.mapper.bindElementToMarker(e,o.markerName)}(l,t,r,n,i,o)}!function(e,t,n,i,o){const r=`${o.group}-${t?"start":"end"}`,s=o.name?{name:o.name}:null,a=n.writer.createUIElement(r,s);n.writer.insert(e,a),n.mapper.bindElementToMarker(a,i.markerName)}(n.mapper.toViewPosition(r),t,n,i,o)}function Bl(e){return"string"==typeof e&&(e={name:e}),{name:e.name,attributes:e.attributes?Mi(e.attributes):[],children:!!e.children}}function jl(e,t){return"function"==typeof e?e:(n,i)=>function(e,t,n){let i;"string"==typeof e&&(e={name:e});const o=t.writer,r=Object.assign({},e.attributes);if("container"==n)i=o.createContainerElement(e.name,r);else if("attribute"==n){const t={priority:e.priority||ts.DEFAULT_PRIORITY};i=o.createAttributeElement(e.name,r,t)}else i=o.createUIElement(e.name,r);if(e.styles){const t=Object.keys(e.styles);for(const n of t)o.setStyle(n,e.styles[n],i)}if(e.classes){const t=e.classes;if("string"==typeof t)o.addClass(t,i);else for(const e of t)o.addClass(e,i)}return i}(e,i,t)}function Ll(e){return e.model.values?(t,n,i)=>{const o=e.view[t];return o?o(t,n,i):null}:e.view}function zl(e){return"string"==typeof e?t=>({key:e,value:t}):"object"==typeof e?e.value?()=>e:t=>({key:e.key,value:t}):e}function Ol(e,t,n){const i="function"==typeof e?e(t,n):e;return i?(i.priority||(i.priority=10),i.id||(i.id=t.markerName),i):null}function Nl(e){const t=function(e){return(t,n)=>{if(!t.is("element",e.name))return!1;if("attribute"==n.type){if(e.attributes.includes(n.attributeKey))return!0}else if(e.children)return!0;return!1}}(e);return(e,n)=>{const i=[];n.reconvertedElements||(n.reconvertedElements=new Set);for(const o of n.changes){const e="attribute"==o.type?o.range.start.nodeAfter:o.position.parent;if(e&&t(e,o)){if(!n.reconvertedElements.has(e)){n.reconvertedElements.add(e);const t=Ka._createBefore(e);let o=i.length;for(let e=i.length-1;e>=0;e--){const n=i[e],r=("attribute"==n.type?n.range.start:n.position).compareWith(t);if("before"==r||"remove"==n.type&&"same"==r)break;o=e}i.splice(o,0,{type:"remove",name:e.name,position:t,length:1},{type:"reinsert",name:e.name,position:t,length:1})}}else i.push(o)}n.changes=i}}function Fl(e){return function(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=["insert"];for(const r of e.attributes)t.hasAttribute(r)&&o.push(`attribute:${r}`);return!!o.every((e=>n.test(t,e)))&&(i.preflight||o.forEach((e=>n.consume(t,e))),!0)}}function Vl(e,t,n,i){for(const o of t)Hl(e.root,o,n,i)||n.convertItem(o)}function Hl(e,t,n,i){const{writer:o,mapper:r}=n;if(!i.reconversion)return!1;const s=r.toViewElement(t);return!(!s||s.root==e)&&!!n.canReuseView(s)&&(o.move(o.createRangeOn(s),r.toViewPosition(Ka._createBefore(t))),!0)}function Wl(e,t){let{preflight:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n?t.test(e,"insert"):t.consume(e,"insert")}function Ul(e){const{schema:t,document:n}=e.model;for(const i of n.getRoots())if(i.isEmpty&&!t.checkChild(i,"$text")&&t.checkChild(i,"paragraph"))return e.insertElement("paragraph",i),!0;return!1}function ql(e,t,n){const i=n.createContext(e);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),t)}function $l(e,t){const n=t.createElement("paragraph");return t.insert(n,e),t.createPositionAt(n,0)}var Gl=Object.defineProperty,Kl=Object.defineProperties,Yl=Object.getOwnPropertyDescriptors,Ql=Object.getOwnPropertySymbols,Zl=Object.prototype.hasOwnProperty,Xl=Object.prototype.propertyIsEnumerable,Jl=(e,t,n)=>t in e?Gl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class ec extends Dl{elementToElement(e){return this.add(tc(e))}elementToAttribute(e){return this.add(function(e){oc(e=Oa(e));const t=rc(e,!1),n=nc(e.view),i=n?`element:${n}`:"element";return n=>{n.on(i,t,{priority:e.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(e){let t=null;("string"==typeof(e=Oa(e)).view||e.view.key)&&(t=function(e){"string"==typeof e.view&&(e.view={key:e.view});const t=e.view.key,n=void 0===e.view.value?/[\s\S]*/:e.view.value;let i;if("class"==t||"style"==t){const e="class"==t?"classes":"styles";i={[e]:n}}else i={attributes:{[t]:n}};return e.view.name&&(i.name=e.view.name),e.view=i,t}(e)),oc(e,t);const n=rc(e,!0);return t=>{t.on("element",n,{priority:e.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(e){const t=function(e){return(t,n)=>{const i="string"==typeof e?e:e(t,n);return n.writer.createElement("$marker",{"data-name":i})}}(e.model);return tc((n=((e,t)=>{for(var n in t||(t={}))Zl.call(t,n)&&Jl(e,n,t[n]);if(Ql)for(var n of Ql(t))Xl.call(t,n)&&Jl(e,n,t[n]);return e})({},e),Kl(n,Yl({model:t}))));var n}(e))}dataToMarker(e){return this.add(function(e){(e=Oa(e)).model||(e.model=t=>t?e.view+":"+t:e.view);const t={view:e.view,model:e.model},n=ic(sc(t,"start")),i=ic(sc(t,"end"));return o=>{o.on(`element:${e.view}-start`,n,{priority:e.converterPriority||"normal"}),o.on(`element:${e.view}-end`,i,{priority:e.converterPriority||"normal"});const r=y.low,s=y.highest,a=y.get(e.converterPriority)/s;o.on("element",function(e){return(t,n,i)=>{const o=`data-${e.view}`;function r(t,o){for(const r of o){const o=e.model(r,i),s=i.writer.createElement("$marker",{"data-name":o});i.writer.insert(s,t),n.modelCursor.isEqual(t)?n.modelCursor=n.modelCursor.getShiftedBy(1):n.modelCursor=n.modelCursor._getTransformedByInsertion(t,1),n.modelRange=n.modelRange._getTransformedByInsertion(t,1)[0]}}(i.consumable.test(n.viewItem,{attributes:o+"-end-after"})||i.consumable.test(n.viewItem,{attributes:o+"-start-after"})||i.consumable.test(n.viewItem,{attributes:o+"-end-before"})||i.consumable.test(n.viewItem,{attributes:o+"-start-before"}))&&(n.modelRange||Object.assign(n,i.convertChildren(n.viewItem,n.modelCursor)),i.consumable.consume(n.viewItem,{attributes:o+"-end-after"})&&r(n.modelRange.end,n.viewItem.getAttribute(o+"-end-after").split(",")),i.consumable.consume(n.viewItem,{attributes:o+"-start-after"})&&r(n.modelRange.end,n.viewItem.getAttribute(o+"-start-after").split(",")),i.consumable.consume(n.viewItem,{attributes:o+"-end-before"})&&r(n.modelRange.start,n.viewItem.getAttribute(o+"-end-before").split(",")),i.consumable.consume(n.viewItem,{attributes:o+"-start-before"})&&r(n.modelRange.start,n.viewItem.getAttribute(o+"-start-before").split(",")))}}(t),{priority:r+a})}}(e))}}function tc(e){const t=ic(e=Oa(e)),n=nc(e.view),i=n?`element:${n}`:"element";return n=>{n.on(i,t,{priority:e.converterPriority||"normal"})}}function nc(e){return"string"==typeof e?e:"object"==typeof e&&"string"==typeof e.name?e.name:null}function ic(e){const t=new sr(e.view);return(n,i,o)=>{const r=t.match(i.viewItem);if(!r)return;const s=r.match;if(s.name=!0,!o.consumable.test(i.viewItem,s))return;const a=function(e,t,n){return e instanceof Function?e(t,n):n.writer.createElement(e)}(e.model,i.viewItem,o);a&&o.safeInsert(a,i.modelCursor)&&(o.consumable.consume(i.viewItem,s),o.convertChildren(i.viewItem,a),o.updateConversionResult(a,i))}}function oc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=null===t||(e=>e.getAttribute(t)),i="object"!=typeof e.model?e.model:e.model.key,o="object"!=typeof e.model||void 0===e.model.value?n:e.model.value;e.model={key:i,value:o}}function rc(e,t){const n=new sr(e.view);return(i,o,r)=>{if(!o.modelRange&&t)return;const s=n.match(o.viewItem);if(!s)return;if(function(e,t){const n="function"==typeof e?e(t):e;return!("object"==typeof n&&!nc(n))&&!n.classes&&!n.attributes&&!n.styles}(e.view,o.viewItem)?s.match.name=!0:delete s.match.name,!r.consumable.test(o.viewItem,s.match))return;const a=e.model.key,l="function"==typeof e.model.value?e.model.value(o.viewItem,r):e.model.value;if(null===l)return;o.modelRange||Object.assign(o,r.convertChildren(o.viewItem,o.modelCursor));const c=function(e,t,n,i){let o=!1;for(const r of Array.from(e.getItems({shallow:n})))i.schema.checkAttribute(r,t.key)&&(o=!0,r.hasAttribute(t.key)||i.writer.setAttribute(t.key,t.value,r));return o}(o.modelRange,{key:a,value:l},t,r);c&&(r.consumable.test(o.viewItem,{name:!0})&&(s.match.name=!0),r.consumable.consume(o.viewItem,s.match))}}function sc(e,t){return{view:`${e.view}-${t}`,model:(t,n)=>{const i=t.getAttribute("name"),o=e.model(i,n);return n.writer.createElement("$marker",{"data-name":o})}}}function ac(e,t){return e.isCollapsed?function(e,t){const n=e.start,i=t.getNearestSelectionRange(n);if(!i){const e=n.getAncestors().reverse().find((e=>t.isObject(e)));return e?el._createOn(e):null}if(!i.isCollapsed)return i;const o=i.start;return n.isEqual(o)?null:new el(o)}(e,t):function(e,t){const{start:n,end:i}=e,o=t.checkChild(n,"$text"),r=t.checkChild(i,"$text"),s=t.getLimitElement(n),a=t.getLimitElement(i);if(s===a){if(o&&r)return null;if(function(e,t,n){const i=e.nodeAfter&&!n.isLimit(e.nodeAfter)||n.checkChild(e,"$text"),o=t.nodeBefore&&!n.isLimit(t.nodeBefore)||n.checkChild(t,"$text");return i||o}(n,i,t)){const e=n.nodeAfter&&t.isSelectable(n.nodeAfter)?null:t.getNearestSelectionRange(n,"forward"),o=i.nodeBefore&&t.isSelectable(i.nodeBefore)?null:t.getNearestSelectionRange(i,"backward"),r=e?e.start:n,s=o?o.end:i;return new el(r,s)}}const l=s&&!s.is("rootElement"),c=a&&!a.is("rootElement");if(l||c){const e=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,o=l&&(!e||!cc(n.nodeAfter,t)),r=c&&(!e||!cc(i.nodeBefore,t));let d=n,u=i;return o&&(d=Ka._createBefore(lc(s,t))),r&&(u=Ka._createAfter(lc(a,t))),new el(d,u)}return null}(e,t)}function lc(e,t){let n=e,i=n;for(;t.isLimit(i)&&i.parent;)n=i,i=i.parent;return n}function cc(e,t){return e&&t.isSelectable(e)}class dc extends(q()){constructor(e,t){super(),this.model=e,this.view=new Na(t),this.mapper=new tl,this.downcastDispatcher=new hl({mapper:this.mapper,schema:e.schema});const n=this.model.document,i=n.selection,o=this.model.markers;var r,s,a;this.listenTo(this.model,"_beforeChanges",(()=>{this.view._disableRendering(!0)}),{priority:"highest"}),this.listenTo(this.model,"_afterChanges",(()=>{this.view._disableRendering(!1)}),{priority:"lowest"}),this.listenTo(n,"change",(()=>{this.view.change((e=>{this.downcastDispatcher.convertChanges(n.differ,o,e),this.downcastDispatcher.convertSelection(i,o,e)}))}),{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(e,t){return(n,i)=>{const o=i.newSelection,r=[];for(const e of o.getRanges())r.push(t.toModelRange(e));const s=e.createSelection(r,{backward:o.isBackward});s.isEqual(e.document.selection)||e.change((e=>{e.setSelection(s)}))}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(r=this.mapper,s=this.model.schema,a=this.view,(e,t)=>{if(!a.document.isComposing||c.isAndroid)for(let n=0;n<t.targetRanges.length;n++){const e=t.targetRanges[n],i=r.toModelRange(e),o=ac(i,s);o&&!o.isEqual(i)&&(t.targetRanges[n]=r.toViewRange(o))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",((e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const i=n.writer,o=n.mapper.toViewPosition(t.range.start),r=i.createText(t.item.data);i.insert(o,r)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((e,t,n)=>{n.convertAttributes(t.item),t.reconversion||!t.item.is("element")||t.item.isEmpty||n.convertChildren(t.item)}),{priority:"lowest"}),this.downcastDispatcher.on("remove",((e,t,n)=>{const i=n.mapper.toViewPosition(t.position),o=t.position.getShiftedBy(t.length),r=n.mapper.toViewPosition(o,{isPhantom:!0}),s=n.writer.createRange(i,r),a=n.writer.remove(s.getTrimmed());for(const l of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(l,{defer:!0})}),{priority:"low"}),this.downcastDispatcher.on("cleanSelection",((e,t,n)=>{const i=n.writer,o=i.document.selection;for(const r of o.getRanges())r.isCollapsed&&r.end.parent.isAttached()&&n.writer.mergeAttributes(r.start);i.setSelection(null)})),this.downcastDispatcher.on("selection",((e,t,n)=>{const i=t.selection;if(i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const o=[];for(const r of i.getRanges())o.push(n.mapper.toViewRange(r));n.writer.setSelection(o,{backward:i.isBackward})}),{priority:"low"}),this.downcastDispatcher.on("selection",((e,t,n)=>{const i=t.selection;if(!i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const o=n.writer,r=i.getFirstPosition(),s=n.mapper.toViewPosition(r),a=o.breakAttributes(s);o.setSelection(a)}),{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using((e=>{if("$graveyard"==e.rootName)return null;const t=new Fr(this.view.document,e.name);return t.rootName=e.rootName,this.mapper.bindElements(e,t),t}))}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const t="string"==typeof e?e:e.name,n=this.model.markers.get(t);if(!n)throw new v("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:t});this.model.change((()=>{this.model.markers._refresh(n)}))}reconvertItem(e){this.model.change((()=>{this.model.document.differ._refreshItem(e)}))}}class uc{constructor(){this._consumables=new Map}add(e,t){let n;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?n=this._consumables.get(e):(n=new hc(e),this._consumables.set(e,n)),n.add(t))}test(e,t){const n=this._consumables.get(e);return void 0===n?null:e.is("$text")||e.is("documentFragment")?n:n.test(t)}consume(e,t){return!!this.test(e,t)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(t),!0)}revert(e,t){const n=this._consumables.get(e);void 0!==n&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):n.revert(t))}static consumablesFromElement(e){const t={element:e,name:!0,attributes:[],classes:[],styles:[]},n=e.getAttributeKeys();for(const r of n)"style"!=r&&"class"!=r&&t.attributes.push(r);const i=e.getClassNames();for(const r of i)t.classes.push(r);const o=e.getStyleNames();for(const r of o)t.styles.push(r);return t}static createFrom(e,t){if(t||(t=new uc),e.is("$text"))return t.add(e),t;e.is("element")&&t.add(e,uc.consumablesFromElement(e)),e.is("documentFragment")&&t.add(e);for(const n of e.getChildren())t=uc.createFrom(n,t);return t}}const pc=["attributes","classes","styles"];class hc{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const t of pc)t in e&&this._add(t,e[t])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const t of pc)if(t in e){const n=this._test(t,e[t]);if(!0!==n)return n}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const t of pc)t in e&&this._consume(t,e[t])}revert(e){e.name&&(this._canConsumeName=!0);for(const t of pc)t in e&&this._revert(t,e[t])}_add(e,t){const n=Mi(t),i=this._consumables[e];for(const o of n){if("attributes"===e&&("class"===o||"style"===o))throw new v("viewconsumable-invalid-attribute",this);if(i.set(o,!0),"styles"===e)for(const e of this.element.document.stylesProcessor.getRelatedStyles(o))i.set(e,!0)}}_test(e,t){const n=Mi(t),i=this._consumables[e];for(const o of n)if("attributes"!==e||"class"!==o&&"style"!==o){const e=i.get(o);if(void 0===e)return null;if(!e)return!1}else{const e="class"==o?"classes":"styles",t=this._test(e,[...this._consumables[e].keys()]);if(!0!==t)return t}return!0}_consume(e,t){const n=Mi(t),i=this._consumables[e];for(const o of n)if("attributes"!==e||"class"!==o&&"style"!==o){if(i.set(o,!1),"styles"==e)for(const e of this.element.document.stylesProcessor.getRelatedStyles(o))i.set(e,!1)}else{const e="class"==o?"classes":"styles";this._consume(e,[...this._consumables[e].keys()])}}_revert(e,t){const n=Mi(t),i=this._consumables[e];for(const o of n)if("attributes"!==e||"class"!==o&&"style"!==o)!1===i.get(o)&&i.set(o,!0);else{const e="class"==o?"classes":"styles";this._revert(e,[...this._consumables[e].keys()])}}}class gc extends(q()){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",((e,t)=>{t[0]=new mc(t[0])}),{priority:"highest"}),this.on("checkChild",((e,t)=>{t[0]=new mc(t[0]),t[1]=this.getDefinition(t[1])}),{priority:"highest"})}register(e,t){if(this._sourceDefinitions[e])throw new v("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},t)],this._clearCache()}extend(e,t){if(!this._sourceDefinitions[e])throw new v("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},t)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let t;return t="string"==typeof e?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[t]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const t=this.getDefinition(e);return!(!t||!t.isBlock)}isLimit(e){const t=this.getDefinition(e);return!!t&&!(!t.isLimit&&!t.isObject)}isObject(e){const t=this.getDefinition(e);return!!t&&!!(t.isObject||t.isLimit&&t.isSelectable&&t.isContent)}isInline(e){const t=this.getDefinition(e);return!(!t||!t.isInline)}isSelectable(e){const t=this.getDefinition(e);return!!t&&!(!t.isSelectable&&!t.isObject)}isContent(e){const t=this.getDefinition(e);return!!t&&!(!t.isContent&&!t.isObject)}checkChild(e,t){return!!t&&this._checkContextMatch(t,e)}checkAttribute(e,t){const n=this.getDefinition(e.last);return!!n&&n.allowAttributes.includes(t)}checkMerge(e,t){if(e instanceof Ka){const t=e.nodeBefore,n=e.nodeAfter;if(!(t instanceof qa))throw new v("schema-check-merge-no-element-before",this);if(!(n instanceof qa))throw new v("schema-check-merge-no-element-after",this);return this.checkMerge(t,n)}for(const n of t.getChildren())if(!this.checkChild(e,n))return!1;return!0}addChildCheck(e){this.on("checkChild",((t,n)=>{let[i,o]=n;if(!o)return;const r=e(i,o);"boolean"==typeof r&&(t.stop(),t.return=r)}),{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",((t,n)=>{let[i,o]=n;const r=e(i,o);"boolean"==typeof r&&(t.stop(),t.return=r)}),{priority:"high"})}setAttributeProperties(e,t){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),t)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let t;for(t=e instanceof Ka?e.parent:(e instanceof el?[e]:Array.from(e.getRanges())).reduce(((e,t)=>{const n=t.getCommonAncestor();return e?e.getCommonAncestor(n,{includeSelf:!0}):n}),null);!this.isLimit(t)&&t.parent;)t=t.parent;return t}checkAttributeInSelection(e,t){if(e.isCollapsed){const n=[...e.getFirstPosition().getAncestors(),new Wa("",e.getAttributes())];return this.checkAttribute(n,t)}{const n=e.getRanges();for(const e of n)for(const n of e)if(this.checkAttribute(n.item,t))return!0}return!1}*getValidRanges(e,t){e=function*(e){for(const t of e)yield*t.getMinimalFlatRanges()}(e);for(const n of e)yield*this._getValidRangesForRange(n,t)}getNearestSelectionRange(e){let t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"both";if("$graveyard"==e.root.rootName)return null;if(this.checkChild(e,"$text"))return new el(e);const o=e.getAncestors().reverse().find((e=>this.isLimit(e)))||e.root;"both"!=i&&"backward"!=i||(t=new $a({boundaries:el._createIn(o),startPosition:e,direction:"backward"})),"both"!=i&&"forward"!=i||(n=new $a({boundaries:el._createIn(o),startPosition:e}));for(const r of function*(e,t){let n=!1;for(;!n;){if(n=!0,e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}if(t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}}}(t,n)){const e=r.walker==t?"elementEnd":"elementStart",n=r.value;if(n.type==e&&this.isObject(n.item))return el._createOn(n.item);if(this.checkChild(n.nextPosition,"$text"))return new el(n.nextPosition)}return null}findAllowedParent(e,t){let n=e.parent;for(;n;){if(this.checkChild(n,t))return n;if(this.isLimit(n))return null;n=n.parent}return null}setAllowedAttributes(e,t,n){const i=n.model;for(const[o,r]of Object.entries(t))i.schema.checkAttribute(e,o)&&n.setAttribute(o,r,e)}removeDisallowedAttributes(e,t){for(const n of e)if(n.is("$text"))Tc(this,n,t);else{const e=el._createIn(n).getPositions();for(const n of e)Tc(this,n.nodeBefore||n.parent,t)}}getAttributesWithProperty(e,t,n){const i={};for(const[o,r]of e.getAttributes()){const e=this.getAttributeProperties(o);void 0!==e[t]&&(void 0!==n&&n!==e[t]||(i[o]=r))}return i}createContext(e){return new mc(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},t=this._sourceDefinitions,n=Object.keys(t);for(const i of n)e[i]=fc(t[i],i);for(const i of n)bc(e,i);for(const i of n)yc(e,i);for(const i of n)wc(e,i);for(const i of n)vc(e,i),kc(e,i);for(const i of n)_c(e,i),xc(e,i),Ac(e,i);this._compiledDefinitions=e}_checkContextMatch(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length-1;const i=t.getItem(n);if(e.allowIn.includes(i.name)){if(0==n)return!0;{const e=this.getDefinition(i);return this._checkContextMatch(e,t,n-1)}}return!1}*_getValidRangesForRange(e,t){let n=e.start,i=e.start;for(const o of e.getItems({shallow:!0}))o.is("element")&&(yield*this._getValidRangesForRange(el._createIn(o),t)),this.checkAttribute(o,t)||(n.isEqual(i)||(yield new el(n,i)),n=Ka._createAfter(o)),i=Ka._createAfter(o);n.isEqual(i)||(yield new el(n,i))}findOptimalInsertionRange(e,t){const n=e.getSelectedElement();if(n&&this.isObject(n)&&!this.isInline(n))return"before"==t||"after"==t?new el(Ka._createAt(n,t)):el._createOn(n);const i=Zi(e.getSelectedBlocks());if(!i)return new el(e.focus);if(i.isEmpty)return new el(Ka._createAt(i,0));const o=Ka._createAfter(i);return e.focus.isTouching(o)?new el(o):new el(Ka._createBefore(i))}}class mc{constructor(e){if(e instanceof mc)return e;let t;t="string"==typeof e?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=t.map(Ic)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const t=new mc([e]);return t._items=[...this._items,...t._items],t}getItem(e){return this._items[e]}*getNames(){yield*this._items.map((e=>e.name))}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function fc(e,t){const n={name:t,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(e,t){for(const n of e){const e=Object.keys(n).filter((e=>e.startsWith("is")));for(const i of e)t[i]=!!n[i]}}(e,n),Cc(e,n,"allowIn"),Cc(e,n,"allowContentOf"),Cc(e,n,"allowWhere"),Cc(e,n,"allowAttributes"),Cc(e,n,"allowAttributesOf"),Cc(e,n,"allowChildren"),Cc(e,n,"inheritTypesFrom"),function(e,t){for(const n of e){const e=n.inheritAllFrom;e&&(t.allowContentOf.push(e),t.allowWhere.push(e),t.allowAttributesOf.push(e),t.inheritTypesFrom.push(e))}}(e,n),n}function bc(e,t){const n=e[t];for(const i of n.allowChildren){const n=e[i];n&&n.allowIn.push(t)}n.allowChildren.length=0}function yc(e,t){for(const n of e[t].allowContentOf)e[n]&&Sc(e,n).forEach((e=>{e.allowIn.push(t)}));delete e[t].allowContentOf}function wc(e,t){for(const n of e[t].allowWhere){const i=e[n];if(i){const n=i.allowIn;e[t].allowIn.push(...n)}}delete e[t].allowWhere}function vc(e,t){for(const n of e[t].allowAttributesOf){const i=e[n];if(i){const n=i.allowAttributes;e[t].allowAttributes.push(...n)}}delete e[t].allowAttributesOf}function kc(e,t){const n=e[t];for(const i of n.inheritTypesFrom){const t=e[i];if(t){const e=Object.keys(t).filter((e=>e.startsWith("is")));for(const i of e)i in n||(n[i]=t[i])}}delete n.inheritTypesFrom}function _c(e,t){const n=e[t],i=n.allowIn.filter((t=>e[t]));n.allowIn=Array.from(new Set(i))}function xc(e,t){const n=e[t];for(const i of n.allowIn)e[i].allowChildren.push(t)}function Ac(e,t){const n=e[t];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function Cc(e,t,n){for(const i of e){const e=i[n];"string"==typeof e?t[n].push(e):Array.isArray(e)&&t[n].push(...e)}}function Sc(e,t){const n=e[t];return(i=e,Object.keys(i).map((e=>i[e]))).filter((e=>e.allowIn.includes(n.name)));var i}function Ic(e){return"string"==typeof e||e.is("documentFragment")?{name:"string"==typeof e?e:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:e.is("element")?e.name:"$text",*getAttributeKeys(){yield*e.getAttributeKeys()},getAttribute:t=>e.getAttribute(t)}}function Tc(e,t,n){for(const i of t.getAttributeKeys())e.checkAttribute(t,i)||n.removeAttribute(i,t)}var Ec=Object.defineProperty,Dc=Object.defineProperties,Mc=Object.getOwnPropertyDescriptors,Pc=Object.getOwnPropertySymbols,Rc=Object.prototype.hasOwnProperty,Bc=Object.prototype.propertyIsEnumerable,jc=(e,t,n)=>t in e?Ec(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Lc extends(D()){constructor(e){var t;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(t=((e,t)=>{for(var n in t||(t={}))Rc.call(t,n)&&jc(e,n,t[n]);if(Pc)for(var n of Pc(t))Bc.call(t,n)&&jc(e,n,t[n]);return e})({},e),Dc(t,Mc({consumable:null,writer:null,store:null,convertItem:(e,t)=>this._convertItem(e,t),convertChildren:(e,t)=>this._convertChildren(e,t),safeInsert:(e,t)=>this._safeInsert(e,t),updateConversionResult:(e,t)=>this._updateConversionResult(e,t),splitToAllowedParent:(e,t)=>this._splitToAllowedParent(e,t),getSplitParts:e=>this._getSplitParts(e),keepEmptyElement:e=>this._keepEmptyElement(e)})))}convert(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["$root"];this.fire("viewCleanup",e),this._modelCursor=function(e,t){let n;for(const i of new mc(e)){const e={};for(const t of i.getAttributeKeys())e[t]=i.getAttribute(t);const o=t.createElement(i.name,e);n&&t.insert(o,n),n=Ka._createAt(o,0)}return n}(n,t),this.conversionApi.writer=t,this.conversionApi.consumable=uc.createFrom(e),this.conversionApi.store={};const{modelRange:i}=this._convertItem(e,this._modelCursor),o=t.createDocumentFragment();if(i){this._removeEmptyElements();for(const e of Array.from(this._modelCursor.parent.getChildren()))t.append(e,o);o.markers=function(e,t){const n=new Set,i=new Map,o=el._createIn(e).getItems();for(const r of o)r.is("element","$marker")&&n.add(r);for(const r of n){const e=r.getAttribute("data-name"),n=t.createPositionBefore(r);i.has(e)?i.get(e).end=n.clone():i.set(e,new el(n.clone())),t.remove(r)}return i}(o,t)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}_convertItem(e,t){const n={viewItem:e,modelCursor:t,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,n,this.conversionApi):e.is("$text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof el))throw new v("view-conversion-dispatcher-incorrect-result",this);return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(e,t){let n=t.is("position")?t:Ka._createAt(t,0);const i=new el(n);for(const o of Array.from(e.getChildren())){const e=this._convertItem(o,n);e.modelRange instanceof el&&(i.end=e.modelRange.end,n=e.modelCursor)}return{modelRange:i,modelCursor:n}}_safeInsert(e,t){const n=this._splitToAllowedParent(e,t);return!!n&&(this.conversionApi.writer.insert(e,n.position),!0)}_updateConversionResult(e,t){const n=this._getSplitParts(e),i=this.conversionApi.writer;t.modelRange||(t.modelRange=i.createRange(i.createPositionBefore(e),i.createPositionAfter(n[n.length-1])));const o=this._cursorParents.get(e);t.modelCursor=o?i.createPositionAt(o,0):t.modelRange.end}_splitToAllowedParent(e,t){const{schema:n,writer:i}=this.conversionApi;let o=n.findAllowedParent(t,e);if(o){if(o===t.parent)return{position:t};this._modelCursor.parent.getAncestors().includes(o)&&(o=null)}if(!o)return ql(t,e,n)?{position:$l(t,i)}:null;const r=this.conversionApi.writer.split(t,o),s=[];for(const l of r.range.getWalker())if("elementEnd"==l.type)s.push(l.item);else{const e=s.pop(),t=l.item;this._registerSplitPair(e,t)}const a=r.range.end.parent;return this._cursorParents.set(e,a),{position:r.position,cursorParent:a}}_registerSplitPair(e,t){this._splitParts.has(e)||this._splitParts.set(e,[e]);const n=this._splitParts.get(e);this._splitParts.set(t,n),n.push(t)}_getSplitParts(e){let t;return t=this._splitParts.has(e)?this._splitParts.get(e):[e],t}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const t of this._splitParts.keys())t.isEmpty&&!this._emptyElementsToKeep.has(t)&&(this.conversionApi.writer.remove(t),this._splitParts.delete(t),e=!0);e&&this._removeEmptyElements()}}class zc{getHtml(e){const t=o.document.implementation.createHTMLDocument("").createElement("div");return t.appendChild(e),t.innerHTML}}class Oc{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Hs(e,{renderingMode:"data"}),this.htmlWriter=new zc}toData(e){const t=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(t)}toView(e){const t=this._toDom(e);return this.domConverter.domToView(t,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode="marked"==e?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const t=this.domParser.parseFromString(e,"text/html"),n=t.createDocumentFragment(),i=t.body.childNodes;for(;i.length>0;)n.appendChild(i[0]);return n}}class Nc extends(D()){constructor(e,t){super(),this.model=e,this.mapper=new tl,this.downcastDispatcher=new hl({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",((e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const i=n.writer,o=n.mapper.toViewPosition(t.range.start),r=i.createText(t.item.data);i.insert(o,r)}),{priority:"lowest"}),this.downcastDispatcher.on("insert",((e,t,n)=>{n.convertAttributes(t.item),t.reconversion||!t.item.is("element")||t.item.isEmpty||n.convertChildren(t.item)}),{priority:"lowest"}),this.upcastDispatcher=new Lc({schema:e.schema}),this.viewDocument=new es(t),this.stylesProcessor=t,this.htmlProcessor=new Oc(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new us(this.viewDocument),this.upcastDispatcher.on("text",((e,t,n)=>{let{schema:i,consumable:o,writer:r}=n,s=t.modelCursor;if(!o.test(t.viewItem))return;if(!i.checkChild(s,"$text")){if(!ql(s,"$text",i))return;if(0==t.viewItem.data.trim().length)return;const e=s.nodeBefore;s=$l(s,r),e&&e.is("element","$marker")&&(r.move(r.createRangeOn(e),s),s=r.createPositionAfter(e))}o.consume(t.viewItem);const a=r.createText(t.viewItem.data);r.insert(a,s),t.modelRange=r.createRange(s,s.getShiftedBy(a.offsetSize)),t.modelCursor=t.modelRange.end}),{priority:"lowest"}),this.upcastDispatcher.on("element",((e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:i}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=i}}),{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",((e,t,n)=>{if(!t.modelRange&&n.consumable.consume(t.viewItem,{name:!0})){const{modelRange:e,modelCursor:i}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=e,t.modelCursor=i}}),{priority:"lowest"}),q().prototype.decorate.call(this,"init"),q().prototype.decorate.call(this,"set"),q().prototype.decorate.call(this,"get"),q().prototype.decorate.call(this,"toView"),q().prototype.decorate.call(this,"toModel"),this.on("init",(()=>{this.fire("ready")}),{priority:"lowest"}),this.on("ready",(()=>{this.model.enqueueChange({isUndoable:!1},Ul)}),{priority:"lowest"})}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{rootName:t="main",trim:n="empty"}=e;if(!this._checkIfRootsExists([t]))throw new v("datacontroller-get-non-existent-root",this);const i=this.model.document.getRoot(t);return i.isAttached()||k("datacontroller-get-detached-root",this),"empty"!==n||this.model.hasContent(i,{ignoreWhitespaces:!0})?this.stringify(i,e):""}stringify(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.toView(e,t);return this.processor.toData(n)}toView(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.viewDocument,i=this._viewWriter;this.mapper.clearBindings();const o=el._createIn(e),r=new ds(n);this.mapper.bindElements(e,r);const s=e.is("documentFragment")?e.markers:function(e){const t=[],n=e.root.document;if(!n)return new Map;const i=el._createIn(e);for(const o of n.model.markers){const e=o.getRange(),n=e.isCollapsed,r=e.start.isEqual(i.start)||e.end.isEqual(i.end);if(n&&r)t.push([o.name,e]);else{const n=i.getIntersection(e);n&&t.push([o.name,n])}}return t.sort(((e,t)=>{let[n,i]=e,[o,r]=t;if("after"!==i.end.compareWith(r.start))return 1;if("before"!==i.start.compareWith(r.end))return-1;switch(i.start.compareWith(r.start)){case"before":return 1;case"after":return-1;default:switch(i.end.compareWith(r.end)){case"before":return 1;case"after":return-1;default:return o.localeCompare(n)}}})),new Map(t)}(e);return this.downcastDispatcher.convert(o,s,i,t),r}init(e){if(this.model.document.version)throw new v("datacontroller-init-document-not-empty",this);let t={};if("string"==typeof e?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new v("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},(e=>{for(const n of Object.keys(t)){const i=this.model.document.getRoot(n);e.insert(this.parse(t[n],i),i,0)}})),Promise.resolve()}set(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={};if("string"==typeof e?n.main=e:n=e,!this._checkIfRootsExists(Object.keys(n)))throw new v("datacontroller-set-non-existent-root",this);this.model.enqueueChange(t.batchType||{},(e=>{e.setSelection(null),e.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const t of Object.keys(n)){const i=this.model.document.getRoot(t);e.remove(e.createRangeIn(i)),e.insert(this.parse(n[t],i),i,0)}}))}parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";const n=this.processor.toView(e);return this.toModel(n,t)}toModel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";return this.model.change((n=>this.upcastDispatcher.convert(e,n,t)))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const t of e)if(!this.model.document.getRoot(t))return!1;return!0}}class Fc{constructor(e,t){this._helpers=new Map,this._downcast=Mi(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Mi(t),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,t){const n=this._downcast.includes(t);if(!this._upcast.includes(t)&&!n)throw new v("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[t],isDowncast:n})}for(e){if(!this._helpers.has(e))throw new v("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:t,view:n}of Vc(e))this.for("upcast").elementToElement({model:t,view:n,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:t,view:n}of Vc(e))this.for("upcast").elementToAttribute({view:n,model:t,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:t,view:n}of Vc(e))this.for("upcast").attributeToAttribute({view:n,model:t})}_createConversionHelpers(e){let{name:t,dispatchers:n,isDowncast:i}=e;if(this._helpers.has(t))throw new v("conversion-group-exists",this);const o=i?new Ml(n):new ec(n);this._helpers.set(t,o)}}function*Vc(e){if(e.model.values)for(const t of e.model.values){const n={key:e.model.key,value:t},i=e.view[t],o=e.upcastAlso?e.upcastAlso[t]:void 0;yield*Hc(n,i,o)}else yield*Hc(e.model,e.view,e.upcastAlso)}function*Hc(e,t,n){if(yield{model:e,view:t},n)for(const i of Mi(n))yield{model:e,view:i}}class Wc{constructor(e){this.baseVersion=e,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,t){return new this(e.baseVersion)}}function Uc(e,t){const n=Gc(t),i=n.reduce(((e,t)=>e+t.offsetSize),0),o=e.parent;Yc(e);const r=e.index;return o._insertChild(r,n),Kc(o,r+n.length),Kc(o,r),new el(e,e.getShiftedBy(i))}function qc(e){if(!e.isFlat)throw new v("operation-utils-remove-range-not-flat",this);const t=e.start.parent;Yc(e.start),Yc(e.end);const n=t._removeChildren(e.start.index,e.end.index-e.start.index);return Kc(t,e.start.index),n}function $c(e,t){if(!e.isFlat)throw new v("operation-utils-move-range-not-flat",this);const n=qc(e);return Uc(t=t._getTransformedByDeletion(e.start,e.end.offset-e.start.offset),n)}function Gc(e){const t=[];!function e(n){if("string"==typeof n)t.push(new Wa(n));else if(n instanceof Ua)t.push(new Wa(n.data,n.getAttributes()));else if(n instanceof Va)t.push(n);else if(ee(n))for(const t of n)e(t)}(e);for(let n=1;n<t.length;n++){const e=t[n],i=t[n-1];e instanceof Wa&&i instanceof Wa&&Qc(e,i)&&(t.splice(n-1,2,new Wa(i.data+e.data,i.getAttributes())),n--)}return t}function Kc(e,t){const n=e.getChild(t-1),i=e.getChild(t);if(n&&i&&n.is("$text")&&i.is("$text")&&Qc(n,i)){const o=new Wa(n.data+i.data,n.getAttributes());e._removeChildren(t-1,2),e._insertChild(t-1,o)}}function Yc(e){const t=e.textNode,n=e.parent;if(t){const i=e.offset-t.startOffset,o=t.index;n._removeChildren(o,1);const r=new Wa(t.data.substr(0,i),t.getAttributes()),s=new Wa(t.data.substr(i),t.getAttributes());n._insertChild(o,[r,s])}}function Qc(e,t){const n=e.getAttributes(),i=t.getAttributes();for(const o of n){if(o[1]!==t.getAttribute(o[0]))return!1;i.next()}return i.next().done}class Zc extends Wc{constructor(e,t,n,i){super(i),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}get affectedSelectable(){return[el._createFromPositionAndShift(this.sourcePosition,this.howMany),el._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Zc(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Zc(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(n+this.howMany>e.maxOffset)throw new v("move-operation-nodes-do-not-exist",this);if(e===t&&n<i&&i<n+this.howMany)throw new v("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==J(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const e=this.sourcePosition.path.length-1;if(this.targetPosition.path[e]>=n&&this.targetPosition.path[e]<n+this.howMany)throw new v("move-operation-node-into-itself",this)}}_execute(){$c(el._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,t){const n=Ka.fromJSON(e.sourcePosition,t),i=Ka.fromJSON(e.targetPosition,t);return new this(n,e.howMany,i,e.baseVersion)}}class Xc extends Wc{constructor(e,t,n){super(n),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new Ha(Gc(t)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new Ha([...this.nodes].map((e=>e._clone(!0)))),t=new Xc(this.position,e,this.baseVersion);return t.shouldReceiveAttributes=this.shouldReceiveAttributes,t}getReversed(){const e=this.position.root.document.graveyard,t=new Ka(e,[0]);return new Zc(this.position,this.nodes.maxOffset,t,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new v("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new Ha([...e].map((e=>e._clone(!0)))),Uc(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,t){const n=[];for(const o of e.nodes)o.name?n.push(qa.fromJSON(o)):n.push(Wa.fromJSON(o));const i=new Xc(Ka.fromJSON(e.position,t),n,e.baseVersion);return i.shouldReceiveAttributes=e.shouldReceiveAttributes,i}}class Jc extends Wc{constructor(e,t,n,i,o){super(o),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=t,this.insertionPosition=n,this.graveyardPosition=i?i.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Ka(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new el(this.splitPosition,e)}get affectedSelectable(){const e=[el._createFromPositionAndShift(this.splitPosition,0),el._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(el._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new Jc(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,t=new Ka(e,[0]);return new ed(this.moveTargetPosition,this.howMany,this.splitPosition,t,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,t=this.splitPosition.offset;if(!e||e.maxOffset<t)throw new v("split-operation-position-invalid",this);if(!e.parent)throw new v("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new v("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new v("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)$c(el._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const t=e._clone();Uc(this.insertionPosition,t)}$c(new el(Ka._createAt(e,this.splitPosition.offset),Ka._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const t=e.path.slice(0,-1);return t[t.length-1]++,new Ka(e.root,t,"toPrevious")}static fromJSON(e,t){const n=Ka.fromJSON(e.splitPosition,t),i=Ka.fromJSON(e.insertionPosition,t),o=e.graveyardPosition?Ka.fromJSON(e.graveyardPosition,t):null;return new this(n,e.howMany,i,o,e.baseVersion)}}class ed extends Wc{constructor(e,t,n,i,o){super(o),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=t,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new Ka(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new el(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[el._createOn(e),el._createFromPositionAndShift(this.targetPosition,0),el._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new ed(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),t=this.sourcePosition.path.slice(0,-1),n=new Ka(this.sourcePosition.root,t)._getTransformedByMergeOperation(this);return new Jc(e,this.howMany,n,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,t=this.targetPosition.parent;if(!e.parent)throw new v("merge-operation-source-position-invalid",this);if(!t.parent)throw new v("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new v("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;$c(el._createIn(e),this.targetPosition),$c(el._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,t){const n=Ka.fromJSON(e.sourcePosition,t),i=Ka.fromJSON(e.targetPosition,t),o=Ka.fromJSON(e.graveyardPosition,t);return new this(n,e.howMany,i,o,e.baseVersion)}}class td extends Wc{constructor(e,t,n,i,o,r){super(r),this.name=e,this.oldRange=t?t.clone():null,this.newRange=n?n.clone():null,this.affectsData=o,this._markers=i}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new td(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new td(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,t){return new td(e.name,e.oldRange?el.fromJSON(e.oldRange,t):null,e.newRange?el.fromJSON(e.newRange,t):null,t.model.markers,e.affectsData,e.baseVersion)}}const nd=function(e,t){return Sa(e,t)};class id extends Wc{constructor(e,t,n,i,o){super(o),this.range=e.clone(),this.key=t,this.oldValue=void 0===n?null:n,this.newValue=void 0===i?null:i}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new id(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new id(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new v("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!nd(e.getAttribute(this.key),this.oldValue))throw new v("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&e.hasAttribute(this.key))throw new v("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){nd(this.oldValue,this.newValue)||function(e,t,n){Yc(e.start),Yc(e.end);for(const i of e.getItems({shallow:!0})){const e=i.is("$textProxy")?i.textNode:i;null!==n?e._setAttribute(t,n):e._removeAttribute(t),Kc(e.parent,e.index)}Kc(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,t){return new id(el.fromJSON(e.range,t),e.key,e.oldValue,e.newValue,e.baseVersion)}}class od extends Wc{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new od(this.baseVersion)}getReversed(){return new od(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class rd extends Wc{constructor(e,t,n,i){super(i),this.position=e,this.position.stickiness="toNext",this.oldName=t,this.newName=n}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new rd(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new rd(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof qa))throw new v("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new v("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,t){return new rd(Ka.fromJSON(e.position,t),e.oldName,e.newName,e.baseVersion)}}class sd extends Wc{constructor(e,t,n,i,o){super(o),this.root=e,this.key=t,this.oldValue=void 0===n?null:n,this.newValue=void 0===i?null:i}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new sd(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new sd(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new v("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new v("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new v("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,t){if(!t.getRoot(e.root))throw new v("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new sd(t.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class ad extends Wc{constructor(e,t,n,i,o){super(o),this.rootName=e,this.elementName=t,this.isAdd=n,this._document=i,this._document.getRoot(this.rootName)||(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new ad(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new ad(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,t){return new ad(e.rootName,e.elementName,e.isAdd,t,e.baseVersion)}}const ld={};ld[id.className]=id,ld[Xc.className]=Xc,ld[td.className]=td,ld[Zc.className]=Zc,ld[od.className]=od,ld[Wc.className]=Wc,ld[rd.className]=rd,ld[sd.className]=sd,ld[ad.className]=ad,ld[Jc.className]=Jc,ld[ed.className]=ed;class cd{static fromJSON(e,t){return ld[e.__className].fromJSON(e,t)}}const dd=new Map;function ud(e,t,n){let i=dd.get(e);i||(i=new Map,dd.set(e,i)),i.set(t,n)}function pd(e){return[e]}function hd(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=function(e,t){const n=dd.get(e);return n&&n.has(t)?n.get(t):pd}(e.constructor,t.constructor);try{return i(e=e.clone(),t,n)}catch(e){throw e}}function gd(e,t,n){e=e.slice(),t=t.slice();const i=new md(n.document,n.useRelations,n.forceWeakRemove);i.setOriginalOperations(e),i.setOriginalOperations(t);const o=i.originalOperations;if(0==e.length||0==t.length)return{operationsA:e,operationsB:t,originalOperations:o};const r=new WeakMap;for(const l of e)r.set(l,0);const s={nextBaseVersionA:e[e.length-1].baseVersion+1,nextBaseVersionB:t[t.length-1].baseVersion+1,originalOperationsACount:e.length,originalOperationsBCount:t.length};let a=0;for(;a<e.length;){const n=e[a],o=r.get(n);if(o==t.length){a++;continue}const s=t[o],l=hd(n,s,i.getContext(n,s,!0)),c=hd(s,n,i.getContext(s,n,!1));i.updateRelation(n,s),i.setOriginalOperations(l,n),i.setOriginalOperations(c,s);for(const e of l)r.set(e,o+c.length);e.splice(a,1,...l),t.splice(o,1,...c)}if(n.padWithNoOps){const n=e.length-s.originalOperationsACount,i=t.length-s.originalOperationsBCount;bd(e,i-n),bd(t,n-i)}return fd(e,s.nextBaseVersionB),fd(t,s.nextBaseVersionA),{operationsA:e,operationsB:t,originalOperations:o}}class md{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.originalOperations=new Map,this._history=e.history,this._useRelations=t,this._forceWeakRemove=!!n,this._relations=new Map}setOriginalOperations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=t?this.originalOperations.get(t):null;for(const i of e)this.originalOperations.set(i,n||i)}updateRelation(e,t){if(e instanceof Zc)t instanceof ed?e.targetPosition.isEqual(t.sourcePosition)||t.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,t,"insertAtSource"):e.targetPosition.isEqual(t.deletionPosition)?this._setRelation(e,t,"insertBetween"):e.targetPosition.isAfter(t.sourcePosition)&&this._setRelation(e,t,"moveTargetAfter"):t instanceof Zc&&(e.targetPosition.isEqual(t.sourcePosition)||e.targetPosition.isBefore(t.sourcePosition)?this._setRelation(e,t,"insertBefore"):this._setRelation(e,t,"insertAfter"));else if(e instanceof Jc){if(t instanceof ed)e.splitPosition.isBefore(t.sourcePosition)&&this._setRelation(e,t,"splitBefore");else if(t instanceof Zc)if(e.splitPosition.isEqual(t.sourcePosition)||e.splitPosition.isBefore(t.sourcePosition))this._setRelation(e,t,"splitBefore");else{const n=el._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&n.containsPosition(e.splitPosition)){const i=n.end.offset-e.splitPosition.offset,o=e.splitPosition.offset-n.start.offset;this._setRelation(e,t,{howMany:i,offset:o})}}}else if(e instanceof ed)t instanceof ed?(e.targetPosition.isEqual(t.sourcePosition)||this._setRelation(e,t,"mergeTargetNotMoved"),e.sourcePosition.isEqual(t.targetPosition)&&this._setRelation(e,t,"mergeSourceNotMoved"),e.sourcePosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeSameElement")):t instanceof Jc?e.sourcePosition.isEqual(t.splitPosition)&&this._setRelation(e,t,"splitAtSource"):t instanceof Zc&&t.howMany>0&&(e.sourcePosition.isEqual(t.sourcePosition.getShiftedBy(t.howMany))&&this._setRelation(e,t,"mergeSourceAffected"),e.targetPosition.isEqual(t.sourcePosition)&&this._setRelation(e,t,"mergeTargetWasBefore"));else if(e instanceof td){const n=e.newRange;if(!n)return;if(t instanceof Zc){const i=el._createFromPositionAndShift(t.sourcePosition,t.howMany),o=i.containsPosition(n.start)||i.start.isEqual(n.start),r=i.containsPosition(n.end)||i.end.isEqual(n.end);!o&&!r||i.containsRange(n)||this._setRelation(e,t,{side:o?"left":"right",path:o?n.start.path.slice():n.end.path.slice()})}else if(t instanceof ed){const i=n.start.isEqual(t.targetPosition),o=n.start.isEqual(t.deletionPosition),r=n.end.isEqual(t.deletionPosition),s=n.end.isEqual(t.sourcePosition);(i||o||r||s)&&this._setRelation(e,t,{wasInLeftElement:i,wasStartBeforeMergedElement:o,wasEndBeforeMergedElement:r,wasInRightElement:s})}}}getContext(e,t,n){return{aIsStrong:n,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(t),abRelation:this._useRelations?this._getRelation(e,t):null,baRelation:this._useRelations?this._getRelation(t,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const t=this.originalOperations.get(e);return t.wasUndone||this._history.isUndoneOperation(t)}_getRelation(e,t){const n=this.originalOperations.get(t),i=this._history.getUndoneOperation(n);if(!i)return null;const o=this.originalOperations.get(e),r=this._relations.get(o);return r&&r.get(i)||null}_setRelation(e,t,n){const i=this.originalOperations.get(e),o=this.originalOperations.get(t);let r=this._relations.get(i);r||(r=new Map,this._relations.set(i,r)),r.set(o,n)}}function fd(e,t){for(const n of e)n.baseVersion=t++}function bd(e,t){for(let n=0;n<t;n++)e.push(new od(0))}function yd(e,t,n){const i=e.nodes.getNode(0).getAttribute(t);if(i==n)return null;const o=new el(e.position,e.position.getShiftedBy(e.howMany));return new id(o,t,i,n,0)}function wd(e,t){return null===e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany)}function vd(e,t){const n=[];for(let i=0;i<e.length;i++){const o=e[i],r=new Zc(o.start,o.end.offset-o.start.offset,t,0);n.push(r);for(let t=i+1;t<e.length;t++)e[t]=e[t]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];t=t._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return n}ud(id,id,((e,t,n)=>{if(e.key===t.key&&e.range.start.hasSameParentAs(t.range.start)){const i=e.range.getDifference(t.range).map((t=>new id(t,e.key,e.oldValue,e.newValue,0))),o=e.range.getIntersection(t.range);return o&&n.aIsStrong&&i.push(new id(o,t.key,t.newValue,e.newValue,0)),0==i.length?[new od(0)]:i}return[e]})),ud(id,Xc,((e,t)=>{if(e.range.start.hasSameParentAs(t.position)&&e.range.containsPosition(t.position)){const n=e.range._getTransformedByInsertion(t.position,t.howMany,!t.shouldReceiveAttributes).map((t=>new id(t,e.key,e.oldValue,e.newValue,e.baseVersion)));if(t.shouldReceiveAttributes){const i=yd(t,e.key,e.oldValue);i&&n.unshift(i)}return n}return e.range=e.range._getTransformedByInsertion(t.position,t.howMany,!1)[0],[e]})),ud(id,ed,((e,t)=>{const n=[];e.range.start.hasSameParentAs(t.deletionPosition)&&(e.range.containsPosition(t.deletionPosition)||e.range.start.isEqual(t.deletionPosition))&&n.push(el._createFromPositionAndShift(t.graveyardPosition,1));const i=e.range._getTransformedByMergeOperation(t);return i.isCollapsed||n.push(i),n.map((t=>new id(t,e.key,e.oldValue,e.newValue,e.baseVersion)))})),ud(id,Zc,((e,t)=>{const n=function(e,t){const n=el._createFromPositionAndShift(t.sourcePosition,t.howMany);let i=null,o=[];n.containsRange(e,!0)?i=e:e.start.hasSameParentAs(n.start)?(o=e.getDifference(n),i=e.getIntersection(n)):o=[e];const r=[];for(let s of o){s=s._getTransformedByDeletion(t.sourcePosition,t.howMany);const e=t.getMovedRangeStart(),n=s.start.hasSameParentAs(e),i=s._getTransformedByInsertion(e,t.howMany,n);r.push(...i)}return i&&r.push(i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany,!1)[0]),r}(e.range,t);return n.map((t=>new id(t,e.key,e.oldValue,e.newValue,e.baseVersion)))})),ud(id,Jc,((e,t)=>{if(e.range.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.range.end.offset++,[e];if(e.range.start.hasSameParentAs(t.splitPosition)&&e.range.containsPosition(t.splitPosition)){const n=e.clone();return n.range=new el(t.moveTargetPosition.clone(),e.range.end._getCombined(t.splitPosition,t.moveTargetPosition)),e.range.end=t.splitPosition.clone(),e.range.end.stickiness="toPrevious",[e,n]}return e.range=e.range._getTransformedBySplitOperation(t),[e]})),ud(Xc,id,((e,t)=>{const n=[e];if(e.shouldReceiveAttributes&&e.position.hasSameParentAs(t.range.start)&&t.range.containsPosition(e.position)){const i=yd(e,t.key,t.newValue);i&&n.push(i)}return n})),ud(Xc,Xc,((e,t,n)=>(e.position.isEqual(t.position)&&n.aIsStrong||(e.position=e.position._getTransformedByInsertOperation(t)),[e]))),ud(Xc,Zc,((e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e]))),ud(Xc,Jc,((e,t)=>(e.position=e.position._getTransformedBySplitOperation(t),[e]))),ud(Xc,ed,((e,t)=>(e.position=e.position._getTransformedByMergeOperation(t),[e]))),ud(td,Xc,((e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByInsertOperation(t)[0]),e.newRange&&(e.newRange=e.newRange._getTransformedByInsertOperation(t)[0]),[e]))),ud(td,td,((e,t,n)=>{if(e.name==t.name){if(!n.aIsStrong)return[new od(0)];e.oldRange=t.newRange?t.newRange.clone():null}return[e]})),ud(td,ed,((e,t)=>(e.oldRange&&(e.oldRange=e.oldRange._getTransformedByMergeOperation(t)),e.newRange&&(e.newRange=e.newRange._getTransformedByMergeOperation(t)),[e]))),ud(td,Zc,((e,t,n)=>{if(e.oldRange&&(e.oldRange=el._createFromRanges(e.oldRange._getTransformedByMoveOperation(t))),e.newRange){if(n.abRelation){const i=el._createFromRanges(e.newRange._getTransformedByMoveOperation(t));if("left"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.start))return e.newRange.end=i.end,e.newRange.start.path=n.abRelation.path,[e];if("right"==n.abRelation.side&&t.targetPosition.isEqual(e.newRange.end))return e.newRange.start=i.start,e.newRange.end.path=n.abRelation.path,[e]}e.newRange=el._createFromRanges(e.newRange._getTransformedByMoveOperation(t))}return[e]})),ud(td,Jc,((e,t,n)=>{if(e.oldRange&&(e.oldRange=e.oldRange._getTransformedBySplitOperation(t)),e.newRange){if(n.abRelation){const i=e.newRange._getTransformedBySplitOperation(t);return e.newRange.start.isEqual(t.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?e.newRange.start=Ka._createAt(t.insertionPosition):e.newRange.start.isEqual(t.splitPosition)&&!n.abRelation.wasInLeftElement&&(e.newRange.start=Ka._createAt(t.moveTargetPosition)),e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasInRightElement?e.newRange.end=Ka._createAt(t.moveTargetPosition):e.newRange.end.isEqual(t.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?e.newRange.end=Ka._createAt(t.insertionPosition):e.newRange.end=i.end,[e]}e.newRange=e.newRange._getTransformedBySplitOperation(t)}return[e]})),ud(ed,Xc,((e,t)=>(e.sourcePosition.hasSameParentAs(t.position)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByInsertOperation(t),e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t),[e]))),ud(ed,ed,((e,t,n)=>{if(e.sourcePosition.isEqual(t.sourcePosition)&&e.targetPosition.isEqual(t.targetPosition)){if(n.bWasUndone){const n=t.graveyardPosition.path.slice();return n.push(0),e.sourcePosition=new Ka(t.graveyardPosition.root,n),e.howMany=0,[e]}return[new od(0)]}if(e.sourcePosition.isEqual(t.sourcePosition)&&!e.targetPosition.isEqual(t.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const i="$graveyard"==e.targetPosition.root.rootName,o="$graveyard"==t.targetPosition.root.rootName;if(o&&!i||(!i||o)&&n.aIsStrong){const n=t.targetPosition._getTransformedByMergeOperation(t),i=e.targetPosition._getTransformedByMergeOperation(t);return[new Zc(n,e.howMany,i,0)]}return[new od(0)]}return e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition=e.sourcePosition._getTransformedByMergeOperation(t),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),e.graveyardPosition.isEqual(t.graveyardPosition)&&n.aIsStrong||(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),ud(ed,Zc,((e,t,n)=>{const i=el._createFromPositionAndShift(t.sourcePosition,t.howMany);return"remove"==t.type&&!n.bWasUndone&&!n.forceWeakRemove&&e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition)?[new od(0)]:(t.sourcePosition.getShiftedBy(t.howMany).isEqual(e.sourcePosition)?e.sourcePosition.stickiness="toNone":t.targetPosition.isEqual(e.sourcePosition)&&"mergeSourceAffected"==n.abRelation?e.sourcePosition.stickiness="toNext":t.sourcePosition.isEqual(e.targetPosition)?(e.targetPosition.stickiness="toNone",e.howMany-=t.howMany):t.targetPosition.isEqual(e.targetPosition)&&"mergeTargetWasBefore"==n.abRelation?(e.targetPosition.stickiness="toPrevious",e.howMany+=t.howMany):(e.sourcePosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.sourcePosition.hasSameParentAs(t.sourcePosition)&&(e.howMany-=t.howMany)),e.sourcePosition=e.sourcePosition._getTransformedByMoveOperation(t),e.targetPosition=e.targetPosition._getTransformedByMoveOperation(t),e.sourcePosition.stickiness="toPrevious",e.targetPosition.stickiness="toNext",e.graveyardPosition.isEqual(t.targetPosition)||(e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)),[e])})),ud(ed,Jc,((e,t,n)=>{if(t.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByDeletion(t.graveyardPosition,1),e.deletionPosition.isEqual(t.graveyardPosition)&&(e.howMany=t.howMany)),e.targetPosition.isEqual(t.splitPosition)){const i=0!=t.howMany,o=t.graveyardPosition&&e.deletionPosition.isEqual(t.graveyardPosition);if(i||o||"mergeTargetNotMoved"==n.abRelation)return e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),[e]}if(e.sourcePosition.isEqual(t.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return e.howMany=0,e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e];if("mergeSameElement"==n.abRelation||e.sourcePosition.offset>0)return e.sourcePosition=t.moveTargetPosition.clone(),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]}return e.sourcePosition.hasSameParentAs(t.splitPosition)&&(e.howMany=t.splitPosition.offset),e.sourcePosition=e.sourcePosition._getTransformedBySplitOperation(t),e.targetPosition=e.targetPosition._getTransformedBySplitOperation(t),[e]})),ud(Zc,Xc,((e,t)=>{const n=el._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByInsertOperation(t,!1)[0];return e.sourcePosition=n.start,e.howMany=n.end.offset-n.start.offset,e.targetPosition.isEqual(t.position)||(e.targetPosition=e.targetPosition._getTransformedByInsertOperation(t)),[e]})),ud(Zc,Zc,((e,t,n)=>{const i=el._createFromPositionAndShift(e.sourcePosition,e.howMany),o=el._createFromPositionAndShift(t.sourcePosition,t.howMany);let r,s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),r=e.targetPosition.isEqual(t.targetPosition)&&a?e.targetPosition._getTransformedByDeletion(t.sourcePosition,t.howMany):e.targetPosition._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),wd(e,t)&&wd(t,e))return[t.getReversed()];if(i.containsPosition(t.targetPosition)&&i.containsRange(o,!0))return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),vd([i],r);if(o.containsPosition(e.targetPosition)&&o.containsRange(i,!0))return i.start=i.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),i.end=i.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),vd([i],r);const l=J(e.sourcePosition.getParentPath(),t.sourcePosition.getParentPath());if("prefix"==l||"extension"==l)return i.start=i.start._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),i.end=i.end._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany),vd([i],r);"remove"!=e.type||"remove"==t.type||n.aWasUndone||n.forceWeakRemove?"remove"==e.type||"remove"!=t.type||n.bWasUndone||n.forceWeakRemove||(s=!1):s=!0;const c=[],d=i.getDifference(o);for(const p of d){p.start=p.start._getTransformedByDeletion(t.sourcePosition,t.howMany),p.end=p.end._getTransformedByDeletion(t.sourcePosition,t.howMany);const e="same"==J(p.start.getParentPath(),t.getMovedRangeStart().getParentPath()),n=p._getTransformedByInsertion(t.getMovedRangeStart(),t.howMany,e);c.push(...n)}const u=i.getIntersection(o);return null!==u&&s&&(u.start=u.start._getCombined(t.sourcePosition,t.getMovedRangeStart()),u.end=u.end._getCombined(t.sourcePosition,t.getMovedRangeStart()),0===c.length?c.push(u):1==c.length?o.start.isBefore(i.start)||o.start.isEqual(i.start)?c.unshift(u):c.push(u):c.splice(1,0,u)),0===c.length?[new od(e.baseVersion)]:vd(c,r)})),ud(Zc,Jc,((e,t,n)=>{let i=e.targetPosition.clone();e.targetPosition.isEqual(t.insertionPosition)&&t.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=e.targetPosition._getTransformedBySplitOperation(t));const o=el._createFromPositionAndShift(e.sourcePosition,e.howMany);if(o.end.isEqual(t.insertionPosition))return t.graveyardPosition||e.howMany++,e.targetPosition=i,[e];if(o.start.hasSameParentAs(t.splitPosition)&&o.containsPosition(t.splitPosition)){let e=new el(t.splitPosition,o.end);return e=e._getTransformedBySplitOperation(t),vd([new el(o.start,t.splitPosition),e],i)}e.targetPosition.isEqual(t.splitPosition)&&"insertAtSource"==n.abRelation&&(i=t.moveTargetPosition),e.targetPosition.isEqual(t.insertionPosition)&&"insertBetween"==n.abRelation&&(i=e.targetPosition);const r=[o._getTransformedBySplitOperation(t)];if(t.graveyardPosition){const i=o.start.isEqual(t.graveyardPosition)||o.containsPosition(t.graveyardPosition);e.howMany>1&&i&&!n.aWasUndone&&r.push(el._createFromPositionAndShift(t.insertionPosition,1))}return vd(r,i)})),ud(Zc,ed,((e,t,n)=>{const i=el._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition))if("remove"!=e.type||n.forceWeakRemove){if(1==e.howMany)return n.bWasUndone?(e.sourcePosition=t.graveyardPosition.clone(),e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]):[new od(0)]}else if(!n.aWasUndone){const n=[];let i=t.graveyardPosition.clone(),o=t.targetPosition._getTransformedByMergeOperation(t);e.howMany>1&&(n.push(new Zc(e.sourcePosition,e.howMany-1,e.targetPosition,0)),i=i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1),o=o._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany-1));const r=t.deletionPosition._getCombined(e.sourcePosition,e.targetPosition),s=new Zc(i,1,r,0),a=s.getMovedRangeStart().path.slice();a.push(0);const l=new Ka(s.targetPosition.root,a);o=o._getTransformedByMove(i,r,1);const c=new Zc(o,t.howMany,l,0);return n.push(s),n.push(c),n}const o=el._createFromPositionAndShift(e.sourcePosition,e.howMany)._getTransformedByMergeOperation(t);return e.sourcePosition=o.start,e.howMany=o.end.offset-o.start.offset,e.targetPosition=e.targetPosition._getTransformedByMergeOperation(t),[e]})),ud(rd,Xc,((e,t)=>(e.position=e.position._getTransformedByInsertOperation(t),[e]))),ud(rd,ed,((e,t)=>e.position.isEqual(t.deletionPosition)?(e.position=t.graveyardPosition.clone(),e.position.stickiness="toNext",[e]):(e.position=e.position._getTransformedByMergeOperation(t),[e]))),ud(rd,Zc,((e,t)=>(e.position=e.position._getTransformedByMoveOperation(t),[e]))),ud(rd,rd,((e,t,n)=>{if(e.position.isEqual(t.position)){if(!n.aIsStrong)return[new od(0)];e.oldName=t.newName}return[e]})),ud(rd,Jc,((e,t)=>{if("same"==J(e.position.path,t.splitPosition.getParentPath())&&!t.graveyardPosition){const t=new rd(e.position.getShiftedBy(1),e.oldName,e.newName,0);return[e,t]}return e.position=e.position._getTransformedBySplitOperation(t),[e]})),ud(sd,sd,((e,t,n)=>{if(e.root===t.root&&e.key===t.key){if(!n.aIsStrong||e.newValue===t.newValue)return[new od(0)];e.oldValue=t.newValue}return[e]})),ud(ad,ad,((e,t)=>e.rootName===t.rootName&&e.isAdd===t.isAdd?[new od(0)]:[e])),ud(Jc,Xc,((e,t)=>(e.splitPosition.hasSameParentAs(t.position)&&e.splitPosition.offset<t.position.offset&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByInsertOperation(t),e.insertionPosition=e.insertionPosition._getTransformedByInsertOperation(t),[e]))),ud(Jc,ed,((e,t,n)=>{if(!e.graveyardPosition&&!n.bWasUndone&&e.splitPosition.hasSameParentAs(t.sourcePosition)){const n=t.graveyardPosition.path.slice();n.push(0);const i=new Ka(t.graveyardPosition.root,n),o=Jc.getInsertionPosition(new Ka(t.graveyardPosition.root,n)),r=new Jc(i,0,o,null,0);return e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=Jc.getInsertionPosition(e.splitPosition),e.graveyardPosition=r.insertionPosition.clone(),e.graveyardPosition.stickiness="toNext",[r,e]}return e.splitPosition.hasSameParentAs(t.deletionPosition)&&!e.splitPosition.isAfter(t.deletionPosition)&&e.howMany--,e.splitPosition.hasSameParentAs(t.targetPosition)&&(e.howMany+=t.howMany),e.splitPosition=e.splitPosition._getTransformedByMergeOperation(t),e.insertionPosition=Jc.getInsertionPosition(e.splitPosition),e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedByMergeOperation(t)),[e]})),ud(Jc,Zc,((e,t,n)=>{const i=el._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.graveyardPosition){const o=i.start.isEqual(e.graveyardPosition)||i.containsPosition(e.graveyardPosition);if(!n.bWasUndone&&o){const n=e.splitPosition._getTransformedByMoveOperation(t),i=e.graveyardPosition._getTransformedByMoveOperation(t),o=i.path.slice();o.push(0);const r=new Ka(i.root,o);return[new Zc(n,e.howMany,r,0)]}e.graveyardPosition=e.graveyardPosition._getTransformedByMoveOperation(t)}const o=e.splitPosition.isEqual(t.targetPosition);if(o&&("insertAtSource"==n.baRelation||"splitBefore"==n.abRelation))return e.howMany+=t.howMany,e.splitPosition=e.splitPosition._getTransformedByDeletion(t.sourcePosition,t.howMany),e.insertionPosition=Jc.getInsertionPosition(e.splitPosition),[e];if(o&&n.abRelation&&n.abRelation.howMany){const{howMany:t,offset:i}=n.abRelation;return e.howMany+=t,e.splitPosition=e.splitPosition.getShiftedBy(i),[e]}if(e.splitPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.splitPosition)){const n=t.howMany-(e.splitPosition.offset-t.sourcePosition.offset);return e.howMany-=n,e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany),e.splitPosition=t.sourcePosition.clone(),e.insertionPosition=Jc.getInsertionPosition(e.splitPosition),[e]}return t.sourcePosition.isEqual(t.targetPosition)||(e.splitPosition.hasSameParentAs(t.sourcePosition)&&e.splitPosition.offset<=t.sourcePosition.offset&&(e.howMany-=t.howMany),e.splitPosition.hasSameParentAs(t.targetPosition)&&e.splitPosition.offset<t.targetPosition.offset&&(e.howMany+=t.howMany)),e.splitPosition.stickiness="toNone",e.splitPosition=e.splitPosition._getTransformedByMoveOperation(t),e.splitPosition.stickiness="toNext",e.graveyardPosition?e.insertionPosition=e.insertionPosition._getTransformedByMoveOperation(t):e.insertionPosition=Jc.getInsertionPosition(e.splitPosition),[e]})),ud(Jc,Jc,((e,t,n)=>{if(e.splitPosition.isEqual(t.splitPosition)){if(!e.graveyardPosition&&!t.graveyardPosition)return[new od(0)];if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition))return[new od(0)];if("splitBefore"==n.abRelation)return e.howMany=0,e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t),[e]}if(e.graveyardPosition&&t.graveyardPosition&&e.graveyardPosition.isEqual(t.graveyardPosition)){const i="$graveyard"==e.splitPosition.root.rootName,o="$graveyard"==t.splitPosition.root.rootName;if(o&&!i||(!i||o)&&n.aIsStrong){const n=[];return t.howMany&&n.push(new Zc(t.moveTargetPosition,t.howMany,t.splitPosition,0)),e.howMany&&n.push(new Zc(e.splitPosition,e.howMany,e.moveTargetPosition,0)),n}return[new od(0)]}if(e.graveyardPosition&&(e.graveyardPosition=e.graveyardPosition._getTransformedBySplitOperation(t)),e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.abRelation)return e.howMany++,[e];if(t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.baRelation){const n=t.insertionPosition.path.slice();n.push(0);const i=new Ka(t.insertionPosition.root,n);return[e,new Zc(e.insertionPosition,1,i,0)]}return e.splitPosition.hasSameParentAs(t.splitPosition)&&e.splitPosition.offset<t.splitPosition.offset&&(e.howMany-=t.howMany),e.splitPosition=e.splitPosition._getTransformedBySplitOperation(t),e.insertionPosition=Jc.getInsertionPosition(e.splitPosition),[e]}));class kd extends(D(Ka)){constructor(e,t){if(super(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"toNone"),!this.root.is("rootElement"))throw new v("model-liveposition-root-not-rootelement",e);_d.call(this)}detach(){this.stopListening()}toPosition(){return new Ka(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,t){return new this(e.root,e.path.slice(),t||e.stickiness)}}function _d(){this.listenTo(this.root.document.model,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&xd.call(this,n)}),{priority:"low"})}function xd(e){const t=this.getTransformedByOperation(e);if(!this.isEqual(t)){const e=this.toPosition();this.path=t.path,this.root=t.root,this.fire("change",e)}}kd.prototype.is=function(e){return"livePosition"===e||"model:livePosition"===e||"position"==e||"model:position"===e};class Ad{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof e&&(e="transparent"===e?{isUndoable:!1}:{},k("batch-constructor-deprecated-string-type"));const{isUndoable:t=!0,isLocal:n=!0,isUndo:i=!1,isTyping:o=!1}=e;this.operations=[],this.isUndoable=t,this.isLocal=n,this.isUndo=i,this.isTyping=o}get type(){return k("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(null!==e.baseVersion)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var Cd=Object.defineProperty,Sd=Object.defineProperties,Id=Object.getOwnPropertyDescriptors,Td=Object.getOwnPropertySymbols,Ed=Object.prototype.hasOwnProperty,Dd=Object.prototype.propertyIsEnumerable,Md=(e,t,n)=>t in e?Cd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Pd=(e,t)=>{for(var n in t||(t={}))Ed.call(t,n)&&Md(e,n,t[n]);if(Td)for(var n of Td(t))Dd.call(t,n)&&Md(e,n,t[n]);return e};class Rd{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size&&0==this._changedRoots.size}bufferOperation(e){const t=e;switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems({shallow:!0}))this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=el._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getData();this.bufferMarkerChange(t.name,e,e)}break}case"split":{const e=t.splitPosition.parent;this._isInInsertedElement(e)||this._markRemove(e,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1);const n=t.graveyardPosition.parent;this._markInsert(n,t.graveyardPosition.offset,1);const i=t.targetPosition.parent;this._isInInsertedElement(i)||this._markInsert(i,t.targetPosition.offset,e.maxOffset);break}case"detachRoot":case"addRoot":{const e=t.affectedSelectable;if(!e._isLoaded)return;if(e.isAttached()==t.isAdd)return;this._bufferRootStateChange(t.rootName,t.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!t.root._isLoaded)return;const e=t.root.rootName;this._bufferRootAttributeChange(e,t.key,t.oldValue,t.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,t,n){t.range&&t.range.root.is("rootElement")&&!t.range.root._isLoaded&&(t.range=null),n.range&&n.range.root.is("rootElement")&&!n.range.root._isLoaded&&(n.range=null);let i=this._changedMarkers.get(e);i?i.newMarkerData=n:(i={newMarkerData:n,oldMarkerData:t},this._changedMarkers.set(e,i)),null==i.oldMarkerData.range&&null==n.range&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[t,n]of this._changedMarkers)null!=n.oldMarkerData.range&&e.push({name:t,range:n.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[t,n]of this._changedMarkers)null!=n.newMarkerData.range&&e.push({name:t,range:n.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map((e=>{let[t,n]=e;return{name:t,data:{oldRange:n.oldMarkerData.range,newRange:n.newMarkerData.range}}}))}hasDataChanges(){if(this.getChanges().length)return!0;if(this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:t}of this._changedMarkers.values()){if(e.affectsData!==t.affectsData)return!0;if(e.affectsData){const n=e.range&&!t.range,i=!e.range&&t.range,o=e.range&&t.range&&!e.range.isEqual(t.range);if(n||i||o)return!0}}return!1}getChanges(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let t=[];for(const n of this._changesInElement.keys()){const e=this._changesInElement.get(n).sort(((e,t)=>e.offset===t.offset?e.type!=t.type?"remove"==e.type?-1:1:0:e.offset<t.offset?-1:1)),i=this._elementSnapshots.get(n),o=Bd(n.getChildren()),r=jd(i.length,e);let s=0,a=0;for(const l of r)if("i"===l)t.push(this._getInsertDiff(n,s,o[s])),s++;else if("r"===l)t.push(this._getRemoveDiff(n,s,i[a])),a++;else if("a"===l){const e=o[s].attributes,r=i[a].attributes;let l;if("$text"==o[s].name)l=new el(Ka._createAt(n,s),Ka._createAt(n,s+1));else{const e=n.offsetToIndex(s);l=new el(Ka._createAt(n,s),Ka._createAt(n.getChild(e),0))}t.push(...this._getAttributesDiff(l,r,e)),s++,a++}else s++,a++}t.sort(((e,t)=>e.position.root!=t.position.root?e.position.root.rootName<t.position.root.rootName?-1:1:e.position.isEqual(t.position)?e.changeCount-t.changeCount:e.position.isBefore(t.position)?-1:1));for(let n=1,i=0;n<t.length;n++){const e=t[i],o=t[n],r="remove"==e.type&&"remove"==o.type&&"$text"==e.name&&"$text"==o.name&&e.position.isEqual(o.position),s="insert"==e.type&&"insert"==o.type&&"$text"==e.name&&"$text"==o.name&&e.position.parent==o.position.parent&&e.position.offset+e.length==o.position.offset,a="attribute"==e.type&&"attribute"==o.type&&e.position.parent==o.position.parent&&e.range.isFlat&&o.range.isFlat&&e.position.offset+e.length==o.position.offset&&e.attributeKey==o.attributeKey&&e.attributeOldValue==o.attributeOldValue&&e.attributeNewValue==o.attributeNewValue;r||s||a?(e.length++,a&&(e.range.end=e.range.end.getShiftedBy(1)),t[n]=null):i=n}t=t.filter((e=>e));for(const n of t)delete n.changeCount,"attribute"==n.type&&(delete n.position,delete n.length);return this._changeCount=0,this._cachedChangesWithGraveyard=t,this._cachedChanges=t.filter(Ld),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map((e=>{const t=Pd({},e);return void 0!==t.state&&delete t.attributes,t}))}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,t){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:t?"attached":"detached"});const n=this._changedRoots.get(e);void 0!==n.state?(delete n.state,void 0===n.attributes&&this._changedRoots.delete(e)):n.state=t?"attached":"detached"}_bufferRootAttributeChange(e,t,n,i){const o=this._changedRoots.get(e)||{name:e},r=o.attributes||{};if(r[t]){const e=r[t];i===e.oldValue?delete r[t]:e.newValue=i}else r[t]={oldValue:n,newValue:i};0===Object.entries(r).length?(delete o.attributes,void 0===o.state&&this._changedRoots.delete(e)):(o.attributes=r,this._changedRoots.set(e,o))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const t=el._createOn(e);for(const n of this._markerCollection.getMarkersIntersectingRange(t)){const e=n.getData();this.bufferMarkerChange(n.name,e,e)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const t of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,t,null,e.getAttribute(t));for(const n of this._markerCollection)if(n.getRange().root==e){const e=n.getData();this.bufferMarkerChange(n.name,(t=Pd({},e),Sd(t,Id({range:null}))),e)}var t}}_markInsert(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"insert",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i)}_markRemove(e,t,n){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"remove",offset:t,howMany:n,count:this._changeCount++};this._markChange(e,i),this._removeAllNestedChanges(e,t,n)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const t={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,t)}_markChange(e,t){this._makeSnapshot(e);const n=this._getChangesForElement(e);this._handleChange(t,n),n.push(t);for(let i=0;i<n.length;i++)n[i].howMany<1&&(n.splice(i,1),i--)}_getChangesForElement(e){let t;return this._changesInElement.has(e)?t=this._changesInElement.get(e):(t=[],this._changesInElement.set(e,t)),t}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Bd(e.getChildren()))}_handleChange(e,t){e.nodesToHandle=e.howMany;for(const n of t){const i=e.offset+e.howMany,o=n.offset+n.howMany;if("insert"==e.type&&("insert"==n.type&&(e.offset<=n.offset?n.offset+=e.howMany:e.offset<o&&(n.howMany+=e.nodesToHandle,e.nodesToHandle=0)),"remove"==n.type&&e.offset<n.offset&&(n.offset+=e.howMany),"attribute"==n.type))if(e.offset<=n.offset)n.offset+=e.howMany;else if(e.offset<o){const o=n.howMany;n.howMany=e.offset-n.offset,t.unshift({type:"attribute",offset:i,howMany:o-n.howMany,count:this._changeCount++})}if("remove"==e.type){if("insert"==n.type)if(i<=n.offset)n.offset-=e.howMany;else if(i<=o)if(e.offset<n.offset){const t=i-n.offset;n.offset=e.offset,n.howMany-=t,e.nodesToHandle-=t}else n.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=n.offset)e.nodesToHandle-=n.howMany,n.howMany=0;else if(e.offset<o){const t=o-e.offset;n.howMany-=t,e.nodesToHandle-=t}if("remove"==n.type&&(i<=n.offset?n.offset-=e.howMany:e.offset<n.offset&&(e.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(i<=n.offset)n.offset-=e.howMany;else if(e.offset<n.offset){const t=i-n.offset;n.offset=e.offset,n.howMany-=t}else if(e.offset<o)if(i<=o){const i=n.howMany;n.howMany=e.offset-n.offset;const o=i-n.howMany-e.nodesToHandle;t.unshift({type:"attribute",offset:e.offset,howMany:o,count:this._changeCount++})}else n.howMany-=o-e.offset}if("attribute"==e.type){if("insert"==n.type)if(e.offset<n.offset&&i>n.offset){if(i>o){const e={type:"attribute",offset:o,howMany:i-o,count:this._changeCount++};this._handleChange(e,t),t.push(e)}e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=n.offset&&e.offset<o&&(i>o?(e.nodesToHandle=i-o,e.offset=o):e.nodesToHandle=0);if("remove"==n.type&&e.offset<n.offset&&i>n.offset){const o={type:"attribute",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(o,t),t.push(o),e.nodesToHandle=n.offset-e.offset,e.howMany=e.nodesToHandle}"attribute"==n.type&&(e.offset>=n.offset&&i<=o?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=n.offset&&i>=o&&(n.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,t,n){return{type:"insert",position:Ka._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getRemoveDiff(e,t,n){return{type:"remove",position:Ka._createAt(e,t),name:n.name,attributes:new Map(n.attributes),length:1,changeCount:this._changeCount++,_element:n.element}}_getAttributesDiff(e,t,n){const i=[];n=new Map(n);for(const[o,r]of t){const t=n.has(o)?n.get(o):null;t!==r&&i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:o,attributeOldValue:r,attributeNewValue:t,changeCount:this._changeCount++}),n.delete(o)}for(const[o,r]of n)i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:o,attributeOldValue:null,attributeNewValue:r,changeCount:this._changeCount++});return i}_isInInsertedElement(e){const t=e.parent;if(!t)return!1;const n=this._changesInElement.get(t),i=e.startOffset;if(n)for(const o of n)if("insert"==o.type&&i>=o.offset&&i<o.offset+o.howMany)return!0;return this._isInInsertedElement(t)}_removeAllNestedChanges(e,t,n){const i=new el(Ka._createAt(e,t),Ka._createAt(e,t+n));for(const o of i.getItems({shallow:!0}))o.is("element")&&(this._elementSnapshots.delete(o),this._changesInElement.delete(o),this._removeAllNestedChanges(o,0,o.maxOffset))}}function Bd(e){const t=[];for(const n of e)if(n.is("$text"))for(let e=0;e<n.data.length;e++)t.push({name:"$text",attributes:new Map(n.getAttributes())});else t.push({name:n.name,attributes:new Map(n.getAttributes()),element:n});return t}function jd(e,t){const n=[];let i=0,o=0;for(const r of t){if(r.offset>i){for(let e=0;e<r.offset-i;e++)n.push("e");o+=r.offset-i}if("insert"==r.type){for(let e=0;e<r.howMany;e++)n.push("i");i=r.offset+r.howMany}else if("remove"==r.type){for(let e=0;e<r.howMany;e++)n.push("r");i=r.offset,o+=r.howMany}else n.push(..."a".repeat(r.howMany).split("")),i=r.offset+r.howMany,o+=r.howMany}if(o<e)for(let r=0;r<e-o-i;r++)n.push("e");return n}function Ld(e){const t="position"in e&&"$graveyard"==e.position.root.rootName,n="range"in e&&"$graveyard"==e.range.root.rootName;return!t&&!n}class zd{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new v("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.version;if(!this._operations.length)return[];const n=this._operations[0];void 0===e&&(e=n.baseVersion);let i=t-1;for(const[s,a]of this._gaps)e>s&&e<a&&(e=a),i>s&&i<a&&(i=s-1);if(i<n.baseVersion||e>this.lastOperation.baseVersion)return[];let o=this._baseVersionToOperationIndex.get(e);void 0===o&&(o=0);let r=this._baseVersionToOperationIndex.get(i);return void 0===r&&(r=this._operations.length-1),this._operations.slice(o,r+1)}getOperation(e){const t=this._baseVersionToOperationIndex.get(e);if(void 0!==t)return this._operations[t]}setOperationAsUndone(e,t){this._undoPairs.set(t,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Od extends qa{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"main";super(t),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=n}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}Od.prototype.is=function(e,t){return t?t===this.name&&("rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e):"rootElement"===e||"model:rootElement"===e||"element"===e||"model:element"===e||"node"===e||"model:node"===e};var Nd=Object.defineProperty,Fd=Object.defineProperties,Vd=Object.getOwnPropertyDescriptors,Hd=Object.getOwnPropertySymbols,Wd=Object.prototype.hasOwnProperty,Ud=Object.prototype.propertyIsEnumerable,qd=(e,t,n)=>t in e?Nd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$d=(e,t)=>{for(var n in t||(t={}))Wd.call(t,n)&&qd(e,n,t[n]);if(Hd)for(var n of Hd(t))Ud.call(t,n)&&qd(e,n,t[n]);return e},Gd=(e,t)=>Fd(e,Vd(t));const Kd="$graveyard";class Yd extends(D()){constructor(e){super(),this.model=e,this.history=new zd,this.selection=new Il(this),this.roots=new Qi({idProperty:"rootName"}),this.differ=new Rd(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Kd),this.listenTo(e,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&this.differ.bufferOperation(n)}),{priority:"high"}),this.listenTo(e,"applyOperation",((e,t)=>{const n=t[0];n.isDocumentOperation&&this.history.addOperation(n)}),{priority:"low"}),this.listenTo(this.selection,"change",(()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0})),this.listenTo(e.markers,"update",((e,t,n,i,o)=>{const r=Gd($d({},t.getData()),{range:i});this.differ.bufferMarkerChange(t.name,o,r),null===n&&t.on("change",((e,n)=>{const i=t.getData();this.differ.bufferMarkerChange(t.name,Gd($d({},i),{range:n}),i)}))})),this.registerPostFixer((e=>{let t=!1;for(const n of this.roots)n.isAttached()||n.isEmpty||(e.remove(e.createRangeIn(n)),t=!0);for(const n of this.model.markers)n.getRange().root.isAttached()||(e.removeMarker(n),t=!0);return t}))}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Kd)}createRoot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"$root",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"main";if(this.roots.get(t))throw new v("model-document-createroot-name-exists",this,{name:t});const n=new Od(this,e,t);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this.roots.get(e)}getRootNames(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.getRoots(e).map((e=>e.rootName))}getRoots(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.roots.filter((t=>t!=this.graveyard&&(e||t.isAttached())&&t._isLoaded))}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=nr(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),t=this.model,n=t.schema,i=t.createPositionFromPath(e,[0]);return n.getNearestSelectionRange(i)||t.createRange(i)}_validateSelectionRange(e){return Qd(e.start)&&Qd(e.end)}_callPostFixers(e){let t=!1;do{for(const n of this._postFixers)if(this.selection.refresh(),t=n(e),t)break}while(t)}}function Qd(e){const t=e.textNode;if(t){const n=t.data,i=e.offset-t.startOffset;return!no(n,i)&&!io(n,i)}return!0}var Zd=Object.defineProperty,Xd=Object.defineProperties,Jd=Object.getOwnPropertyDescriptors,eu=Object.getOwnPropertySymbols,tu=Object.prototype.hasOwnProperty,nu=Object.prototype.propertyIsEnumerable,iu=(e,t,n)=>t in e?Zd(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class ou extends(D()){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const t=e instanceof ru?e.name:e;return this._markers.has(t)}get(e){return this._markers.get(e)||null}_set(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const o=e instanceof ru?e.name:e;if(o.includes(","))throw new v("markercollection-incorrect-marker-name",this);const r=this._markers.get(o);if(r){const e=r.getData(),s=r.getRange();let a=!1;return s.isEqual(t)||(r._attachLiveRange(xl.fromRange(t)),a=!0),n!=r.managedUsingOperations&&(r._managedUsingOperations=n,a=!0),"boolean"==typeof i&&i!=r.affectsData&&(r._affectsData=i,a=!0),a&&this.fire(`update:${o}`,r,s,t,e),r}const s=xl.fromRange(t),a=new ru(o,s,n,i);var l;return this._markers.set(o,a),this.fire(`update:${o}`,a,null,t,(l=((e,t)=>{for(var n in t||(t={}))tu.call(t,n)&&iu(e,n,t[n]);if(eu)for(var n of eu(t))nu.call(t,n)&&iu(e,n,t[n]);return e})({},a.getData()),Xd(l,Jd({range:null})))),a}_remove(e){const t=e instanceof ru?e.name:e,n=this._markers.get(t);return!!n&&(this._markers.delete(t),this.fire(`update:${t}`,n,n.getRange(),null,n.getData()),this._destroyMarker(n),!0)}_refresh(e){const t=e instanceof ru?e.name:e,n=this._markers.get(t);if(!n)throw new v("markercollection-refresh-marker-not-exists",this);const i=n.getRange();this.fire(`update:${t}`,n,i,i,n.getData())}*getMarkersAtPosition(e){for(const t of this)t.getRange().containsPosition(e)&&(yield t)}*getMarkersIntersectingRange(e){for(const t of this)null!==t.getRange().getIntersection(e)&&(yield t)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const t of this._markers.values())t.name.startsWith(e+":")&&(yield t)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class ru extends(D(Fa)){constructor(e,t,n,i){super(),this.name=e,this._liveRange=this._attachLiveRange(t),this._managedUsingOperations=n,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new v("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}ru.prototype.is=function(e){return"marker"===e||"model:marker"===e};class su extends Wc{constructor(e,t){super(null),this.sourcePosition=e.clone(),this.howMany=t}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new v("detach-operation-on-document-node",this)}_execute(){qc(el._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class au extends Fa{constructor(e){super(),this.markers=new Map,this._children=new Ha,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let t=this;for(const n of e)t=t.getChild(t.offsetToIndex(n));return t}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const t of this._children)e.push(t.toJSON());return e}static fromJSON(e){const t=[];for(const n of e)n.name?t.push(qa.fromJSON(n)):t.push(Wa.fromJSON(n));return new au(t)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,t){const n=function(e){return"string"==typeof e?[new Wa(e)]:(ee(e)||(e=[e]),Array.from(e).map((e=>"string"==typeof e?new Wa(e):e instanceof Ua?new Wa(e.data,e.getAttributes()):e)))}(t);for(const i of n)null!==i.parent&&i._remove(),i.parent=this;this._children._insertNodes(e,n)}_removeChildren(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=this._children._removeNodes(e,t);for(const i of n)i.parent=null;return n}}au.prototype.is=function(e){return"documentFragment"===e||"model:documentFragment"===e};class lu{constructor(e,t){this.model=e,this.batch=t}createText(e,t){return new Wa(e,t)}createElement(e,t){return new qa(e,t)}createDocumentFragment(){return new au}cloneElement(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e._clone(t)}insert(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(this._assertWriterUsedCorrectly(),e instanceof Wa&&""==e.data)return;const i=Ka._createAt(t,n);if(e.parent){if(hu(e.root,i.root))return void this.move(el._createOn(e),i);if(e.root.document)throw new v("model-writer-insert-forbidden-move",this);this.remove(e)}const o=i.root.document?i.root.document.version:null,r=new Xc(i,e,o);if(e instanceof Wa&&(r.shouldReceiveAttributes=!0),this.batch.addOperation(r),this.model.applyOperation(r),e instanceof au)for(const[s,a]of e.markers){const e=Ka._createAt(a.root,0),t={range:new el(a.start._getCombined(e,i),a.end._getCombined(e,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(s)?this.updateMarker(s,t):this.addMarker(s,t)}}insertText(e,t,n,i){t instanceof au||t instanceof qa||t instanceof Ka?this.insert(this.createText(e),t,n):this.insert(this.createText(e,t),n,i)}insertElement(e,t,n,i){t instanceof au||t instanceof qa||t instanceof Ka?this.insert(this.createElement(e),t,n):this.insert(this.createElement(e,t),n,i)}append(e,t){this.insert(e,t,"end")}appendText(e,t,n){t instanceof au||t instanceof qa?this.insert(this.createText(e),t,"end"):this.insert(this.createText(e,t),n,"end")}appendElement(e,t,n){t instanceof au||t instanceof qa?this.insert(this.createElement(e),t,"end"):this.insert(this.createElement(e,t),n,"end")}setAttribute(e,t,n){if(this._assertWriterUsedCorrectly(),n instanceof el){const i=n.getMinimalFlatRanges();for(const n of i)cu(this,e,t,n)}else du(this,e,t,n)}setAttributes(e,t){for(const[n,i]of eo(e))this.setAttribute(n,i,t)}removeAttribute(e,t){if(this._assertWriterUsedCorrectly(),t instanceof el){const n=t.getMinimalFlatRanges();for(const t of n)cu(this,e,null,t)}else du(this,e,null,t)}clearAttributes(e){this._assertWriterUsedCorrectly();const t=e=>{for(const t of e.getAttributeKeys())this.removeAttribute(t,e)};if(e instanceof el)for(const n of e.getItems())t(n);else t(e)}move(e,t,n){if(this._assertWriterUsedCorrectly(),!(e instanceof el))throw new v("writer-move-invalid-range",this);if(!e.isFlat)throw new v("writer-move-range-not-flat",this);const i=Ka._createAt(t,n);if(i.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!hu(e.root,i.root))throw new v("writer-move-different-document",this);const o=e.root.document?e.root.document.version:null,r=new Zc(e.start,e.end.offset-e.start.offset,i,o);this.batch.addOperation(r),this.model.applyOperation(r)}remove(e){this._assertWriterUsedCorrectly();const t=(e instanceof el?e:el._createOn(e)).getMinimalFlatRanges().reverse();for(const n of t)this._addOperationForAffectedMarkers("move",n),pu(n.start,n.end.offset-n.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const t=e.nodeBefore,n=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(t instanceof qa))throw new v("writer-merge-no-element-before",this);if(!(n instanceof qa))throw new v("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,t,n){return this.model.createPositionFromPath(e,t,n)}createPositionAt(e,t){return this.model.createPositionAt(e,t)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,t){return this.model.createRange(e,t)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(){return this.model.createSelection(...arguments)}_mergeDetached(e){const t=e.nodeBefore,n=e.nodeAfter;this.move(el._createIn(n),Ka._createAt(t,"end")),this.remove(n)}_merge(e){const t=Ka._createAt(e.nodeBefore,"end"),n=Ka._createAt(e.nodeAfter,0),i=e.root.document.graveyard,o=new Ka(i,[0]),r=e.root.document.version,s=new ed(n,e.nodeAfter.maxOffset,t,o,r);this.batch.addOperation(s),this.model.applyOperation(s)}rename(e,t){if(this._assertWriterUsedCorrectly(),!(e instanceof qa))throw new v("writer-rename-not-element-instance",this);const n=e.root.document?e.root.document.version:null,i=new rd(Ka._createBefore(e),e.name,t,n);this.batch.addOperation(i),this.model.applyOperation(i)}split(e,t){this._assertWriterUsedCorrectly();let n,i,o=e.parent;if(!o.parent)throw new v("writer-split-element-no-parent",this);if(t||(t=o.parent),!e.parent.getAncestors({includeSelf:!0}).includes(t))throw new v("writer-split-invalid-limit-element",this);do{const t=o.root.document?o.root.document.version:null,r=o.maxOffset-e.offset,s=Jc.getInsertionPosition(e),a=new Jc(e,r,s,null,t);this.batch.addOperation(a),this.model.applyOperation(a),n||i||(n=o,i=e.parent.nextSibling),o=(e=this.createPositionAfter(e.parent)).parent}while(o!==t);return{position:e,range:new el(Ka._createAt(n,"end"),Ka._createAt(i,0))}}wrap(e,t){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new v("writer-wrap-range-not-flat",this);const n=t instanceof qa?t:new qa(t);if(n.childCount>0)throw new v("writer-wrap-element-not-empty",this);if(null!==n.parent)throw new v("writer-wrap-element-attached",this);this.insert(n,e.start);const i=new el(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,Ka._createAt(n,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),null===e.parent)throw new v("writer-unwrap-element-no-parent",this);this.move(el._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,t){if(this._assertWriterUsedCorrectly(),!t||"boolean"!=typeof t.usingOperation)throw new v("writer-addmarker-no-usingoperation",this);const n=t.usingOperation,i=t.range,o=void 0!==t.affectsData&&t.affectsData;if(this.model.markers.has(e))throw new v("writer-addmarker-marker-exists",this);if(!i)throw new v("writer-addmarker-no-range",this);return n?(uu(this,e,null,i,o),this.model.markers.get(e)):this.model.markers._set(e,i,n,o)}updateMarker(e,t){this._assertWriterUsedCorrectly();const n="string"==typeof e?e:e.name,i=this.model.markers.get(n);if(!i)throw new v("writer-updatemarker-marker-not-exists",this);if(!t)return k("writer-updatemarker-reconvert-using-editingcontroller",{markerName:n}),void this.model.markers._refresh(i);const o="boolean"==typeof t.usingOperation,r="boolean"==typeof t.affectsData,s=r?t.affectsData:i.affectsData;if(!o&&!t.range&&!r)throw new v("writer-updatemarker-wrong-options",this);const a=i.getRange(),l=t.range?t.range:a;o&&t.usingOperation!==i.managedUsingOperations?t.usingOperation?uu(this,n,null,l,s):(uu(this,n,a,null,s),this.model.markers._set(n,l,void 0,s)):i.managedUsingOperations?uu(this,n,a,l,s):this.model.markers._set(n,l,void 0,s)}removeMarker(e){this._assertWriterUsedCorrectly();const t="string"==typeof e?e:e.name;if(!this.model.markers.has(t))throw new v("writer-removemarker-no-marker",this);const n=this.model.markers.get(t);n.managedUsingOperations?uu(this,t,n.getRange(),null,n.affectsData):this.model.markers._remove(t)}addRoot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"$root";this._assertWriterUsedCorrectly();const n=this.model.document.getRoot(e);if(n&&n.isAttached())throw new v("writer-addroot-root-exists",this);const i=this.model.document,o=new ad(e,t,!0,i,i.version);return this.batch.addOperation(o),this.model.applyOperation(o),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const t="string"==typeof e?this.model.document.getRoot(e):e;if(!t||!t.isAttached())throw new v("writer-detachroot-no-root",this);for(const o of this.model.markers)o.getRange().root===t&&this.removeMarker(o);for(const o of t.getAttributeKeys())this.removeAttribute(o,t);this.remove(this.createRangeIn(t));const n=this.model.document,i=new ad(t.rootName,t.name,!1,n,n.version);this.batch.addOperation(i),this.model.applyOperation(i)}setSelection(){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...arguments)}setSelectionFocus(e,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,t)}setSelectionAttribute(e,t){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._setSelectionAttribute(e,t);else for(const[n,i]of eo(e))this._setSelectionAttribute(n,i)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),"string"==typeof e)this._removeSelectionAttribute(e);else for(const t of e)this._removeSelectionAttribute(t)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,t){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=Il._getStoreAttributeKey(e);this.setAttribute(i,t,n.anchor.parent)}n._setAttribute(e,t)}_removeSelectionAttribute(e){const t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){const n=Il._getStoreAttributeKey(e);this.removeAttribute(n,t.anchor.parent)}t._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new v("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,t){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const i=n.getRange();let o=!1;if("move"===e){const e=t;o=e.containsPosition(i.start)||e.start.isEqual(i.start)||e.containsPosition(i.end)||e.end.isEqual(i.end)}else{const e=t,n=e.nodeBefore,r=e.nodeAfter,s=i.start.parent==n&&i.start.isAtEnd,a=i.end.parent==r&&0==i.end.offset,l=i.end.nodeAfter==r,c=i.start.nodeAfter==r;o=s||a||l||c}o&&this.updateMarker(n.name,{range:i})}}}function cu(e,t,n,i){const o=e.model,r=o.document;let s,a,l,c=i.start;for(const u of i.getWalker({shallow:!0}))l=u.item.getAttribute(t),s&&a!=l&&(a!=n&&d(),c=s),s=u.nextPosition,a=l;function d(){const i=new el(c,s),l=i.root.document?r.version:null,d=new id(i,t,a,n,l);e.batch.addOperation(d),o.applyOperation(d)}s instanceof Ka&&s!=c&&a!=n&&d()}function du(e,t,n,i){const o=e.model,r=o.document,s=i.getAttribute(t);let a,l;if(s!=n){if(i.root===i){const e=i.document?r.version:null;l=new sd(i,t,s,n,e)}else{a=new el(Ka._createBefore(i),e.createPositionAfter(i));const o=a.root.document?r.version:null;l=new id(a,t,s,n,o)}e.batch.addOperation(l),o.applyOperation(l)}}function uu(e,t,n,i,o){const r=e.model,s=r.document,a=new td(t,n,i,r.markers,!!o,s.version);e.batch.addOperation(a),r.applyOperation(a)}function pu(e,t,n,i){let o;if(e.root.document){const n=i.document,r=new Ka(n.graveyard,[0]);o=new Zc(e,t,r,n.version)}else o=new su(e,t);n.addOperation(o),i.applyOperation(o)}function hu(e,t){return e===t||e instanceof Od&&t instanceof Od}function gu(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.isCollapsed)return;const i=t.getFirstRange();if("$graveyard"==i.root.rootName)return;const o=e.schema;e.change((e=>{if(!n.doNotResetEntireContent&&function(e,t){const n=e.getLimitElement(t);if(!t.containsEntireContent(n))return!1;const i=t.getFirstRange();return i.start.parent!=i.end.parent&&e.checkChild(n,"paragraph")}(o,t))return void function(e,t){const n=e.model.schema.getLimitElement(t);e.remove(e.createRangeIn(n)),yu(e,e.createPositionAt(n,0),t)}(e,t);const r={};if(!n.doNotAutoparagraph){const e=t.getSelectedElement();e&&Object.assign(r,o.getAttributesWithProperty(e,"copyOnReplace",!0))}const[s,a]=function(e){const t=e.root.document.model,n=e.start;let i=e.end;if(t.hasContent(e,{ignoreMarkers:!0})){const n=function(e){const t=e.parent,n=t.root.document.model.schema,i=t.getAncestors({parentFirst:!0,includeSelf:!0});for(const o of i){if(n.isLimit(o))return null;if(n.isBlock(o))return o}}(i);if(n&&i.isTouching(t.createPositionAt(n,0))){const n=t.createSelection(e);t.modifySelection(n,{direction:"backward"});const o=n.getLastPosition(),r=t.createRange(o,i);t.hasContent(r,{ignoreMarkers:!0})||(i=o)}}return[kd.fromPosition(n,"toPrevious"),kd.fromPosition(i,"toNext")]}(i);s.isTouching(a)||e.remove(e.createRange(s,a)),n.leaveUnmerged||(function(e,t,n){const i=e.model;if(!bu(e.model.schema,t,n))return;const[o,r]=function(e,t){const n=e.getAncestors(),i=t.getAncestors();let o=0;for(;n[o]&&n[o]==i[o];)o++;return[n[o],i[o]]}(t,n);o&&r&&(!i.hasContent(o,{ignoreMarkers:!0})&&i.hasContent(r,{ignoreMarkers:!0})?fu(e,t,n,o.parent):mu(e,t,n,o.parent))}(e,s,a),o.removeDisallowedAttributes(s.parent.getChildren(),e)),wu(e,t,s),!n.doNotAutoparagraph&&function(e,t){const n=e.checkChild(t,"$text"),i=e.checkChild(t,"paragraph");return!n&&i}(o,s)&&yu(e,s,t,r),s.detach(),a.detach()}))}function mu(e,t,n,i){const o=t.parent,r=n.parent;if(o!=i&&r!=i){for(t=e.createPositionAfter(o),(n=e.createPositionBefore(r)).isEqual(t)||e.insert(r,t),e.merge(t);n.parent.isEmpty;){const t=n.parent;n=e.createPositionBefore(t),e.remove(t)}bu(e.model.schema,t,n)&&mu(e,t,n,i)}}function fu(e,t,n,i){const o=t.parent,r=n.parent;if(o!=i&&r!=i){for(t=e.createPositionAfter(o),(n=e.createPositionBefore(r)).isEqual(t)||e.insert(o,n);t.parent.isEmpty;){const n=t.parent;t=e.createPositionBefore(n),e.remove(n)}n=e.createPositionBefore(r),function(e,t){const n=t.nodeBefore,i=t.nodeAfter;n.name!=i.name&&e.rename(n,i.name),e.clearAttributes(n),e.setAttributes(Object.fromEntries(i.getAttributes()),n),e.merge(t)}(e,n),bu(e.model.schema,t,n)&&fu(e,t,n,i)}}function bu(e,t,n){const i=t.parent,o=n.parent;return i!=o&&!e.isLimit(i)&&!e.isLimit(o)&&function(e,t,n){const i=new el(e,t);for(const o of i.getWalker())if(n.isLimit(o.item))return!1;return!0}(t,n,e)}function yu(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=e.createElement("paragraph");e.model.schema.setAllowedAttributes(o,i,e),e.insert(o,t),wu(e,n,e.createPositionAt(o,0))}function wu(e,t,n){t instanceof Il?e.setSelection(n):t.setTo(n)}function vu(e,t){const n=[];Array.from(e.getItems({direction:"backward"})).map((e=>t.createRangeOn(e))).filter((t=>(t.start.isAfter(e.start)||t.start.isEqual(e.start))&&(t.end.isBefore(e.end)||t.end.isEqual(e.end)))).forEach((e=>{n.push(e.start.parent),t.remove(e)})),n.forEach((e=>{let n=e;for(;n.parent&&n.isEmpty;){const e=t.createRangeOn(n);n=n.parent,t.remove(e)}}))}class ku{constructor(e,t,n){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=t,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=t.createDocumentFragment(),this._documentFragmentPosition=t.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const t of Array.from(e))this._handleNode(t);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const t=this.writer.createPositionAfter(this._lastNode),n=this.writer.createPositionAfter(e);if(n.isAfter(t)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new v("insertcontent-invalid-insertion-position",this);this.position=n,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?el._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new el(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let t=this._checkAndAutoParagraphToAllowedPosition(e);t||(t=this._checkAndSplitToAllowedPosition(e),t)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=kd.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new v("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=kd.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=kd.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof qa))return;if(!this._canMergeLeft(e))return;const t=kd._createBefore(e);t.stickiness="toNext";const n=kd.fromPosition(this.position,"toNext");this._affectedStart.isEqual(t)&&(this._affectedStart.detach(),this._affectedStart=kd._createAt(t.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=kd._createAt(t.nodeBefore,"end","toNext")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof qa))return;if(!this._canMergeRight(e))return;const t=kd._createAfter(e);if(t.stickiness="toNext",!this.position.isEqual(t))throw new v("insertcontent-invalid-insertion-position",this);this.position=Ka._createAt(t.nodeBefore,"end");const n=kd.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(t)&&(this._affectedEnd.detach(),this._affectedEnd=kd._createAt(t.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=t.nodeBefore,this._lastNode=t.nodeBefore),this.writer.merge(t),t.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=kd._createAt(t.nodeBefore,0,"toPrevious")),this.position=n.toPosition(),n.detach(),this._filterAttributesOf.push(this.position.parent),t.detach()}_canMergeLeft(e){const t=e.previousSibling;return t instanceof qa&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}_canMergeRight(e){const t=e.nextSibling;return t instanceof qa&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}_tryAutoparagraphing(e){const t=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,t)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const t=this.writer.createElement("paragraph");return this.writer.insert(t,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=t,this.position=this.writer.createPositionAt(t,0),!0}_checkAndSplitToAllowedPosition(e){const t=this._getAllowedIn(this.position.parent,e);if(!t)return!1;for(t!=this.position.parent&&this._insertPartialFragment();t!=this.position.parent;)if(this.position.isAtStart){const e=this.position.parent;this.position=this.writer.createPositionBefore(e),e.isEmpty&&e.parent===t&&this.writer.remove(e)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const e=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=e,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,t){return this.schema.checkChild(e,t)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,t)}}function _u(e,t){const{isForward:n,walker:i,unit:o,schema:r,treatEmojiAsSingleUnit:s}=e,{type:a,item:l,nextPosition:c}=t;if("text"==a)return"word"===e.unit?function(e,t){let n=e.position.textNode;for(n||(n=t?e.position.nodeAfter:e.position.nodeBefore);n&&n.is("$text");){const i=e.position.offset-n.startOffset;if(Cu(n,i,t))n=t?e.position.nodeAfter:e.position.nodeBefore;else{if(Au(n.data,i,t))break;e.next()}}return e.position}(i,n):function(e,t,n){const i=e.position.textNode;if(i){const o=i.data;let r=e.position.offset-i.startOffset;for(;no(o,r)||"character"==t&&io(o,r)||n&&ro(o,r);)e.next(),r=e.position.offset-i.startOffset}return e.position}(i,o,s);if(a==(n?"elementStart":"elementEnd")){if(r.isSelectable(l))return Ka._createAt(l,n?"after":"before");if(r.checkChild(c,"$text"))return c}else{if(r.isLimit(l))return void i.skip((()=>!0));if(r.checkChild(c,"$text"))return c}}function xu(e,t){const n=e.root,i=Ka._createAt(n,t?"end":0);return t?new el(e,i):new el(i,e)}function Au(e,t,n){const i=t+(n?0:-1);return' ,.?!:;"-()'.includes(e.charAt(i))}function Cu(e,t,n){return t===(n?e.offsetSize:0)}class Su extends(q()){constructor(){super(),this.markers=new ou,this.document=new Yd(this),this.schema=new gc,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach((e=>this.decorate(e))),this.on("applyOperation",((e,t)=>{t[0]._validate()}),{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck(((e,t)=>{if("$marker"===t.name)return!0})),function(e){e.document.registerPostFixer((t=>function(e,t){const n=t.document.selection,i=t.schema,o=[];let r=!1;for(const s of n.getRanges()){const e=ac(s,i);e&&!e.isEqual(s)?(o.push(e),r=!0):o.push(s)}return r&&e.setSelection(function(e){const t=[...e],n=new Set;let i=1;for(;i<t.length;){const e=t[i],o=t.slice(0,i);for(const[r,s]of o.entries())if(!n.has(r))if(e.isEqual(s))n.add(r);else if(e.isIntersecting(s)){n.add(r),n.add(i);const o=e.getJoined(s);t.push(o)}i++}return t.filter(((e,t)=>!n.has(t)))}(o),{backward:n.isBackward}),!1}(t,e)))}(this),this.document.registerPostFixer(Ul),this.on("insertContent",((e,t)=>{let[n,i]=t;e.return=function(e,t,n){return e.change((i=>{const o=n||e.document.selection;o.isCollapsed||e.deleteContent(o,{doNotAutoparagraph:!0});const r=new ku(e,i,o.anchor),s=[];let a;if(t.is("documentFragment")){if(t.markers.size){const e=[];for(const[n,i]of t.markers){const{start:t,end:o}=i,r=t.isEqual(o);e.push({position:t,name:n,isCollapsed:r},{position:o,name:n,isCollapsed:r})}e.sort(((e,t)=>{let{position:n}=e,{position:i}=t;return n.isBefore(i)?1:-1}));for(const{position:n,name:o,isCollapsed:r}of e){let e=null,a=null;const l=n.parent===t&&n.isAtStart,c=n.parent===t&&n.isAtEnd;l||c?r&&(a=l?"start":"end"):(e=i.createElement("$marker"),i.insert(e,n)),s.push({name:o,element:e,collapsed:a})}}a=t.getChildren()}else a=[t];r.handleNodes(a);let l=r.getSelectionRange();if(t.is("documentFragment")&&s.length){const e=l?xl.fromRange(l):null,t={};for(let n=s.length-1;n>=0;n--){const{name:e,element:o,collapsed:a}=s[n],l=!t[e];if(l&&(t[e]=[]),o){const n=i.createPositionAt(o,"before");t[e].push(n),i.remove(o)}else{const n=r.getAffectedRange();if(!n){a&&t[e].push(r.position);continue}a?t[e].push(n[a]):t[e].push(l?n.start:n.end)}}for(const[n,[o,r]]of Object.entries(t))o&&r&&o.root===r.root&&o.root.document&&!i.model.markers.has(n)&&i.addMarker(n,{usingOperation:!0,affectsData:!0,range:new el(o,r)});e&&(l=e.toRange(),e.detach())}l&&(o instanceof Il?i.setSelection(l):o.setTo(l));const c=r.getAffectedRange()||e.createRange(o.anchor);return r.destroy(),c}))}(this,n,i)})),this.on("insertObject",((e,t)=>{let[n,i,o]=t;e.return=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!e.schema.isObject(t))throw new v("insertobject-element-not-an-object",e,{object:t});const o=n||e.document.selection;let r=o;i.findOptimalPosition&&e.schema.isBlock(t)&&(r=e.createSelection(e.schema.findOptimalInsertionRange(o,i.findOptimalPosition)));const s=Zi(o.getSelectedBlocks()),a={};return s&&Object.assign(a,e.schema.getAttributesWithProperty(s,"copyOnReplace",!0)),e.change((n=>{r.isCollapsed||e.deleteContent(r,{doNotAutoparagraph:!0});let o=t;const s=r.anchor.parent;!e.schema.checkChild(s,t)&&e.schema.checkChild(s,"paragraph")&&e.schema.checkChild("paragraph",t)&&(o=n.createElement("paragraph"),n.insert(t,o)),e.schema.setAllowedAttributes(o,a,n);const l=e.insertContent(o,r);return l.isCollapsed||i.setSelection&&function(e,t,n,i){const o=e.model;if("on"==n)return void e.setSelection(t,"on");if("after"!=n)throw new v("insertobject-invalid-place-parameter-value",o);let r=t.nextSibling;o.schema.isInline(t)?e.setSelection(t,"after"):(!(r&&o.schema.checkChild(r,"$text"))&&o.schema.checkChild(t.parent,"paragraph")&&(r=e.createElement("paragraph"),o.schema.setAllowedAttributes(r,i,e),o.insertContent(r,e.createPositionAfter(t))),r&&e.setSelection(r,0))}(n,t,i.setSelection,a),l}))}(this,n,i,o)})),this.on("canEditAt",(e=>{const t=!this.document.isReadOnly;e.return=t,t||e.stop()}))}change(e){try{return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Ad,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(e){v.rethrowUnexpectedError(e,this)}}enqueueChange(e,t){try{e?"function"==typeof e?(t=e,e=new Ad):e instanceof Ad||(e=new Ad(e)):e=new Ad,this._pendingChanges.push({batch:e,callback:t}),1==this._pendingChanges.length&&this._runPendingChanges()}catch(e){v.rethrowUnexpectedError(e,this)}}applyOperation(e){e._execute()}insertContent(e,t,n){const i=Iu(t,n);for(var o=arguments.length,r=new Array(o>3?o-3:0),s=3;s<o;s++)r[s-3]=arguments[s];return this.fire("insertContent",[e,i,n,...r])}insertObject(e,t,n,i){const o=Iu(t,n);for(var r=arguments.length,s=new Array(r>4?r-4:0),a=4;a<r;a++)s[a-4]=arguments[a];return this.fire("insertObject",[e,o,i,i,...s])}deleteContent(e,t){gu(this,e,t)}modifySelection(e,t){!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.schema,o="backward"!=n.direction,r=n.unit?n.unit:"character",s=!!n.treatEmojiAsSingleUnit,a=t.focus,l=new $a({boundaries:xu(a,o),singleCharacters:!0,direction:o?"forward":"backward"}),c={walker:l,schema:i,isForward:o,unit:r,treatEmojiAsSingleUnit:s};let d;for(;d=l.next();){if(d.done)return;const n=_u(c,d.value);if(n)return void(t instanceof Il?e.change((e=>{e.setSelectionFocus(n)})):t.setFocus(n))}}(this,e,t)}getSelectedContent(e){return function(e,t){return e.change((e=>{const n=e.createDocumentFragment(),i=t.getFirstRange();if(!i||i.isCollapsed)return n;const o=i.start.root,r=i.start.getCommonPath(i.end),s=o.getNodeByPath(r);let a;a=i.start.parent==i.end.parent?i:e.createRange(e.createPositionAt(s,i.start.path[r.length]),e.createPositionAt(s,i.end.path[r.length]+1));const l=a.end.offset-a.start.offset;for(const t of a.getItems({shallow:!0}))t.is("$textProxy")?e.appendText(t.data,t.getAttributes(),n):e.append(e.cloneElement(t,!0),n);if(a!=i){const t=i._getTransformedByMove(a.start,e.createPositionAt(n,0),l)[0],o=e.createRange(e.createPositionAt(n,0),t.start);vu(e.createRange(t.end,e.createPositionAt(n,"end")),e),vu(o,e)}return n}))}(this,e)}hasContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e instanceof el?e:el._createIn(e);if(n.isCollapsed)return!1;const{ignoreWhitespaces:i=!1,ignoreMarkers:o=!1}=t;if(!o)for(const r of this.markers.getMarkersIntersectingRange(n))if(r.affectsData)return!0;for(const r of n.getItems())if(this.schema.isContent(r)){if(!r.is("$textProxy"))return!0;if(!i)return!0;if(-1!==r.data.search(/\S/))return!0}return!1}canEditAt(e){const t=Iu(e);return this.fire("canEditAt",[t])}createPositionFromPath(e,t,n){return new Ka(e,t,n)}createPositionAt(e,t){return Ka._createAt(e,t)}createPositionAfter(e){return Ka._createAfter(e)}createPositionBefore(e){return Ka._createBefore(e)}createRange(e,t){return new el(e,t)}createRangeIn(e){return el._createIn(e)}createRangeOn(e){return el._createOn(e)}createSelection(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new fl(...t)}createBatch(e){return new Ad(e)}createOperationFromJSON(e){return cd.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const t=this._pendingChanges[0].batch;this._currentWriter=new lu(this,t);const n=this._pendingChanges[0].callback(this._currentWriter);e.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Iu(e,t){if(e)return e instanceof fl||e instanceof Il?e:e instanceof Va?t||0===t?new fl(e,t):e.is("rootElement")?new fl(e,"in"):new fl(e,"on"):new fl(e)}class Tu extends Qs{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class Eu extends Qs{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Du{constructor(e){this.document=e}createDocumentFragment(e){return new ds(this.document,e)}createElement(e,t,n){return new Br(this.document,e,t,n)}createText(e){return new or(this.document,e)}clone(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e._clone(t)}appendChild(e,t){return t._appendChild(e)}insertChild(e,t,n){return n._insertChild(e,t)}removeChildren(e,t,n){return n._removeChildren(e,t)}remove(e){const t=e.parent;return t?this.removeChildren(t.getChildIndex(e),1,t):[]}replace(e,t){const n=e.parent;if(n){const i=n.getChildIndex(e);return this.removeChildren(i,1,n),this.insertChild(i,t,n),!0}return!1}unwrapElement(e){const t=e.parent;if(t){const n=t.getChildIndex(e);this.remove(e),this.insertChild(n,e.getChildren(),t)}}rename(e,t){const n=new Br(this.document,e,t.getAttributes(),t.getChildren());return this.replace(t,n)?n:null}setAttribute(e,t,n){n._setAttribute(e,t)}removeAttribute(e,t){t._removeAttribute(e)}addClass(e,t){t._addClass(e)}removeClass(e,t){t._removeClass(e)}setStyle(e,t,n){xe(e)&&void 0===n?t._setStyle(e):n._setStyle(e,t)}removeStyle(e,t){t._removeStyle(e)}setCustomProperty(e,t,n){n._setCustomProperty(e,t)}removeCustomProperty(e,t){return t._removeCustomProperty(e)}createPositionAt(e,t){return Hr._createAt(e,t)}createPositionAfter(e){return Hr._createAfter(e)}createPositionBefore(e){return Hr._createBefore(e)}createRange(e,t){return new Wr(e,t)}createRangeOn(e){return Wr._createOn(e)}createRangeIn(e){return Wr._createIn(e)}createSelection(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new qr(...t)}}class Mu{constructor(){this._commands=new Map}add(e,t){this._commands.set(e,t)}get(e){return this._commands.get(e)}execute(e){const t=this.get(e);if(!t)throw new v("commandcollection-command-not-found",this,{commandName:e});for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return t.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}var Pu=Object.defineProperty,Ru=Object.getOwnPropertySymbols,Bu=Object.prototype.hasOwnProperty,ju=Object.prototype.propertyIsEnumerable,Lu=(e,t,n)=>t in e?Pu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const zu="contentEditing",Ou="common";class Nu{constructor(e){this.keystrokeInfos=new Map,this._editor=e;const t=e.config.get("menuBar.isVisible"),n=e.locale.t;this.addKeystrokeInfoCategory({id:zu,label:n("Content editing keystrokes"),description:n("These keyboard shortcuts allow for quick access to content editing features.")});const i=[{label:n("Close contextual balloons, dropdowns, and dialogs"),keystroke:"Esc"},{label:n("Open the accessibility help dialog"),keystroke:"Alt+0"},{label:n("Move focus between form fields (inputs, buttons, etc.)"),keystroke:[["Tab"],["Shift+Tab"]]},{label:n("Move focus to the toolbar, navigate between toolbars"),keystroke:"Alt+F10",mayRequireFn:!0},{label:n("Navigate through the toolbar or menu bar"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]},{label:n("Execute the currently focused button. Executing buttons that interact with the editor content moves the focus back to the content."),keystroke:[["Enter"],["Space"]]}];t&&i.push({label:n("Move focus to the menu bar, navigate between menu bars"),keystroke:"Alt+F9",mayRequireFn:!0}),this.addKeystrokeInfoCategory({id:"navigation",label:n("User interface and content navigation keystrokes"),description:n("Use the following keystrokes for more efficient navigation in the CKEditor 5 user interface."),groups:[{id:"common",keystrokes:i}]})}addKeystrokeInfoCategory(e){let{id:t,label:n,description:i,groups:o}=e;this.keystrokeInfos.set(t,{id:t,label:n,description:i,groups:new Map}),this.addKeystrokeInfoGroup({categoryId:t,id:Ou}),o&&o.forEach((e=>{this.addKeystrokeInfoGroup(((e,t)=>{for(var n in t||(t={}))Bu.call(t,n)&&Lu(e,n,t[n]);if(Ru)for(var n of Ru(t))ju.call(t,n)&&Lu(e,n,t[n]);return e})({categoryId:t},e))}))}addKeystrokeInfoGroup(e){let{categoryId:t=zu,id:n,label:i,keystrokes:o}=e;const r=this.keystrokeInfos.get(t);if(!r)throw new v("accessibility-unknown-keystroke-info-category",this._editor,{groupId:n,categoryId:t});r.groups.set(n,{id:n,label:i,keystrokes:o||[]})}addKeystrokeInfos(e){let{categoryId:t=zu,groupId:n=Ou,keystrokes:i}=e;if(!this.keystrokeInfos.has(t))throw new v("accessibility-unknown-keystroke-info-category",this._editor,{categoryId:t,keystrokes:i});const o=this.keystrokeInfos.get(t);if(!o.groups.has(n))throw new v("accessibility-unknown-keystroke-info-group",this._editor,{groupId:n,categoryId:t,keystrokes:i});o.groups.get(n).keystrokes.push(...i)}}var Fu=Object.getOwnPropertySymbols,Vu=Object.prototype.hasOwnProperty,Hu=Object.prototype.propertyIsEnumerable,Wu=(e,t)=>{var n={};for(var i in e)Vu.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Fu)for(var i of Fu(e))t.indexOf(i)<0&&Hu.call(e,i)&&(n[i]=e[i]);return n};class Uu extends(q()){constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super();const t=this.constructor,n=t.defaultConfig||{},{translations:i}=n,o=Wu(n,["translations"]),r=e,{translations:s=i}=r,a=Wu(r,["translations"]),l=e.language||o.language;this._context=e.context||new qo({language:l,translations:s}),this._context._addEditor(this,!e.context);const c=Array.from(t.builtinPlugins||[]);this.config=new jn(a,o),this.config.define("plugins",c),this.config.define(this._context._getEditorConfig()),this.plugins=new Vo(this,c,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new Mu,this.set("state","initializing"),this.once("ready",(()=>this.state="ready"),{priority:"high"}),this.once("destroy",(()=>this.state="destroyed"),{priority:"high"}),this.model=new Su,this.on("change:isReadOnly",(()=>{this.model.document.isReadOnly=this.isReadOnly}));const d=new Mr;this.data=new Nc(this.model,d),this.editing=new dc(this.model,d),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Fc([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Go(this),this.keystrokes.listenTo(this.editing.view.document),this.accessibility=new Nu(this)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new v("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new v("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),1===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if("string"!=typeof e&&"symbol"!=typeof e)throw new v("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),0===this._readOnlyLocks.size&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}setData(e){this.data.set(e)}getData(e){return this.data.get(e)}initPlugins(){const e=this.config,t=e.get("plugins"),n=e.get("removePlugins")||[],i=e.get("extraPlugins")||[],o=e.get("substitutePlugins")||[];return this.plugins.init(t.concat(i),n,o)}destroy(){let e=Promise.resolve();return"initializing"==this.state&&(e=new Promise((e=>this.once("ready",e)))),e.then((()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()})).then((()=>this.plugins.destroy())).then((()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})).then((()=>this._context._removeEditor(this)))}execute(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return this.commands.execute(e,...n)}catch(e){v.rethrowUnexpectedError(e,this)}}focus(){this.editing.view.focus()}static create(){throw new Error("This is an abstract method.")}}function qu(e){return class extends e{updateSourceElement(e){if(!this.sourceElement)throw new v("editor-missing-sourceelement",this);const t=this.config.get("updateSourceElementOnDestroy"),n=this.sourceElement instanceof HTMLTextAreaElement;if(!t&&!n)return void ni(this.sourceElement,"");const i="string"==typeof e?e:this.data.get();ni(this.sourceElement,i)}}}qu.updateSourceElement=qu(Object).prototype.updateSourceElement;class $u extends $o{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Qi({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if("string"!=typeof e)throw new v("pendingactions-add-invalid-message",this);const t=new(q());return t.set("message",e),this._actions.add(t),this.hasAny=!0,t}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Gu={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',colorPalette:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.209 18.717A8.5 8.5 0 1 1 18.686 9.6h-.008l.002.12a3 3 0 0 1-2.866 2.997h-.268l-.046-.002v.002h-4.791a2 2 0 1 0 0 4 1 1 0 1 1-.128 1.992 8.665 8.665 0 0 1-.372.008Zm-3.918-7.01a1.25 1.25 0 1 0-2.415-.648 1.25 1.25 0 0 0 2.415.647ZM5.723 8.18a1.25 1.25 0 1 0 .647-2.414 1.25 1.25 0 0 0-.647 2.414ZM9.76 6.155a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Zm4.028 1.759a1.25 1.25 0 1 0 .647-2.415 1.25 1.25 0 0 0-.647 2.415Z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',history:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11 1a9 9 0 1 1-8.027 13.075l1.128-1.129A7.502 7.502 0 0 0 18.5 10a7.5 7.5 0 1 0-14.962.759l-.745-.746-.76.76A9 9 0 0 1 11 1z"/><path d="M.475 8.17a.75.75 0 0 1 .978.047l.075.082 1.284 1.643 1.681-1.284a.75.75 0 0 1 .978.057l.073.083a.75.75 0 0 1-.057.978l-.083.073-2.27 1.737a.75.75 0 0 1-.973-.052l-.074-.082-1.741-2.23a.75.75 0 0 1 .13-1.052z"/><path d="M11.5 5v4.999l3.196 3.196-1.06 1.06L10.1 10.72l-.1-.113V5z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.66 9.118a.693.693 0 0 1 .956.032l3.65 3.411 2.422-2.238a.695.695 0 0 1 .945 0L17.5 13.6V2.5h-15v11.1l4.16-4.482ZM17.8 1c.652 0 1.2.47 1.2 1.1v14.362c0 .64-.532 1.038-1.184 1.038H2.184C1.532 17.5 1 17.103 1 16.462V2.1C1 1.47 1.537 1 2.2 1h15.6Zm-5.655 6a2.128 2.128 0 0 1 .157-2.364A2.133 2.133 0 1 1 12.145 7Z"/></svg>',imageUpload:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h9.494a2.97 2.97 0 0 1-.414-.287 2.998 2.998 0 0 1-1.055-2.03 3.003 3.003 0 0 1 .693-2.185l.383-.455-.02.018-3.65-3.41a.695.695 0 0 0-.957-.034L1.5 13.6V2.5h15v5.535a2.97 2.97 0 0 1 1.412.932l.088.105V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.146 2.146 0 0 0-2.049 1.992 2.14 2.14 0 0 0 1.28 2.096 2.13 2.13 0 0 0 2.644-3.11 2.134 2.134 0 0 0-1.875-.978Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/><path d="M15.522 19.1a.79.79 0 0 0 .79-.79v-5.373l2.059 2.455a.79.79 0 1 0 1.211-1.015l-3.352-3.995a.79.79 0 0 0-.995-.179.784.784 0 0 0-.299.221l-3.35 3.99a.79.79 0 1 0 1.21 1.017l1.936-2.306v5.185c0 .436.353.79.79.79Z"/></svg>',imageAssetManager:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1c-.662 0-1.2.47-1.2 1.1v14.248c0 .64.533 1.152 1.185 1.152h6.623v-7.236L6.617 9.15a.694.694 0 0 0-.957-.033L1.602 13.55V2.553l14.798.003V9.7H18V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.723 2.805a2.094 2.094 0 0 0-1.621.832 2.127 2.127 0 0 0 1.136 3.357 2.13 2.13 0 0 0 2.611-1.506 2.133 2.133 0 0 0-.76-2.244 2.13 2.13 0 0 0-1.366-.44Z"/><path clip-rule="evenodd" d="M19.898 12.369v6.187a.844.844 0 0 1-.844.844h-8.719a.844.844 0 0 1-.843-.844v-7.312a.844.844 0 0 1 .843-.844h2.531a.843.843 0 0 1 .597.248l.838.852h4.75c.223 0 .441.114.6.272a.844.844 0 0 1 .247.597Zm-1.52.654-4.377.02-1.1-1.143H11v6h7.4l-.023-4.877Z"/></svg>',imageUrl:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.201 1C.538 1 0 1.47 0 2.1v14.363c0 .64.534 1.037 1.186 1.037h7.029a5.401 5.401 0 0 1 .615-4.338l.762-1.232-2.975-2.78a.696.696 0 0 0-.957-.033L1.5 13.6V2.5h15v6.023c.449.131.887.32 1.307.573l.058.033c.046.028.09.057.135.086V2.1c0-.63-.547-1.1-1.2-1.1H1.202Zm11.713 2.803a2.15 2.15 0 0 0-1.611.834 2.118 2.118 0 0 0-.438 1.158 2.14 2.14 0 0 0 1.277 2.096 2.132 2.132 0 0 0 2.645-3.11 2.13 2.13 0 0 0-1.873-.978Z"/><path d="M16.63 10.294a3.003 3.003 0 0 0-4.142.887l-.117.177a.647.647 0 0 0-.096.492.664.664 0 0 0 .278.418.7.7 0 0 0 .944-.234 1.741 1.741 0 0 1 2.478-.463 1.869 1.869 0 0 1 .476 2.55.637.637 0 0 0-.071.5.646.646 0 0 0 .309.396.627.627 0 0 0 .869-.19l.027-.041a3.226 3.226 0 0 0-.956-4.492Zm-6.061 3.78-.044.066a3.228 3.228 0 0 0 .82 4.403 3.005 3.005 0 0 0 4.275-.798l.13-.197a.626.626 0 0 0 .092-.475.638.638 0 0 0-.268-.402.713.713 0 0 0-.99.26l-.018.029a1.741 1.741 0 0 1-2.477.461 1.87 1.87 0 0 1-.475-2.55l.029-.047a.647.647 0 0 0 .086-.485.66.66 0 0 0-.275-.408l-.04-.027a.609.609 0 0 0-.845.17Z"/><path d="M15.312 13.925c.24-.36.154-.838-.19-1.067-.346-.23-.82-.124-1.059.236l-1.268 1.907c-.239.36-.153.838.192 1.067.345.23.818.123 1.057-.236l1.268-1.907Z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',textAlternative:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.035 1C2.446 1 2 1.54 2 2.098V10.5h1.5v-8h13v8H18V2.098C18 1.539 17.48 1 16.9 1H3.035Zm10.453 2.61a1.885 1.885 0 0 0-1.442.736 1.89 1.89 0 0 0 1.011 2.976 1.903 1.903 0 0 0 2.253-1.114 1.887 1.887 0 0 0-1.822-2.598ZM7.463 8.163a.611.611 0 0 0-.432.154L5.071 10.5h5.119L7.88 8.348a.628.628 0 0 0-.417-.185Zm6.236 1.059a.62.62 0 0 0-.42.164L12.07 10.5h2.969l-.92-1.113a.618.618 0 0 0-.42-.165ZM.91 11.5a.91.91 0 0 0-.91.912v6.877c0 .505.405.91.91.91h18.178a.91.91 0 0 0 .912-.91v-6.877a.908.908 0 0 0-.912-.912H.91ZM3.668 13h1.947l2.135 5.7H5.898l-.28-.946H3.601l-.278.945H1.516L3.668 13Zm4.947 0h1.801v4.3h2.7v1.4h-4.5V13h-.001Zm4.5 0h5.4v1.4h-1.798v4.3h-1.701v-4.3h-1.9V13h-.001Zm-8.517 1.457-.614 2.059h1.262l-.648-2.059Z"/></svg>',loupe:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.68 13.74h-.001l4.209 4.208a1 1 0 1 0 1.414-1.414l-4.267-4.268a6 6 0 1 0-1.355 1.474ZM13 9a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"/></svg>',previousArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>',nextArrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeCustom:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:v="https://vecta.io/nano" viewBox="0 0 20 20"><path d="M.95 1.43a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h.75v6.3H.95a.95.95 0 0 0-.95.95v3.1a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-.65h1.932l1.539-1.5H5v-.95a.95.95 0 0 0-.95-.95H3.2v-6.3h.85A.95.95 0 0 0 5 5.48v-.55h10v.55a.95.95 0 0 0 .95.95h3.1a.95.95 0 0 0 .95-.95v-3.1a.95.95 0 0 0-.95-.95h-3.1a.95.95 0 0 0-.95.95v1.05H5V2.38a.95.95 0 0 0-.95-.95H.95zm.55 3.5v-2h2v2h-2zm0 9.3v2h2v-2h-2zm15-11.3v2h2v-2h-2z"/><path d="M8.139 20.004v-2.388l7.045-7.048 2.391 2.391-7.046 7.046h-2.39zm11.421-9.101a.64.64 0 0 1-.138.206l-1.165 1.168-2.391-2.391 1.167-1.163a.63.63 0 0 1 .206-.138.635.635 0 0 1 .243-.049.63.63 0 0 1 .449.187l1.491 1.488c.059.059.108.129.138.206s.049.16.049.243a.6.6 0 0 1-.049.243z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M13 5.5H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2ZM13 7a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-8A.5.5 0 0 1 2 7h11Z"/></svg>',objectSizeSmall:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M7 9.5H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2ZM7 11a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4A.5.5 0 0 1 2 11h5Z"/></svg>',objectSizeMedium:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 16.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1ZM1 15v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 13v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 11v1H0v-1h1Zm19 0v1h-1v-1h1ZM1 9v1H0V9h1Zm19 0v1h-1V9h1ZM1 7v1H0V7h1Zm19 0v1h-1V7h1ZM1 5v1H0V5h1Zm19 0v1h-1V5h1Zm0-2v1h-1V3h1ZM1 3v1H0V3h1Zm13.5-1.5v1h-1v-1h1Zm2 0v1h-1v-1h1Zm2 0v1h-1v-1h1Zm-8 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm-2 0v1h-1v-1h1Zm8 0v1h-1v-1h1Zm-10 0v1h-1v-1h1Z"/><path d="M10 7.5H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2ZM10 9a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6A.5.5 0 0 1 2 9h8Z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>',dragIndicator:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 3.25a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 10a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M5 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/><path d="M12 16.75a1.5 1.5 0 1 0 3 0 1.5 1.5 0 1 0-3 0"/></svg>',redo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',undo:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',bulletedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',numberedList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',todoList:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m2.315 14.705 2.224-2.24a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .949L2.865 16.07a.682.682 0 0 1-.112.089.647.647 0 0 1-.852-.051L.688 14.886a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.717.722zm5.185.045a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75zM2.329 5.745l2.21-2.226a.689.689 0 0 1 .963 0 .664.664 0 0 1 0 .95L2.865 7.125a.685.685 0 0 1-.496.196.644.644 0 0 1-.468-.187L.688 5.912a.635.635 0 0 1 0-.903.647.647 0 0 1 .91 0l.73.736zM7.5 5.75A.75.75 0 0 1 8.25 5h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',codeBlock:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',browseFiles:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',heading1:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 9v10h-2v-8h-2V9h4zM4 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1V11H4v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H3a1 1 0 0 1 1 1v4.5z"/></svg>',heading2:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm16.076 8.343V18.5h-6.252c.067-.626.27-1.22.61-1.78.338-.561 1.006-1.305 2.005-2.232.804-.749 1.297-1.257 1.479-1.523.245-.368.368-.732.368-1.092 0-.398-.107-.703-.32-.917-.214-.214-.51-.32-.886-.32-.372 0-.669.111-.889.336-.22.224-.347.596-.38 1.117l-1.778-.178c.106-.982.438-1.686.997-2.114.558-.427 1.257-.64 2.095-.64.918 0 1.64.247 2.164.742.525.495.787 1.11.787 1.847 0 .419-.075.818-.225 1.197-.15.378-.388.775-.714 1.19-.216.275-.605.67-1.168 1.187-.563.516-.92.859-1.07 1.028a3.11 3.11 0 0 0-.365.495h3.542z"/></svg>',heading3:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V11H3v4.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1H2a1 1 0 0 1 1 1v4.5zm9.989 7.53 1.726-.209c.055.44.203.777.445 1.01.24.232.533.349.876.349.368 0 .678-.14.93-.42.251-.279.377-.655.377-1.13 0-.448-.12-.803-.362-1.066a1.153 1.153 0 0 0-.882-.393c-.228 0-.501.044-.819.133l.197-1.453c.482.012.85-.092 1.105-.315.253-.222.38-.517.38-.885 0-.313-.093-.563-.279-.75-.186-.185-.434-.278-.743-.278a1.07 1.07 0 0 0-.78.317c-.216.212-.347.52-.394.927l-1.644-.28c.114-.562.287-1.012.517-1.348.231-.337.553-.601.965-.794a3.24 3.24 0 0 1 1.387-.289c.876 0 1.579.28 2.108.838.436.457.653.973.653 1.549 0 .817-.446 1.468-1.339 1.955.533.114.96.37 1.28.768.319.398.478.878.478 1.441 0 .817-.298 1.513-.895 2.088-.596.576-1.339.864-2.228.864-.842 0-1.54-.243-2.094-.727-.555-.485-.876-1.118-.965-1.901z"/></svg>',heading4:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm13.55 10v-1.873h-3.81v-1.561l4.037-5.91h1.498v5.904h1.156v1.567h-1.156V18.5H17.05zm0-3.44v-3.18l-2.14 3.18h2.14z"/></svg>',heading5:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm9.578 7.607 1.777-.184c.05.402.201.72.45.955a1.223 1.223 0 0 0 1.81-.101c.258-.303.387-.759.387-1.368 0-.572-.128-1-.384-1.286-.256-.285-.59-.428-1-.428-.512 0-.971.226-1.377.679l-1.448-.21.915-4.843h4.716v1.67H15.56l-.28 1.58a2.697 2.697 0 0 1 1.219-.298 2.68 2.68 0 0 1 2.012.863c.55.576.825 1.323.825 2.241a3.36 3.36 0 0 1-.666 2.05c-.605.821-1.445 1.232-2.52 1.232-.86 0-1.56-.23-2.101-.692-.542-.461-.866-1.081-.971-1.86z"/></svg>',heading6:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 8.5h5V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v11.5a1 1 0 0 1-1 1h-.5a1 1 0 0 1-1-1V11h-5v4.5a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v4.5zm15.595 2.973-1.726.19c-.043-.355-.153-.617-.33-.787-.178-.169-.409-.253-.692-.253-.377 0-.695.169-.956.507-.26.339-.424 1.043-.492 2.114.445-.525.997-.787 1.657-.787.745 0 1.383.284 1.914.85.531.568.797 1.3.797 2.197 0 .952-.28 1.716-.838 2.291-.559.576-1.276.864-2.152.864-.94 0-1.712-.365-2.317-1.095-.605-.73-.908-1.927-.908-3.59 0-1.705.316-2.935.946-3.688.63-.753 1.45-1.13 2.457-1.13.706 0 1.291.198 1.755.594.463.395.758.97.885 1.723zm-4.043 3.891c0 .58.133 1.028.4 1.343.266.315.57.473.914.473.33 0 .605-.13.825-.388.22-.258.33-.68.33-1.27 0-.604-.118-1.047-.355-1.329a1.115 1.115 0 0 0-.89-.422c-.342 0-.632.134-.869.403s-.355.666-.355 1.19z"/></svg>',horizontalLine:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 9h16v2H2z"/></svg>',html:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M17 0a2 2 0 0 1 2 2v7a1 1 0 0 1 1 1v5a1 1 0 0 1-.883.993l-.118.006L19 17a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2l-.001-1.001-.116-.006A1 1 0 0 1 0 15v-5a1 1 0 0 1 .999-1L1 2a2 2 0 0 1 2-2h14zm.499 15.999h-15L2.5 17a.5.5 0 0 0 .5.5h14a.5.5 0 0 0 .5-.5l-.001-1.001zm-3.478-6.013-.014.014H14v.007l-1.525 1.525-1.46-1.46-.015.013V10h-1v5h1v-3.53l1.428 1.43.048.043.131-.129L14 11.421V15h1v-5h-.965l-.014-.014zM2 10H1v5h1v-2h2v2h1v-5H4v2H2v-2zm7 0H6v1h1v4h1v-4h1v-1zm8 0h-1v5h3v-1h-2v-4zm0-8.5H3a.5.5 0 0 0-.5.5l-.001 6.999h15L17.5 2a.5.5 0 0 0-.5-.5zM10 7v1H4V7h6zm3-2v1H4V5h9zm-3-2v1H4V3h6z"/></svg>',indent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',outdent:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',table:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5v3h4v-3H3Zm0 4v3h4v-3H3Zm0 4v3h4v-3H3Zm5 3h4v-3H8v3Zm5 0h4v-3h-4v3Zm4-4v-3h-4v3h4Zm0-4v-3h-4v3h4Zm1.5 8A1.5 1.5 0 0 1 17 18H3a1.5 1.5 0 0 1-1.5-1.5V3c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13.5Zm-6.5-4v-3H8v3h4Zm0-4v-3H8v3h4Z"/></svg>'};var Ku=r(7801);Do()(Ku.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ku.A.locals;class Yu extends Po{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${b()}`;const t=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:t.to("for")},children:[{text:t.to("text")}]})}}class Qu extends Po{constructor(e,t){super(e);const n=e.t,i=new Yu;i.text=n("Help Contents. To close this dialog press ESC."),this.setTemplate({tag:"div",attributes:{class:["ck","ck-accessibility-help-dialog__content"],"aria-labelledby":i.id,role:"document",tabindex:-1},children:[me(document,"p",{},n("Below, you can find a list of keyboard shortcuts that can be used in the editor.")),...this._createCategories(Array.from(t.values())),i]})}focus(){this.element.focus()}_createCategories(e){return e.map((e=>{const t=[me(document,"h3",{},e.label),...Array.from(e.groups.values()).map((e=>this._createGroup(e))).flat()];return e.description&&t.splice(1,0,me(document,"p",{},e.description)),me(document,"section",{},t)}))}_createGroup(e){const t=e.keystrokes.sort(((e,t)=>e.label.localeCompare(t.label))).map((e=>this._createGroupRow(e))).flat(),n=[me(document,"dl",{},t)];return e.label&&n.unshift(me(document,"h4",{},e.label)),n}_createGroupRow(e){const t=this.locale.t,n=me(document,"dt"),i=me(document,"dd"),o=function(e){return"string"==typeof e?[[e]]:"string"==typeof e[0]?[e]:e}(e.keystroke),r=[];for(const s of o)r.push(s.map(Zu).join(""));return n.innerHTML=e.label,i.innerHTML=r.join(", ")+(e.mayRequireFn&&c.isMac?` ${t("(may require <kbd>Fn</kbd>)")}`:""),[n,i]}}function Zu(e){return Ei(e).split("+").map((e=>`<kbd>${e}</kbd>`)).join("+")}const Xu='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 6.628a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"/><path d="M8.5 9.125a.3.3 0 0 0-.253-.296L5.11 8.327a.75.75 0 1 1 .388-1.449l4.04.716c.267.072.624.08.893.009l4.066-.724a.75.75 0 1 1 .388 1.45l-3.132.5a.3.3 0 0 0-.253.296v1.357a.3.3 0 0 0 .018.102l1.615 4.438a.75.75 0 0 1-1.41.513l-1.35-3.71a.3.3 0 0 0-.281-.197h-.209a.3.3 0 0 0-.282.198l-1.35 3.711a.75.75 0 0 1-1.41-.513l1.64-4.509a.3.3 0 0 0 .019-.103V9.125Z"/><path clip-rule="evenodd" d="M10 18.5a8.5 8.5 0 1 1 0-17 8.5 8.5 0 0 1 0 17Zm0 1.5c5.523 0 10-4.477 10-10S15.523 0 10 0 0 4.477 0 10s4.477 10 10 10Z"/></svg>';var Ju=r(8527);Do()(Ju.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ju.A.locals;class ep extends Lo{constructor(){super(...arguments),this.contentView=null}static get requires(){return[Sh]}static get pluginName(){return"AccessibilityHelp"}init(){const e=this.editor,t=e.locale.t;e.ui.componentFactory.add("accessibilityHelp",(()=>{const e=this._createButton(ap);return e.set({tooltip:!0,withText:!1,label:t("Accessibility help")}),e})),e.ui.componentFactory.add("menuBar:accessibilityHelp",(()=>{const e=this._createButton(Tm);return e.label=t("Accessibility"),e})),e.keystrokes.set("Alt+0",((e,t)=>{this._showDialog(),t()})),this._setupRootLabels()}_createButton(e){const t=new e(this.editor.locale);return t.set({keystroke:"Alt+0",icon:Xu}),t.on("execute",(()=>this._showDialog())),t}_setupRootLabels(){const e=this.editor,t=e.editing.view,n=e.t;function i(e,t){const i=`${t.getAttribute("aria-label")}. ${n("Press %0 for help.",[Ei("Alt+0")])}`;e.setAttribute("aria-label",i,t)}e.ui.on("ready",(()=>{t.change((e=>{for(const n of t.document.roots)i(e,n)})),e.on("addRoot",((n,o)=>{const r=e.editing.view.document.getRoot(o.rootName);t.change((e=>i(e,r)))}),{priority:"low"})}))}_showDialog(){const e=this.editor,t=e.plugins.get("Dialog"),n=e.locale.t;this.contentView||(this.contentView=new Qu(e.locale,e.accessibility.keystrokeInfos)),t.show({id:"accessibilityHelp",className:"ck-accessibility-help-dialog",title:n("Accessibility help"),icon:Xu,hasCloseButton:!0,content:this.contentView})}}class tp extends so{constructor(e){super(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new ao({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=me(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&0==e.childElementCount&&e.remove()}}var np=r(7621);Do()(np.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),np.A.locals;const ip=class extends Po{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.set("isVisible",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon",e.if("isVisible","ck-hidden",(e=>!e)),"ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",(()=>{this._updateXMLContent(),this._colorFillPaths()})),this.on("change:fillColor",(()=>{this._colorFillPaths()}))}_updateXMLContent(){if(this.content){const e=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),t=e.getAttribute("viewBox");t&&(this.viewBox=t);for(const{name:n,value:i}of Array.from(e.attributes))ip.presentationalAttributeNames.includes(n)&&this.element.setAttribute(n,i);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach((e=>{e.style.fill=this.fillColor}))}};let op=ip;op.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];class rp extends Po{constructor(){super(),this.set({style:void 0,text:void 0,id:void 0});const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:e.to("style"),id:e.to("id")},children:[{text:e.to("text")}]})}}var sp=r(9715);Do()(sp.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),sp.A.locals;class ap extends Po{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new rp;super(e),this._focusDelayed=null;const n=this.bindTemplate,i=b();this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${i}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._setupLabelView(t),this.iconView=new op,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const o={tag:"button",attributes:{class:["ck","ck-button",n.to("class"),n.if("isEnabled","ck-disabled",(e=>!e)),n.if("isVisible","ck-hidden",(e=>!e)),n.to("isOn",(e=>e?"ck-on":"ck-off")),n.if("withText","ck-button_with-text"),n.if("withKeystroke","ck-button_with-keystroke")],role:n.to("role"),type:n.to("type",(e=>e||"button")),tabindex:n.to("tabindex"),"aria-checked":n.to("ariaChecked"),"aria-label":n.to("ariaLabel"),"aria-labelledby":n.to("ariaLabelledBy"),"aria-disabled":n.if("isEnabled",!0,(e=>!e)),"aria-pressed":n.to("isOn",(e=>!!this.isToggleable&&String(!!e))),"data-cke-tooltip-text":n.to("_tooltipString"),"data-cke-tooltip-position":n.to("tooltipPosition")},children:this.children,on:{click:n.to((e=>{this.isEnabled?this.fire("execute"):e.preventDefault()}))}};c.isSafari&&(this._focusDelayed||(this._focusDelayed=to((()=>this.focus()),0)),o.on.mousedown=n.to((()=>{this._focusDelayed()})),o.on.mouseup=n.to((()=>{this._focusDelayed.cancel()}))),this.setTemplate(o)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_setupLabelView(e){return e.bind("text","style","id").to(this,"label","labelStyle","ariaLabelledBy"),e}_createKeystrokeView(){const e=new Po;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",(e=>Ei(e)))}]}),e}_getTooltipString(e,t,n){return e?"string"==typeof e?e:(n&&(n=Ei(n)),e instanceof Function?e(t,n):`${t}${n?` (${n})`:""}`):""}}var lp=r(4391);Do()(lp.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),lp.A.locals;class cp extends ap{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new Po;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}class dp extends ap{constructor(e){super(e),this.buttonView=this,this._fileInputView=new up(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.on("execute",(()=>{this._fileInputView.open()})),this.extendTemplate({attributes:{class:"ck-file-dialog-button"}})}render(){super.render(),this.children.add(this._fileInputView)}}class up extends Po{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const t=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:t.to("acceptedType"),multiple:t.to("allowMultipleFiles")},on:{change:t.to((()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""}))}})}open(){this.element.click()}}const pp='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';var hp=r(25);Do()(hp.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),hp.A.locals;class gp extends Po{constructor(e,t){super(e);const n=this.bindTemplate;this.set("isCollapsed",!1),this.set("label",""),this.buttonView=this._createButtonView(),this.children=this.createCollection(),this.set("_collapsibleAriaLabelUid",void 0),t&&this.children.addMany(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-collapsible",n.if("isCollapsed","ck-collapsible_collapsed")]},children:[this.buttonView,{tag:"div",attributes:{class:["ck","ck-collapsible__children"],role:"region",hidden:n.if("isCollapsed","hidden"),"aria-labelledby":n.to("_collapsibleAriaLabelUid")},children:this.children}]})}render(){super.render(),this._collapsibleAriaLabelUid=this.buttonView.labelView.element.id}focus(){this.buttonView.focus()}_createButtonView(){const e=new ap(this.locale),t=e.bindTemplate;return e.set({withText:!0,icon:pp}),e.extendTemplate({attributes:{"aria-expanded":t.to("isOn",(e=>String(e)))}}),e.bind("label").to(this),e.bind("isOn").to(this,"isCollapsed",(e=>!e)),e.on("execute",(()=>{this.isCollapsed=!this.isCollapsed})),e}}var mp=r(7317);Do()(mp.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),mp.A.locals,r(6931),r(9047);var fp=r(4962);Do()(fp.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),fp.A.locals;class bp extends Po{constructor(e,t){super(e);const n=`ck-labeled-field-view-${b()}`,i=`ck-labeled-field-view-status-${b()}`;this.fieldView=t(this,n,i),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(n),this.statusView=this._createStatusView(i),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",((e,t)=>e||t));const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",o.to("class"),o.if("isEnabled","ck-disabled",(e=>!e)),o.if("isEmpty","ck-labeled-field-view_empty"),o.if("isFocused","ck-labeled-field-view_focused"),o.if("placeholder","ck-labeled-field-view_placeholder"),o.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const t=new Yu(this.locale);return t.for=e,t.bind("text").to(this,"label"),t}_createStatusView(e){const t=new Po(this.locale),n=this.bindTemplate;return t.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",n.if("errorText","ck-labeled-field-view__status_error"),n.if("_statusText","ck-hidden",(e=>!e))],id:e,role:n.if("errorText","alert")},children:[{text:n.to("_statusText")}]}),t}focus(e){this.fieldView.focus(e)}}class yp extends Po{constructor(e){var t;super(e),t=this,this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("tabIndex",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.set("ariaLabel",void 0),this.focusTracker=new Xi,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0);const n=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",n.if("isFocused","ck-input_focused"),n.if("isEmpty","ck-input-text_empty"),n.if("hasError","ck-error")],id:n.to("id"),placeholder:n.to("placeholder"),tabindex:n.to("tabIndex"),readonly:n.to("isReadOnly"),"aria-invalid":n.if("hasError",!0),"aria-describedby":n.to("ariaDescribedById"),"aria-label":n.to("ariaLabel")},on:{input:n.to((function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];t.fire("input",...n),t._updateIsEmpty()})),change:n.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",((e,t,n)=>{this._setDomElementValue(n),this._updateIsEmpty()}))}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}reset(){this.value=this.element.value="",this._updateIsEmpty()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||0===e?e:""}}var wp=r(253);Do()(wp.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),wp.A.locals;class vp extends yp{constructor(e){super(e),this.set("inputMode","text");const t=this.bindTemplate;this.extendTemplate({attributes:{inputmode:t.to("inputMode")}})}}class kp extends vp{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var _p=r(1671);Do()(_p.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),_p.A.locals;class xp extends Po{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",t.to("position",(e=>`ck-dropdown__panel_${e}`)),t.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:t.to((e=>{"input"!==e.target.tagName.toLocaleLowerCase()&&e.preventDefault()}))}})}focus(){if(this.children.length){const e=this.children.first;"function"==typeof e.focus?e.focus():k("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;"function"==typeof e.focusLast?e.focusLast():e.focus()}}}var Ap=r(8149);Do()(Ap.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ap.A.locals;const Cp=class extends Po{constructor(e,t,n){super(e);const i=this.bindTemplate;this.buttonView=t,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Ji,this.focusTracker=new Xi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",(e=>!e))],id:i.to("id"),"aria-describedby":i.to("ariaDescribedById")},children:[t,n]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":i.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",(()=>{this.isOpen=!this.isOpen})),this.on("change:isOpen",((e,t,n)=>{if(n)if("auto"===this.panelPosition){const e=Cp._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=e?e.name:this._panelPositions[0].name}else this.panelView.position=this.panelPosition})),this.keystrokes.listenTo(this.element);const e=(e,t)=>{this.isOpen&&(this.isOpen=!1,t())};this.keystrokes.set("arrowdown",((e,t)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,t())})),this.keystrokes.set("arrowright",((e,t)=>{this.isOpen&&t()})),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:t,southEast:n,southWest:i,northEast:o,northWest:r,southMiddleEast:s,southMiddleWest:a,northMiddleEast:l,northMiddleWest:c}=Cp.defaultPanelPositions;return"rtl"!==this.locale.uiLanguageDirection?[n,i,s,a,e,o,r,l,c,t]:[i,n,a,s,e,r,o,c,l,t]}};let Sp=Cp;Sp.defaultPanelPositions={south:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/2,name:"s"}),southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),southMiddleEast:(e,t)=>({top:e.bottom,left:e.left-(t.width-e.width)/4,name:"sme"}),southMiddleWest:(e,t)=>({top:e.bottom,left:e.left-3*(t.width-e.width)/4,name:"smw"}),north:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/2,name:"n"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),northMiddleEast:(e,t)=>({top:e.top-t.height,left:e.left-(t.width-e.width)/4,name:"nme"}),northMiddleWest:(e,t)=>({top:e.top-t.height,left:e.left-3*(t.width-e.width)/4,name:"nmw"})},Sp._getOptimalPosition=ci;class Ip extends ap{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(e=>String(e)))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new op;return e.content=pp,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class Tp extends(D()){constructor(e){if(super(),this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const t in e.actions){let n=e.actions[t];"string"==typeof n&&(n=[n]);for(const i of n)e.keystrokeHandler.set(i,((e,n)=>{this[t](),n()}))}this.on("forwardCycle",(()=>this.focusFirst()),{priority:"low"}),this.on("backwardCycle",(()=>this.focusLast()),{priority:"low"})}get first(){return this.focusables.find(Ep)||null}get last(){return this.focusables.filter(Ep).slice(-1)[0]||null}get next(){return this._getDomFocusableItem(1)}get previous(){return this._getDomFocusableItem(-1)}get current(){let e=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find(((t,n)=>{const i=t.element===this.focusTracker.focusedElement;return i&&(e=n),i})),e)}focusFirst(){this._focus(this.first,1)}focusLast(){this._focus(this.last,-1)}focusNext(){const e=this.next;e&&this.focusables.getIndex(e)===this.current||e===this.first?this.fire("forwardCycle"):this._focus(e,1)}focusPrevious(){const e=this.previous;e&&this.focusables.getIndex(e)===this.current||e===this.last?this.fire("backwardCycle"):this._focus(e,-1)}_focus(e,t){e&&this.focusTracker.focusedElement!==e.element&&e.focus(t)}_getDomFocusableItem(e){const t=this.focusables.length;if(!t)return null;const n=this.current;if(null===n)return this[1===e?"first":"last"];let i=this.focusables.get(n),o=(n+t+e)%t;do{const n=this.focusables.get(o);if(Ep(n)){i=n;break}o=(o+t+e)%t}while(o!==n);return i}}function Ep(e){return Dp(e)&&ai(e.element)}function Dp(e){return!(!("focus"in e)||"function"!=typeof e.focus)}class Mp extends Po{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class Pp extends Po{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}var Rp=Object.defineProperty,Bp=Object.getOwnPropertySymbols,jp=Object.prototype.hasOwnProperty,Lp=Object.prototype.propertyIsEnumerable,zp=(e,t,n)=>t in e?Rp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Op=(e,t)=>{for(var n in t||(t={}))jp.call(t,n)&&zp(e,n,t[n]);if(Bp)for(var n of Bp(t))Lp.call(t,n)&&zp(e,n,t[n]);return e};function Np(e){if(Array.isArray(e))return{items:e,removeItems:[]};const t={items:[],removeItems:[]};return e?Op(Op({},t),e):t}var Fp=r(9677);Do()(Fp.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Fp.A.locals;const Vp={alignLeft:Gu.alignLeft,bold:Gu.bold,importExport:Gu.importExport,paragraph:Gu.paragraph,plus:Gu.plus,text:Gu.text,threeVerticalDots:Gu.threeVerticalDots,pilcrow:Gu.pilcrow,dragIndicator:Gu.dragIndicator};class Hp extends Po{constructor(e,t){super(e);const n=this.bindTemplate,i=this.t;this.options=t||{},this.set("ariaLabel",i("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new Xi,this.keystrokes=new Ji,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new Wp(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const o="rtl"===e.uiLanguageDirection;this._focusCycler=new Tp({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[o?"arrowright":"arrowleft","arrowup"],focusNext:[o?"arrowleft":"arrowright","arrowdown"]}});const r=["ck","ck-toolbar",n.to("class"),n.if("isCompact","ck-toolbar_compact")];var s;this.options.shouldGroupWhenFull&&this.options.isFloating&&r.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:r,role:"toolbar","aria-label":n.to("ariaLabel"),style:{maxWidth:n.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(s=this,s.bindTemplate.to((e=>{e.target===s.element&&e.preventDefault()})))}}),this._behavior=this.options.shouldGroupWhenFull?new qp(this):new Up(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",((e,t)=>{this.focusTracker.add(t.element)})),this.items.on("remove",((e,t)=>{this.focusTracker.remove(t.element)})),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,t,n){this.items.addMany(this._buildItemsFromConfig(e,t,n))}_buildItemsFromConfig(e,t,n){const i=Np(e),o=n||i.removeItems;return this._cleanItemsConfiguration(i.items,t,o).map((e=>O(e)?this._createNestedToolbarDropdown(e,t,o):"|"===e?new Mp:"-"===e?new Pp:t.create(e))).filter((e=>!!e))}_cleanItemsConfiguration(e,t,n){const i=e.filter(((e,i,o)=>"|"===e||-1===n.indexOf(e)&&("-"===e?!this.options.shouldGroupWhenFull||(k("toolbarview-line-break-ignored-when-grouping-items",o),!1):!(!O(e)&&!t.has(e))||(k("toolbarview-item-unavailable",{item:e}),!1))));return this._cleanSeparatorsAndLineBreaks(i)}_cleanSeparatorsAndLineBreaks(e){const t=e=>"-"!==e&&"|"!==e,n=e.length,i=e.findIndex(t);if(-1===i)return[];const o=n-e.slice().reverse().findIndex(t);return e.slice(i,o).filter(((e,n,i)=>!!t(e)||!(n>0&&i[n-1]===e)))}_createNestedToolbarDropdown(e,t,n){let{label:i,icon:o,items:r,tooltip:s=!0,withText:a=!1}=e;if(r=this._cleanItemsConfiguration(r,t,n),!r.length)return null;const l=th(this.locale);return i||k("toolbarview-nested-toolbar-dropdown-missing-label",e),l.class="ck-toolbar__nested-toolbar-dropdown",l.buttonView.set({label:i,tooltip:s,withText:!!a}),!1!==o?l.buttonView.icon=Vp[o]||o||Gu.threeVerticalDots:l.buttonView.withText=!0,nh(l,(()=>l.toolbarView._buildItemsFromConfig(r,t,n))),l}}class Wp extends Po{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class Up{constructor(e){const t=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using((e=>e)),e.focusables.bindTo(e.items).using((e=>Dp(e)?e:null)),e.extendTemplate({attributes:{class:[t.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class qp{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using((e=>e)),this.ungroupedItems.on("change",this._updateFocusCyclableItems.bind(this)),e.children.on("change",this._updateFocusCyclableItems.bind(this)),e.items.on("change",((e,t)=>{const n=t.index,i=Array.from(t.added);for(const o of t.removed)n>=this.ungroupedItems.length?this.groupedItems.remove(o):this.ungroupedItems.remove(o);for(let o=n;o<n+i.length;o++){const e=i[o-n];o>this.ungroupedItems.length?this.groupedItems.add(e,o-this.ungroupedItems.length):this.ungroupedItems.add(e,o)}this._updateGrouping()})),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!ai(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let t;for(;this._areItemsOverflowing;)this._groupLastItem(),t=!0;if(!t&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,t=this.viewLocale.uiLanguageDirection,n=new Yn(e.lastChild),i=new Yn(e);if(!this.cachedPadding){const n=o.window.getComputedStyle(e),i="ltr"===t?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(n[i])}return"ltr"===t?n.right>i.right-this.cachedPadding:n.left<i.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new ti(this.viewElement,(t=>{e&&e===t.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=t.contentRect.width)})),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",(()=>{this._updateGrouping()}))}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new Mp),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,t=e.t,n=th(e);return n.class="ck-toolbar__grouped-dropdown",n.panelPosition="ltr"===e.uiLanguageDirection?"sw":"se",nh(n,this.groupedItems),n.buttonView.set({label:t("Show more items"),tooltip:!0,tooltipPosition:"rtl"===e.uiLanguageDirection?"se":"sw",icon:Gu.threeVerticalDots}),n}_updateFocusCyclableItems(){this.viewFocusables.clear(),this.ungroupedItems.map((e=>{Dp(e)&&this.viewFocusables.add(e)})),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}class $p extends Po{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",t.if("isVisible","ck-hidden",(e=>!e))],role:"presentation"},children:this.children})}focus(){this.children.first&&this.children.first.focus()}}class Gp extends Po{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}class Kp extends Po{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Yu;super(e);const n=this.bindTemplate,i=new Qp(e);this.set({label:"",isVisible:!0}),this.labelView=t,this.labelView.bind("text").to(this,"label"),this.children=this.createCollection(),this.children.addMany([this.labelView,i]),i.set({role:"group",ariaLabelledBy:t.id}),i.focusTracker.destroy(),i.keystrokes.destroy(),this.items=i.items,this.setTemplate({tag:"li",attributes:{role:"presentation",class:["ck","ck-list__group",n.if("isVisible","ck-hidden",(e=>!e))]},children:this.children})}focus(){if(this.items){const e=this.items.find((e=>!(e instanceof Gp)));e&&e.focus()}}}var Yp=r(5199);Do()(Yp.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Yp.A.locals;class Qp extends Po{constructor(e){super(e),this._listItemGroupToChangeListeners=new WeakMap;const t=this.bindTemplate;this.focusables=new so,this.items=this.createCollection(),this.focusTracker=new Xi,this.keystrokes=new Ji,this._focusCycler=new Tp({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:t.to("role"),"aria-label":t.to("ariaLabel"),"aria-labelledby":t.to("ariaLabelledBy")},children:this.items})}render(){super.render();for(const e of this.items)e instanceof Kp?this._registerFocusableItemsGroup(e):e instanceof $p&&this._registerFocusableListItem(e);this.items.on("change",((e,t)=>{for(const n of t.removed)n instanceof Kp?this._deregisterFocusableItemsGroup(n):n instanceof $p&&this._deregisterFocusableListItem(n);for(const n of Array.from(t.added).reverse())n instanceof Kp?this._registerFocusableItemsGroup(n,t.index):this._registerFocusableListItem(n,t.index)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}_registerFocusableListItem(e,t){this.focusTracker.add(e.element),this.focusables.add(e,t)}_deregisterFocusableListItem(e){this.focusTracker.remove(e.element),this.focusables.remove(e)}_getOnGroupItemsChangeCallback(e){return(t,n)=>{for(const e of n.removed)this._deregisterFocusableListItem(e);for(const i of Array.from(n.added).reverse())this._registerFocusableListItem(i,this.items.getIndex(e)+n.index)}}_registerFocusableItemsGroup(e,t){Array.from(e.items).forEach(((e,n)=>{const i=void 0!==t?t+n:void 0;this._registerFocusableListItem(e,i)}));const n=this._getOnGroupItemsChangeCallback(e);this._listItemGroupToChangeListeners.set(e,n),e.items.on("change",n)}_deregisterFocusableItemsGroup(e){for(const t of e.items)this._deregisterFocusableListItem(t);e.items.off("change",this._listItemGroupToChangeListeners.get(e)),this._listItemGroupToChangeListeners.delete(e)}}var Zp=r(1792);Do()(Zp.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Zp.A.locals;class Xp extends Po{constructor(e,t){super(e);const n=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(t),this.arrowView=this._createArrowView(),this.keystrokes=new Ji,this.focusTracker=new Xi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",n.to("class"),n.if("isVisible","ck-hidden",(e=>!e)),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",((e,t)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),t())})),this.keystrokes.set("arrowleft",((e,t)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),t())}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(e){const t=e||new ap;return e||t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}_createArrowView(){const e=new ap,t=e.bindTemplate;return e.icon=pp,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":t.to("isOn"),"aria-haspopup":!0,"aria-expanded":t.to("isOn",(e=>String(e)))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var Jp=r(1666);Do()(Jp.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Jp.A.locals;var eh=r(3629);function th(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ip;const n="function"==typeof t?new t(e):t,i=new xp(e),r=new Sp(e,n,i);return n.bind("isEnabled").to(r),n instanceof Xp?n.arrowView.bind("isOn").to(r,"isOpen"):n.bind("isOn").to(r,"isOpen"),function(e){(function(e){e.on("render",(()=>{Ro({emitter:e,activator:()=>e.isOpen,callback:()=>{e.isOpen=!1},contextElements:()=>[e.element,...e.focusTracker._elements]})}))})(e),function(e){e.on("execute",(t=>{t.source instanceof cp||(e.isOpen=!1)}))}(e),function(e){e.focusTracker.on("change:isFocused",((t,n,i)=>{e.isOpen&&!i&&(e.isOpen=!1)}))}(e),function(e){e.keystrokes.set("arrowdown",((t,n)=>{e.isOpen&&(e.panelView.focus(),n())})),e.keystrokes.set("arrowup",((t,n)=>{e.isOpen&&(e.panelView.focusLast(),n())}))}(e),function(e){e.on("change:isOpen",((t,n,i)=>{if(i)return;const r=e.panelView.element;r&&r.contains(o.document.activeElement)&&e.buttonView.focus()}))}(e),function(e){e.on("change:isOpen",((t,n,i)=>{i&&e.panelView.focus()}),{priority:"low"})}(e)}(r),r}function nh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),e.isOpen?ih(e,t,n):e.once("change:isOpen",(()=>ih(e,t,n)),{priority:"highest"}),n.enableActiveItemFocusOnDropdownOpen&&sh(e,(()=>e.toolbarView.items.find((e=>e.isOn))))}function ih(e,t,n){const i=e.locale,o=i.t,r=e.toolbarView=new Hp(i),s="function"==typeof t?t():t;r.ariaLabel=n.ariaLabel||o("Dropdown toolbar"),n.maxWidth&&(r.maxWidth=n.maxWidth),n.class&&(r.class=n.class),n.isCompact&&(r.isCompact=n.isCompact),n.isVertical&&(r.isVertical=!0),s instanceof so?r.items.bindTo(s).using((e=>e)):r.items.addMany(s),e.panelView.children.add(r),r.items.delegate("execute").to(e)}function oh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.isOpen?rh(e,t,n):e.once("change:isOpen",(()=>rh(e,t,n)),{priority:"highest"}),sh(e,(()=>e.listView.items.find((e=>e instanceof $p&&e.children.first.isOn))))}function rh(e,t,n){const i=e.locale,o=e.listView=new Qp(i),r="function"==typeof t?t():t;o.ariaLabel=n.ariaLabel,o.role=n.role,ah(e,o.items,r,i),e.panelView.children.add(o),o.items.delegate("execute").to(e)}function sh(e,t){e.on("change:isOpen",(()=>{if(!e.isOpen)return;const n=t();n&&("function"==typeof n.focus?n.focus():k("ui-dropdown-focus-child-on-open-child-missing-focus",{view:n}))}),{priority:y.low-10})}function ah(e,t,n,i){t.bindTo(n).using((t=>{if("separator"===t.type)return new Gp(i);if("group"===t.type){const n=new Kp(i);return n.set({label:t.label}),ah(e,n.items,t.items,i),n.items.delegate("execute").to(e),n}if("button"===t.type||"switchbutton"===t.type){const e=new $p(i);let n;return"button"===t.type?(n=new ap(i),n.bind("ariaChecked").to(n,"isOn")):n=new cp(i),n.bind(...Object.keys(t.model)).to(t.model),n.delegate("execute").to(e),e.children.add(n),e}return null}))}Do()(eh.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),eh.A.locals;const lh=(e,t,n)=>{const i=new kp(e.locale);return i.set({id:t,ariaDescribedById:n}),i.bind("isReadOnly").to(e,"isEnabled",(e=>!e)),i.bind("hasError").to(e,"errorText",(e=>!!e)),i.on("input",(()=>{e.errorText=null})),e.bind("isEmpty","isFocused","placeholder").to(i),i};Math.PI,Symbol("same"),Symbol("color"),Symbol("hsva"),Symbol("update"),Symbol("parts"),Symbol("css"),Symbol("sliders"),HTMLElement;var ch=r(1905);Do()(ch.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ch.A.locals,q(Qi);const{eraser:dh,colorPalette:uh}=Gu;Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var ph=r(6309);Do()(ph.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ph.A.locals;class hh{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,t){this._components.set(gh(e),{callback:t,originalName:e})}create(e){if(!this.has(e))throw new v("componentfactory-item-missing",this,{name:e});return this._components.get(gh(e)).callback(this.editor.locale)}has(e){return this._components.has(gh(e))}}function gh(e){return String(e).toLowerCase()}var mh=r(7913);Do()(mh.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),mh.A.locals;class fh extends Po{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e);const n=this.bindTemplate;this.set("label",t.label||""),this.set("class",t.class||null),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-form__header",n.to("class")]},children:this.children}),t.icon&&(this.iconView=new op,this.iconView.content=t.icon,this.children.add(this.iconView));const i=new Po(e);i.setTemplate({tag:"h2",attributes:{class:["ck","ck-form__header__label"],role:"presentation"},children:[{text:n.to("label")}]}),this.children.add(i)}}var bh=r(9822);Do()(bh.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),bh.A.locals;class yh extends Po{constructor(e){super(e),this.children=this.createCollection(),this.keystrokes=new Ji,this._focusTracker=new Xi,this._focusables=new so,this.focusCycler=new Tp({focusables:this._focusables,focusTracker:this._focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__actions"]},children:this.children})}render(){super.render(),this.keystrokes.listenTo(this.element)}setButtons(e){for(const t of e){const e=new ap(this.locale);let n;for(n in e.on("execute",(()=>t.onExecute())),t.onCreate&&t.onCreate(e),t)"onExecute"!=n&&"onCreate"!=n&&e.set(n,t[n]);this.children.add(e)}this._updateFocusCyclableItems()}focus(e){-1===e?this.focusCycler.focusLast():this.focusCycler.focusFirst()}_updateFocusCyclableItems(){Array.from(this.children).forEach((e=>{this._focusables.add(e),this._focusTracker.add(e.element)}))}}class wh extends Po{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog__content"]},children:this.children})}reset(){for(;this.children.length;)this.children.remove(0)}}var vh=r(9819);Do()(vh.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),vh.A.locals;const kh="screen-center",_h="editor-center",xh=ii("px"),Ah=class extends(function(e){return class extends e{constructor(){super(...arguments),this._onDragBound=this._onDrag.bind(this),this._onDragEndBound=this._onDragEnd.bind(this),this._lastDraggingCoordinates={x:0,y:0},this.on("render",(()=>{this._attachListeners()})),this.set("isDragging",!1)}_attachListeners(){this.listenTo(this.element,"mousedown",this._onDragStart.bind(this)),this.listenTo(this.element,"touchstart",this._onDragStart.bind(this))}_attachDragListeners(){this.listenTo(o.document,"mouseup",this._onDragEndBound),this.listenTo(o.document,"touchend",this._onDragEndBound),this.listenTo(o.document,"mousemove",this._onDragBound),this.listenTo(o.document,"touchmove",this._onDragBound)}_detachDragListeners(){this.stopListening(o.document,"mouseup",this._onDragEndBound),this.stopListening(o.document,"touchend",this._onDragEndBound),this.stopListening(o.document,"mousemove",this._onDragBound),this.stopListening(o.document,"touchmove",this._onDragBound)}_onDragStart(e,t){if(!this._isHandleElementPressed(t))return;this._attachDragListeners();let n=0,i=0;t instanceof MouseEvent?(n=t.clientX,i=t.clientY):(n=t.touches[0].clientX,i=t.touches[0].clientY),this._lastDraggingCoordinates={x:n,y:i},this.isDragging=!0}_onDrag(e,t){if(!this.isDragging)return void this._detachDragListeners();let n=0,i=0;t instanceof MouseEvent?(n=t.clientX,i=t.clientY):(n=t.touches[0].clientX,i=t.touches[0].clientY),t.preventDefault(),this.fire("drag",{deltaX:Math.round(n-this._lastDraggingCoordinates.x),deltaY:Math.round(i-this._lastDraggingCoordinates.y)}),this._lastDraggingCoordinates={x:n,y:i}}_onDragEnd(){this._detachDragListeners(),this.isDragging=!1}_isHandleElementPressed(e){return!!this.dragHandleElement&&(this.dragHandleElement===e.target||e.target instanceof HTMLElement&&this.dragHandleElement.contains(e.target))}}}(Po)){constructor(e,t){let{getCurrentDomRoot:n,getViewportOffset:i}=t;super(e),this.wasMoved=!1;const o=this.bindTemplate,r=e.t;this.set("className",""),this.set("ariaLabel",r("Editor dialog")),this.set("isModal",!1),this.set("position",kh),this.set("_isVisible",!1),this.set("_isTransparent",!1),this.set("_top",0),this.set("_left",0),this._getCurrentDomRoot=n,this._getViewportOffset=i,this.decorate("moveTo"),this.parts=this.createCollection(),this.keystrokes=new Ji,this.focusTracker=new Xi,this._focusables=new so,this._focusCycler=new Tp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-dialog-overlay",o.if("isModal","ck-dialog-overlay__transparent",(e=>!e)),o.if("_isVisible","ck-hidden",(e=>!e))],tabindex:"-1"},children:[{tag:"div",attributes:{tabindex:"-1",class:["ck","ck-dialog",o.to("className")],role:"dialog","aria-label":o.to("ariaLabel"),style:{top:o.to("_top",(e=>xh(e))),left:o.to("_left",(e=>xh(e))),visibility:o.if("_isTransparent","hidden")}},children:this.parts}]})}render(){super.render(),this.keystrokes.set("Esc",((e,t)=>{this.fire("close",{source:"escKeyPress"}),t()})),this.on("drag",((e,t)=>{let{deltaX:n,deltaY:i}=t;this.wasMoved=!0,this.moveBy(n,i)})),this.listenTo(o.window,"resize",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.listenTo(o.document,"scroll",(()=>{this._isVisible&&!this.wasMoved&&this.updatePosition()})),this.on("change:_isVisible",((e,t,n)=>{n&&(this._isTransparent=!0,setTimeout((()=>{this.updatePosition(),this._isTransparent=!1,this.focus()}),10))})),this.keystrokes.listenTo(this.element)}get dragHandleElement(){return this.headerView?this.headerView.element:null}setupParts(e){let{icon:t,title:n,hasCloseButton:i=!0,content:o,actionButtons:r}=e;n&&(this.headerView=new fh(this.locale,{icon:t}),i&&(this.closeButtonView=this._createCloseButton(),this.headerView.children.add(this.closeButtonView)),this.headerView.label=n,this.ariaLabel=n,this.parts.add(this.headerView,0)),o&&(o instanceof Po&&(o=[o]),this.contentView=new wh(this.locale),this.contentView.children.addMany(o),this.parts.add(this.contentView)),r&&(this.actionsView=new yh(this.locale),this.actionsView.setButtons(r),this.parts.add(this.actionsView)),this._updateFocusCyclableItems()}focus(){this._focusCycler.focusFirst()}moveTo(e,t){const n=this._getViewportRect(),i=this._getDialogRect();e+i.width>n.right&&(e=n.right-i.width),e<n.left&&(e=n.left),t<n.top&&(t=n.top),this._moveTo(e,t)}_moveTo(e,t){this._left=e,this._top=t}moveBy(e,t){this.moveTo(this._left+e,this._top+t)}_moveOffScreen(){this._moveTo(-9999,-9999)}updatePosition(){if(!this.element||!this.element.parentNode)return;const e=this._getViewportRect();let t,n=this.position;this._getCurrentDomRoot()?t=this._getVisibleDomRootRect(e):n=kh;const i=Ah.defaultOffset,o=this._getDialogRect();switch(n){case"editor-top-side":if(t){const e="ltr"===this.locale.contentLanguageDirection?t.right-o.width-i:t.left+i;this.moveTo(e,t.top+i)}else this._moveOffScreen();break;case _h:t?this.moveTo(Math.round(t.left+t.width/2-o.width/2),Math.round(t.top+t.height/2-o.height/2)):this._moveOffScreen();break;case kh:this.moveTo(Math.round((e.width-o.width)/2),Math.round((e.height-o.height)/2));break;case"editor-top-center":t?this.moveTo(Math.round(t.left+t.width/2-o.width/2),t.top+i):this._moveOffScreen();break;case"editor-bottom-center":t?this.moveTo(Math.round(t.left+t.width/2-o.width/2),t.bottom-o.height-i):this._moveOffScreen();break;case"editor-above-center":t?this.moveTo(Math.round(t.left+t.width/2-o.width/2),t.top-o.height-i):this._moveOffScreen();break;case"editor-below-center":t?this.moveTo(Math.round(t.left+t.width/2-o.width/2),t.bottom+i):this._moveOffScreen()}}_getVisibleDomRootRect(e){let t=new Yn(this._getCurrentDomRoot()).getVisible();return t?(t=e.getIntersection(t),t||null):null}_getDialogRect(){return new Yn(this.element.firstElementChild)}_getViewportRect(){return function(e){e=Object.assign({top:0,bottom:0,left:0,right:0},e);const t=new Yn(o.window);return t.top+=e.top,t.height-=e.top,t.bottom-=e.bottom,t.height-=e.bottom,t.left+=e.left,t.right-=e.right,t.width-=e.left+e.right,t}(this._getViewportOffset())}_updateFocusCyclableItems(){const e=[];if(this.contentView)for(const t of this.contentView.children)Dp(t)&&e.push(t);this.actionsView&&e.push(this.actionsView),this.closeButtonView&&e.push(this.closeButtonView),e.forEach((e=>{var t;this._focusables.add(e),this.focusTracker.add(e.element),Dp(t=e)&&"focusCycler"in t&&t.focusCycler instanceof Tp&&(this.listenTo(e.focusCycler,"forwardCycle",(e=>{this._focusCycler.focusNext(),this._focusCycler.next!==this._focusCycler.focusables.get(this._focusCycler.current)&&e.stop()})),this.listenTo(e.focusCycler,"backwardCycle",(e=>{this._focusCycler.focusPrevious(),this._focusCycler.previous!==this._focusCycler.focusables.get(this._focusCycler.current)&&e.stop()})))}))}_createCloseButton(){const e=new ap(this.locale),t=this.locale.t;return e.set({label:t("Close"),tooltip:!0,icon:Gu.cancel}),e.on("execute",(()=>this.fire("close",{source:"closeButton"}))),e}};let Ch=Ah;Ch.defaultOffset=15;class Sh extends Lo{constructor(e){super(e);const t=e.t;this._initShowHideListeners(),this._initFocusToggler(),this._initMultiRootIntegration(),this.set("id",null),e.accessibility.addKeystrokeInfos({categoryId:"navigation",keystrokes:[{label:t("Move focus in and out of an active dialog window"),keystroke:"Ctrl+F6",mayRequireFn:!0}]})}static get pluginName(){return"Dialog"}_initShowHideListeners(){this.on("show",((e,t)=>{this._show(t)})),this.on("show",((e,t)=>{t.onShow&&t.onShow(this)}),{priority:"low"}),this.on("hide",(()=>{Sh._visibleDialogPlugin&&Sh._visibleDialogPlugin._hide()})),this.on("hide",(()=>{this._onHide&&(this._onHide(this),this._onHide=void 0)}),{priority:"low"})}_initFocusToggler(){const e=this.editor;e.keystrokes.set("Ctrl+F6",((t,n)=>{this.isOpen&&!this.view.isModal&&(this.view.focusTracker.isFocused?e.editing.view.focus():this.view.focus(),n())}))}_initMultiRootIntegration(){const e=this.editor.model;e.document.on("change:data",(()=>{if(!this.view)return;const t=e.document.differ.getChangedRoots();for(const e of t)e.state&&this.view.updatePosition()}))}show(e){this.hide(),this.fire(`show:${e.id}`,e)}_show(e){let{id:t,icon:n,title:i,hasCloseButton:o=!0,content:r,actionButtons:s,className:a,isModal:l,position:c,onHide:d}=e;const u=this.editor;this.view=new Ch(u.locale,{getCurrentDomRoot:()=>u.editing.view.getDomRoot(u.model.document.selection.anchor.root.rootName),getViewportOffset:()=>u.ui.viewportOffset});const p=this.view;p.on("close",(()=>{this.hide()})),u.ui.view.body.add(p),u.ui.focusTracker.add(p.element),u.keystrokes.listenTo(p.element),c||(c=l?kh:_h),p.set({position:c,_isVisible:!0,className:a,isModal:l}),p.setupParts({icon:n,title:i,hasCloseButton:o,content:r,actionButtons:s}),this.id=t,d&&(this._onHide=d),this.isOpen=!0,Sh._visibleDialogPlugin=this}hide(){Sh._visibleDialogPlugin&&Sh._visibleDialogPlugin.fire(`hide:${Sh._visibleDialogPlugin.id}`)}_hide(){if(!this.view)return;const e=this.editor,t=this.view;t.contentView&&t.contentView.reset(),e.ui.view.body.remove(t),e.ui.focusTracker.remove(t.element),e.keystrokes.stopListening(t.element),t.destroy(),e.editing.view.focus(),this.id=null,this.isOpen=!1,Sh._visibleDialogPlugin=null}}var Ih=r(3710);Do()(Ih.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ih.A.locals;var Th=Object.defineProperty,Eh=Object.getOwnPropertySymbols,Dh=Object.prototype.hasOwnProperty,Mh=Object.prototype.propertyIsEnumerable,Ph=(e,t,n)=>t in e?Th(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rh=(e,t)=>{for(var n in t||(t={}))Dh.call(t,n)&&Ph(e,n,t[n]);if(Eh)for(var n of Eh(t))Mh.call(t,n)&&Ph(e,n,t[n]);return e};const Bh=ii("px"),jh=o.document.body,Lh={top:-99999,left:-99999,name:"arrowless",config:{withArrow:!1}},zh=class extends Po{constructor(e){super(e);const t=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",t.to("position",(e=>`ck-balloon-panel_${e}`)),t.if("isVisible","ck-balloon-panel_visible"),t.if("withArrow","ck-balloon-panel_with-arrow"),t.to("class")],style:{top:t.to("top",Bh),left:t.to("left",Bh)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const t=zh.defaultPositions,n=Object.assign({},{element:this.element,positions:[t.southArrowNorth,t.southArrowNorthMiddleWest,t.southArrowNorthMiddleEast,t.southArrowNorthWest,t.southArrowNorthEast,t.northArrowSouth,t.northArrowSouthMiddleWest,t.northArrowSouthMiddleEast,t.northArrowSouthWest,t.northArrowSouthEast,t.viewportStickyNorth],limiter:jh,fitInViewport:!0},e),i=zh._getOptimalPosition(n)||Lh,o=parseInt(i.left),r=parseInt(i.top),s=i.name,a=i.config||{},{withArrow:l=!0}=a;this.top=r,this.left=o,this.position=s,this.withArrow=l}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const t=Nh(e.target),n=e.limiter?Nh(e.limiter):jh;this.listenTo(o.document,"scroll",((i,o)=>{const r=o.target,s=t&&r.contains(t),a=n&&r.contains(n);!s&&!a&&t&&n||this.attachTo(e)}),{useCapture:!0}),this.listenTo(o.window,"resize",(()=>{this.attachTo(e)}))}_stopPinning(){this.stopListening(o.document,"scroll"),this.stopListening(o.window,"resize")}};let Oh=zh;function Nh(e){return Bn(e)?e:$n(e)?e.commonAncestorContainer:"function"==typeof e?Nh(e()):null}function Fh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{sideOffset:t=Oh.arrowSideOffset,heightOffset:n=Oh.arrowHeightOffset,stickyVerticalOffset:i=Oh.stickyVerticalOffset,config:o}=e;return{northWestArrowSouthWest:(e,n)=>Rh({top:r(e,n),left:e.left-t,name:"arrow_sw"},o&&{config:o}),northWestArrowSouthMiddleWest:(e,n)=>Rh({top:r(e,n),left:e.left-.25*n.width-t,name:"arrow_smw"},o&&{config:o}),northWestArrowSouth:(e,t)=>Rh({top:r(e,t),left:e.left-t.width/2,name:"arrow_s"},o&&{config:o}),northWestArrowSouthMiddleEast:(e,n)=>Rh({top:r(e,n),left:e.left-.75*n.width+t,name:"arrow_sme"},o&&{config:o}),northWestArrowSouthEast:(e,n)=>Rh({top:r(e,n),left:e.left-n.width+t,name:"arrow_se"},o&&{config:o}),northArrowSouthWest:(e,n)=>Rh({top:r(e,n),left:e.left+e.width/2-t,name:"arrow_sw"},o&&{config:o}),northArrowSouthMiddleWest:(e,n)=>Rh({top:r(e,n),left:e.left+e.width/2-.25*n.width-t,name:"arrow_smw"},o&&{config:o}),northArrowSouth:(e,t)=>Rh({top:r(e,t),left:e.left+e.width/2-t.width/2,name:"arrow_s"},o&&{config:o}),northArrowSouthMiddleEast:(e,n)=>Rh({top:r(e,n),left:e.left+e.width/2-.75*n.width+t,name:"arrow_sme"},o&&{config:o}),northArrowSouthEast:(e,n)=>Rh({top:r(e,n),left:e.left+e.width/2-n.width+t,name:"arrow_se"},o&&{config:o}),northEastArrowSouthWest:(e,n)=>Rh({top:r(e,n),left:e.right-t,name:"arrow_sw"},o&&{config:o}),northEastArrowSouthMiddleWest:(e,n)=>Rh({top:r(e,n),left:e.right-.25*n.width-t,name:"arrow_smw"},o&&{config:o}),northEastArrowSouth:(e,t)=>Rh({top:r(e,t),left:e.right-t.width/2,name:"arrow_s"},o&&{config:o}),northEastArrowSouthMiddleEast:(e,n)=>Rh({top:r(e,n),left:e.right-.75*n.width+t,name:"arrow_sme"},o&&{config:o}),northEastArrowSouthEast:(e,n)=>Rh({top:r(e,n),left:e.right-n.width+t,name:"arrow_se"},o&&{config:o}),southWestArrowNorthWest:e=>Rh({top:s(e),left:e.left-t,name:"arrow_nw"},o&&{config:o}),southWestArrowNorthMiddleWest:(e,n)=>Rh({top:s(e),left:e.left-.25*n.width-t,name:"arrow_nmw"},o&&{config:o}),southWestArrowNorth:(e,t)=>Rh({top:s(e),left:e.left-t.width/2,name:"arrow_n"},o&&{config:o}),southWestArrowNorthMiddleEast:(e,n)=>Rh({top:s(e),left:e.left-.75*n.width+t,name:"arrow_nme"},o&&{config:o}),southWestArrowNorthEast:(e,n)=>Rh({top:s(e),left:e.left-n.width+t,name:"arrow_ne"},o&&{config:o}),southArrowNorthWest:e=>Rh({top:s(e),left:e.left+e.width/2-t,name:"arrow_nw"},o&&{config:o}),southArrowNorthMiddleWest:(e,n)=>Rh({top:s(e),left:e.left+e.width/2-.25*n.width-t,name:"arrow_nmw"},o&&{config:o}),southArrowNorth:(e,t)=>Rh({top:s(e),left:e.left+e.width/2-t.width/2,name:"arrow_n"},o&&{config:o}),southArrowNorthMiddleEast:(e,n)=>Rh({top:s(e),left:e.left+e.width/2-.75*n.width+t,name:"arrow_nme"},o&&{config:o}),southArrowNorthEast:(e,n)=>Rh({top:s(e),left:e.left+e.width/2-n.width+t,name:"arrow_ne"},o&&{config:o}),southEastArrowNorthWest:e=>Rh({top:s(e),left:e.right-t,name:"arrow_nw"},o&&{config:o}),southEastArrowNorthMiddleWest:(e,n)=>Rh({top:s(e),left:e.right-.25*n.width-t,name:"arrow_nmw"},o&&{config:o}),southEastArrowNorth:(e,t)=>Rh({top:s(e),left:e.right-t.width/2,name:"arrow_n"},o&&{config:o}),southEastArrowNorthMiddleEast:(e,n)=>Rh({top:s(e),left:e.right-.75*n.width+t,name:"arrow_nme"},o&&{config:o}),southEastArrowNorthEast:(e,n)=>Rh({top:s(e),left:e.right-n.width+t,name:"arrow_ne"},o&&{config:o}),westArrowEast:(e,t)=>Rh({top:e.top+e.height/2-t.height/2,left:e.left-t.width-n,name:"arrow_e"},o&&{config:o}),eastArrowWest:(e,t)=>Rh({top:e.top+e.height/2-t.height/2,left:e.right+n,name:"arrow_w"},o&&{config:o}),viewportStickyNorth:(e,t,n,r)=>{const s=r||n;return e.getIntersection(s)?s.height-e.height>i?null:{top:s.top+i,left:e.left+e.width/2-t.width/2,name:"arrowless",config:Rh({withArrow:!1},o)}:null}};function r(e,t){return e.top-t.height-n}function s(e){return e.bottom+n}}Oh.arrowSideOffset=25,Oh.arrowHeightOffset=10,Oh.stickyVerticalOffset=20,Oh._getOptimalPosition=ci,Oh.defaultPositions=Fh();var Vh=r(9205);Do()(Vh.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Vh.A.locals;const Hh="ck-tooltip",Wh=class extends(Vn()){constructor(e){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,this._mutationObserver=null,Wh._editors.add(e),Wh._instance)return Wh._instance;Wh._instance=this,this.tooltipTextView=new Po(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Oh(e.locale),this.balloonPanelView.class=Hh,this.balloonPanelView.content.add(this.tooltipTextView),this._mutationObserver=function(e){const t=new MutationObserver((()=>{e()}));return{attach(e){t.observe(e,{attributes:!0,attributeFilter:["data-cke-tooltip-text","data-cke-tooltip-position"]})},detach(){t.disconnect()}}}((()=>{this._updateTooltipPosition()})),this._pinTooltipDebounced=ca(this._pinTooltip,600),this._unpinTooltipDebounced=ca(this._unpinTooltip,400),this.listenTo(o.document,"keydown",this._onKeyDown.bind(this),{useCapture:!0}),this.listenTo(o.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(o.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(o.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(o.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(o.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const t=e.ui.view&&e.ui.view.body;Wh._editors.delete(e),this.stopListening(e.ui),t&&t.has(this.balloonPanelView)&&t.remove(this.balloonPanelView),Wh._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Wh._instance=null)}static getPositioningFunctions(e){const t=Wh.defaultBalloonPositions;return{s:[t.southArrowNorth,t.southArrowNorthEast,t.southArrowNorthWest],n:[t.northArrowSouth],e:[t.eastArrowWest],w:[t.westArrowEast],sw:[t.southArrowNorthEast],se:[t.southArrowNorthWest]}[e]}_onKeyDown(e,t){"Escape"===t.key&&this._currentElementWithTooltip&&(this._unpinTooltip(),t.stopPropagation())}_onEnterOrFocus(e,t){let{target:n}=t;const i=qh(n);i?i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,$h(i))):"focus"===e.name&&this._unpinTooltip()}_onLeaveOrBlur(e,t){let{target:n,relatedTarget:i}=t;if("mouseleave"===e.name){if(!Bn(n))return;const e=this.balloonPanelView.element,t=e&&(e===i||e.contains(i)),o=!t&&n===e;if(t)return void this._unpinTooltipDebounced.cancel();if(!o&&this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;const r=qh(n),s=qh(i);(o||r&&r!==s)&&this._unpinTooltipDebounced()}else{if(this._currentElementWithTooltip&&n!==this._currentElementWithTooltip)return;this._unpinTooltipDebounced()}}_onScroll(e,t){let{target:n}=t;this._currentElementWithTooltip&&(n.contains(this.balloonPanelView.element)&&n.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,t){let{text:n,position:i,cssClass:o}=t;this._unpinTooltip();const r=Zi(Wh._editors.values()).ui.view.body;r.has(this.balloonPanelView)||r.add(this.balloonPanelView),this.tooltipTextView.text=n,this.balloonPanelView.pin({target:e,positions:Wh.getPositioningFunctions(i)}),this._resizeObserver=new ti(e,(()=>{ai(e)||this._unpinTooltip()})),this._mutationObserver.attach(e),this.balloonPanelView.class=[Hh,o].filter((e=>e)).join(" ");for(const s of Wh._editors)this.listenTo(s.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=i}_unpinTooltip(){this._unpinTooltipDebounced.cancel(),this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of Wh._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this.tooltipTextView.text="",this._resizeObserver&&this._resizeObserver.destroy(),this._mutationObserver.detach()}_updateTooltipPosition(){if(!this._currentElementWithTooltip)return;const e=$h(this._currentElementWithTooltip);ai(this._currentElementWithTooltip)&&e.text?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Wh.getPositioningFunctions(e.position)}):this._unpinTooltip()}};let Uh=Wh;function qh(e){return Bn(e)?e.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}function $h(e){return{text:e.dataset.ckeTooltipText,position:e.dataset.ckeTooltipPosition||"s",cssClass:e.dataset.ckeTooltipClass||""}}Uh.defaultBalloonPositions=Fh({heightOffset:5,sideOffset:13}),Uh._editors=new Set,Uh._instance=null;const Gh=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return O(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),ca(e,t,{leading:i,maxWait:t,trailing:o})};var Kh=Object.defineProperty,Yh=Object.getOwnPropertySymbols,Qh=Object.prototype.hasOwnProperty,Zh=Object.prototype.propertyIsEnumerable,Xh=(e,t,n)=>t in e?Kh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Jh extends(Vn()){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Gh(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||"VALID"!==function(e){function t(e){return e.length>=40&&e.length<=255?"VALID":"INVALID"}if(!e)return"INVALID";let n="";try{n=atob(e)}catch(e){return"INVALID"}const i=n.split("-"),o=i[0],r=i[1];if(!r)return t(e);try{atob(r)}catch(n){try{if(atob(o),!atob(o).length)return t(e)}catch(n){return t(e)}}if(o.length<40||o.length>255)return"INVALID";let s="";try{atob(o),s=atob(r)}catch(e){return"INVALID"}if(8!==s.length)return"INVALID";const a=Number(s.substring(0,4)),l=Number(s.substring(4,6))-1,c=Number(s.substring(6,8)),d=new Date(a,l,c);return d<C||isNaN(Number(d))?"INVALID":"VALID"}(e.config.get("licenseKey")))&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",((e,t,n)=>{this._updateLastFocusedEditableElement(),n?this._showBalloon():this._hideBalloon()})),e.ui.focusTracker.on("change:focusedElement",((e,t,n)=>{this._updateLastFocusedEditableElement(),n&&this._showBalloon()})),e.ui.on("update",(()=>{this._showBalloonThrottled()})))}_createBalloonView(){const e=this.editor,t=this._balloonView=new Oh,n=ng(e),i=new eg(e.locale,n.label);t.content.add(i),t.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(t),e.ui.focusTracker.add(t.element),this._balloonView=t}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(e,t){const n=ng(e),i="right"===n.side?function(e,t){return tg(e,t,((e,n)=>e.left+e.width-n.width-t.horizontalOffset))}(t,n):function(e,t){return tg(e,t,(e=>e.left+t.horizontalOffset))}(t,n);return{target:t,positions:[i]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,t=e.ui.focusTracker.isFocused,n=e.ui.focusTracker.focusedElement;if(!t||!n)return void(this._lastFocusedEditableElement=null);const i=Array.from(e.ui.getEditableElementsNames()).map((t=>e.ui.getEditableElement(t)));i.includes(n)?this._lastFocusedEditableElement=n:this._lastFocusedEditableElement=i[0]}}class eg extends Po{constructor(e,t){super(e);const n=new op,i=this.bindTemplate;n.set({content:'<svg xmlns="http://www.w3.org/2000/svg" width="53" height="10" viewBox="0 0 53 10"><path fill="#1C2331" d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122c.233-.004.466.026.69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491ZM36.145 2.313l-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503ZM46.226 2.388c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02ZM52.114 2.07a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304ZM27.112 6.555c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655c-.099.196-.149.413-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768ZM16.14 7.415l-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016-.116-.001-.233-.014-.347-.039a.746.746 0 0 1-.45-.262c-.075-.1-.132-.211-.167-.33a3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852.023-.158.066-.312.127-.46a.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02c-.24-.003-.48.01-.719.041a3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096c-.031.286-.045.572-.042.86-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path fill="#AFE229" d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path fill="#771BFF" d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>\n',isColorInherited:!1}),n.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...t?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[t]}]:[],n],on:{dragstart:i.to((e=>e.preventDefault()))}}]})}}function tg(e,t,n){return(i,o)=>{const r=new Yn(e);if(r.width<350||r.height<50)return null;let s;s="inside"===t.position?r.bottom-o.height:r.bottom-o.height/2,s-=t.verticalOffset;const a=n(r,o),l=i.clone().moveTo(a,s).getIntersection(o.clone().moveTo(a,s)).getVisible();return!l||l.getArea()<o.getArea()?null:{top:s,left:a,name:`position_${t.position}-side_${t.side}`,config:{withArrow:!1}}}}function ng(e){const t=e.config.get("ui.poweredBy"),n=t&&t.position||"border";return((e,t)=>{for(var n in t||(t={}))Qh.call(t,n)&&Xh(e,n,t[n]);if(Yh)for(var n of Yh(t))Zh.call(t,n)&&Xh(e,n,t[n]);return e})({position:n,label:"Powered by",verticalOffset:"inside"===n?5:0,horizontalOffset:5,side:"ltr"===e.locale.contentLanguageDirection?"right":"left"},t)}var ig=r(1801);Do()(ig.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ig.A.locals;const og={POLITE:"polite",ASSERTIVE:"assertive"};class rg{constructor(e){this.editor=e,e.once("ready",(()=>{for(const e of Object.values(og))this.announce("",e)}))}announce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:og.POLITE;const n=this.editor;if(!n.ui.view)return;this.view||(this.view=new sg(n.locale),n.ui.view.body.add(this.view));const{politeness:i,isUnsafeHTML:o}="string"==typeof t?{politeness:t}:t;let r=this.view.regionViews.find((e=>e.politeness===i));r||(r=new ag(n,i),this.view.regionViews.add(r)),r.announce({announcement:e,isUnsafeHTML:o})}}class sg extends Po{constructor(e){super(e),this.regionViews=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-aria-live-announcer"]},children:this.regionViews})}}class ag extends Po{constructor(e,t){super(e.locale),this.setTemplate({tag:"div",attributes:{role:"region","aria-live":t,"aria-relevant":"additions"},children:[{tag:"ul",attributes:{class:["ck","ck-aria-live-region-list"]}}]}),e.on("destroy",(()=>{null!==this._pruneAnnouncementsInterval&&(clearInterval(this._pruneAnnouncementsInterval),this._pruneAnnouncementsInterval=null)})),this.politeness=t,this._domConverter=e.data.htmlProcessor.domConverter,this._pruneAnnouncementsInterval=setInterval((()=>{this.element&&this._listElement.firstChild&&this._listElement.firstChild.remove()}),5e3)}announce(e){let{announcement:t,isUnsafeHTML:n}=e;if(!t.trim().length)return;const i=document.createElement("li");n?this._domConverter.setContentOf(i,t):i.innerText=t,this._listElement.appendChild(i)}get _listElement(){return this.element.querySelector("ul")}}var lg=Object.defineProperty,cg=Object.getOwnPropertySymbols,dg=Object.prototype.hasOwnProperty,ug=Object.prototype.propertyIsEnumerable,pg=(e,t,n)=>t in e?lg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class hg extends(q()){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const t=e.editing.view;this.editor=e,this.componentFactory=new hh(e),this.focusTracker=new Xi,this.tooltipManager=new Uh(e),this.poweredBy=new Jh(e),this.ariaLiveAnnouncer=new rg(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",(()=>{this.isReady=!0})),this.listenTo(t.document,"layoutChanged",this.update.bind(this)),this.listenTo(t,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,t){this._editableElementsMap.set(e,t),t.ckeditorInstance||(t.ckeditorInstance=this.editor),this.focusTracker.add(t);const n=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(t)};this.isReady?n():this.once("ready",n)}removeEditableElement(e){const t=this._editableElementsMap.get(e);t&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(t),this.focusTracker.remove(t),t.ckeditorInstance=null)}getEditableElement(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main";return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",(()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)})),this._focusableToolbarDefinitions.push({toolbarView:e,options:t})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,t=e.config.get("ui.viewportOffset");if(t)return t;const n=e.config.get("toolbar.viewportTopOffset");return n?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:n}):{top:0}}_initFocusTracking(){const e=this.editor,t=e.editing.view;let n,i;e.keystrokes.set("Alt+F10",((e,o)=>{const r=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(r)&&!Array.from(t.domRoots.values()).includes(r)&&(n=r);const s=this._getCurrentFocusedToolbarDefinition();s&&i||(i=this._getFocusableCandidateToolbarDefinitions());for(let t=0;t<i.length;t++){const e=i.shift();if(i.push(e),e!==s&&this._focusFocusableCandidateToolbar(e)){s&&s.options.afterBlur&&s.options.afterBlur();break}}o()})),e.keystrokes.set("Esc",((t,i)=>{const o=this._getCurrentFocusedToolbarDefinition();o&&(n?(n.focus(),n=null):e.editing.view.focus(),o.options.afterBlur&&o.options.afterBlur(),i())}))}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const t of this._focusableToolbarDefinitions){const{toolbarView:n,options:i}=t;(ai(n.element)||i.beforeFocus)&&e.push(t)}return e.sort(((e,t)=>gg(e)-gg(t))),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:t,options:{beforeFocus:n}}=e;return n&&n(),!!ai(t.element)&&(t.focus(),!0)}_handleScrollToTheSelection(e,t){const n=((e,t)=>{for(var n in t||(t={}))dg.call(t,n)&&pg(e,n,t[n]);if(cg)for(var n of cg(t))ug.call(t,n)&&pg(e,n,t[n]);return e})({top:0,bottom:0,left:0,right:0},this.viewportOffset);t.viewportOffset.top+=n.top,t.viewportOffset.bottom+=n.bottom,t.viewportOffset.left+=n.left,t.viewportOffset.right+=n.right}}function gg(e){const{toolbarView:t,options:n}=e;let i=10;return ai(t.element)&&i--,n.isContextual&&i--,i}var mg=r(1185);Do()(mg.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),mg.A.locals;class fg extends Po{constructor(e){super(e),this.body=new tp(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class bg extends fg{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,t=new Yu;return t.text=e("Rich Text Editor"),t.extendTemplate({attributes:{class:"ck-voice-label"}}),t}}class yg extends Po{constructor(e,t,n){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=t}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",(()=>this._updateIsFocusedClasses())),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function t(t){e.change((n=>{const i=e.document.getRoot(t.name);n.addClass(t.isFocused?"ck-focused":"ck-blurred",i),n.removeClass(t.isFocused?"ck-blurred":"ck-focused",i)}))}e.isRenderingInProgress?function n(i){e.once("change:isRenderingInProgress",((e,o,r)=>{r?n(i):t(i)}))}(this):t(this)}}class wg extends yg{constructor(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(e,t,n);const o=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=i.label||(()=>o("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change((t=>{const n=e.document.getRoot(this.name);t.setAttribute("aria-label",this._generateLabel(this),n)}))}}class vg extends $o{static get pluginName(){return"Notification"}init(){this.on("show:warning",((e,t)=>{window.alert(t.message)}),{priority:"lowest"})}showSuccess(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"success",namespace:t.namespace,title:t.title})}showInfo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"info",namespace:t.namespace,title:t.title})}showWarning(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._showNotification({message:e,type:"warning",namespace:t.namespace,title:t.title})}_showNotification(e){const t=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(t,{message:e.message,type:e.type,title:e.title||""})}}class kg extends(q()){constructor(e,t){super(),t&&Ks(this,t),e&&this.set(e)}}var _g=r(991);Do()(_g.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),_g.A.locals;var xg=r(5380);Do()(xg.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),xg.A.locals;const Ag=ii("px");class Cg extends Lo{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const e=this.editor.editing.view,t=e.document.selection.editableElement;return t?e.domConverter.mapViewToDom(t.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new v("contextualballoon-add-view-exist",[this,e]);const t=e.stackId||"main";if(!this._idToStack.has(t))return this._idToStack.set(t,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(t)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(t));const n=this._idToStack.get(t);e.singleViewMode&&this.showStack(t),n.set(e.view,e),this._viewToStack.set(e.view,n),n===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new v("contextualballoon-remove-view-not-exist",[this,e]);const t=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(1===t.size?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(t.values())[t.size-2])),1===t.size?(this._idToStack.delete(this._getStackId(t)),this._numberOfStacks=this._idToStack.size):t.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const t=this._idToStack.get(e);if(!t)throw new v("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==t&&this._showView(Array.from(t.values()).pop())}_createPanelView(){this._view=new Oh(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find((t=>t[1]===e))[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)+1;e[t]||(t=0),this.showStack(this._getStackId(e[t]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let t=e.indexOf(this._visibleStack)-1;e[t]||(t=e.length-1),this.showStack(this._getStackId(e[t]))}_createRotatorView(){const e=new Sg(this.editor.locale),t=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",((e,t)=>!t&&e>1)),e.on("change:isNavigationVisible",(()=>this.updatePosition()),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",((e,n)=>{if(n<2)return"";const i=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return t("%0 of %1",[i,n])})),e.buttonNextView.on("execute",(()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()})),e.buttonPrevView.on("execute",(()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()})),e}_createFakePanelsView(){const e=new Ig(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",((e,t)=>!t&&e>=2?Math.min(e-1,2):0)),e.listenTo(this.view,"change:top",(()=>e.updatePosition())),e.listenTo(this.view,"change:left",(()=>e.updatePosition())),this.editor.ui.view.body.add(e),e}_showView(e){let{view:t,balloonClassName:n="",withArrow:i=!0,singleViewMode:o=!1}=e;this.view.class=n,this.view.withArrow=i,this._rotatorView.showView(t),this.visibleView=t,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),o&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class Sg extends Po{constructor(e){super(e);const t=e.t,n=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new Xi,this.buttonPrevView=this._createButtonView(t("Previous"),Gu.previousArrow),this.buttonNextView=this._createButtonView(t("Next"),Gu.nextArrow),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",n.to("isNavigationVisible",(e=>e?"":"ck-hidden"))]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:n.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,t){const n=new ap(this.locale);return n.set({label:e,icon:t,tooltip:!0}),n}}class Ig extends Po{constructor(e,t){super(e);const n=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=t,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",n.to("numberOfPanels",(e=>e?"":"ck-hidden"))],style:{top:n.to("top",Ag),left:n.to("left",Ag),width:n.to("width",Ag),height:n.to("height",Ag)}},children:this.content}),this.on("change:numberOfPanels",((e,t,n,i)=>{n>i?this._addPanels(n-i):this._removePanels(i-n),this.updatePosition()}))}_addPanels(e){for(;e--;){const e=new Po;e.setTemplate({tag:"div"}),this.content.add(e),this.registerChild(e)}}_removePanels(e){for(;e--;){const e=this.content.last;this.content.remove(e),this.deregisterChild(e),e.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:t}=this._balloonPanelView,{width:n,height:i}=new Yn(this._balloonPanelView.element);Object.assign(this,{top:e,left:t,width:n,height:i})}}}var Tg=r(8298);Do()(Tg.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Tg.A.locals;const Eg=ii("px");class Dg extends Po{constructor(e){super(e);const t=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new ao({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:t.to("isSticky",(e=>e?"block":"none")),height:t.to("isSticky",(e=>e?Eg(this._contentPanelRect.height):null))}}}).render(),this.contentPanelElement=new ao({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",t.if("isSticky","ck-sticky-panel__content_sticky"),t.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:t.to("isSticky",(e=>e?Eg(this._contentPanelPlaceholder.getBoundingClientRect().width):null)),top:t.to("_stickyTopOffset",(e=>e?Eg(e):e)),bottom:t.to("_stickyBottomOffset",(e=>e?Eg(e):e)),marginLeft:t.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this.contentPanelElement]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(o.document,"scroll",(()=>{this.checkIfShouldBeSticky()}),{useCapture:!0}),this.listenTo(this,"change:isActive",(()=>{this.checkIfShouldBeSticky()}))}checkIfShouldBeSticky(){if(!this.limiterElement||!this.isActive)return void this._unstick();const e=new Yn(this.limiterElement);let t=e.getVisible();if(t){const e=new Yn(o.window);e.top+=this.viewportTopOffset,e.height-=this.viewportTopOffset,t=t.getIntersection(e)}if(t&&e.top<t.top){const n=t.top;if(n+this._contentPanelRect.height+this.limiterBottomOffset>t.bottom){const n=Math.max(e.bottom-t.bottom,0)+this.limiterBottomOffset;e.bottom-n>e.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(n):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<e.height?this._stickToTopOfAncestors(n):this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=Eg(-o.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=Eg(-o.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new Yn(this.contentPanelElement)}}class Mg extends bp{constructor(e,t){const n=e.t,i=Object.assign({},{showResetButton:!0,showIcon:!0,creator:lh},t);super(e,i.creator),this.label=t.label,this._viewConfig=i,this._viewConfig.showIcon&&(this.iconView=new op,this.iconView.content=Gu.loupe,this.fieldWrapperChildren.add(this.iconView,0),this.extendTemplate({attributes:{class:"ck-search__query_with-icon"}})),this._viewConfig.showResetButton&&(this.resetButtonView=new ap(e),this.resetButtonView.set({label:n("Clear"),icon:Gu.cancel,class:"ck-search__reset",isVisible:!1,tooltip:!0}),this.resetButtonView.on("execute",(()=>{this.reset(),this.focus(),this.fire("reset")})),this.resetButtonView.bind("isVisible").to(this.fieldView,"isEmpty",(e=>!e)),this.fieldWrapperChildren.add(this.resetButtonView),this.extendTemplate({attributes:{class:"ck-search__query_with-reset"}}))}reset(){this.fieldView.reset(),this._viewConfig.showResetButton&&(this.resetButtonView.isVisible=!1)}}class Pg extends Po{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,primaryText:"",secondaryText:""}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__info",e.if("isVisible","ck-hidden",(e=>!e))],tabindex:-1},children:[{tag:"span",children:[{text:[e.to("primaryText")]}]},{tag:"span",children:[{text:[e.to("secondaryText")]}]}]})}focus(){this.element.focus()}}class Rg extends Po{constructor(e){super(e),this.children=this.createCollection(),this.focusTracker=new Xi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-search__results"],tabindex:-1},children:this.children}),this._focusCycler=new Tp({focusables:this.children,focusTracker:this.focusTracker})}render(){super.render();for(const e of this.children)this.focusTracker.add(e.element)}focus(){this._focusCycler.focusFirst()}focusFirst(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}var Bg=/[\\^$.*+?()[\]{}|]/g,jg=RegExp(Bg.source);const Lg=function(e){return(e=_r(e))&&jg.test(e)?e.replace(Bg,"\\$&"):e};var zg=r(8107);Do()(zg.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),zg.A.locals;var Og=Object.defineProperty,Ng=Object.getOwnPropertySymbols,Fg=Object.prototype.hasOwnProperty,Vg=Object.prototype.propertyIsEnumerable,Hg=(e,t,n)=>t in e?Og(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Wg extends Po{constructor(e,t){super(e),this._config=t,this.filteredView=t.filteredView,this.queryView=this._createSearchTextQueryView(),this.focusTracker=new Xi,this.keystrokes=new Ji,this.resultsView=new Rg(e),this.children=this.createCollection(),this.focusableChildren=this.createCollection([this.queryView,this.resultsView]),this.set("isEnabled",!0),this.set("resultsCount",0),this.set("totalItemsCount",0),t.infoView&&t.infoView.instance?this.infoView=t.infoView.instance:(this.infoView=new Pg,this._enableDefaultInfoViewBehavior(),this.on("render",(()=>{this.search("")}))),this.resultsView.children.addMany([this.infoView,this.filteredView]),this.focusCycler=new Tp({focusables:this.focusableChildren,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.on("search",((e,t)=>{let{resultsCount:n,totalItemsCount:i}=t;this.resultsCount=n,this.totalItemsCount=i})),this.setTemplate({tag:"div",attributes:{class:["ck","ck-search",t.class||null],tabindex:"-1"},children:this.children})}render(){super.render(),this.children.addMany([this.queryView,this.resultsView]);const e=e=>e.stopPropagation();for(const t of this.focusableChildren)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}focus(){this.queryView.focus()}reset(){this.queryView.reset(),this.search("")}search(e){const t=e?new RegExp(Lg(e),"ig"):null,n=this.filteredView.filter(t);this.fire("search",((e,t)=>{for(var n in t||(t={}))Fg.call(t,n)&&Hg(e,n,t[n]);if(Ng)for(var n of Ng(t))Vg.call(t,n)&&Hg(e,n,t[n]);return e})({query:e},n))}_createSearchTextQueryView(){const e=new Mg(this.locale,this._config.queryView);return this.listenTo(e.fieldView,"input",(()=>{this.search(e.fieldView.element.value)})),e.on("reset",(()=>this.reset())),e.bind("isEnabled").to(this),e}_enableDefaultInfoViewBehavior(){const e=this.locale.t,t=this.infoView;function n(e,t){let{query:n,resultsCount:i,totalItemsCount:o}=t;return"function"==typeof e?e(n,i,o):e}this.on("search",((i,o)=>{if(o.resultsCount)t.set({isVisible:!1});else{const i=this._config.infoView&&this._config.infoView.text;let r,s;o.totalItemsCount?i&&i.notFound?(r=i.notFound.primary,s=i.notFound.secondary):(r=e("No results found"),s=""):i&&i.noSearchableItems?(r=i.noSearchableItems.primary,s=i.noSearchableItems.secondary):(r=e("No searchable items"),s=""),t.set({primaryText:n(r,o),secondaryText:n(s,o),isVisible:!0})}}))}}var Ug=r(5727);Do()(Ug.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ug.A.locals;const qg=class extends Wg{constructor(e,t){super(e,t),this._config=t;const n=ii("px");this.extendTemplate({attributes:{class:["ck-autocomplete"]}});const i=this.resultsView.bindTemplate;this.resultsView.set("isVisible",!1),this.resultsView.set("_position","s"),this.resultsView.set("_width",0),this.resultsView.extendTemplate({attributes:{class:[i.if("isVisible","ck-hidden",(e=>!e)),i.to("_position",(e=>`ck-search__results_${e}`))],style:{width:i.to("_width",n)}}}),this.focusTracker.on("change:isFocused",((e,n,i)=>{this._updateResultsVisibility(),i?this.resultsView.element.scrollTop=0:t.resetOnBlur&&this.queryView.reset()})),this.on("search",(()=>{this._updateResultsVisibility(),this._updateResultsViewWidthAndPosition()})),this.keystrokes.set("esc",((e,t)=>{this.resultsView.isVisible&&(this.queryView.focus(),this.resultsView.isVisible=!1,t())})),this.listenTo(o.document,"scroll",(()=>{this._updateResultsViewWidthAndPosition()})),this.on("change:isEnabled",(()=>{this._updateResultsVisibility()})),this.filteredView.on("execute",((e,t)=>{let{value:n}=t;this.focus(),this.reset(),this.queryView.fieldView.value=this.queryView.fieldView.element.value=n,this.resultsView.isVisible=!1})),this.resultsView.on("change:isVisible",(()=>{this._updateResultsViewWidthAndPosition()}))}_updateResultsViewWidthAndPosition(){if(!this.resultsView.isVisible)return;this.resultsView._width=new Yn(this.queryView.fieldView.element).width;const e=qg._getOptimalPosition({element:this.resultsView.element,target:this.queryView.element,fitInViewport:!0,positions:qg.defaultResultsPositions});this.resultsView._position=e?e.name:"s"}_updateResultsVisibility(){const e=void 0===this._config.queryMinChars?0:this._config.queryMinChars,t=this.queryView.fieldView.element.value.length;this.resultsView.isVisible=this.focusTracker.isFocused&&this.isEnabled&&t>=e}};let $g=qg;$g.defaultResultsPositions=[e=>({top:e.bottom,left:e.left,name:"s"}),(e,t)=>({top:e.top-t.height,left:e.left,name:"n"})],$g._getOptimalPosition=ci,RegExp(/[&<>"']/g.source);var Gg=r(9529);Do()(Gg.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Gg.A.locals;var Kg=r(109);Do()(Kg.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Kg.A.locals,ii("px");var Yg=r(2710);Do()(Yg.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Yg.A.locals,ii("px"),ii("px");var Qg=r(3344);Do()(Qg.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Qg.A.locals;class Zg extends ap{constructor(e){super(e);const t=this.bindTemplate;this.set({withText:!0,role:"menuitem"}),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__button"],"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",(e=>String(e))),"data-cke-tooltip-disabled":t.to("isOn")},on:{mouseenter:t.to("mouseenter")}})}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new op;return e.content=pp,e.extendTemplate({attributes:{class:"ck-menu-bar__menu__button__arrow"}}),e}}var Xg=r(9481);Do()(Xg.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Xg.A.locals;class Jg extends $p{constructor(e,t){super(e);const n=this.bindTemplate;this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item"]},on:{mouseenter:n.to("mouseenter")}}),this.delegate("mouseenter").to(t)}}var em=Object.defineProperty,tm=Object.getOwnPropertySymbols,nm=Object.prototype.hasOwnProperty,im=Object.prototype.propertyIsEnumerable,om=(e,t,n)=>t in e?em(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,rm=(e,t)=>{for(var n in t||(t={}))nm.call(t,n)&&om(e,n,t[n]);if(tm)for(var n of tm(t))im.call(t,n)&&om(e,n,t[n]);return e};const sm={toggleMenusAndFocusItemsOnHover(e){e.on("menu:mouseenter",(t=>{if(e.isOpen){for(const n of e.menus){const e=t.path[0],i=e instanceof Jg&&e.children.first===n;n.isOpen=(t.path.includes(n)||i)&&n.isEnabled}t.source.focus()}}))},focusCycleMenusOnArrows(e){const t="rtl"===e.locale.uiLanguageDirection;function n(t,n){const i=e.children.getIndex(t),o=t.isOpen,r=e.children.length,s=e.children.get((i+r+n)%r);t.isOpen=!1,o&&(s.isOpen=!0),s.buttonView.focus()}e.on("menu:arrowright",(e=>{n(e.source,t?-1:1)})),e.on("menu:arrowleft",(e=>{n(e.source,t?1:-1)}))},closeMenusWhenTheBarCloses(e){e.on("change:isOpen",(()=>{e.isOpen||e.menus.forEach((e=>{e.isOpen=!1}))}))},closeMenuWhenAnotherOnTheSameLevelOpens(e){e.on("menu:change:isOpen",((t,n,i)=>{i&&e.menus.filter((e=>t.source.parentMenuView===e.parentMenuView&&t.source!==e&&e.isOpen)).forEach((e=>{e.isOpen=!1}))}))},closeOnClickOutside(e){Ro({emitter:e,activator:()=>e.isOpen,callback:()=>e.close(),contextElements:()=>e.children.map((e=>e.element))})}},am={openAndFocusPanelOnArrowDownKey(e){e.keystrokes.set("arrowdown",((t,n)=>{e.focusTracker.focusedElement===e.buttonView.element&&(e.isOpen||(e.isOpen=!0),e.panelView.focus(),n())}))},openOnArrowRightKey(e){const t="rtl"===e.locale.uiLanguageDirection?"arrowleft":"arrowright";e.keystrokes.set(t,((t,n)=>{e.focusTracker.focusedElement===e.buttonView.element&&e.isEnabled&&(e.isOpen||(e.isOpen=!0),e.panelView.focus(),n())}))},openOnButtonClick(e){e.buttonView.on("execute",(()=>{e.isOpen=!0,e.panelView.focus()}))},toggleOnButtonClick(e){e.buttonView.on("execute",(()=>{e.isOpen=!e.isOpen,e.isOpen&&e.panelView.focus()}))},closeOnArrowLeftKey(e){const t="rtl"===e.locale.uiLanguageDirection?"arrowright":"arrowleft";e.keystrokes.set(t,((t,n)=>{e.isOpen&&(e.isOpen=!1,e.focus(),n())}))},closeOnEscKey(e){e.keystrokes.set("esc",((t,n)=>{e.isOpen&&(e.isOpen=!1,e.focus(),n())}))},closeOnParentClose(e){e.parentMenuView.on("change:isOpen",((t,n,i)=>{i||t.source!==e.parentMenuView||(e.isOpen=!1)}))}},lm={southEast:e=>({top:e.bottom,left:e.left,name:"se"}),southWest:(e,t)=>({top:e.bottom,left:e.left-t.width+e.width,name:"sw"}),northEast:(e,t)=>({top:e.top-t.height,left:e.left,name:"ne"}),northWest:(e,t)=>({top:e.top-t.height,left:e.left-t.width+e.width,name:"nw"}),eastSouth:e=>({top:e.top,left:e.right-5,name:"es"}),eastNorth:(e,t)=>({top:e.top-t.height,left:e.right-5,name:"en"}),westSouth:(e,t)=>({top:e.top,left:e.left-t.width+5,name:"ws"}),westNorth:(e,t)=>({top:e.top-t.height,left:e.left-t.width+5,name:"wn"})},cm=[{menuId:"file",label:"File",groups:[{groupId:"export",items:["menuBar:exportPdf","menuBar:exportWord"]},{groupId:"import",items:["menuBar:importWord"]},{groupId:"revisionHistory",items:["menuBar:revisionHistory"]}]},{menuId:"edit",label:"Edit",groups:[{groupId:"undo",items:["menuBar:undo","menuBar:redo"]},{groupId:"selectAll",items:["menuBar:selectAll"]},{groupId:"findAndReplace",items:["menuBar:findAndReplace"]}]},{menuId:"view",label:"View",groups:[{groupId:"sourceEditing",items:["menuBar:sourceEditing"]},{groupId:"showBlocks",items:["menuBar:showBlocks"]},{groupId:"restrictedEditingException",items:["menuBar:restrictedEditingException"]}]},{menuId:"insert",label:"Insert",groups:[{groupId:"insertMainWidgets",items:["menuBar:uploadImage","menuBar:ckbox","menuBar:ckfinder","menuBar:insertTable"]},{groupId:"insertInline",items:["menuBar:link","menuBar:comment"]},{groupId:"insertMinorWidgets",items:["menuBar:insertTemplate","menuBar:blockQuote","menuBar:codeBlock","menuBar:htmlEmbed"]},{groupId:"insertStructureWidgets",items:["menuBar:horizontalLine","menuBar:pageBreak","menuBar:tableOfContents"]},{groupId:"restrictedEditing",items:["menuBar:restrictedEditing"]}]},{menuId:"format",label:"Format",groups:[{groupId:"textAndFont",items:[{menuId:"text",label:"Text",groups:[{groupId:"basicStyles",items:["menuBar:bold","menuBar:italic","menuBar:underline","menuBar:strikethrough","menuBar:superscript","menuBar:subscript","menuBar:code"]},{groupId:"textPartLanguage",items:["menuBar:textPartLanguage"]}]},{menuId:"font",label:"Font",groups:[{groupId:"fontProperties",items:["menuBar:fontSize","menuBar:fontFamily"]},{groupId:"fontColors",items:["menuBar:fontColor","menuBar:fontBackgroundColor"]},{groupId:"highlight",items:["menuBar:highlight"]}]},"menuBar:heading"]},{groupId:"list",items:["menuBar:bulletedList","menuBar:numberedList","menuBar:todoList"]},{groupId:"indent",items:["menuBar:alignment","menuBar:indent","menuBar:outdent"]},{groupId:"caseChange",items:["menuBar:caseChange"]},{groupId:"removeFormat",items:["menuBar:removeFormat"]}]},{menuId:"tools",label:"Tools",groups:[{groupId:"aiTools",items:["menuBar:aiAssistant","menuBar:aiCommands"]},{groupId:"tools",items:["menuBar:trackChanges","menuBar:commentsArchive"]}]},{menuId:"help",label:"Help",groups:[{groupId:"help",items:["menuBar:accessibilityHelp"]}]}];function dm(e){let{normalizedConfig:t,locale:n,componentFactory:i}=e;const o=Oa(t);return function(e,t){const n=t.removeItems,i=[];t.items=t.items.filter((e=>{let{menuId:t}=e;return!n.includes(t)||(i.push(t),!1)})),gm(t.items,(e=>{e.groups=e.groups.filter((e=>{let{groupId:t}=e;return!n.includes(t)||(i.push(t),!1)}));for(const t of e.groups)t.items=t.items.filter((e=>{const t=wm(e);return!n.includes(t)||(i.push(t),!1)}))}));for(const o of n)i.includes(o)||k("menu-bar-item-could-not-be-removed",{menuBarConfig:e,itemName:o})}(t,o),function(e,t){const n=t.addItems,i=[];for(const o of n){const e=bm(o.position),n=ym(o.position);if(mm(o))if(n){const r=t.items.findIndex((e=>e.menuId===n));-1!=r?"before"===e?(t.items.splice(r,0,o.menu),i.push(o)):"after"===e&&(t.items.splice(r+1,0,o.menu),i.push(o)):um(t,o.menu,n,e)&&i.push(o)}else"start"===e?(t.items.unshift(o.menu),i.push(o)):"end"===e&&(t.items.push(o.menu),i.push(o));else fm(o)?gm(t.items,(t=>{if(t.menuId===n)"start"===e?(t.groups.unshift(o.group),i.push(o)):"end"===e&&(t.groups.push(o.group),i.push(o));else{const r=t.groups.findIndex((e=>e.groupId===n));-1!==r&&("before"===e?(t.groups.splice(r,0,o.group),i.push(o)):"after"===e&&(t.groups.splice(r+1,0,o.group),i.push(o)))}})):um(t,o.item,n,e)&&i.push(o)}for(const o of n)i.includes(o)||k("menu-bar-item-could-not-be-added",{menuBarConfig:e,addedItemConfig:o})}(t,o),function(e,t,n){gm(t.items,(i=>{for(const o of i.groups)o.items=o.items.filter((o=>{const r="string"==typeof o&&!n.has(o);return r&&!t.isUsingDefaultConfig&&k("menu-bar-item-unavailable",{menuBarConfig:e,parentMenuConfig:Oa(i),componentName:o}),!r}))}))}(t,o,i),pm(t,o),function(e,t){const n=t.t,i={File:n({string:"File",id:"MENU_BAR_MENU_FILE"}),Edit:n({string:"Edit",id:"MENU_BAR_MENU_EDIT"}),View:n({string:"View",id:"MENU_BAR_MENU_VIEW"}),Insert:n({string:"Insert",id:"MENU_BAR_MENU_INSERT"}),Format:n({string:"Format",id:"MENU_BAR_MENU_FORMAT"}),Tools:n({string:"Tools",id:"MENU_BAR_MENU_TOOLS"}),Help:n({string:"Help",id:"MENU_BAR_MENU_HELP"}),Text:n({string:"Text",id:"MENU_BAR_MENU_TEXT"}),Font:n({string:"Font",id:"MENU_BAR_MENU_FONT"})};gm(e.items,(e=>{e.label in i&&(e.label=i[e.label])}))}(o,n),o}function um(e,t,n,i){let o=!1;return gm(e.items,(e=>{for(const{groupId:r,items:s}of e.groups){if(o)return;if(r===n)"start"===i?(s.unshift(t),o=!0):"end"===i&&(s.push(t),o=!0);else{const e=s.findIndex((e=>wm(e)===n));-1!==e&&("before"===i?(s.splice(e,0,t),o=!0):"after"===i&&(s.splice(e+1,0,t),o=!0))}}})),o}function pm(e,t){const n=t.isUsingDefaultConfig;let i=!1;t.items=t.items.filter((t=>!!t.groups.length||(hm(e,t,n),!1))),t.items.length?(gm(t.items,(t=>{t.groups=t.groups.filter((e=>!!e.items.length||(i=!0,!1)));for(const o of t.groups)o.items=o.items.filter((t=>!(vm(t)&&!t.groups.length)||(hm(e,t,n),i=!0,!1)))})),i&&pm(e,t)):hm(e,e,n)}function hm(e,t,n){n||k("menu-bar-menu-empty",{menuBarConfig:e,emptyMenuConfig:t})}function gm(e,t){if(Array.isArray(e))for(const i of e)n(i);function n(e){t(e);for(const t of e.groups)for(const e of t.items)vm(e)&&n(e)}}function mm(e){return"object"==typeof e&&"menu"in e}function fm(e){return"object"==typeof e&&"group"in e}function bm(e){return e.startsWith("start")?"start":e.startsWith("end")?"end":e.startsWith("after")?"after":"before"}function ym(e){const t=e.match(/^[^:]+:(.+)/);return t?t[1]:null}function wm(e){return"string"==typeof e?e:e.menuId}function vm(e){return"object"==typeof e&&"menuId"in e}var km=r(9108);Do()(km.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),km.A.locals;class _m extends Po{constructor(e){super(e);const t=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-menu-bar__menu__panel",t.to("position",(e=>`ck-menu-bar__menu__panel_position_${e}`)),t.if("isVisible","ck-hidden",(e=>!e))],tabindex:"-1"},children:this.children,on:{selectstart:t.to((e=>{"input"!==e.target.tagName.toLocaleLowerCase()&&e.preventDefault()}))}})}focus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.children.length&&(1===e?this.children.first.focus():this.children.last.focus())}}var xm=r(4);Do()(xm.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),xm.A.locals;const Am=class extends Po{constructor(e){super(e);const t=this.bindTemplate;this.buttonView=new Zg(e),this.buttonView.delegate("mouseenter").to(this),this.buttonView.bind("isOn","isEnabled").to(this,"isOpen","isEnabled"),this.panelView=new _m(e),this.panelView.bind("isVisible").to(this,"isOpen"),this.keystrokes=new Ji,this.focusTracker=new Xi,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("panelPosition","w"),this.set("class",void 0),this.set("parentMenuView",null),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar__menu",t.to("class"),t.if("isEnabled","ck-disabled",(e=>!e)),t.if("parentMenuView","ck-menu-bar__menu_top-level",(e=>!e))]},children:[this.buttonView,this.panelView]})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.keystrokes.listenTo(this.element),am.closeOnEscKey(this),this._repositionPanelOnOpen()}_attachBehaviors(){this.parentMenuView?(am.openOnButtonClick(this),am.openOnArrowRightKey(this),am.closeOnArrowLeftKey(this),am.closeOnParentClose(this)):(this._propagateArrowKeystrokeEvents(),am.openAndFocusPanelOnArrowDownKey(this),am.toggleOnButtonClick(this))}_propagateArrowKeystrokeEvents(){this.keystrokes.set("arrowright",((e,t)=>{this.fire("arrowright"),t()})),this.keystrokes.set("arrowleft",((e,t)=>{this.fire("arrowleft"),t()}))}_repositionPanelOnOpen(){this.on("change:isOpen",((e,t,n)=>{if(!n)return;const i=Am._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions});this.panelView.position=i?i.name:this._panelPositions[0].name}))}focus(){this.buttonView.focus()}get _panelPositions(){const{southEast:e,southWest:t,northEast:n,northWest:i,westSouth:o,eastSouth:r,westNorth:s,eastNorth:a}=lm;return"ltr"===this.locale.uiLanguageDirection?this.parentMenuView?[r,a,o,s]:[e,t,n,i]:this.parentMenuView?[o,s,r,a]:[t,e,i,n]}};let Cm=Am;Cm._getOptimalPosition=ci;class Sm extends Qp{constructor(e){super(e),this.role="menu"}}var Im=r(977);Do()(Im.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Im.A.locals;class Tm extends ap{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}class Em extends dp{constructor(e){super(e),this.set({withText:!0,withKeystroke:!0,tooltip:!1,role:"menuitem"}),this.extendTemplate({attributes:{class:["ck-menu-bar__menu__item__button"]}})}}var Dm=r(497);Do()(Dm.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Dm.A.locals;const Mm=["mouseenter","arrowleft","arrowright","change:isOpen"];class Pm extends Po{constructor(e){super(e),this.menus=[];const t=e.t;this.set("isOpen",!1),this._setupIsOpenUpdater(),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-menu-bar"],"aria-label":t("Editor menu bar"),role:"menubar"},children:this.children})}fillFromConfig(e,t){const n=dm({normalizedConfig:e,locale:this.locale,componentFactory:t}).items.map((e=>this._createMenu({componentFactory:t,menuDefinition:e})));this.children.addMany(n)}render(){super.render(),sm.toggleMenusAndFocusItemsOnHover(this),sm.closeMenusWhenTheBarCloses(this),sm.closeMenuWhenAnotherOnTheSameLevelOpens(this),sm.focusCycleMenusOnArrows(this),sm.closeOnClickOutside(this)}focus(){this.children.first&&this.children.first.focus()}close(){for(const e of this.children)e.isOpen=!1}registerMenu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t?(e.delegate(...Mm).to(t),e.parentMenuView=t):e.delegate(...Mm).to(this,(e=>"menu:"+e)),e._attachBehaviors(),this.menus.push(e)}_createMenu(e){let{componentFactory:t,menuDefinition:n,parentMenuView:i}=e;const o=this.locale,r=new Cm(o);return this.registerMenu(r,i),r.buttonView.set({label:n.label}),r.once("change:isOpen",(()=>{const e=new Sm(o);e.ariaLabel=n.label,r.panelView.children.add(e),e.items.addMany(this._createMenuItems({menuDefinition:n,parentMenuView:r,componentFactory:t}))})),r}_createMenuItems(e){let{menuDefinition:t,parentMenuView:n,componentFactory:i}=e;const o=this.locale,r=[];for(const s of t.groups){for(const e of s.items){const t=new Jg(o,n);if(O(e))t.children.add(this._createMenu({componentFactory:i,menuDefinition:e,parentMenuView:n}));else{const o=this._createMenuItemContentFromFactory({componentName:e,componentFactory:i,parentMenuView:n});if(!o)continue;t.children.add(o)}r.push(t)}s!==t.groups[t.groups.length-1]&&r.push(new Gp(o))}return r}_createMenuItemContentFromFactory(e){let{componentName:t,parentMenuView:n,componentFactory:i}=e;const o=i.create(t);return o instanceof Cm||o instanceof Tm||o instanceof Em?(this._registerMenuTree(o,n),o.on("execute",(()=>{this.close()})),o):(k("menu-bar-component-unsupported",{componentName:t,componentView:o}),null)}_registerMenuTree(e,t){if(!(e instanceof Cm))return void e.delegate("mouseenter").to(t);this.registerMenu(e,t);const n=e.panelView.children.filter((e=>e instanceof Sm))[0];if(!n)return void e.delegate("mouseenter").to(t);const i=n.items.filter((e=>e instanceof $p));for(const o of i)this._registerMenuTree(o.children.get(0),e)}_setupIsOpenUpdater(){let e;this.on("menu:change:isOpen",((t,n,i)=>{clearTimeout(e),i?this.isOpen=!0:e=setTimeout((()=>{this.isOpen=Array.from(this.children).some((e=>e.isOpen))}),0)}))}}class Rm extends hg{constructor(e,t){super(e),this.view=t,this._toolbarConfig=Np(e.config.get("toolbar")),this._elementReplacer=new Z,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const t=this.editor,n=this.view,i=t.editing.view,o=n.editable,r=i.document.getRoot();o.name=r.rootName,n.render();const s=o.element;this.setEditableElement(o.name,s),n.editable.bind("isFocused").to(this.focusTracker),i.attachDomRoot(s),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),n.menuBarView&&function(e,t){const n=t.element;e.ui.focusTracker.add(n),e.keystrokes.listenTo(n);const i=function(e){let t;return t="items"in e&&e.items?rm({items:e.items,removeItems:[],addItems:[],isVisible:!0,isUsingDefaultConfig:!1},e):rm({items:Oa(cm),addItems:[],removeItems:[],isVisible:!0,isUsingDefaultConfig:!0},e),t}(e.config.get("menuBar")||{});t.fillFromConfig(i,e.ui.componentFactory),e.keystrokes.set("Esc",((t,i)=>{n.contains(e.ui.focusTracker.focusedElement)&&(e.editing.view.focus(),i())})),e.keystrokes.set("Alt+F9",((i,o)=>{n.contains(e.ui.focusTracker.focusedElement)||(t.focus(),o())}))}(t,n.menuBarView),this._initDialogPluginIntegration(),this.fire("ready")}destroy(){super.destroy();const e=this.view,t=this.editor.editing.view;this._elementReplacer.restore(),t.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",(e=>{let{top:t}=e;return t||0})),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,t=e.editing.view,n=t.document.getRoot(),i=e.sourceElement;let o;const r=e.config.get("placeholder");r&&(o="string"==typeof r?r:r[this.view.editable.name]),!o&&i&&"textarea"===i.tagName.toLowerCase()&&(o=i.getAttribute("placeholder")),o&&(n.placeholder=o),Zo({view:t,element:n,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,t,n){const i=this.view.stickyPanel;if(i.isSticky){const e=new Yn(i.element).height;t.viewportOffset.top+=e}else{const e=()=>{this.editor.editing.view.scrollToTheSelection(n)};this.listenTo(i,"change:isSticky",e),setTimeout((()=>{this.stopListening(i,"change:isSticky",e)}),20)}}_initDialogPluginIntegration(){if(!this.editor.plugins.has("Dialog"))return;const e=this.view.stickyPanel,t=this.editor.plugins.get("Dialog");t.on("show",(()=>{const n=t.view;n.on("moveTo",((t,i)=>{if(!e.isSticky||n.wasMoved)return;const o=new Yn(e.contentPanelElement);i[1]<o.bottom+Ch.defaultOffset&&(i[1]=o.bottom+Ch.defaultOffset)}),{priority:"high"})}),{priority:"low"})}}var Bm=r(7388);Do()(Bm.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Bm.A.locals;class jm extends bg{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e),this.stickyPanel=new Dg(e),this.toolbar=new Hp(e,{shouldGroupWhenFull:n.shouldToolbarGroupWhenFull}),n.useMenuBar&&(this.menuBarView=new Pm(e)),this.editable=new wg(e,t)}render(){super.render(),this.menuBarView?this.stickyPanel.content.addMany([this.menuBarView,this.toolbar]):this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class Lm{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit="number"==typeof e.crashNumberLimit?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod="number"==typeof e.minimumNonErrorTimePeriod?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=e=>{const t="error"in e?e.error:e.reason;t instanceof Error&&this._handleError(t,e)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)}off(e,t){this._listeners[e]=this._listeners[e].filter((e=>e!==t))}_fire(e){const t=this._listeners[e]||[];for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];for(const r of t)r.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,t){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:t instanceof ErrorEvent?t.filename:void 0,lineno:t instanceof ErrorEvent?t.lineno:void 0,colno:t instanceof ErrorEvent?t.colno:void 0,date:this._now()});const n=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:n}),n?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&void 0!==e.context&&null!==e.context&&"ready"===this.state&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit||(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function zm(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set;const n=[e],i=new Set;let o=0;for(;n.length>o;){const r=n[o++];if(!i.has(r)&&Om(r)&&!t.has(r))if(i.add(r),Symbol.iterator in r)try{for(const e of r)n.push(e)}catch(e){}else for(const e in r)"defaultValue"!==e&&n.push(r[e])}return i}function Om(e){const t=Object.prototype.toString.call(e),n=typeof e;return!("number"===n||"boolean"===n||"string"===n||"symbol"===n||"function"===n||"[object Date]"===t||"[object RegExp]"===t||"[object Module]"===t||null==e||e._watchdogExcluded||e instanceof EventTarget||e instanceof Event)}function Nm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set;if(e===t&&"object"==typeof(i=e)&&null!==i)return!0;var i;const o=zm(e,n),r=zm(t,n);for(const s of o)if(r.has(s))return!0;return!1}var Fm=Object.defineProperty,Vm=Object.defineProperties,Hm=Object.getOwnPropertyDescriptors,Wm=Object.getOwnPropertySymbols,Um=Object.prototype.hasOwnProperty,qm=Object.prototype.propertyIsEnumerable,$m=(e,t,n)=>t in e?Fm(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Gm=(e,t)=>{for(var n in t||(t={}))Um.call(t,n)&&$m(e,n,t[n]);if(Wm)for(var n of Wm(t))qm.call(t,n)&&$m(e,n,t[n]);return e};class Km extends Lm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this._editor=null,this._lifecyclePromise=null,this._initUsingData=!0,this._editables={},this._throttledSave=Gh(this._save.bind(this),"number"==typeof t.saveInterval?t.saveInterval:5e3),e&&(this._creator=(t,n)=>e.create(t,n)),this._destructor=e=>e.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then((()=>(this.state="initializing",this._fire("stateChange"),this._destroy()))).catch((e=>{console.error("An error happened during the editor destroying.",e)})).then((()=>{const e={},t=[],n=this._config.rootsAttributes||{},i={};for(const[a,l]of Object.entries(this._data.roots))l.isLoaded?(e[a]="",i[a]=n[a]||{}):t.push(a);const o=(r=Gm({},this._config),s={extraPlugins:this._config.extraPlugins||[],lazyRoots:t,rootsAttributes:i,_watchdogInitialData:this._data},Vm(r,Hm(s)));var r,s;return delete o.initialData,o.extraPlugins.push(Ym),this._initUsingData?this.create(e,o,o.context):Bn(this._elementOrData)?this.create(this._elementOrData,o,o.context):this.create(this._editables,o,o.context)})).then((()=>{this._fire("restart")}))}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._elementOrData,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._config,n=arguments.length>2?arguments[2]:void 0;return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData="string"==typeof e||Object.keys(e).length>0&&"string"==typeof Object.values(e)[0],this._config=this._cloneEditorConfiguration(t)||{},this._config.context=n,this._creator(e,this._config)))).then((e=>{this._editor=e,e.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=e.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}destroy(){return this._lifecyclePromise=Promise.resolve(this._lifecyclePromise).then((()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))).finally((()=>{this._lifecyclePromise=null})),this._lifecyclePromise}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)}))}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(e){console.error(e,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,t=e.model.document.roots.filter((e=>e.isAttached()&&"$graveyard"!=e.rootName)),{plugins:n}=e,i=n.has("CommentsRepository")&&n.get("CommentsRepository"),o=n.has("TrackChanges")&&n.get("TrackChanges"),r={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};t.forEach((e=>{r.roots[e.rootName]={content:JSON.stringify(Array.from(e.getChildren())),attributes:JSON.stringify(Array.from(e.getAttributes())),isLoaded:e._isLoaded}}));for(const s of e.model.markers)s._affectsData&&(r.markers[s.name]={rangeJSON:s.getRange().toJSON(),usingOperation:s._managedUsingOperations,affectsData:s._affectsData});return i&&(r.commentThreads=JSON.stringify(i.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),o&&(r.suggestions=JSON.stringify(o.getSuggestions({toJSON:!0,skipNotAttached:!0}))),r}_getEditables(){const e={};for(const t of this.editor.model.document.getRootNames()){const n=this.editor.ui.getEditableElement(t);n&&(e[t]=n)}return e}_isErrorComingFromThisItem(e){return Nm(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return Rn(e,((e,t)=>Bn(e)||"context"===t?e:void 0))}}class Ym{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",(e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},(e=>{this._restoreCollaborationData(),this._restoreEditorData(e)})),this.editor.data.fire("ready")}),{priority:999})}_createNode(e,t){if("name"in t){const n=e.createElement(t.name,t.attributes);if(t.children)for(const i of t.children)n._appendChild(this._createNode(e,i));return n}return e.createText(t.data,t.attributes)}_restoreEditorData(e){const t=this.editor;Object.entries(this._data.roots).forEach((n=>{let[i,{content:o,attributes:r}]=n;const s=JSON.parse(o),a=JSON.parse(r),l=t.model.document.getRoot(i);for(const[t,c]of a)e.setAttribute(t,c,l);for(const t of s){const n=this._createNode(e,t);e.insert(n,l,"end")}})),Object.entries(this._data.markers).forEach((n=>{let[i,o]=n;const{document:r}=t.model,s=o,{rangeJSON:{start:a,end:l}}=s,c=((e,t)=>{var n={};for(var i in e)Um.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&Wm)for(var i of Wm(e))t.indexOf(i)<0&&qm.call(e,i)&&(n[i]=e[i]);return n})(s,["rangeJSON"]),d=r.getRoot(a.root),u=e.createPositionFromPath(d,a.path,a.stickiness),p=e.createPositionFromPath(d,l.path,l.stickiness),h=e.createRange(u,p);e.addMarker(i,Gm({range:h},c))}))}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),t=JSON.parse(this._data.suggestions);e.forEach((e=>{const t=this.editor.config.get("collaboration.channelId"),n=this.editor.plugins.get("CommentsRepository");n.hasCommentThread(e.threadId)&&n.getCommentThread(e.threadId).remove(),n.addCommentThread(Gm({channelId:t},e))})),t.forEach((e=>{const t=this.editor.plugins.get("TrackChangesEditing");t.hasSuggestion(e.id)?t.getSuggestion(e.id).attributes=e.attributes:t.addSuggestionData(e)}))}}const Qm=Symbol("MainQueueId");class Zm{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,t){const n=e===Qm;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const i=(n?Promise.all(this._queues.values()):Promise.all([this._queues.get(Qm),this._queues.get(e)])).then(t),o=i.catch((()=>{}));return this._queues.set(e,o),i.finally((()=>{this._activeActions--,this._queues.get(e)===o&&0===this._activeActions&&this._onEmptyCallbacks.forEach((e=>e()))}))}}function Xm(e){return Array.isArray(e)?e:[e]}class Jm extends(qu(Uu)){constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!ef(e)&&void 0!==t.initialData)throw new v("editor-create-initial-data",null);super(t),this.config.define("menuBar.isVisible",!1),void 0===this.config.get("initialData")&&this.config.set("initialData",function(e){return ef(e)?(t=e)instanceof HTMLTextAreaElement?t.value:t.innerHTML:e;var t}(e)),ef(e)&&(this.sourceElement=e),this.model.document.createRoot();const n=!this.config.get("toolbar.shouldNotGroupWhenFull"),i=this.config.get("menuBar"),o=new jm(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:n,useMenuBar:i.isVisible});this.ui=new Rm(this,o),function(e){if(!Ee(e.updateSourceElement))throw new v("attachtoform-missing-elementapi-interface",e);const t=e.sourceElement;if(function(e){return!!e&&"textarea"===e.tagName.toLowerCase()}(t)&&t.form){let n;const i=t.form,o=()=>e.updateSourceElement();Ee(i.submit)&&(n=i.submit,i.submit=()=>{o(),n.apply(i)}),i.addEventListener("submit",o),e.on("destroy",(()=>{i.removeEventListener("submit",o),n&&(i.submit=n)}))}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise((n=>{const i=new this(e,t);n(i.initPlugins().then((()=>i.ui.init(ef(e)?e:null))).then((()=>i.data.init(i.config.get("initialData")))).then((()=>i.fire("ready"))).then((()=>i)))}))}}function ef(e){return Bn(e)}Jm.Context=qo,Jm.EditorWatchdog=Km,Jm.ContextWatchdog=class extends Lm{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Zm,this._watchdogConfig=t,this._creator=t=>e.create(t),this._destructor=e=>e.destroy(),this._actionQueues.onEmpty((()=>{"initializing"===this.state&&(this.state="ready",this._fire("stateChange"))}))}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}get context(){return this._context}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._actionQueues.enqueue(Qm,(()=>(this._contextConfig=e,this._create())))}getItem(e){return this._getWatchdog(e)._item}getItemState(e){return this._getWatchdog(e).state}add(e){const t=Xm(e);return Promise.all(t.map((e=>this._actionQueues.enqueue(e.id,(()=>{if("destroyed"===this.state)throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let t;if(this._watchdogs.has(e.id))throw new Error(`Item with the given id is already added: '${e.id}'.`);if("editor"===e.type)return t=new Km(null,this._watchdogConfig),t.setCreator(e.creator),t._setExcludedProperties(this._contextProps),e.destructor&&t.setDestructor(e.destructor),this._watchdogs.set(e.id,t),t.on("error",((n,i)=>{let{error:o,causesRestart:r}=i;this._fire("itemError",{itemId:e.id,error:o}),r&&this._actionQueues.enqueue(e.id,(()=>new Promise((n=>{const i=()=>{t.off("restart",i),this._fire("itemRestart",{itemId:e.id}),n()};t.on("restart",i)}))))})),t.create(e.sourceElementOrData,e.config,this._context);throw new Error(`Not supported item type: '${e.type}'.`)})))))}remove(e){const t=Xm(e);return Promise.all(t.map((e=>this._actionQueues.enqueue(e,(()=>{const t=this._getWatchdog(e);return this._watchdogs.delete(e),t.destroy()})))))}destroy(){return this._actionQueues.enqueue(Qm,(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy())))}_restart(){return this._actionQueues.enqueue(Qm,(()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch((e=>{console.error("An error happened during destroying the context or items.",e)})).then((()=>this._create())).then((()=>this._fire("restart"))))))}_create(){return Promise.resolve().then((()=>(this._startErrorHandling(),this._creator(this._contextConfig)))).then((e=>(this._context=e,this._contextProps=zm(this._context),Promise.all(Array.from(this._watchdogs.values()).map((e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))))}_destroy(){return Promise.resolve().then((()=>{this._stopErrorHandling();const e=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map((e=>e.destroy()))).then((()=>this._destructor(e)))}))}_getWatchdog(e){const t=this._watchdogs.get(e);if(!t)throw new Error(`Item with the given id was not registered: ${e}.`);return t}_isErrorComingFromThisItem(e){for(const t of this._watchdogs.values())if(t._isErrorComingFromThisItem(e))return!1;return Nm(this._context,e.context)}};class tf extends Qs{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const t=this.document;function n(e){return(n,i)=>{i.preventDefault();const o=i.dropRange?[i.dropRange]:null,r=new m(t,e);t.fire(r,{dataTransfer:i.dataTransfer,method:n.name,targetRanges:o,target:i.target,domEvent:i.domEvent}),r.stop.called&&i.stopPropagation()}}this.listenTo(t,"paste",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"drop",n("clipboardInput"),{priority:"low"}),this.listenTo(t,"dragover",n("dragging"),{priority:"low"})}onDomEvent(e){const t="clipboardData"in e?e.clipboardData:e.dataTransfer,n="drop"==e.type||"paste"==e.type,i={dataTransfer:new Ra(t,{cacheFiles:n})};"drop"!=e.type&&"dragover"!=e.type||(i.dropRange=function(e,t){const n=t.target.ownerDocument,i=t.clientX,o=t.clientY;let r;return n.caretRangeFromPoint&&n.caretRangeFromPoint(i,o)?r=n.caretRangeFromPoint(i,o):t.rangeParent&&(r=n.createRange(),r.setStart(t.rangeParent,t.rangeOffset),r.collapse(!0)),r?e.domConverter.domRangeToView(r):null}(this.view,e)),this.fire(e.type,e,i)}}const nf=["figcaption","li"],of=["ol","ul"];function rf(e){if(e.is("$text")||e.is("$textProxy"))return e.data;if(e.is("element","img")&&e.hasAttribute("alt"))return e.getAttribute("alt");if(e.is("element","br"))return"\n";let t="",n=null;for(const i of e.getChildren())t+=sf(i,n)+rf(i),n=i;return t}function sf(e,t){return t?e.is("element","li")&&!e.isEmpty&&e.getChild(0).is("containerElement")||of.includes(e.name)&&of.includes(t.name)?"\n\n":e.is("containerElement")||t.is("containerElement")?nf.includes(e.name)||nf.includes(t.name)?"\n":"\n\n":"":""}const af=function(e,t){return e&&Ri(e,t,Mt)},lf=function(e){return e==e&&!O(e)},cf=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}},df=function(e){var t=function(e){for(var t=Mt(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,lf(o)]}return t}(e);return 1==t.length&&t[0][2]?cf(t[0][0],t[0][1]):function(n){return n===e||function(e,t,n,i){var o=n.length,r=o,s=!i;if(null==e)return!r;for(e=Object(e);o--;){var a=n[o];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++o<r;){var l=(a=n[o])[0],c=e[l],d=a[1];if(s&&a[2]){if(void 0===c&&!(l in e))return!1}else{var u=new Xe;if(i)var p=i(c,d,l,e,t,u);if(!(void 0===p?Sa(d,c,3,i,u):p))return!1}}return!0}(n,e,t)}},uf=function(e,t){return null!=e&&t in Object(e)},pf=function(e,t){return null!=e&&function(e,t,n){for(var i=-1,o=(t=xr(t,e)).length,r=!1;++i<o;){var s=Ar(t[i]);if(!(r=null!=e&&n(e,s)))break;e=e[s]}return r||++i!=o?r:!!(o=null==e?0:e.length)&&mt(o)&&gt(s,o)&&(pe(e)||lt(e))}(e,t,uf)},hf=function(e){return pr(e)?function(e){return function(t){return null==t?void 0:t[e]}}(Ar(e)):function(e){return function(t){return Cr(t,e)}}(e)},gf=function(e){return"function"==typeof e?e:null==e?zi:"object"==typeof e?pe(e)?function(e,t){return pr(e)&&lf(t)?cf(Ar(e),t):function(n){var i=Tr(n,e);return void 0===i&&i===t?pf(n,e):Sa(t,i,3)}}(e[0],e[1]):df(e):hf(e)};var mf=Object.defineProperty,ff=Object.defineProperties,bf=Object.getOwnPropertyDescriptors,yf=Object.getOwnPropertySymbols,wf=Object.prototype.hasOwnProperty,vf=Object.prototype.propertyIsEnumerable,kf=(e,t,n)=>t in e?mf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class _f extends Lo{constructor(){super(...arguments),this._markersToCopy=new Map}static get pluginName(){return"ClipboardMarkersUtils"}_registerMarkerToCopy(e,t){this._markersToCopy.set(e,t)}_copySelectedFragmentWithMarkers(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>e.model.getSelectedContent(e.model.document.selection);return this.editor.model.change((i=>{const o=i.model.document.selection;i.setSelection(t);const r=this._insertFakeMarkersIntoSelection(i,i.model.document.selection,e),s=n(i),a=this._removeFakeMarkersInsideElement(i,s);for(const[e,t]of Object.entries(r)){a[e]||(a[e]=i.createRangeIn(s));for(const e of t)i.remove(e)}s.markers.clear();for(const[e,t]of Object.entries(a))s.markers.set(e,t);return i.setSelection(o),s}))}_pasteMarkersIntoTransformedElement(e,t){const n=this._getPasteMarkersFromRangeMap(e);return this.editor.model.change((e=>{const i=this._insertFakeMarkersElements(e,n),o=t(e),r=this._removeFakeMarkersInsideElement(e,o);for(const t of Object.values(i).flat())e.remove(t);for(const[t,n]of Object.entries(r))e.model.markers.has(t)||e.addMarker(t,{usingOperation:!0,affectsData:!0,range:n});return o}))}_pasteFragmentWithMarkers(e){const t=this._getPasteMarkersFromRangeMap(e.markers);e.markers.clear();for(const n of t)e.markers.set(n.name,n.range);return this.editor.model.insertContent(e)}_forceMarkersCopy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowedActions:"all",copyPartiallySelected:!0,duplicateOnPaste:!0};const i=this._markersToCopy.get(e);this._markersToCopy.set(e,n),t(),i?this._markersToCopy.set(e,i):this._markersToCopy.delete(e)}_isMarkerCopyable(e,t){const n=this._getMarkerClipboardConfig(e);if(!n)return!1;if(!t)return!0;const{allowedActions:i}=n;return"all"===i||i.includes(t)}_hasMarkerConfiguration(e){return!!this._getMarkerClipboardConfig(e)}_getMarkerClipboardConfig(e){const[t]=e.split(":");return this._markersToCopy.get(t)||null}_insertFakeMarkersIntoSelection(e,t,n){const i=this._getCopyableMarkersFromSelection(e,t,n);return this._insertFakeMarkersElements(e,i)}_getCopyableMarkersFromSelection(e,t,n){const i=Array.from(t.getRanges()),o=new Set(i.flatMap((t=>Array.from(e.model.markers.getMarkersIntersectingRange(t)))));return Array.from(o).filter((e=>{if(!this._isMarkerCopyable(e.name,n))return!1;const{copyPartiallySelected:t}=this._getMarkerClipboardConfig(e.name);if(!t){const t=e.getRange();return i.some((e=>e.containsRange(t,!0)))}return!0})).map((e=>({name:"dragstart"===n?this._getUniqueMarkerName(e.name):e.name,range:e.getRange()})))}_getPasteMarkersFromRangeMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{model:n}=this.editor;return(e instanceof Map?Array.from(e.entries()):Object.entries(e)).flatMap((e=>{let[i,o]=e;if(!this._hasMarkerConfiguration(i))return[{name:i,range:o}];if(this._isMarkerCopyable(i,t)){const e=this._getMarkerClipboardConfig(i),t=n.markers.has(i)&&"$graveyard"===n.markers.get(i).getRange().root.rootName;return(e.duplicateOnPaste||t)&&(i=this._getUniqueMarkerName(i)),[{name:i,range:o}]}return[]}))}_insertFakeMarkersElements(e,t){const n={},i=t.flatMap((e=>{const{start:t,end:n}=e.range;return[{position:t,marker:e,type:"start"},{position:n,marker:e,type:"end"}]})).sort(((e,t)=>{let{position:n}=e,{position:i}=t;return n.isBefore(i)?1:-1}));for(const{position:o,marker:r,type:s}of i){const t=e.createElement("$marker",{"data-name":r.name,"data-type":s});n[r.name]||(n[r.name]=[]),n[r.name].push(t),e.insert(t,o)}return n}_removeFakeMarkersInsideElement(e,t){const n=this._getAllFakeMarkersFromElement(e,t).reduce(((t,n)=>{const i=n.markerElement&&e.createPositionBefore(n.markerElement);let o=t[n.name],r=!1;var s,a;return o&&o.start&&o.end&&(this._getMarkerClipboardConfig(n.name).duplicateOnPaste?t[this._getUniqueMarkerName(n.name)]=t[n.name]:r=!0,o=null),r||(t[n.name]=(s=((e,t)=>{for(var n in t||(t={}))wf.call(t,n)&&kf(e,n,t[n]);if(yf)for(var n of yf(t))vf.call(t,n)&&kf(e,n,t[n]);return e})({},o),a={[n.type]:i},ff(s,bf(a)))),n.markerElement&&e.remove(n.markerElement),t}),{});return function(e,t){var n={};return t=gf(t),af(e,(function(e,i,o){et(n,i,t(e,i,o))})),n}(n,(n=>new el(n.start||e.createPositionFromPath(t,[0]),n.end||e.createPositionAt(t,"end"))))}_getAllFakeMarkersFromElement(e,t){const n=Array.from(e.createRangeIn(t)).flatMap((e=>{let{item:t}=e;if(!t.is("element","$marker"))return[];const n=t.getAttribute("data-name"),i=t.getAttribute("data-type");return[{markerElement:t,name:n,type:i}]})),i=[],o=[];for(const r of n)"end"===r.type&&(n.some((e=>e.name===r.name&&"start"===e.type))||i.push({markerElement:null,name:r.name,type:"start"})),"start"===r.type&&(n.some((e=>e.name===r.name&&"end"===e.type))||o.unshift({markerElement:null,name:r.name,type:"end"}));return[...i,...n,...o]}_getUniqueMarkerName(e){const t=e.split(":"),n=b().substring(1,6);return 3===t.length?`${t.slice(0,2).join(":")}:${n}`:`${t.join(":")}:${n}`}}class xf extends Lo{static get pluginName(){return"ClipboardPipeline"}static get requires(){return[_f]}init(){this.editor.editing.view.addObserver(tf),this._setupPasteDrop(),this._setupCopyCut()}_fireOutputTransformationEvent(e,t,n){const i=this.editor.plugins.get("ClipboardMarkersUtils");this.editor.model.enqueueChange({isUndoable:"cut"===n},(()=>{const o=i._copySelectedFragmentWithMarkers(n,t);this.fire("outputTransformation",{dataTransfer:e,content:o,method:n})}))}_setupPasteDrop(){const e=this.editor,t=e.model,n=e.editing.view,i=n.document,o=this.editor.plugins.get("ClipboardMarkersUtils");this.listenTo(i,"clipboardInput",((t,n)=>{"paste"!=n.method||e.model.canEditAt(e.model.document.selection)||t.stop()}),{priority:"highest"}),this.listenTo(i,"clipboardInput",((e,t)=>{const i=t.dataTransfer;let o;if(t.content)o=t.content;else{let e="";i.getData("text/html")?e=function(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((e,t)=>1==t.length?" ":t)).replace(/<!--[\s\S]*?-->/g,"")}(i.getData("text/html")):i.getData("text/plain")&&(((r=(r=i.getData("text/plain")).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||r.includes("<br>"))&&(r=`<p>${r}</p>`),e=r),o=this.editor.data.htmlProcessor.toView(e)}var r;const s=new m(this,"inputTransformation");this.fire(s,{content:o,dataTransfer:i,targetRanges:t.targetRanges,method:t.method}),s.stop.called&&e.stop(),n.scrollToTheSelection()}),{priority:"low"}),this.listenTo(this,"inputTransformation",((e,n)=>{if(n.content.isEmpty)return;const i=this.editor.data.toModel(n.content,"$clipboardHolder");0!=i.childCount&&(e.stop(),t.change((()=>{this.fire("contentInsertion",{content:i,method:n.method,dataTransfer:n.dataTransfer,targetRanges:n.targetRanges})})))}),{priority:"low"}),this.listenTo(this,"contentInsertion",((e,t)=>{t.resultRange=o._pasteFragmentWithMarkers(t.content)}),{priority:"low"})}_setupCopyCut(){const e=this.editor,t=e.model.document,n=e.editing.view.document,i=(e,n)=>{const i=n.dataTransfer;n.preventDefault(),this._fireOutputTransformationEvent(i,t.selection,e.name)};this.listenTo(n,"copy",i,{priority:"low"}),this.listenTo(n,"cut",((t,n)=>{e.model.canEditAt(e.model.document.selection)?i(t,n):n.preventDefault()}),{priority:"low"}),this.listenTo(this,"outputTransformation",((t,i)=>{const o=e.data.toView(i.content);n.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:o,method:i.method})}),{priority:"low"}),this.listenTo(n,"clipboardOutput",((n,i)=>{i.content.isEmpty||(i.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(i.content)),i.dataTransfer.setData("text/plain",rf(i.content))),"cut"==i.method&&e.model.deleteContent(t.selection)}),{priority:"low"})}}class Af{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;this._batch=null,this.model=e,this._size=0,this.limit=t,this._isLocked=!1,this._changeCallback=(e,t)=>{t.isLocal&&t.isUndoable&&t!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isLocked&&!e||(this._batch=null,this._size=0)}}class Cf extends Oo{constructor(e,t){super(e),this._buffer=new Af(e.model,t),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document,i=e.text||"",o=i.length;let r=n.selection;if(e.selection?r=e.selection:e.range&&(r=t.createSelection(e.range)),!t.canEditAt(r))return;const s=e.resultRange;t.enqueueChange(this._buffer.batch,(e=>{this._buffer.lock();const a=Array.from(n.selection.getAttributes());t.deleteContent(r),i&&t.insertContent(e.createText(i,a),r),s?e.setSelection(s):r.is("documentSelection")||e.setSelection(r),this._buffer.unlock(),this._buffer.input(o)}))}}const Sf=["insertText","insertReplacementText"];class If extends Gs{constructor(e){super(e),this.focusObserver=e.getObserver(Da),c.isAndroid&&Sf.push("insertCompositionText");const t=e.document;t.on("beforeinput",((n,i)=>{if(!this.isEnabled)return;const{data:o,targetRanges:r,inputType:s,domEvent:a}=i;if(!Sf.includes(s))return;this.focusObserver.flush();const l=new m(t,"insertText");t.fire(l,new Ys(e,a,{text:o,selection:e.createSelection(r)})),l.stop.called&&n.stop()})),t.on("compositionend",((n,i)=>{let{data:o,domEvent:r}=i;this.isEnabled&&!c.isAndroid&&o&&t.fire("insertText",new Ys(e,r,{text:o,selection:t.selection}))}),{priority:"lowest"})}observe(){}stopObserving(){}}class Tf extends Lo{static get pluginName(){return"Input"}init(){const e=this.editor,t=e.model,n=e.editing.view,i=t.document.selection;n.addObserver(If);const o=new Cf(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",o),e.commands.add("input",o),this.listenTo(n.document,"insertText",((i,o)=>{n.document.isComposing||o.preventDefault();const{text:r,selection:s,resultRange:a}=o,l=Array.from(s.getRanges()).map((t=>e.editing.mapper.toModelRange(t)));let d=r;if(c.isAndroid){const e=Array.from(l[0].getItems()).reduce(((e,t)=>e+(t.is("$textProxy")?t.data:"")),"");e&&(e.length<=d.length?d.startsWith(e)&&(d=d.substring(e.length),l[0].start=l[0].start.getShiftedBy(e.length)):e.startsWith(d)&&(l[0].start=l[0].start.getShiftedBy(d.length),d=""))}const u={text:d,selection:t.createSelection(l)};a&&(u.resultRange=e.editing.mapper.toModelRange(a)),e.execute("insertText",u),n.scrollToTheSelection()})),c.isAndroid?this.listenTo(n.document,"keydown",((e,r)=>{!i.isCollapsed&&229==r.keyCode&&n.document.isComposing&&Ef(t,o)})):this.listenTo(n.document,"compositionstart",(()=>{i.isCollapsed||Ef(t,o)}))}}function Ef(e,t){if(!t.isEnabled)return;const n=t.buffer;n.lock(),e.enqueueChange(n.batch,(()=>{e.deleteContent(e.document.selection)})),n.unlock()}class Df extends Oo{constructor(e,t){super(e),this.direction=t,this._buffer=new Af(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document;t.enqueueChange(this._buffer.batch,(i=>{this._buffer.lock();const o=i.createSelection(e.selection||n.selection);if(!t.canEditAt(o))return;const r=e.sequence||1,s=o.isCollapsed;if(o.isCollapsed&&t.modifySelection(o,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(r))return void this._replaceEntireContentWithParagraph(i);if(this._shouldReplaceFirstBlockWithParagraph(o,r))return void this.editor.execute("paragraph",{selection:o});if(o.isCollapsed)return;let a=0;o.getFirstRange().getMinimalFlatRanges().forEach((e=>{a+=X(e.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))})),t.deleteContent(o,{doNotResetEntireContent:s,direction:this.direction}),this._buffer.input(a),i.setSelection(o),this._buffer.unlock()}))}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const t=this.editor.model,n=t.document.selection,i=t.schema.getLimitElement(n);if(!n.isCollapsed||!n.containsEntireContent(i))return!1;if(!t.schema.checkChild(i,"paragraph"))return!1;const o=i.getChild(0);return!o||!o.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const t=this.editor.model,n=t.document.selection,i=t.schema.getLimitElement(n),o=e.createElement("paragraph");e.remove(e.createRangeIn(i)),e.insert(o,i),e.setSelection(o,0)}_shouldReplaceFirstBlockWithParagraph(e,t){const n=this.editor.model;if(t>1||"backward"!=this.direction)return!1;if(!e.isCollapsed)return!1;const i=e.getFirstPosition(),o=n.schema.getLimitElement(i),r=o.getChild(0);return i.parent==r&&!!e.containsEntireContent(r)&&!!n.schema.checkChild(o,"paragraph")&&"paragraph"!=r.name}}const Mf="word",Pf="selection",Rf="backward",Bf="forward",jf={deleteContent:{unit:Pf,direction:Rf},deleteContentBackward:{unit:"codePoint",direction:Rf},deleteWordBackward:{unit:Mf,direction:Rf},deleteHardLineBackward:{unit:Pf,direction:Rf},deleteSoftLineBackward:{unit:Pf,direction:Rf},deleteContentForward:{unit:"character",direction:Bf},deleteWordForward:{unit:Mf,direction:Bf},deleteHardLineForward:{unit:Pf,direction:Bf},deleteSoftLineForward:{unit:Pf,direction:Bf}};class Lf extends Gs{constructor(e){super(e);const t=e.document;let n=0;t.on("keydown",(()=>{n++})),t.on("keyup",(()=>{n=0})),t.on("beforeinput",((i,o)=>{if(!this.isEnabled)return;const{targetRanges:r,domEvent:s,inputType:a}=o,l=jf[a];if(!l)return;const d={direction:l.direction,unit:l.unit,sequence:n};d.unit==Pf&&(d.selectionToRemove=e.createSelection(r[0])),"deleteContentBackward"===a&&(c.isAndroid&&(d.sequence=1),function(e){if(1!=e.length||e[0].isCollapsed)return!1;const t=e[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let n=0;for(const{nextPosition:i,item:o}of t){if(i.parent.is("$text")){const e=i.parent.data,t=i.offset;if(no(e,t)||io(e,t)||ro(e,t))continue;n++}else(o.is("containerElement")||o.is("emptyElement"))&&n++;if(n>1)return!0}return!1}(r)&&(d.unit=Pf,d.selectionToRemove=e.createSelection(r)));const u=new Gr(t,"delete",r[0]);t.fire(u,new Ys(e,s,d)),u.stop.called&&i.stop()})),c.isBlink&&function(e){const t=e.view,n=t.document;let i=null,o=!1;function r(e){return e==Ci.backspace||e==Ci.delete}function s(e){return e==Ci.backspace?Rf:Bf}n.on("keydown",((e,t)=>{let{keyCode:n}=t;i=n,o=!1})),n.on("keyup",((a,l)=>{let{keyCode:c,domEvent:d}=l;const u=n.selection,p=e.isEnabled&&c==i&&r(c)&&!u.isCollapsed&&!o;if(i=null,p){const e=u.getFirstRange(),i=new Gr(n,"delete",e),o={unit:Pf,direction:s(c),selectionToRemove:u};n.fire(i,new Ys(t,d,o))}})),n.on("beforeinput",((e,t)=>{let{inputType:n}=t;const a=jf[n];r(i)&&a&&a.direction==s(i)&&(o=!0)}),{priority:"high"}),n.on("beforeinput",((e,t)=>{let{inputType:n,data:o}=t;i==Ci.delete&&"insertText"==n&&"\x7f"==o&&e.stop()}),{priority:"high"})}(this)}observe(){}stopObserving(){}}class zf extends Lo{static get pluginName(){return"Delete"}init(){const e=this.editor,t=e.editing.view,n=t.document,i=e.model.document;t.addObserver(Lf),this._undoOnBackspace=!1;const o=new Df(e,"forward");e.commands.add("deleteForward",o),e.commands.add("forwardDelete",o),e.commands.add("delete",new Df(e,"backward")),this.listenTo(n,"delete",((i,o)=>{n.isComposing||o.preventDefault();const{direction:r,sequence:s,selectionToRemove:a,unit:l}=o,c="forward"===r?"deleteForward":"delete",d={sequence:s};if("selection"==l){const t=Array.from(a.getRanges()).map((t=>e.editing.mapper.toModelRange(t)));d.selection=e.model.createSelection(t)}else d.unit=l;e.execute(c,d),t.scrollToTheSelection()}),{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(n,"delete",((t,n)=>{this._undoOnBackspace&&"backward"==n.direction&&1==n.sequence&&"codePoint"==n.unit&&(this._undoOnBackspace=!1,e.execute("undo"),n.preventDefault(),t.stop())}),{context:"$capture"}),this.listenTo(i,"change",(()=>{this._undoOnBackspace=!1})))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class Of extends Lo{static get requires(){return[Tf,zf]}static get pluginName(){return"Typing"}}function Nf(e,t){let n=e.start;return{text:Array.from(e.getWalker({ignoreElementEnd:!1})).reduce(((e,i)=>{let{item:o}=i;return o.is("$text")||o.is("$textProxy")?e+o.data:(n=t.createPositionAfter(o),"")}),""),range:t.createRange(n,e.end)}}class Ff extends(q()){constructor(e,t){super(),this.model=e,this.testCallback=t,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",(()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))})),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",((t,n)=>{let{directChange:i}=n;i&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))})),this.listenTo(e,"change:data",((e,t)=>{!t.isUndo&&t.isLocal&&this._evaluateTextBeforeSelection("data",{batch:t})}))}_evaluateTextBeforeSelection(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.model,i=n.document.selection,o=n.createRange(n.createPositionAt(i.focus.parent,0),i.focus),{text:r,range:s}=Nf(o,n),a=this.testCallback(r);if(!a&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!a,a){const n=Object.assign(t,{text:r,range:s});"object"==typeof a&&Object.assign(n,a),this.fire(`matched:${e}`,n)}}}class Vf extends Lo{constructor(e){super(e),this._isNextGravityRestorationSkipped=!1,this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,t=e.model,n=e.editing.view,i=e.locale,o=t.document.selection;this.listenTo(n.document,"arrowKey",((e,t)=>{if(!o.isCollapsed)return;if(t.shiftKey||t.altKey||t.ctrlKey)return;const n=t.keyCode==Ci.arrowright,r=t.keyCode==Ci.arrowleft;if(!n&&!r)return;const s=i.contentLanguageDirection;let a=!1;a="ltr"===s&&n||"rtl"===s&&r?this._handleForwardMovement(t):this._handleBackwardMovement(t),!0===a&&e.stop()}),{context:"$text",priority:"highest"}),this.listenTo(o,"change:range",((e,t)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!t.directChange&&Gf(o.getFirstPosition(),this.attributes)||this._restoreGravity())})),this._enableClickingAfterNode(),this._enableInsertContentSelectionAttributesFixer(),this._handleDeleteContentAfterNode()}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const t=this.attributes,n=this.editor.model,i=n.document.selection,o=i.getFirstPosition();return!this._isGravityOverridden&&(!o.isAtStart||!Hf(i,t))&&!!Gf(o,t)&&(qf(e),Hf(i,t)&&Gf(o,t,!0)?Uf(n,t):this._overrideGravity(),!0)}_handleBackwardMovement(e){const t=this.attributes,n=this.editor.model,i=n.document.selection,o=i.getFirstPosition();return this._isGravityOverridden?(qf(e),this._restoreGravity(),Gf(o,t,!0)?Uf(n,t):Wf(n,t,o),!0):o.isAtStart?!!Hf(i,t)&&(qf(e),Wf(n,t,o),!0):!Hf(i,t)&&Gf(o,t,!0)?(qf(e),Wf(n,t,o),!0):!!$f(o,t)&&(o.isAtEnd&&!Hf(i,t)&&Gf(o,t)?(qf(e),Wf(n,t,o),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}_enableClickingAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,i=e.editing.view.document;e.editing.view.addObserver(Eu);let o=!1;this.listenTo(i,"mousedown",(()=>{o=!0})),this.listenTo(i,"selectionChange",(()=>{const e=this.attributes;if(!o)return;if(o=!1,!n.isCollapsed)return;if(!Hf(n,e))return;const i=n.getFirstPosition();Gf(i,e)&&(i.isAtStart||Gf(i,e,!0)?Uf(t,e):this._isGravityOverridden||this._overrideGravity())}))}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection,n=this.attributes;this.listenTo(e,"insertContent",(()=>{const i=t.getFirstPosition();Hf(t,n)&&Gf(i,n)&&Uf(e,n)}),{priority:"low"})}_handleDeleteContentAfterNode(){const e=this.editor,t=e.model,n=t.document.selection,i=e.editing.view;let o=!1,r=!1;this.listenTo(i.document,"delete",((e,t)=>{o="backward"===t.direction}),{priority:"high"}),this.listenTo(t,"deleteContent",(()=>{if(!o)return;const e=n.getFirstPosition();r=Hf(n,this.attributes)&&!$f(e,this.attributes)}),{priority:"high"}),this.listenTo(t,"deleteContent",(()=>{o&&(o=!1,r||e.model.enqueueChange((()=>{const e=n.getFirstPosition();Hf(n,this.attributes)&&Gf(e,this.attributes)&&(e.isAtStart||Gf(e,this.attributes,!0)?Uf(t,this.attributes):this._isGravityOverridden||this._overrideGravity())})))}),{priority:"low"})}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change((e=>e.overrideSelectionGravity()))}_restoreGravity(){this.editor.model.change((e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null}))}}function Hf(e,t){for(const n of t)if(e.hasAttribute(n))return!0;return!1}function Wf(e,t,n){const i=n.nodeBefore;e.change((n=>{if(i){const t=[],o=e.schema.isObject(i)&&e.schema.isInline(i);for(const[n,r]of i.getAttributes())!e.schema.checkAttribute("$text",n)||o&&!1===e.schema.getAttributeProperties(n).copyFromObject||t.push([n,r]);n.setSelectionAttribute(t)}else n.removeSelectionAttribute(t)}))}function Uf(e,t){e.change((e=>{e.removeSelectionAttribute(t)}))}function qf(e){e.preventDefault()}function $f(e,t){return Gf(e.getShiftedBy(-1),t)}function Gf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{nodeBefore:i,nodeAfter:o}=e;for(const r of t){const e=i?i.getAttribute(r):void 0,t=o?o.getAttribute(r):void 0;if((!n||void 0!==e&&void 0!==t)&&t!==e)return!0}return!1}const Kf={copyright:{from:"(c)",to:"\xa9"},registeredTrademark:{from:"(r)",to:"\xae"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"\xbd",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"\u2153",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"\u2154",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"\xbc",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"\xbe",null]},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:eb('"'),to:[null,"\u201c",null,"\u201d"]},quotesSecondary:{from:eb("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:eb("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:eb('"'),to:[null,"\u201c",null,"\u201d"]},quotesPrimaryPl:{from:eb('"'),to:[null,"\u201e",null,"\u201d"]},quotesSecondaryPl:{from:eb("'"),to:[null,"\u201a",null,"\u2019"]}},Yf={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Qf=["symbols","mathematical","typography","quotes"];function Zf(e){return"string"==typeof e?new RegExp(`(${Lg(e)})$`):e}function Xf(e){return"string"==typeof e?()=>[e]:e instanceof Array?()=>e:e}function Jf(e){return(e.textNode?e.textNode:e.nodeAfter).getAttributes()}function eb(e){return new RegExp(`(^|\\s)(${e})([^${e}]*)(${e})$`)}function tb(e,t,n,i){return i.createRange(nb(e,t,n,!0,i),nb(e,t,n,!1,i))}function nb(e,t,n,i,o){let r=e.textNode||(i?e.nodeBefore:e.nodeAfter),s=null;for(;r&&r.getAttribute(t)==n;)s=r,r=i?r.previousSibling:r.nextSibling;return s?o.createPositionAt(s,i?"before":"after"):e}function*ib(e,t){for(const n of t)n&&e.getAttributeProperties(n[0]).copyOnEnter&&(yield n)}class ob extends Oo{execute(){this.editor.model.change((e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})}))}enterBlock(e){const t=this.editor.model,n=t.document.selection,i=t.schema,o=n.isCollapsed,r=n.getFirstRange(),s=r.start.parent,a=r.end.parent;if(i.isLimit(s)||i.isLimit(a))return o||s!=a||t.deleteContent(n),!1;if(o){const t=ib(e.model.schema,n.getAttributes());return rb(e,r.start),e.setSelectionAttribute(t),!0}{const i=!(r.start.isAtStart&&r.end.isAtEnd),o=s==a;if(t.deleteContent(n,{leaveUnmerged:i}),i){if(o)return rb(e,n.focus),!0;e.setSelection(a,0)}}return!1}}function rb(e,t){e.split(t),e.setSelection(t.parent.nextSibling,0)}const sb={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class ab extends Gs{constructor(e){super(e);const t=this.document;let n=!1;t.on("keydown",((e,t)=>{n=t.shiftKey})),t.on("beforeinput",((i,o)=>{if(!this.isEnabled)return;let r=o.inputType;c.isSafari&&n&&"insertParagraph"==r&&(r="insertLineBreak");const s=o.domEvent,a=sb[r];if(!a)return;const l=new Gr(t,"enter",o.targetRanges[0]);t.fire(l,new Ys(e,s,{isSoft:a.isSoft})),l.stop.called&&i.stop()}))}observe(){}stopObserving(){}}class lb extends Lo{static get pluginName(){return"Enter"}init(){const e=this.editor,t=e.editing.view,n=t.document,i=this.editor.t;t.addObserver(ab),e.commands.add("enter",new ob(e)),this.listenTo(n,"enter",((i,o)=>{n.isComposing||o.preventDefault(),o.isSoft||(e.execute("enter"),t.scrollToTheSelection())}),{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:i("Insert a hard break (a new paragraph)"),keystroke:"Enter"}]})}}class cb extends Oo{execute(){const e=this.editor.model,t=e.document;e.change((n=>{!function(e,t,n){const i=n.isCollapsed,o=n.getFirstRange(),r=o.start.parent,s=o.end.parent,a=r==s;if(i){const i=ib(e.schema,n.getAttributes());db(e,t,o.end),t.removeSelectionAttribute(n.getAttributeKeys()),t.setSelectionAttribute(i)}else{const i=!(o.start.isAtStart&&o.end.isAtEnd);e.deleteContent(n,{leaveUnmerged:i}),a?db(e,t,n.focus):i&&t.setSelection(s,0)}}(e,n,t.selection),this.fire("afterExecute",{writer:n})}))}refresh(){const e=this.editor.model,t=e.document;this.isEnabled=function(e,t){if(t.rangeCount>1)return!1;const n=t.anchor;if(!n||!e.checkChild(n,"softBreak"))return!1;const i=t.getFirstRange(),o=i.start.parent,r=i.end.parent;return!ub(o,e)&&!ub(r,e)||o===r}(e.schema,t.selection)}}function db(e,t,n){const i=t.createElement("softBreak");e.insertContent(i,n),t.setSelection(i,"after")}function ub(e,t){return!e.is("rootElement")&&(t.isLimit(e)||ub(e.parent,t))}class pb extends Lo{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,t=e.model.schema,n=e.conversion,i=e.editing.view,o=i.document,r=this.editor.t;t.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(e,t)=>{let{writer:n}=t;return n.createEmptyElement("br")}}),i.addObserver(ab),e.commands.add("shiftEnter",new cb(e)),this.listenTo(o,"enter",((t,n)=>{o.isComposing||n.preventDefault(),n.isSoft&&(e.execute("shiftEnter"),i.scrollToTheSelection())}),{priority:"low"}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:r("Insert a soft break (a <code>&lt;br&gt;</code> element)"),keystroke:"Shift+Enter"}]})}}class hb extends(D()){constructor(){super(...arguments),this._stack=[]}add(e,t){const n=this._stack,i=n[0];this._insertDescriptor(e);const o=n[0];i===o||gb(i,o)||this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:t})}remove(e,t){const n=this._stack,i=n[0];this._removeDescriptor(e);const o=n[0];i===o||gb(i,o)||this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:t})}_insertDescriptor(e){const t=this._stack,n=t.findIndex((t=>t.id===e.id));if(gb(e,t[n]))return;n>-1&&t.splice(n,1);let i=0;for(;t[i]&&mb(t[i],e);)i++;t.splice(i,0,e)}_removeDescriptor(e){const t=this._stack,n=t.findIndex((t=>t.id===e));n>-1&&t.splice(n,1)}}function gb(e,t){return e&&t&&e.priority==t.priority&&fb(e.classes)==fb(t.classes)}function mb(e,t){return e.priority>t.priority||!(e.priority<t.priority)&&fb(e.classes)>fb(t.classes)}function fb(e){return Array.isArray(e)?e.sort().join(","):e}const bb="ck-widget_selected";function yb(e){return!!e.is("element")&&!!e.getCustomProperty("widget")}function wb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e.is("containerElement"))throw new v("widget-to-widget-wrong-element-type",null,{element:e});return t.setAttribute("contenteditable","false",e),t.addClass("ck-widget",e),t.setCustomProperty("widget",!0,e),e.getFillerOffset=Cb,t.setCustomProperty("widgetLabel",[],e),n.label&&function(e,t){e.getCustomProperty("widgetLabel").push(t)}(e,n.label),n.hasSelectionHandle&&function(e,t){const n=t.createUIElement("div",{class:"ck ck-widget__selection-handle"},(function(e){const t=this.toDomElement(e),n=new op;return n.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),n.render(),t.appendChild(n.element),t}));t.insert(t.createPositionAt(e,0),n),t.addClass(["ck-widget_with-selection-handle"],e)}(e,t),_b(e,t),e}function vb(e,t,n){if(t.classes&&n.addClass(Mi(t.classes),e),t.attributes)for(const i in t.attributes)n.setAttribute(i,t.attributes[i],e)}function kb(e,t,n){if(t.classes&&n.removeClass(Mi(t.classes),e),t.attributes)for(const i in t.attributes)n.removeAttribute(i,e)}function _b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:vb,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:kb;const o=new hb;o.on("change:top",((t,o)=>{o.oldDescriptor&&i(e,o.oldDescriptor,o.writer),o.newDescriptor&&n(e,o.newDescriptor,o.writer)})),t.setCustomProperty("addHighlight",((e,t,n)=>o.add(t,n)),e),t.setCustomProperty("removeHighlight",((e,t,n)=>o.remove(t,n)),e)}function xb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.addClass(["ck-editor__editable","ck-editor__nested-editable"],e),t.setAttribute("role","textbox",e),t.setAttribute("tabindex","-1",e),n.label&&t.setAttribute("aria-label",n.label,e),t.setAttribute("contenteditable",e.isReadOnly?"false":"true",e),e.on("change:isReadOnly",((n,i,o)=>{t.setAttribute("contenteditable",o?"false":"true",e)})),e.on("change:isFocused",((n,i,o)=>{o?t.addClass("ck-editor__nested-editable_focused",e):t.removeClass("ck-editor__nested-editable_focused",e)})),_b(e,t),e}function Ab(e,t){const n=e.getSelectedElement();if(n){const i=Tb(e);if(i)return t.createRange(t.createPositionAt(n,i))}return t.schema.findOptimalInsertionRange(e)}function Cb(){return null}const Sb="widget-type-around";function Ib(e,t,n){return!!e&&yb(e)&&!n.isInline(t)}function Tb(e){return e.getAttribute(Sb)}var Eb=r(8508);Do()(Eb.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Eb.A.locals;const Db=["before","after"],Mb=(new DOMParser).parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,Pb="ck-widget__type-around_disabled";class Rb extends Lo{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[lb,zf]}init(){const e=this.editor,t=e.editing.view;this.on("change:isEnabled",((n,i,o)=>{t.change((e=>{for(const n of t.document.roots)o?e.removeClass(Pb,n):e.addClass(Pb,n)})),o||e.model.change((e=>{e.removeSelectionAttribute(Sb)}))})),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,t){const n=this.editor,i=n.editing.view,o=n.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);n.execute("insertParagraph",{position:n.model.createPositionAt(e,t),attributes:o}),i.focus(),i.scrollToTheSelection()}_listenToIfEnabled(e,t,n,i){var o=this;this.listenTo(e,t,(function(){o.isEnabled&&n(...arguments)}),i)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,t=Tb(e);if(!t)return!1;const n=e.getSelectedElement();return this._insertParagraph(n,t),!0}_enableTypeAroundUIInjection(){const e=this.editor,t=e.model.schema,n=e.locale.t,i={before:n("Insert paragraph before block"),after:n("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",((e,o,r)=>{const s=r.mapper.toViewElement(o.item);s&&Ib(s,o.item,t)&&(function(e,t,n){const i=e.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},(function(e){const n=this.toDomElement(e);return function(e,t){for(const n of Db){const i=new ao({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${n}`],title:t[n],"aria-hidden":"true"},children:[e.ownerDocument.importNode(Mb,!0)]});e.appendChild(i.render())}}(n,t),function(e){const t=new ao({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});e.appendChild(t.render())}(n),n}));e.insert(e.createPositionAt(n,"end"),i)}(r.writer,i,s),s.getCustomProperty("widgetLabel").push((()=>this.isEnabled?n("Press Enter to type after or press Shift + Enter to type before the widget"):"")))}),{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,t=e.model,n=t.document.selection,i=t.schema,o=e.editing.view;function r(e){return`ck-widget_type-around_show-fake-caret_${e}`}this._listenToIfEnabled(o.document,"arrowKey",((e,t)=>{this._handleArrowKeyPress(e,t)}),{context:[yb,"$text"],priority:"high"}),this._listenToIfEnabled(n,"change:range",((t,n)=>{n.directChange&&e.model.change((e=>{e.removeSelectionAttribute(Sb)}))})),this._listenToIfEnabled(t.document,"change:data",(()=>{const t=n.getSelectedElement();t&&Ib(e.editing.mapper.toViewElement(t),t,i)||e.model.change((e=>{e.removeSelectionAttribute(Sb)}))})),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",((e,t,n)=>{const o=n.writer;if(this._currentFakeCaretModelElement){const e=n.mapper.toViewElement(this._currentFakeCaretModelElement);e&&(o.removeClass(Db.map(r),e),this._currentFakeCaretModelElement=null)}const s=t.selection.getSelectedElement();if(!s)return;const a=n.mapper.toViewElement(s);if(!Ib(a,s,i))return;const l=Tb(t.selection);l&&(o.addClass(r(l),a),this._currentFakeCaretModelElement=s)})),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",((t,n,i)=>{i||e.model.change((e=>{e.removeSelectionAttribute(Sb)}))}))}_handleArrowKeyPress(e,t){const n=this.editor,i=n.model,o=i.document.selection,r=i.schema,s=n.editing.view,a=function(e,t){const n=Di(e,t);return"down"===n||"right"===n}(t.keyCode,n.locale.contentLanguageDirection),l=s.document.selection.getSelectedElement();let c;Ib(l,n.editing.mapper.toModelElement(l),r)?c=this._handleArrowKeyPressOnSelectedWidget(a):o.isCollapsed?c=this._handleArrowKeyPressWhenSelectionNextToAWidget(a):t.shiftKey||(c=this._handleArrowKeyPressWhenNonCollapsedSelection(a)),c&&(t.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const t=this.editor.model,n=Tb(t.document.selection);return t.change((t=>n?n!==(e?"after":"before")&&(t.removeSelectionAttribute(Sb),!0):(t.setSelectionAttribute(Sb,e?"after":"before"),!0)))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const t=this.editor,n=t.model,i=n.schema,o=t.plugins.get("Widget"),r=o._getObjectElementNextToSelection(e);return!!Ib(t.editing.mapper.toViewElement(r),r,i)&&(n.change((t=>{o._setSelectionOverElement(r),t.setSelectionAttribute(Sb,e?"before":"after")})),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const t=this.editor,n=t.model,i=n.schema,o=t.editing.mapper,r=n.document.selection,s=e?r.getLastPosition().nodeBefore:r.getFirstPosition().nodeAfter;return!!Ib(o.toViewElement(s),s,i)&&(n.change((t=>{t.setSelection(s,"on"),t.setSelectionAttribute(Sb,e?"after":"before")})),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,t=e.editing.view;this._listenToIfEnabled(t.document,"mousedown",((n,i)=>{const o=i.domTarget.closest(".ck-widget__type-around__button");if(!o)return;const r=function(e){return e.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(o),s=function(e,t){const n=e.closest(".ck-widget");return t.mapDomToView(n)}(o,t.domConverter),a=e.editing.mapper.toModelElement(s);this._insertParagraph(a,r),i.preventDefault(),n.stop()}))}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,t=e.model.document.selection,n=e.editing.view;this._listenToIfEnabled(n.document,"enter",((n,i)=>{if("atTarget"!=n.eventPhase)return;const o=t.getSelectedElement(),r=e.editing.mapper.toViewElement(o),s=e.model.schema;let a;this._insertParagraphAccordingToFakeCaretPosition()?a=!0:Ib(r,o,s)&&(this._insertParagraph(o,i.isSoft?"before":"after"),a=!0),a&&(i.preventDefault(),n.stop())}),{context:yb})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",((t,n)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(n.selection=e.selection)}),{priority:"high"}),c.isAndroid?this._listenToIfEnabled(e,"keydown",((e,t)=>{229==t.keyCode&&this._insertParagraphAccordingToFakeCaretPosition()})):this._listenToIfEnabled(e,"compositionstart",(()=>{this._insertParagraphAccordingToFakeCaretPosition()}),{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,t=e.editing.view,n=e.model,i=n.schema;this._listenToIfEnabled(t.document,"delete",((t,o)=>{if("atTarget"!=t.eventPhase)return;const r=Tb(n.document.selection);if(!r)return;const s=o.direction,a=n.document.selection.getSelectedElement(),l="forward"==s;if("before"===r===l)e.execute("delete",{selection:n.createSelection(a,"on")});else{const t=i.getNearestSelectionRange(n.createPositionAt(a,r),s);if(t)if(t.isCollapsed){const o=n.createSelection(t.start);if(n.modifySelection(o,{direction:s}),o.focus.isEqual(t.start)){const e=function(e,t){let n=t;for(const i of t.getAncestors({parentFirst:!0})){if(i.childCount>1||e.isLimit(i))break;n=i}return n}(i,t.start.parent);n.deleteContent(n.createSelection(e,"on"),{doNotAutoparagraph:!0})}else n.change((n=>{n.setSelection(t),e.execute(l?"deleteForward":"delete")}))}else n.change((n=>{n.setSelection(t),e.execute(l?"deleteForward":"delete")}))}o.preventDefault(),t.stop()}),{context:yb})}_enableInsertContentIntegration(){const e=this.editor,t=this.editor.model,n=t.document.selection;this._listenToIfEnabled(e.model,"insertContent",((e,i)=>{let[o,r]=i;if(r&&!r.is("documentSelection"))return;const s=Tb(n);return s?(e.stop(),t.change((e=>{const i=n.getSelectedElement(),r=t.createPositionAt(i,s),a=e.createSelection(r),l=t.insertContent(o,a);return e.setSelection(a),l}))):void 0}),{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",((e,n)=>{const[,i,o={}]=n;if(i&&!i.is("documentSelection"))return;const r=Tb(t);r&&(o.findOptimalPosition=r,n[3]=o)}),{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,t=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",((e,n)=>{let[i]=n;i&&!i.is("documentSelection")||Tb(t)&&e.stop()}),{priority:"high"})}}function Bb(e,t,n){const i=e.schema,o=e.createRangeIn(t.root),r="forward"==n?"elementStart":"elementEnd";for(const{previousPosition:s,item:a,type:l}of o.getWalker({startPosition:t,direction:n})){if(i.isLimit(a)&&!i.isInline(a))return s;if(l==r&&i.isBlock(a))return null}return null}function jb(e,t,n){const i="backward"==n?t.end:t.start;if(e.checkChild(i,"$text"))return i;for(const{nextPosition:o}of t.getWalker({direction:n}))if(e.checkChild(o,"$text"))return o;return null}var Lb=r(695);Do()(Lb.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Lb.A.locals;class zb extends Lo{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[Rb,zf]}init(){var e=this;const t=this.editor,n=t.editing.view,i=n.document,o=t.t;this.editor.editing.downcastDispatcher.on("selection",((e,n,i)=>{const o=i.writer,r=n.selection;if(r.isCollapsed)return;const s=r.getSelectedElement();if(!s)return;const a=t.editing.mapper.toViewElement(s);var l;yb(a)&&i.consumable.consume(r,"selection")&&o.setSelection(o.createRangeOn(a),{fake:!0,label:(l=a,l.getCustomProperty("widgetLabel").reduce(((e,t)=>"function"==typeof t?e?e+". "+t():t():e?e+". "+t:t),""))})})),this.editor.editing.downcastDispatcher.on("selection",((e,t,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const i=n.writer,o=i.document.selection;let r=null;for(const s of o.getRanges())for(const e of s){const t=e.item;yb(t)&&!Ob(t,r)&&(i.addClass(bb,t),this._previouslySelected.add(t),r=t)}}),{priority:"low"}),n.addObserver(Eu),this.listenTo(i,"mousedown",(function(){return e._onMousedown(...arguments)})),this.listenTo(i,"arrowKey",(function(){e._handleSelectionChangeOnArrowKeyPress(...arguments)}),{context:[yb,"$text"]}),this.listenTo(i,"arrowKey",(function(){e._preventDefaultOnArrowKeyPress(...arguments)}),{context:"$root"}),this.listenTo(i,"arrowKey",function(e){const t=e.model;return(n,i)=>{const o=i.keyCode==Ci.arrowup,r=i.keyCode==Ci.arrowdown,s=i.shiftKey,a=t.document.selection;if(!o&&!r)return;const l=r;if(s&&function(e,t){return!e.isCollapsed&&e.isBackward==t}(a,l))return;const c=function(e,t,n){const i=e.model;if(n){const e=t.isCollapsed?t.focus:t.getLastPosition(),n=Bb(i,e,"forward");if(!n)return null;const o=i.createRange(e,n),r=jb(i.schema,o,"backward");return r?i.createRange(e,r):null}{const e=t.isCollapsed?t.focus:t.getFirstPosition(),n=Bb(i,e,"backward");if(!n)return null;const o=i.createRange(n,e),r=jb(i.schema,o,"forward");return r?i.createRange(r,e):null}}(e,a,l);if(c){if(c.isCollapsed){if(a.isCollapsed)return;if(s)return}(c.isCollapsed||function(e,t,n){const i=e.model,o=e.view.domConverter;if(n){const e=i.createSelection(t.start);i.modifySelection(e),e.focus.isAtEnd||t.start.isEqual(e.focus)||(t=i.createRange(e.focus,t.end))}const r=e.mapper.toViewRange(t),s=o.viewRangeToDom(r),a=Yn.getDomRangeRects(s);let l;for(const c of a)if(void 0!==l){if(Math.round(c.top)>=l)return!1;l=Math.max(l,Math.round(c.bottom))}else l=Math.round(c.bottom);return!0}(e,c,l))&&(t.change((e=>{const n=l?c.end:c.start;if(s){const i=t.createSelection(a.anchor);i.setFocus(n),e.setSelection(i)}else e.setSelection(n)})),n.stop(),i.preventDefault(),i.stopPropagation())}}}(this.editor.editing),{context:"$text"}),this.listenTo(i,"delete",((e,t)=>{this._handleDelete("forward"==t.direction)&&(t.preventDefault(),e.stop())}),{context:"$root"}),this.listenTo(i,"tab",((e,t)=>{"atTarget"==e.eventPhase&&(t.shiftKey||this._selectFirstNestedEditable()&&(t.preventDefault(),e.stop()))}),{context:yb,priority:"low"}),this.listenTo(i,"tab",((e,t)=>{t.shiftKey&&this._selectAncestorWidget()&&(t.preventDefault(),e.stop())}),{priority:"low"}),this.listenTo(i,"keydown",((e,t)=>{t.keystroke==Ci.esc&&this._selectAncestorWidget()&&(t.preventDefault(),e.stop())}),{priority:"low"}),t.accessibility.addKeystrokeInfoGroup({id:"widget",label:o("Keystrokes that can be used when a widget is selected (for example: image, table, etc.)"),keystrokes:[{label:o("Insert a new paragraph directly after a widget"),keystroke:"Enter"},{label:o("Insert a new paragraph directly before a widget"),keystroke:"Shift+Enter"},{label:o("Move the caret to allow typing directly before a widget"),keystroke:[["arrowup"],["arrowleft"]]},{label:o("Move the caret to allow typing directly after a widget"),keystroke:[["arrowdown"],["arrowright"]]}]})}_onMousedown(e,t){const n=this.editor,i=n.editing.view,o=i.document;let r=t.target;if(t.domEvent.detail>=3)return void(this._selectBlockContent(r)&&t.preventDefault());if(function(e){let t=e;for(;t;){if(t.is("editableElement")&&!t.is("rootElement"))return!0;if(yb(t))return!1;t=t.parent}return!1}(r))return;if(!yb(r)&&(r=r.findAncestor(yb),!r))return;c.isAndroid&&t.preventDefault(),o.isFocused||i.focus();const s=n.editing.mapper.toModelElement(r);this._setSelectionOverElement(s)}_selectBlockContent(e){const t=this.editor,n=t.model,i=t.editing.mapper,o=n.schema,r=i.findMappedViewAncestor(this.editor.editing.view.createPositionAt(e,0)),s=function(e,t){for(const n of e.getAncestors({includeSelf:!0,parentFirst:!0})){if(t.checkChild(n,"$text"))return n;if(t.isLimit(n)&&!t.isObject(n))break}return null}(i.toModelElement(r),n.schema);return!!s&&(n.change((e=>{const t=o.isLimit(s)?null:function(e,t){const n=new $a({startPosition:e});for(const{item:i}of n){if(t.isLimit(i)||!i.is("element"))return null;if(t.checkChild(i,"$text"))return i}return null}(e.createPositionAfter(s),o),n=e.createPositionAt(s,0),i=t?e.createPositionAt(t,0):e.createPositionAt(s,"end");e.setSelection(e.createRange(n,i))})),!0)}_handleSelectionChangeOnArrowKeyPress(e,t){const n=t.keyCode,i=this.editor.model,o=i.schema,r=i.document.selection,s=r.getSelectedElement(),a=Di(n,this.editor.locale.contentLanguageDirection),l="down"==a||"right"==a,c="up"==a||"down"==a;if(s&&o.isObject(s)){const n=l?r.getLastPosition():r.getFirstPosition(),s=o.getNearestSelectionRange(n,l?"forward":"backward");return void(s&&(i.change((e=>{e.setSelection(s)})),t.preventDefault(),e.stop()))}if(!r.isCollapsed&&!t.shiftKey){const n=r.getFirstPosition(),s=r.getLastPosition(),a=n.nodeAfter,c=s.nodeBefore;return void((a&&o.isObject(a)||c&&o.isObject(c))&&(i.change((e=>{e.setSelection(l?s:n)})),t.preventDefault(),e.stop()))}if(!r.isCollapsed)return;const d=this._getObjectElementNextToSelection(l);if(d&&o.isObject(d)){if(o.isInline(d)&&c)return;this._setSelectionOverElement(d),t.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,t){const n=this.editor.model,i=n.schema,o=n.document.selection.getSelectedElement();o&&i.isObject(o)&&(t.preventDefault(),e.stop())}_handleDelete(e){const t=this.editor.model.document.selection;if(!this.editor.model.canEditAt(t))return;if(!t.isCollapsed)return;const n=this._getObjectElementNextToSelection(e);return n?(this.editor.model.change((e=>{let i=t.anchor.parent;for(;i.isEmpty;){const t=i;i=t.parent,e.remove(t)}this._setSelectionOverElement(n)})),!0):void 0}_setSelectionOverElement(e){this.editor.model.change((t=>{t.setSelection(t.createRangeOn(e))}))}_getObjectElementNextToSelection(e){const t=this.editor.model,n=t.schema,i=t.document.selection,o=t.createSelection(i);if(t.modifySelection(o,{direction:e?"forward":"backward"}),o.isEqual(i))return null;const r=e?o.focus.nodeBefore:o.focus.nodeAfter;return r&&n.isObject(r)?r:null}_clearPreviouslySelectedWidgets(e){for(const t of this._previouslySelected)e.removeClass(bb,t);this._previouslySelected.clear()}_selectFirstNestedEditable(){const e=this.editor,t=this.editor.editing.view.document;for(const n of t.selection.getFirstRange().getItems())if(n.is("editableElement")){const t=e.editing.mapper.toModelElement(n);if(!t)continue;const i=e.model.createPositionAt(t,0),o=e.model.schema.getNearestSelectionRange(i,"forward");return e.model.change((e=>{e.setSelection(o)})),!0}return!1}_selectAncestorWidget(){const e=this.editor,t=e.editing.mapper,n=e.editing.view.document.selection.getFirstPosition().parent,i=(n.is("$text")?n.parent:n).findAncestor(yb);if(!i)return!1;const o=t.toModelElement(i);return!!o&&(e.model.change((e=>{e.setSelection(o,"on")})),!0)}}function Ob(e,t){return!!t&&Array.from(e.getAncestors()).includes(t)}class Nb extends Lo{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[Cg]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const t=e.plugins.get("BalloonToolbar");this.listenTo(t,"show",(t=>{(function(e){const t=e.getSelectedElement();return!(!t||!yb(t))})(e.editing.view.document.selection)&&t.stop()}),{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",(()=>{this._updateToolbarsVisibility()})),this.listenTo(e.ui,"update",(()=>{this._updateToolbarsVisibility()})),this.listenTo(e.ui.focusTracker,"change:isFocused",(()=>{this._updateToolbarsVisibility()}),{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,t){let{ariaLabel:n,items:i,getRelatedElement:o,balloonClassName:r="ck-toolbar-container"}=t;if(!i.length)return void k("widget-toolbar-no-items",{toolbarId:e});const s=this.editor,a=s.t,l=new Hp(s.locale);if(l.ariaLabel=n||a("Widget toolbar"),this._toolbarDefinitions.has(e))throw new v("widget-toolbar-duplicated",this,{toolbarId:e});const c={view:l,getRelatedElement:o,balloonClassName:r,itemsConfig:i,initialized:!1};s.ui.addToolbar(l,{isContextual:!0,beforeFocus:()=>{const e=o(s.editing.view.document.selection);e&&this._showToolbar(c,e)},afterBlur:()=>{this._hideToolbar(c)}}),this._toolbarDefinitions.set(e,c)}_updateToolbarsVisibility(){let e=0,t=null,n=null;for(const i of this._toolbarDefinitions.values()){const o=i.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&o)if(this.editor.ui.focusTracker.isFocused){const r=o.getAncestors().length;r>e&&(e=r,t=o,n=i)}else this._isToolbarVisible(i)&&this._hideToolbar(i);else this._isToolbarInBalloon(i)&&this._hideToolbar(i)}n&&this._showToolbar(n,t)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,t){this._isToolbarVisible(e)?Fb(this.editor,t):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:Vb(this.editor,t),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",(()=>{for(const e of this._toolbarDefinitions.values())if(this._isToolbarVisible(e)){const t=e.getRelatedElement(this.editor.editing.view.document.selection);Fb(this.editor,t)}})))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function Fb(e,t){const n=e.plugins.get("ContextualBalloon"),i=Vb(e,t);n.updatePosition(i)}function Vb(e,t){const n=e.editing.view,i=Oh.defaultPositions;return{target:n.domConverter.mapViewToDom(t),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}q(),Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,q();var Hb=r(4095);Do()(Hb.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Hb.A.locals;const Wb=ii("px");class Ub extends Po{constructor(){super();const e=this.bindTemplate;this.set({isVisible:!1,left:null,top:null,width:null}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-clipboard-drop-target-line",e.if("isVisible","ck-hidden",(e=>!e))],style:{left:e.to("left",(e=>Wb(e))),top:e.to("top",(e=>Wb(e))),width:e.to("width",(e=>Wb(e)))}}})}}class qb extends Lo{constructor(){super(...arguments),this.removeDropMarkerDelayed=to((()=>this.removeDropMarker()),40),this._updateDropMarkerThrottled=Gh((e=>this._updateDropMarker(e)),40),this._reconvertMarkerThrottled=Gh((()=>{this.editor.model.markers.has("drop-target")&&this.editor.editing.reconvertMarker("drop-target")}),0),this._dropTargetLineView=new Ub,this._domEmitter=new(Vn()),this._scrollables=new Map}static get pluginName(){return"DragDropTarget"}init(){this._setupDropMarker()}destroy(){this._domEmitter.stopListening();for(const{resizeObserver:e}of this._scrollables.values())e.destroy();return this._updateDropMarkerThrottled.cancel(),this.removeDropMarkerDelayed.cancel(),this._reconvertMarkerThrottled.cancel(),super.destroy()}updateDropMarker(e,t,n,i,o,r){this.removeDropMarkerDelayed.cancel();const s=$b(this.editor,e,t,n,i,o,r);if(s)return r&&r.containsRange(s)?this.removeDropMarker():void this._updateDropMarkerThrottled(s)}getFinalDropRange(e,t,n,i,o,r){const s=$b(this.editor,e,t,n,i,o,r);return this.removeDropMarker(),s}removeDropMarker(){const e=this.editor.model;this.removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),this._dropTargetLineView.isVisible=!1,e.markers.has("drop-target")&&e.change((e=>{e.removeMarker("drop-target")}))}_setupDropMarker(){const e=this.editor;e.ui.view.body.add(this._dropTargetLineView),e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(t,n)=>{let{writer:i}=n;if(e.model.schema.checkChild(t.markerRange.start,"$text"))return this._dropTargetLineView.isVisible=!1,this._createDropTargetPosition(i);t.markerRange.isCollapsed?this._updateDropTargetLine(t.markerRange):this._dropTargetLineView.isVisible=!1}})}_updateDropMarker(e){const t=this.editor,n=t.model.markers;t.model.change((t=>{n.has("drop-target")?n.get("drop-target").getRange().isEqual(e)||t.updateMarker("drop-target",{range:e}):t.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})}))}_createDropTargetPosition(e){return e.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},(function(e){const t=this.toDomElement(e);return t.append("\u2060",e.createElement("span"),"\u2060"),t}))}_updateDropTargetLine(e){const t=this.editor.editing,n=e.start.nodeBefore,i=e.start.nodeAfter,r=e.start.parent,s=n?t.mapper.toViewElement(n):null,a=s?t.view.domConverter.mapViewToDom(s):null,l=i?t.mapper.toViewElement(i):null,c=l?t.view.domConverter.mapViewToDom(l):null,d=t.mapper.toViewElement(r);if(!d)return;const u=t.view.domConverter.mapViewToDom(d),p=this._getScrollableRect(d),{scrollX:h,scrollY:g}=o.window,m=a?new Yn(a):null,f=c?new Yn(c):null,b=new Yn(u).excludeScrollbarsAndBorders(),y=m?m.bottom:b.top,w=f?f.top:b.bottom,v=o.window.getComputedStyle(u),k=y<=w?(y+w)/2:w;if(p.top<k&&k<p.bottom){const e=b.left+parseFloat(v.paddingLeft),t=b.right-parseFloat(v.paddingRight),n=Math.max(e+h,p.left),i=Math.min(t+h,p.right);this._dropTargetLineView.set({isVisible:!0,left:n,top:k+g,width:i-n})}else this._dropTargetLineView.isVisible=!1}_getScrollableRect(e){const t=e.root.rootName;let n;if(this._scrollables.has(t))n=this._scrollables.get(t).domElement;else{n=function(e){let t=e;do{t=t.parentElement;const e=o.window.getComputedStyle(t).overflowY;if("auto"==e||"scroll"==e)break}while("BODY"!=t.tagName);return t}(this.editor.editing.view.domConverter.mapViewToDom(e)),this._domEmitter.listenTo(n,"scroll",this._reconvertMarkerThrottled,{usePassive:!0});const i=new ti(n,this._reconvertMarkerThrottled);this._scrollables.set(t,{domElement:n,resizeObserver:i})}return new Yn(n).excludeScrollbarsAndBorders()}}function $b(e,t,n,i,o,r,s){const a=e.model,l=e.editing.mapper;let c=Qb(e,t);for(;c;){if(!r)if(a.schema.checkChild(c,"$text")){if(n){const t=n[0].start,r=l.toModelPosition(t);if(!s||Array.from(s.getItems()).every((e=>a.schema.checkChild(r,e)))){if(a.schema.checkChild(r,"$text"))return a.createRange(r);if(t)return Kb(e,Qb(e,t.parent),i,o)}}}else if(a.schema.isInline(c))return Kb(e,c,i,o);if(a.schema.isBlock(c))return Kb(e,c,i,o);if(a.schema.checkChild(c,"$block")){const t=Array.from(c.getChildren()).filter((t=>t.is("element")&&!Gb(e,t)));let n=0,r=t.length;if(0==r)return a.createRange(a.createPositionAt(c,"end"));for(;n<r-1;){const s=Math.floor((n+r)/2);"before"==Yb(e,t[s],i,o)?r=s:n=s}return Kb(e,t[n],i,o)}c=c.parent}return null}function Gb(e,t){const n=e.editing.mapper,i=e.editing.view.domConverter,r=n.toViewElement(t);if(!r)return!0;const s=i.mapViewToDom(r);return"none"!=o.window.getComputedStyle(s).float}function Kb(e,t,n,i){const o=e.model;return o.createRange(o.createPositionAt(t,Yb(e,t,n,i)))}function Yb(e,t,n,i){const o=e.editing.mapper,r=e.editing.view.domConverter,s=o.toViewElement(t),a=r.mapViewToDom(s),l=new Yn(a);return e.model.schema.isInline(t)?n<(l.left+l.right)/2?"before":"after":i<(l.top+l.bottom)/2?"before":"after"}function Qb(e,t){const n=e.editing.mapper,i=e.editing.view,o=n.toModelElement(t);if(o)return o;const r=i.createPositionBefore(t),s=n.findMappedViewAncestor(r);return n.toModelElement(s)}var Zb=Object.defineProperty,Xb=Object.defineProperties,Jb=Object.getOwnPropertyDescriptors,ey=Object.getOwnPropertySymbols,ty=Object.prototype.hasOwnProperty,ny=Object.prototype.propertyIsEnumerable,iy=(e,t,n)=>t in e?Zb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class oy extends Lo{constructor(){super(...arguments),this._isBlockDragging=!1,this._domEmitter=new(Vn())}static get pluginName(){return"DragDropBlockToolbar"}init(){const e=this.editor;if(this.listenTo(e,"change:isReadOnly",((e,t,n)=>{n?(this.forceDisabled("readOnlyMode"),this._isBlockDragging=!1):this.clearForceDisabled("readOnlyMode")})),c.isAndroid&&this.forceDisabled("noAndroidSupport"),e.plugins.has("BlockToolbar")){const t=e.plugins.get("BlockToolbar").buttonView.element;this._domEmitter.listenTo(t,"dragstart",((e,t)=>this._handleBlockDragStart(t))),this._domEmitter.listenTo(o.document,"dragover",((e,t)=>this._handleBlockDragging(t))),this._domEmitter.listenTo(o.document,"drop",((e,t)=>this._handleBlockDragging(t))),this._domEmitter.listenTo(o.document,"dragend",(()=>this._handleBlockDragEnd()),{useCapture:!0}),this.isEnabled&&t.setAttribute("draggable","true"),this.on("change:isEnabled",((e,n,i)=>{t.setAttribute("draggable",i?"true":"false")}))}}destroy(){return this._domEmitter.stopListening(),super.destroy()}_handleBlockDragStart(e){if(!this.isEnabled)return;const t=this.editor.model,n=t.document.selection,i=this.editor.editing.view,o=Array.from(n.getSelectedBlocks()),r=t.createRange(t.createPositionBefore(o[0]),t.createPositionAfter(o[o.length-1]));t.change((e=>e.setSelection(r))),this._isBlockDragging=!0,i.focus(),i.getObserver(tf).onDomEvent(e)}_handleBlockDragging(e){if(!this.isEnabled||!this._isBlockDragging)return;const t=e.clientX+("ltr"==this.editor.locale.contentLanguageDirection?100:-100),n=e.clientY,i=document.elementFromPoint(t,n),o=this.editor.editing.view;var r,s;i&&i.closest(".ck-editor__editable")&&o.getObserver(tf).onDomEvent((r=((e,t)=>{for(var n in t||(t={}))ty.call(t,n)&&iy(e,n,t[n]);if(ey)for(var n of ey(t))ny.call(t,n)&&iy(e,n,t[n]);return e})({},e),s={type:e.type,dataTransfer:e.dataTransfer,target:i,clientX:t,clientY:n,preventDefault:()=>e.preventDefault(),stopPropagation:()=>e.stopPropagation()},Xb(r,Jb(s))))}_handleBlockDragEnd(){this._isBlockDragging=!1}}var ry=r(7793);Do()(ry.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ry.A.locals;class sy extends Lo{constructor(){super(...arguments),this._clearDraggableAttributesDelayed=to((()=>this._clearDraggableAttributes()),40),this._blockMode=!1,this._domEmitter=new(Vn())}static get pluginName(){return"DragDrop"}static get requires(){return[xf,zb,qb,oy]}init(){const e=this.editor,t=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,t.addObserver(tf),t.addObserver(Eu),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",((e,t,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})),this.on("change:isEnabled",((e,t,n)=>{n||this._finalizeDragging(!1)})),c.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._previewContainer&&this._previewContainer.remove(),this._domEmitter.stopListening(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,t=e.model,n=e.editing.view,i=n.document,r=e.plugins.get(qb);this.listenTo(i,"dragstart",((e,n)=>{if(n.target&&n.target.is("editableElement"))return void n.preventDefault();if(this._prepareDraggedRange(n.target),!this._draggedRange)return void n.preventDefault();this._draggingUid=b(),n.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",n.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const i=t.createSelection(this._draggedRange.toRange());this.editor.plugins.get("ClipboardPipeline")._fireOutputTransformationEvent(n.dataTransfer,i,"dragstart");const{dataTransfer:o,domTarget:r,domEvent:s}=n,{clientX:a}=s;this._updatePreview({dataTransfer:o,domTarget:r,clientX:a}),n.stopPropagation(),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")}),{priority:"low"}),this.listenTo(i,"dragend",((e,t)=>{this._finalizeDragging(!t.dataTransfer.isCanceled&&"move"==t.dataTransfer.dropEffect)}),{priority:"low"}),this._domEmitter.listenTo(o.document,"dragend",(()=>{this._blockMode=!1}),{useCapture:!0}),this.listenTo(i,"dragenter",(()=>{this.isEnabled&&n.focus()})),this.listenTo(i,"dragleave",(()=>{r.removeDropMarkerDelayed()})),this.listenTo(i,"dragging",((e,t)=>{if(!this.isEnabled)return void(t.dataTransfer.dropEffect="none");const{clientX:n,clientY:i}=t.domEvent;r.updateDropMarker(t.target,t.targetRanges,n,i,this._blockMode,this._draggedRange),this._draggedRange||(t.dataTransfer.dropEffect="copy"),c.isGecko||("copy"==t.dataTransfer.effectAllowed?t.dataTransfer.dropEffect="copy":["all","copyMove"].includes(t.dataTransfer.effectAllowed)&&(t.dataTransfer.dropEffect="move")),e.stop()}),{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get(qb);this.listenTo(t,"clipboardInput",((t,i)=>{if("drop"!=i.method)return;const{clientX:o,clientY:r}=i.domEvent,s=n.getFinalDropRange(i.target,i.targetRanges,o,r,this._blockMode,this._draggedRange);return s?(this._draggedRange&&this._draggingUid!=i.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),"move"==ay(i.dataTransfer)&&this._draggedRange&&this._draggedRange.containsRange(s,!0)?(this._finalizeDragging(!1),void t.stop()):void(i.targetRanges=[e.editing.mapper.toViewRange(s)])):(this._finalizeDragging(!1),void t.stop())}),{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(xf);e.on("contentInsertion",((e,t)=>{if(!this.isEnabled||"drop"!==t.method)return;const n=t.targetRanges.map((e=>this.editor.editing.mapper.toModelRange(e)));this.editor.model.change((e=>e.setSelection(n)))}),{priority:"high"}),e.on("contentInsertion",((e,t)=>{if(!this.isEnabled||"drop"!==t.method)return;const n="move"==ay(t.dataTransfer),i=!t.resultRange||!t.resultRange.isCollapsed;this._finalizeDragging(i&&n)}),{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,t=e.editing.view,n=t.document;this.listenTo(n,"mousedown",((i,o)=>{if(c.isAndroid||!o)return;this._clearDraggableAttributesDelayed.cancel();let r=ly(o.target);if(c.isBlink&&!e.isReadOnly&&!r&&!n.selection.isCollapsed){const e=n.selection.getSelectedElement();e&&yb(e)||(r=n.selection.editableElement)}r&&(t.change((e=>{e.setAttribute("draggable","true",r)})),this._draggableElement=e.editing.mapper.toModelElement(r))})),this.listenTo(n,"mouseup",(()=>{c.isAndroid||this._clearDraggableAttributesDelayed()}))}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change((t=>{this._draggableElement&&"$graveyard"!=this._draggableElement.root.rootName&&t.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null}))}_finalizeDragging(e){const t=this.editor,n=t.model;t.plugins.get(qb).removeDropMarker(),this._clearDraggableAttributes(),t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._previewContainer&&(this._previewContainer.remove(),this._previewContainer=void 0),this._draggedRange&&(e&&this.isEnabled&&n.change((e=>{const t=n.createSelection(this._draggedRange);n.deleteContent(t,{doNotAutoparagraph:!0});const i=t.getFirstPosition().parent;i.isEmpty&&!n.schema.checkChild(i,"$text")&&n.schema.checkChild(i,"paragraph")&&e.insertElement("paragraph",i,0)})),this._draggedRange.detach(),this._draggedRange=null)}_prepareDraggedRange(e){const t=this.editor,n=t.model,i=n.document.selection,o=e?ly(e):null;if(o){const e=t.editing.mapper.toModelElement(o);return this._draggedRange=xl.fromRange(n.createRangeOn(e)),this._blockMode=n.schema.isBlock(e),void(t.plugins.has("WidgetToolbarRepository")&&t.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop"))}if(i.isCollapsed&&!i.getFirstPosition().parent.isEmpty)return;const r=Array.from(i.getSelectedBlocks()),s=i.getFirstRange();if(0==r.length)return void(this._draggedRange=xl.fromRange(s));const a=cy(n,r);if(r.length>1)this._draggedRange=xl.fromRange(a),this._blockMode=!0;else if(1==r.length){const e=s.start.isTouching(a.start)&&s.end.isTouching(a.end);this._draggedRange=xl.fromRange(e?a:s),this._blockMode=e}n.change((e=>e.setSelection(this._draggedRange.toRange())))}_updatePreview(e){let{dataTransfer:t,domTarget:n,clientX:i}=e;const r=this.editor.editing.view,s=r.document.selection.editableElement,a=r.domConverter.mapViewToDom(s),l=o.window.getComputedStyle(a);this._previewContainer?this._previewContainer.firstElementChild&&this._previewContainer.removeChild(this._previewContainer.firstElementChild):(this._previewContainer=me(o.document,"div",{style:"position: fixed; left: -999999px;"}),o.document.body.appendChild(this._previewContainer));const d=new Yn(a);if(a.contains(n))return;const u=parseFloat(l.paddingLeft),p=me(o.document,"div");p.className="ck ck-content",p.style.width=l.width,p.style.paddingLeft=`${d.left-i+u}px`,c.isiOS&&(p.style.backgroundColor="white"),p.innerHTML=t.getData("text/html"),t.setDragImage(p,0,0),this._previewContainer.appendChild(p)}}function ay(e){return c.isGecko?e.dropEffect:["all","copyMove"].includes(e.effectAllowed)?"move":"copy"}function ly(e){if(e.is("editableElement"))return null;if(e.hasClass("ck-widget__selection-handle"))return e.findAncestor(yb);if(yb(e))return e;const t=e.findAncestor((e=>yb(e)||e.is("editableElement")));return yb(t)?t:null}function cy(e,t){const n=t[0],i=t[t.length-1],o=n.getCommonAncestor(i),r=e.createPositionBefore(n),s=e.createPositionAfter(i);if(o&&o.is("element")&&!e.schema.isLimit(o)){const t=e.createRangeOn(o),n=r.isTouching(t.start),i=s.isTouching(t.end);if(n&&i)return cy(e,[o])}return e.createRange(r,s)}class dy extends Lo{static get pluginName(){return"PastePlainText"}static get requires(){return[xf]}init(){const e=this.editor,t=e.model,n=e.editing.view,i=n.document,o=t.document.selection;let r=!1;n.addObserver(tf),this.listenTo(i,"keydown",((e,t)=>{r=t.shiftKey})),e.plugins.get(xf).on("contentInsertion",((e,n)=>{(r||function(e,t){if(e.childCount>1)return!1;const n=e.getChild(0);return!t.isObject(n)&&0==Array.from(n.getAttributeKeys()).length}(n.content,t.schema))&&t.change((e=>{const i=Array.from(o.getAttributes()).filter((e=>{let[n]=e;return t.schema.getAttributeProperties(n).isFormatting}));o.isCollapsed||t.deleteContent(o,{doNotAutoparagraph:!0}),i.push(...o.getAttributes());const r=e.createRangeIn(n.content);for(const t of r.getItems())t.is("$textProxy")&&e.setAttributes(i,t)}))}))}}class uy extends Lo{static get pluginName(){return"Clipboard"}static get requires(){return[_f,xf,sy,dy]}init(){const e=this.editor,t=this.editor.t;e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Copy selected content"),keystroke:"CTRL+C"},{label:t("Paste content"),keystroke:"CTRL+V"},{label:t("Paste content as plain text"),keystroke:"CTRL+SHIFT+V"}]})}}class py extends Oo{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,t=e.document.selection;let n=e.schema.getLimitElement(t);if(t.containsEntireContent(n)||!hy(e.schema,n))do{if(n=n.parent,!n)return}while(!hy(e.schema,n));e.change((e=>{e.setSelection(n,"in")}))}}function hy(e,t){return e.isLimit(t)&&(e.checkChild(t,"$text")||e.checkChild(t,"paragraph"))}const gy=Ti("Ctrl+A");class my extends Lo{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,t=e.t,n=e.editing.view.document;e.commands.add("selectAll",new py(e)),this.listenTo(n,"keydown",((t,n)=>{Ii(n)===gy&&(e.execute("selectAll"),n.preventDefault())})),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Select all"),keystroke:"CTRL+A"}]})}}class fy extends Lo{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",(()=>{const e=this._createButton(ap);return e.set({tooltip:!0}),e})),e.ui.componentFactory.add("menuBar:selectAll",(()=>this._createButton(Tm)))}_createButton(e){const t=this.editor,n=t.locale,i=t.commands.get("selectAll"),o=new e(t.locale),r=n.t;return o.set({label:r("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A"}),o.bind("isEnabled").to(i,"isEnabled"),this.listenTo(o,"execute",(()=>{t.execute("selectAll"),t.editing.view.focus()})),o}}class by extends Lo{static get requires(){return[my,fy]}static get pluginName(){return"SelectAll"}}var yy=Object.defineProperty,wy=Object.getOwnPropertySymbols,vy=Object.prototype.hasOwnProperty,ky=Object.prototype.propertyIsEnumerable,_y=(e,t,n)=>t in e?yy(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class xy extends Oo{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",((e,t)=>{t[1]=((e,t)=>{for(var n in t||(t={}))vy.call(t,n)&&_y(e,n,t[n]);if(wy)for(var n of wy(t))ky.call(t,n)&&_y(e,n,t[n]);return e})({},t[1]);const n=t[1];n.batchType||(n.batchType={isUndoable:!1})}),{priority:"high"}),this.listenTo(e.data,"set",((e,t)=>{t[1].batchType.isUndoable||this.clearStack()}))}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const t=this.editor.model.document.selection,n={ranges:t.hasOwnRange?Array.from(t.getRanges()):[],isBackward:t.isBackward};this._stack.push({batch:e,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,t,n){const i=this.editor.model,o=i.document,r=[],s=e.map((e=>e.getTransformedByOperations(n))),a=s.flat();for(const l of s){const e=l.filter((e=>e.root!=o.graveyard)).filter((e=>!Cy(e,a)));e.length&&(Ay(e),r.push(e[0]))}r.length&&i.change((e=>{e.setSelection(r,{backward:t})}))}_undo(e,t){const n=this.editor.model,i=n.document;this._createdBatches.add(t);const o=e.operations.slice().filter((e=>e.isDocumentOperation));o.reverse();for(const r of o){const e=r.baseVersion+1,o=Array.from(i.history.getOperations(e)),s=gd([r.getReversed()],o,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let a of s){const e=a.affectedSelectable;e&&!n.canEditAt(e)&&(a=new od(a.baseVersion)),t.addOperation(a),n.applyOperation(a),i.history.setOperationAsUndone(r,a)}}}}function Ay(e){e.sort(((e,t)=>e.start.isBefore(t.start)?-1:1));for(let t=1;t<e.length;t++){const n=e[t-1].getJoined(e[t],!0);n&&(t--,e.splice(t,2,n))}}function Cy(e,t){return t.some((t=>t!==e&&t.containsRange(e,!0)))}class Sy extends xy{execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=e?this._stack.findIndex((t=>t.batch==e)):this._stack.length-1,n=this._stack.splice(t,1)[0],i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,(()=>{this._undo(n.batch,i);const e=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,e)})),this.fire("revert",n.batch,i),this.refresh()}}class Iy extends xy{execute(){const e=this._stack.pop(),t=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(t,(()=>{const n=e.batch.operations[e.batch.operations.length-1].baseVersion+1,i=this.editor.model.document.history.getOperations(n);this._restoreSelection(e.selection.ranges,e.selection.isBackward,i),this._undo(e.batch,t)})),this.refresh()}}class Ty extends Lo{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor,t=e.t;this._undoCommand=new Sy(e),this._redoCommand=new Iy(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",((e,t)=>{const n=t[0];if(!n.isDocumentOperation)return;const i=n.batch,o=this._redoCommand.createdBatches.has(i),r=this._undoCommand.createdBatches.has(i);this._batchRegistry.has(i)||(this._batchRegistry.add(i),i.isUndoable&&(o?this._undoCommand.addBatch(i):r||(this._undoCommand.addBatch(i),this._redoCommand.clearStack())))}),{priority:"highest"}),this.listenTo(this._undoCommand,"revert",((e,t,n)=>{this._redoCommand.addBatch(n)})),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo"),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Undo"),keystroke:"CTRL+Z"},{label:t("Redo"),keystroke:[["CTRL+Y"],["CTRL+SHIFT+Z"]]}]})}}class Ey extends Lo{static get pluginName(){return"UndoUI"}init(){const e=this.editor,t=e.locale,n=e.t,i="ltr"==t.uiLanguageDirection?Gu.undo:Gu.redo,o="ltr"==t.uiLanguageDirection?Gu.redo:Gu.undo;this._addButtonsToFactory("undo",n("Undo"),"CTRL+Z",i),this._addButtonsToFactory("redo",n("Redo"),"CTRL+Y",o)}_addButtonsToFactory(e,t,n,i){const o=this.editor;o.ui.componentFactory.add(e,(()=>{const o=this._createButton(ap,e,t,n,i);return o.set({tooltip:!0}),o})),o.ui.componentFactory.add("menuBar:"+e,(()=>this._createButton(Tm,e,t,n,i)))}_createButton(e,t,n,i,o){const r=this.editor,s=r.locale,a=r.commands.get(t),l=new e(s);return l.set({label:n,icon:o,keystroke:i}),l.bind("isEnabled").to(a,"isEnabled"),this.listenTo(l,"execute",(()=>{r.execute(t),r.editing.view.focus()})),l}}class Dy extends Lo{static get requires(){return[Ty,Ey]}static get pluginName(){return"Undo"}}class My extends(q()){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=e=>{this.loaded=e.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const t=this._reader;return this.total=e.size,new Promise(((n,i)=>{t.onload=()=>{const e=t.result;this._data=e,n(e)},t.onerror=()=>{i("error")},t.onabort=()=>{i("aborted")},this._reader.readAsDataURL(e)}))}abort(){this._reader.abort()}}class Py extends Lo{constructor(){super(...arguments),this.loaders=new Qi,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[$u]}init(){this.loaders.on("change",(()=>this._updatePendingAction())),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((e,t)=>t?e/t*100:0))}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return k("filerepository-no-upload-adapter"),null;const t=new Ry(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(t),this._loadersMap.set(e,t),e instanceof Promise&&t.file.then((e=>{this._loadersMap.set(e,t)})).catch((()=>{})),t.on("change:uploaded",(()=>{let e=0;for(const t of this.loaders)e+=t.uploaded;this.uploaded=e})),t.on("change:uploadTotal",(()=>{let e=0;for(const t of this.loaders)t.uploadTotal&&(e+=t.uploadTotal);this.uploadTotal=e})),t}destroyLoader(e){const t=e instanceof Ry?e:this.getLoader(e);t._destroy(),this.loaders.remove(t),this._loadersMap.forEach(((e,n)=>{e===t&&this._loadersMap.delete(n)}))}_updatePendingAction(){const e=this.editor.plugins.get($u);if(this.loaders.length){if(!this._pendingAction){const t=this.editor.t,n=e=>`${t("Upload in progress")} ${parseInt(e)}%.`;this._pendingAction=e.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else e.remove(this._pendingAction),this._pendingAction=null}}class Ry extends(q()){constructor(e,t){super(),this.id=b(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=t(this),this._reader=new My,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",((e,t)=>t?e/t*100:0)),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then((e=>this._filePromiseWrapper?e:null)):Promise.resolve(null)}get data(){return this._reader.data}read(){if("idle"!=this.status)throw new v("filerepository-read-wrong-status",this);return this.status="reading",this.file.then((e=>this._reader.read(e))).then((e=>{if("reading"!==this.status)throw this.status;return this.status="idle",e})).catch((e=>{if("aborted"===e)throw this.status="aborted","aborted";throw this.status="error",this._reader.error?this._reader.error:e}))}upload(){if("idle"!=this.status)throw new v("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then((()=>this._adapter.upload())).then((e=>(this.uploadResponse=e,this.status="idle",e))).catch((e=>{if("aborted"===this.status)throw"aborted";throw this.status="error",e}))}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==e?this._reader.abort():"uploading"==e&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch((()=>{})),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const t={};return t.promise=new Promise(((n,i)=>{t.rejecter=i,t.isFulfilled=!1,e.then((e=>{t.isFulfilled=!0,n(e)})).catch((e=>{t.isFulfilled=!0,i(e)}))})),t}}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;const By="ckCsrfToken",jy="abcdefghijklmnopqrstuvwxyz0123456789";class Ly{constructor(e,t,n){this.loader=e,this.url=t,this.t=n}upload(){return this.loader.file.then((e=>new Promise(((t,n)=>{this._initRequest(),this._initListeners(t,n,e),this._sendRequest(e)}))))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,t,n){const i=this.xhr,o=this.loader,r=(0,this.t)("Cannot upload file:")+` ${n.name}.`;i.addEventListener("error",(()=>t(r))),i.addEventListener("abort",(()=>t())),i.addEventListener("load",(()=>{const n=i.response;if(!n||!n.uploaded)return t(n&&n.error&&n.error.message?n.error.message:r);e({default:n.url})})),i.upload&&i.upload.addEventListener("progress",(e=>{e.lengthComputable&&(o.uploadTotal=e.total,o.uploaded=e.loaded)}))}_sendRequest(e){const t=new FormData;t.append("upload",e),t.append("ckCsrfToken",function(){let e=function(e){e=e.toLowerCase();const t=document.cookie.split(";");for(const n of t){const t=n.split("=");if(decodeURIComponent(t[0].trim().toLowerCase())===e)return decodeURIComponent(t[1])}return null}(By);var t,n;return e&&40==e.length||(e=function(){let e="";const t=new Uint8Array(40);window.crypto.getRandomValues(t);for(let n=0;n<t.length;n++){const i=jy.charAt(t[n]%36);e+=Math.random()>.5?i.toUpperCase():i}return e}(),t=By,n=e,document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(n)+";path=/"),e}()),this.xhr.send(t)}}function zy(e,t,n,i){let o,r=null;"function"==typeof i?o=i:(r=e.commands.get(i),o=()=>{e.execute(i)}),e.model.document.on("change:data",((s,a)=>{if(r&&!r.isEnabled||!t.isEnabled)return;const l=Zi(e.model.document.selection.getRanges());if(!l.isCollapsed)return;if(a.isUndo||!a.isLocal)return;const c=Array.from(e.model.document.differ.getChanges()),d=c[0];if(1!=c.length||"insert"!==d.type||"$text"!=d.name||1!=d.length)return;const u=d.position.parent;if(u.is("element","codeBlock"))return;if(u.is("element","listItem")&&"function"!=typeof i&&!["numberedList","bulletedList","todoList"].includes(i))return;if(r&&!0===r.value)return;const p=u.getChild(0),h=e.model.createRangeOn(p);if(!h.containsRange(l)&&!l.end.isEqual(h.end))return;const g=n.exec(p.data.substr(0,l.end.offset));g&&e.model.enqueueChange((t=>{const n=t.createPositionAt(u,0),i=t.createPositionAt(u,g[0].length),r=new xl(n,i);if(!1!==o({match:g})){t.remove(r);const n=e.model.document.selection.getFirstRange(),i=t.createRangeIn(u);!u.isEmpty||i.isEqual(n)||i.containsRange(n,!0)||t.remove(u)}r.detach(),e.model.enqueueChange((()=>{e.plugins.get("Delete").requestUndoOnBackspace()}))}))}))}function Oy(e,t,n,i){let o,r;n instanceof RegExp?o=n:r=n,r=r||(e=>{let t;const n=[],i=[];for(;null!==(t=o.exec(e))&&!(t&&t.length<4);){let{index:e,1:o,2:r,3:s}=t;const a=o+r+s;e+=t[0].length-a.length;const l=[e,e+o.length],c=[e+o.length+r.length,e+o.length+r.length+s.length];n.push(l),n.push(c),i.push([e+o.length,e+o.length+r.length])}return{remove:n,format:i}}),e.model.document.on("change:data",((n,o)=>{if(o.isUndo||!o.isLocal||!t.isEnabled)return;const s=e.model,a=s.document.selection;if(!a.isCollapsed)return;const l=Array.from(s.document.differ.getChanges()),c=l[0];if(1!=l.length||"insert"!==c.type||"$text"!=c.name||1!=c.length)return;const d=a.focus,u=d.parent,{text:p,range:h}=function(e,t){let n=e.start;return{text:Array.from(e.getItems()).reduce(((e,i)=>!i.is("$text")&&!i.is("$textProxy")||i.getAttribute("code")?(n=t.createPositionAfter(i),""):e+i.data),""),range:t.createRange(n,e.end)}}(s.createRange(s.createPositionAt(u,0),d),s),g=r(p),m=Ny(h.start,g.format,s),f=Ny(h.start,g.remove,s);m.length&&f.length&&s.enqueueChange((t=>{if(!1!==i(t,m)){for(const e of f.reverse())t.remove(e);s.enqueueChange((()=>{e.plugins.get("Delete").requestUndoOnBackspace()}))}}))}))}function Ny(e,t,n){return t.filter((e=>void 0!==e[0]&&void 0!==e[1])).map((t=>n.createRange(e.getShiftedBy(t[0]),e.getShiftedBy(t[1]))))}function Fy(e,t){return(n,i)=>{if(!e.commands.get(t).isEnabled)return!1;const o=e.model.schema.getValidRanges(i,t);for(const e of o)n.setAttribute(t,!0,e);n.removeSelectionAttribute(t)}}class Vy extends Oo{constructor(e,t){super(e),this.attributeKey=t}refresh(){const e=this.editor.model,t=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(t.selection,this.attributeKey)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document.selection,i=void 0===e.forceValue?!this.value:e.forceValue;t.change((e=>{if(n.isCollapsed)i?e.setSelectionAttribute(this.attributeKey,!0):e.removeSelectionAttribute(this.attributeKey);else{const o=t.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const t of o)i?e.setAttribute(this.attributeKey,i,t):e.removeAttribute(this.attributeKey,t)}}))}_getValueFromFirstAllowedNode(){const e=this.editor.model,t=e.schema,n=e.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const i of n.getRanges())for(const e of i.getItems())if(t.checkAttribute(e,this.attributeKey))return e.hasAttribute(this.attributeKey);return!1}}const Hy="bold";class Wy extends Lo{static get pluginName(){return"BoldEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Hy}),e.model.schema.setAttributeProperties(Hy,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Hy,view:"strong",upcastAlso:["b",e=>{const t=e.getStyle("font-weight");return t&&("bold"==t||Number(t)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Hy,new Vy(e,Hy)),e.keystrokes.set("CTRL+B",Hy),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Bold text"),keystroke:"CTRL+B"}]})}}function Uy(e){let{editor:t,commandName:n,plugin:i,icon:o,label:r,keystroke:s}=e;return e=>{const a=t.commands.get(n),l=new e(t.locale);return l.set({label:r,icon:o,keystroke:s,isToggleable:!0}),l.bind("isEnabled").to(a,"isEnabled"),i.listenTo(l,"execute",(()=>{t.execute(n),t.editing.view.focus()})),l}}const qy="bold";class $y extends Lo{static get pluginName(){return"BoldUI"}init(){const e=this.editor,t=e.locale.t,n=e.commands.get(qy),i=Uy({editor:e,commandName:qy,plugin:this,icon:Gu.bold,label:t("Bold"),keystroke:"CTRL+B"});e.ui.componentFactory.add(qy,(()=>{const e=i(ap);return e.set({tooltip:!0}),e.bind("isOn").to(n,"value"),e})),e.ui.componentFactory.add("menuBar:"+qy,(()=>i(Tm)))}}var Gy=r(4199);Do()(Gy.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Gy.A.locals;const Ky="italic";class Yy extends Lo{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor,t=this.editor.t;e.model.schema.extend("$text",{allowAttributes:Ky}),e.model.schema.setAttributeProperties(Ky,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Ky,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Ky,new Vy(e,Ky)),e.keystrokes.set("CTRL+I",Ky),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Italic text"),keystroke:"CTRL+I"}]})}}const Qy="italic";class Zy extends Lo{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,t=e.commands.get(Qy),n=e.locale.t,i=Uy({editor:e,commandName:Qy,plugin:this,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",label:n("Italic")});e.ui.componentFactory.add(Qy,(()=>{const e=i(ap);return e.set({tooltip:!0}),e.bind("isOn").to(t,"value"),e})),e.ui.componentFactory.add("menuBar:"+Qy,(()=>i(Tm)))}}class Xy extends Oo{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.schema,i=t.document.selection,o=Array.from(i.getSelectedBlocks()),r=void 0===e.forceValue?!this.value:e.forceValue;t.change((e=>{if(r){const t=o.filter((e=>Jy(e)||tw(n,e)));this._applyQuote(e,t)}else this._removeQuote(e,o.filter(Jy))}))}_getValue(){const e=Zi(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!Jy(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,t=this.editor.model.schema,n=Zi(e.getSelectedBlocks());return!!n&&tw(t,n)}_removeQuote(e,t){ew(e,t).reverse().forEach((t=>{if(t.start.isAtStart&&t.end.isAtEnd)return void e.unwrap(t.start.parent);if(t.start.isAtStart){const n=e.createPositionBefore(t.start.parent);return void e.move(t,n)}t.end.isAtEnd||e.split(t.end);const n=e.createPositionAfter(t.end.parent);e.move(t,n)}))}_applyQuote(e,t){const n=[];ew(e,t).reverse().forEach((t=>{let i=Jy(t.start);i||(i=e.createElement("blockQuote"),e.wrap(t,i)),n.push(i)})),n.reverse().reduce(((t,n)=>t.nextSibling==n?(e.merge(e.createPositionAfter(t)),t):n))}}function Jy(e){return"blockQuote"==e.parent.name?e.parent:null}function ew(e,t){let n,i=0;const o=[];for(;i<t.length;){const r=t[i],s=t[i+1];n||(n=e.createPositionBefore(r)),s&&r.nextSibling==s||(o.push(e.createRange(n,e.createPositionAfter(r))),n=null),i++}return o}function tw(e,t){const n=e.checkChild(t.parent,"blockQuote"),i=e.checkChild(["$root","blockQuote"],t);return n&&i}class nw extends Lo{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[lb,zf]}init(){const e=this.editor,t=e.model.schema;e.commands.add("blockQuote",new Xy(e)),t.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer((n=>{const i=e.model.document.differ.getChanges();for(const e of i)if("insert"==e.type){const i=e.position.nodeAfter;if(!i)continue;if(i.is("element","blockQuote")&&i.isEmpty)return n.remove(i),!0;if(i.is("element","blockQuote")&&!t.checkChild(e.position,i))return n.unwrap(i),!0;if(i.is("element")){const e=n.createRangeIn(i);for(const i of e.getItems())if(i.is("element","blockQuote")&&!t.checkChild(n.createPositionBefore(i),i))return n.unwrap(i),!0}}else if("remove"==e.type){const t=e.position.parent;if(t.is("element","blockQuote")&&t.isEmpty)return n.remove(t),!0}return!1}));const n=this.editor.editing.view.document,i=e.model.document.selection,o=e.commands.get("blockQuote");this.listenTo(n,"enter",((t,n)=>{i.isCollapsed&&o.value&&i.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),n.preventDefault(),t.stop())}),{context:"blockquote"}),this.listenTo(n,"delete",((t,n)=>{if("backward"!=n.direction||!i.isCollapsed||!o.value)return;const r=i.getLastPosition().parent;r.isEmpty&&!r.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),n.preventDefault(),t.stop())}),{context:"blockquote"})}}var iw=r(8708);Do()(iw.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),iw.A.locals;class ow extends Lo{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,t=e.commands.get("blockQuote");e.ui.componentFactory.add("blockQuote",(()=>{const e=this._createButton(ap);return e.set({tooltip:!0}),e.bind("isOn").to(t,"value"),e})),e.ui.componentFactory.add("menuBar:blockQuote",(()=>this._createButton(Tm)))}_createButton(e){const t=this.editor,n=t.locale,i=t.commands.get("blockQuote"),o=new e(t.locale),r=n.t;return o.set({label:r("Block quote"),icon:Gu.quote,isToggleable:!0}),o.bind("isEnabled").to(i,"isEnabled"),this.listenTo(o,"execute",(()=>{t.execute("blockQuote"),t.editing.view.focus()})),o}}class rw extends Lo{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const t=e.t,n=e.ui.componentFactory;if(n.add("ckbox",(()=>{const e=this._createButton(ap);return e.tooltip=!0,e})),n.add("menuBar:ckbox",(()=>this._createButton(Tm))),e.plugins.has("ImageInsertUI")){const n=e.plugins.get("ImageInsertUI");n.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckbox"),buttonViewCreator:()=>{const e=this.editor.ui.componentFactory.create("ckbox");return e.icon=Gu.imageAssetManager,e.bind("label").to(n,"isImageSelected",(e=>t(e?"Replace image with file manager":"Insert image with file manager"))),e},formViewCreator:()=>{const e=this.editor.ui.componentFactory.create("ckbox");return e.icon=Gu.imageAssetManager,e.withText=!0,e.bind("label").to(n,"isImageSelected",(e=>t(e?"Replace with file manager":"Insert with file manager"))),e.on("execute",(()=>{n.dropdownView.isOpen=!1})),e}})}}_createButton(e){const t=this.editor,n=t.locale,i=new e(n),o=t.commands.get("ckbox"),r=n.t;return i.set({label:r("Open file manager"),icon:Gu.browseFiles}),i.bind("isOn","isEnabled").to(o,"value","isEnabled"),i.on("execute",(()=>{t.execute("ckbox")})),i}}var sw=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],aw=e=>{let t=0;for(let n=0;n<e.length;n++){let i=e[n];t=83*t+sw.indexOf(i)}return t},lw=e=>{let t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},cw=e=>{let t=Math.max(0,Math.min(1,e));return t<=.0031308?Math.trunc(12.92*t*255+.5):Math.trunc(255*(1.055*Math.pow(t,.4166666666666667)-.055)+.5)},dw=(e,t)=>(e=>e<0?-1:1)(e)*Math.pow(Math.abs(e),t),uw=class extends Error{constructor(e){super(e),this.name="ValidationError",this.message=e}},pw=e=>{let t=e>>8&255,n=255&e;return[lw(e>>16),lw(t),lw(n)]},hw=(e,t)=>{let n=Math.floor(e/361),i=Math.floor(e/19)%19,o=e%19;return[dw((n-9)/9,2)*t,dw((i-9)/9,2)*t,dw((o-9)/9,2)*t]},gw=(e,t,n,i)=>{(e=>{if(!e||e.length<6)throw new uw("The blurhash string must be at least 6 characters");let t=aw(e[0]),n=Math.floor(t/9)+1,i=t%9+1;if(e.length!==4+2*i*n)throw new uw(`blurhash length mismatch: length is ${e.length} but it should be ${4+2*i*n}`)})(e),i|=1;let o=aw(e[0]),r=Math.floor(o/9)+1,s=o%9+1,a=(aw(e[1])+1)/166,l=new Array(s*r);for(let u=0;u<l.length;u++)if(0===u){let t=aw(e.substring(2,6));l[u]=pw(t)}else{let t=aw(e.substring(4+2*u,6+2*u));l[u]=hw(t,a*i)}let c=4*t,d=new Uint8ClampedArray(c*n);for(let u=0;u<n;u++)for(let e=0;e<t;e++){let i=0,o=0,a=0;for(let c=0;c<r;c++)for(let r=0;r<s;r++){let d=Math.cos(Math.PI*e*r/t)*Math.cos(Math.PI*u*c/n),p=l[r+c*s];i+=p[0]*d,o+=p[1]*d,a+=p[2]*d}let p=cw(i),h=cw(o),g=cw(a);d[4*e+0+u*c]=p,d[4*e+1+u*c]=h,d[4*e+2+u*c]=g,d[4*e+3+u*c]=255}return d},mw=Object.defineProperty,fw=Object.getOwnPropertySymbols,bw=Object.prototype.hasOwnProperty,yw=Object.prototype.propertyIsEnumerable,ww=(e,t,n)=>t in e?mw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function vw(e){const t=[];let n=0;for(const o in e){const i=parseInt(o,10);isNaN(i)||(i>n&&(n=i),t.push(`${e[o]} ${o}w`))}const i=[{srcset:t.join(","),sizes:`(max-width: ${n}px) 100vw, ${n}px`,type:"image/webp"}];return{imageFallbackUrl:e.default,imageSources:i}}function kw(e){let{url:t,method:n="GET",data:i,onUploadProgress:o,signal:r,authorization:s}=e;const a=new XMLHttpRequest;a.open(n,t.toString()),a.setRequestHeader("Authorization",s),a.setRequestHeader("CKBox-Version","CKEditor 5"),a.responseType="json";const l=()=>{a.abort()};return new Promise(((e,t)=>{r.throwIfAborted(),r.addEventListener("abort",l),a.addEventListener("loadstart",(()=>{r.addEventListener("abort",l)})),a.addEventListener("loadend",(()=>{r.removeEventListener("abort",l)})),a.addEventListener("error",(()=>{t()})),a.addEventListener("abort",(()=>{t()})),a.addEventListener("load",(()=>{const n=a.response;if(!n||n.statusCode>=400)return t(n&&n.message);e(n)})),o&&a.upload.addEventListener("progress",(e=>{o(e)})),a.send(i)}))}const _w={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};var xw=Object.defineProperty,Aw=Object.getOwnPropertySymbols,Cw=Object.prototype.hasOwnProperty,Sw=Object.prototype.propertyIsEnumerable,Iw=(e,t,n)=>t in e?xw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Tw=(e,t)=>{for(var n in t||(t={}))Cw.call(t,n)&&Iw(e,n,t[n]);if(Aw)for(var n of Aw(t))Sw.call(t,n)&&Iw(e,n,t[n]);return e};class Ew extends Oo{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return null!==this._wrapper}_checkEnabled(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");return!(!e.isEnabled&&!t.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,forceDemoLabel:e.forceDemoLabel,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:e=>this.fire("ckbox:choose",e)}}}_initListeners(){const e=this.editor,t=e.model,n=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",(()=>{this.refresh()}),{priority:"low"}),this.on("ckbox:open",(()=>{this.isEnabled&&!this.value&&(this._wrapper=me(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))})),this.on("ckbox:close",(()=>{this.value&&(this._wrapper.remove(),this._wrapper=null,e.editing.view.focus())})),this.on("ckbox:choose",((i,o)=>{if(!this.isEnabled)return;const r=e.commands.get("insertImage"),s=e.commands.get("link"),a=function(e){let{assets:t,isImageAllowed:n,isLinkAllowed:i}=e;return t.map((e=>function(e){const t=e.data.metadata;return!!t&&t.width&&t.height}(e)?{id:e.data.id,type:"image",attributes:Dw(e)}:{id:e.data.id,type:"link",attributes:Mw(e)})).filter((e=>"image"===e.type?n:i))}({assets:o,isImageAllowed:r.isEnabled,isLinkAllowed:s.isEnabled}),l=a.length;0!==l&&(t.change((e=>{for(const t of a){const i=t===a[l-1],o=1===l;this._insertAsset(t,i,e,o),n&&(setTimeout((()=>this._chosenAssets.delete(t)),1e3),this._chosenAssets.add(t))}})),e.editing.view.focus())})),this.listenTo(e,"destroy",(()=>{this.fire("ckbox:close"),this._chosenAssets.clear()}))}_insertAsset(e,t,n,i){const o=this.editor.model.document.selection;n.removeSelectionAttribute("linkHref"),"image"===e.type?this._insertImage(e):this._insertLink(e,n,i),t||n.setSelection(o.getLastPosition())}_insertImage(e){const t=this.editor,{imageFallbackUrl:n,imageSources:i,imageTextAlternative:o,imageWidth:r,imageHeight:s,imagePlaceholder:a}=e.attributes;t.execute("insertImage",{source:Tw({src:n,sources:i,alt:o,width:r,height:s},a?{placeholder:a}:null)})}_insertLink(e,t,n){const i=this.editor,o=i.model,r=o.document.selection,{linkName:s,linkHref:a}=e.attributes;if(r.isCollapsed){const e=eo(r.getAttributes()),l=t.createText(s,e);if(!n){const e=r.getLastPosition(),n=e.parent;"paragraph"===n.name&&n.isEmpty||i.execute("insertParagraph",{position:e});const s=o.insertContent(l);return t.setSelection(s),void i.execute("link",a)}const c=o.insertContent(l);t.setSelection(c)}i.execute("link",a)}}function Dw(e){const{imageFallbackUrl:t,imageSources:n}=vw(e.data.imageUrls),{description:i,width:o,height:r,blurHash:s}=e.data.metadata,a=function(e){if(e)try{const t="32px",n=document.createElement("canvas");n.setAttribute("width",t),n.setAttribute("height",t);const i=n.getContext("2d");if(!i)return;const o=i.createImageData(32,32),r=gw(e,32,32);return o.data.set(r),i.putImageData(o,0,0),n.toDataURL()}catch(e){return}}(s);return Tw({imageFallbackUrl:t,imageSources:n,imageTextAlternative:i||"",imageWidth:o,imageHeight:r},a?{imagePlaceholder:a}:null)}function Mw(e){return{linkName:e.data.name,linkHref:Pw(e)}}function Pw(e){const t=new URL(e.data.url);return t.searchParams.set("download","true"),t.toString()}var Rw=(e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())}));class Bw extends Lo{static get pluginName(){return"CKBoxUtils"}static get requires(){return["CloudServices"]}init(){return Rw(this,null,(function*(){const e=this.editor,t=!!e.config.get("ckbox"),n=!!window.CKBox;if(!t&&!n)return;e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"lark",tokenUrl:e.config.get("cloudServices.tokenUrl")});const i=e.plugins.get("CloudServices"),o=e.config.get("cloudServices.tokenUrl"),r=e.config.get("ckbox.tokenUrl");if(!r)throw new v("ckbox-plugin-missing-token-url",this);this._token=r==o?i.token:yield i.registerTokenUrl(r)}))}getToken(){return this._token}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),t=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),n=function(e,t){const[,n]=e.value.split("."),i=JSON.parse(atob(n)),o=i.auth&&i.auth.ckbox&&i.auth.ckbox.workspaces||[i.aud];return t?"superadmin"==(i.auth&&i.auth.ckbox&&i.auth.ckbox.role)||o.includes(t)?t:null:o[0]}(this._token,t);if(null==n)throw _("ckbox-access-default-workspace-error"),e;return n}getCategoryIdForFile(e,t){return Rw(this,null,(function*(){const n=(0,this.editor.t)("Cannot determine a category for the uploaded file."),i=this.editor.config.get("ckbox.defaultUploadCategories"),o=this._getAvailableCategories(t),r="string"==typeof e?(s=yield function(e,t){return n=this,i=function*(){try{const n=yield fetch(e,((e,t)=>{for(var n in t||(t={}))bw.call(t,n)&&ww(e,n,t[n]);if(fw)for(var n of fw(t))yw.call(t,n)&&ww(e,n,t[n]);return e})({method:"HEAD",cache:"force-cache"},t));return n.ok&&n.headers.get("content-type")||""}catch(e){return""}},new Promise(((e,t)=>{var o=e=>{try{s(i.next(e))}catch(e){t(e)}},r=e=>{try{s(i.throw(e))}catch(e){t(e)}},s=t=>t.done?e(t.value):Promise.resolve(t.value).then(o,r);s((i=i.apply(n,null)).next())}));var n,i}(e,t),_w[s]):function(e){const t=e.name,n=new RegExp("\\.(?<ext>[^.]+)$");return t.match(n).groups.ext.toLowerCase()}(e);var s;const a=yield o;if(!a)throw n;if(i){const e=Object.keys(i).find((e=>i[e].find((e=>e.toLowerCase()==r))));if(e){const t=a.find((t=>t.id===e||t.name===e));if(!t)throw n;return t.id}}const l=a.find((e=>e.extensions.find((e=>e.toLowerCase()==r))));if(!l)throw n;return l.id}))}_getAvailableCategories(e){return Rw(this,null,(function*(){const t=this.editor,n=this._token,{signal:i}=e,o=t.config.get("ckbox.serviceOrigin"),r=this.getWorkspaceId();try{const e=[];let t,n=0;do{const i=yield s(n);e.push(...i.items),t=i.totalCount-(n+50),n+=50}while(t>0);return e}catch(e){return i.throwIfAborted(),void _("ckbox-fetch-category-http-error")}function s(e){const t=new URL("categories",o);return t.searchParams.set("limit",50..toString()),t.searchParams.set("offset",e.toString()),t.searchParams.set("workspaceId",r),kw({url:t,signal:i,authorization:n.value})}}))}}var jw=(e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())}));class Lw extends Lo{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Py,Ow]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return jw(this,null,(function*(){const e=this.editor,t=!!e.config.get("ckbox"),n=!!window.CKBox;if(!t&&!n)return;const i=e.plugins.get(Py),o=e.plugins.get(Bw);i.createUploadAdapter=t=>new zw(t,e,o);const r=!e.config.get("ckbox.ignoreDataId"),s=e.plugins.get("ImageUploadEditing");r&&s.on("uploadComplete",((t,n)=>{let{imageElement:i,data:o}=n;e.model.change((e=>{e.setAttribute("ckboxImageId",o.ckboxImageId,i)}))}))}))}}class zw{constructor(e,t,n){this.loader=e,this.token=n.getToken(),this.ckboxUtils=n,this.editor=t,this.controller=new AbortController,this.serviceOrigin=t.config.get("ckbox.serviceOrigin")}upload(){return jw(this,null,(function*(){const e=this.ckboxUtils,t=this.editor.t,n=yield this.loader.file,i=yield e.getCategoryIdForFile(n,{signal:this.controller.signal}),o=new URL("assets",this.serviceOrigin),r=new FormData;return o.searchParams.set("workspaceId",e.getWorkspaceId()),r.append("categoryId",i),r.append("file",n),kw({method:"POST",url:o,data:r,onUploadProgress:e=>{e.lengthComputable&&(this.loader.uploadTotal=e.total,this.loader.uploaded=e.loaded)},signal:this.controller.signal,authorization:this.token.value}).then((e=>jw(this,null,(function*(){const t=vw(e.imageUrls);return{ckboxImageId:e.id,default:t.imageFallbackUrl,sources:t.imageSources}})))).catch((()=>{const e=t("Cannot upload file:")+` ${n.name}.`;return Promise.reject(e)}))}))}abort(){this.controller.abort()}}class Ow extends Lo{static get pluginName(){return"CKBoxEditing"}static get requires(){return["LinkEditing","PictureEditing",Lw,Bw]}init(){const e=this.editor;this._shouldBeInitialised()&&(this._checkImagePlugins(),Hw()&&e.commands.add("ckbox",new Ew(e)))}afterInit(){const e=this.editor;this._shouldBeInitialised()&&(e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()))}_shouldBeInitialised(){return!!this.editor.config.get("ckbox")||Hw()}_checkImagePlugins(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||_("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck(((e,t)=>{if(!e.last.getAttribute("linkHref")&&"ckboxLinkId"===t)return!1}))}_initConversion(){const e=this.editor;e.conversion.for("downcast").add((e=>{e.on("attribute:ckboxLinkId:imageBlock",((e,t,n)=>{const{writer:i,mapper:o,consumable:r}=n;if(!r.consume(t.item,e.name))return;const s=[...o.toViewElement(t.item).getChildren()].find((e=>"a"===e.name));s&&(t.item.hasAttribute("ckboxLinkId")?i.setAttribute("data-ckbox-resource-id",t.item.getAttribute("ckboxLinkId"),s):i.removeAttribute("data-ckbox-resource-id",s))}),{priority:"low"}),e.on("attribute:ckboxLinkId",((e,t,n)=>{const{writer:i,mapper:o,consumable:r}=n;if(r.consume(t.item,e.name)){if(t.attributeOldValue){const e=Fw(i,t.attributeOldValue);i.unwrap(o.toViewRange(t.range),e)}if(t.attributeNewValue){const e=Fw(i,t.attributeNewValue);if(t.item.is("selection")){const t=i.document.selection;i.wrap(t.getFirstRange(),e)}else i.wrap(o.toViewRange(t.range),e)}}}),{priority:"low"})})),e.conversion.for("upcast").add((e=>{e.on("element:a",((e,t,n)=>{const{writer:i,consumable:o}=n;if(!t.viewItem.getAttribute("href"))return;if(!o.consume(t.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const r=t.viewItem.getAttribute("data-ckbox-resource-id");if(r)if(t.modelRange)for(let s of t.modelRange.getItems())s.is("$textProxy")&&(s=s.textNode),Vw(s)&&i.setAttribute("ckboxLinkId",r,s);else{const e=t.modelCursor.nodeBefore||t.modelCursor.parent;i.setAttribute("ckboxLinkId",r,e)}}),{priority:"low"})})),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:e=>e.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}});const t=e.commands.get("replaceImageSource");t&&this.listenTo(t,"cleanupImage",((e,t)=>{let[n,i]=t;n.removeAttribute("ckboxImageId",i)}))}_initFixers(){const e=this.editor,t=e.model,n=t.document.selection;t.document.registerPostFixer(function(e){return t=>{let n=!1;const i=e.model,o=e.commands.get("ckbox");if(!o)return n;for(const e of i.document.differ.getChanges()){if("insert"!==e.type&&"attribute"!==e.type)continue;const i="insert"===e.type?new el(e.position,e.position.getShiftedBy(e.length)):e.range,r="attribute"===e.type&&"linkHref"===e.attributeKey&&null===e.attributeNewValue;for(const e of i.getItems()){if(r&&e.hasAttribute("ckboxLinkId")){t.removeAttribute("ckboxLinkId",e),n=!0;continue}const i=Nw(e,o._chosenAssets);for(const o of i){const i="image"===o.type?"ckboxImageId":"ckboxLinkId";o.id!==e.getAttribute(i)&&(t.setAttribute(i,o.id,e),n=!0)}}}return n}}(e)),t.document.registerPostFixer(function(e){return t=>!(e.hasAttribute("linkHref")||!e.hasAttribute("ckboxLinkId"))&&(t.removeSelectionAttribute("ckboxLinkId"),!0)}(n))}}function Nw(e,t){const n=e.is("element","imageInline")||e.is("element","imageBlock"),i=e.hasAttribute("linkHref");return[...t].filter((t=>"image"===t.type&&n?t.attributes.imageFallbackUrl===e.getAttribute("src"):"link"===t.type&&i?t.attributes.linkHref===e.getAttribute("linkHref"):void 0))}function Fw(e,t){const n=e.createAttributeElement("a",{"data-ckbox-resource-id":t},{priority:5});return e.setCustomProperty("link",!0,n),n}function Vw(e){return!!e.is("$text")||!(!e.is("element","imageInline")&&!e.is("element","imageBlock"))}function Hw(){return!!window.CKBox}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Ww=r(1866);Do()(Ww.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ww.A.locals;class Uw extends Lo{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,t=e.ui.componentFactory,n=e.t;if(t.add("ckfinder",(e=>{const t=this._createButton(ap),n=e.t;return t.set({label:n("Insert image or file"),tooltip:!0}),t})),t.add("menuBar:ckfinder",(e=>{const t=this._createButton(Tm),n=e.t;return t.label=n("Image or file"),t})),e.plugins.has("ImageInsertUI")){const t=e.plugins.get("ImageInsertUI");t.registerIntegration({name:"assetManager",observable:()=>e.commands.get("ckfinder"),buttonViewCreator:()=>{const e=this.editor.ui.componentFactory.create("ckfinder");return e.icon=Gu.imageAssetManager,e.bind("label").to(t,"isImageSelected",(e=>n(e?"Replace image with file manager":"Insert image with file manager"))),e},formViewCreator:()=>{const e=this.editor.ui.componentFactory.create("ckfinder");return e.icon=Gu.imageAssetManager,e.withText=!0,e.bind("label").to(t,"isImageSelected",(e=>n(e?"Replace with file manager":"Insert with file manager"))),e.on("execute",(()=>{t.dropdownView.isOpen=!1})),e}})}}_createButton(e){const t=this.editor,n=new e(t.locale),i=t.commands.get("ckfinder");return n.icon=Gu.browseFiles,n.bind("isEnabled").to(i),n.on("execute",(()=>{t.execute("ckfinder"),t.editing.view.focus()})),n}}class qw extends Oo{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",(()=>this.refresh()),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),t=this.editor.commands.get("link");this.isEnabled=e.isEnabled||t.isEnabled}execute(){const e=this.editor,t=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=t&&"modal"!=t)throw new v("ckfinder-unknown-openermethod",e);const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const i=n.onInit;n.language||(n.language=e.locale.uiLanguage),n.onInit=t=>{i&&i(t),t.on("files:choose",(n=>{const i=n.data.files.toArray(),o=i.filter((e=>!e.isImage())),r=i.filter((e=>e.isImage()));for(const t of o)e.execute("link",t.getUrl());const s=[];for(const e of r){const n=e.getUrl();s.push(n||t.request("file:getProxyUrl",{file:e}))}s.length&&$w(e,s)})),t.on("file:choose:resizedImage",(t=>{const n=t.data.resizedUrl;if(n)$w(e,[n]);else{const t=e.plugins.get("Notification"),n=e.locale.t;t.showWarning(n("Could not obtain resized image URL."),{title:n("Selecting resized image failed"),namespace:"ckfinder"})}}))},window.CKFinder[t](n)}}function $w(e,t){if(e.commands.get("insertImage").isEnabled)e.execute("insertImage",{source:t});else{const t=e.plugins.get("Notification"),n=e.locale.t;t.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}class Gw extends Lo{static get pluginName(){return"CKFinderEditing"}static get requires(){return[vg,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new v("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new qw(e))}}class Kw extends Lo{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Py]}init(){const e=this.editor,t=e.plugins.get("CloudServices"),n=t.token,i=t.uploadUrl;if(!n)return;const o=e.plugins.get("CloudServicesCore");this._uploadGateway=o.createUploadGateway(n,i),e.plugins.get(Py).createUploadAdapter=e=>new Yw(this._uploadGateway,e)}}class Yw{constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.loader.file.then((e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",((e,t)=>{this.loader.uploadTotal=t.total,this.loader.uploaded=t.uploaded})),this.fileUploader.send())))}abort(){this.fileUploader.abort()}}class Qw extends Oo{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,t=Zi(e.document.selection.getSelectedBlocks());this.value=!!t&&t.is("element","paragraph"),this.isEnabled=!!t&&Zw(t,e.schema)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document,i=e.selection||n.selection;t.canEditAt(i)&&t.change((e=>{const n=i.getSelectedBlocks();for(const i of n)!i.is("element","paragraph")&&Zw(i,t.schema)&&e.rename(i,"paragraph")}))}}function Zw(e,t){return t.checkChild(e.parent,"paragraph")&&!t.isObject(e)}class Xw extends Oo{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const t=this.editor.model,n=e.attributes;let i=e.position;t.canEditAt(i)&&t.change((e=>{if(i=this._findPositionToInsertParagraph(i,e),!i)return;const o=e.createElement("paragraph");n&&t.schema.setAllowedAttributes(o,n,e),t.insertContent(o,i),e.setSelection(o,"in")}))}_findPositionToInsertParagraph(e,t){const n=this.editor.model;if(n.schema.checkChild(e,"paragraph"))return e;const i=n.schema.findAllowedParent(e,"paragraph");if(!i)return null;const o=e.parent,r=n.schema.checkChild(o,"$text");return o.isEmpty||r&&e.isAtEnd?n.createPositionAfter(o):!o.isEmpty&&r&&e.isAtStart?n.createPositionBefore(o):t.split(e,i).position}}const Jw=class extends Lo{static get pluginName(){return"Paragraph"}init(){const e=this.editor,t=e.model;e.commands.add("paragraph",new Qw(e)),e.commands.add("insertParagraph",new Xw(e)),t.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(e,t)=>{let{writer:n}=t;return Jw.paragraphLikeElements.has(e.name)?e.isEmpty?null:n.createElement("paragraph"):null},view:/.+/,converterPriority:"low"})}};let ev=Jw;ev.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class tv extends Oo{constructor(e,t){super(e),this.modelElements=t}refresh(){const e=Zi(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some((t=>nv(e,t,this.editor.model.schema)))}execute(e){const t=this.editor.model,n=t.document,i=e.value;t.change((e=>{const o=Array.from(n.selection.getSelectedBlocks()).filter((e=>nv(e,i,t.schema)));for(const t of o)t.is("element",i)||e.rename(t,i)}))}}function nv(e,t,n){return n.checkChild(e.parent,t)&&!n.isObject(e)}const iv="paragraph";class ov extends Lo{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[ev]}init(){const e=this.editor,t=e.config.get("heading.options"),n=[];for(const i of t)"paragraph"!==i.model&&(e.model.schema.register(i.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(i),n.push(i.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new tv(e,n))}afterInit(){const e=this.editor,t=e.commands.get("enter"),n=e.config.get("heading.options");t&&this.listenTo(t,"afterExecute",((t,i)=>{const o=e.model.document.selection.getFirstPosition().parent;n.some((e=>o.is("element",e.model)))&&!o.is("element",iv)&&0===o.childCount&&i.writer.rename(o,iv)}))}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:y.low+1})}}var rv=r(6269);Do()(rv.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),rv.A.locals;class sv extends Lo{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,t=e.t,n=function(e){const t=e.t,n={Paragraph:t("Paragraph"),"Heading 1":t("Heading 1"),"Heading 2":t("Heading 2"),"Heading 3":t("Heading 3"),"Heading 4":t("Heading 4"),"Heading 5":t("Heading 5"),"Heading 6":t("Heading 6")};return e.config.get("heading.options").map((e=>{const t=n[e.title];return t&&t!=e.title&&(e.title=t),e}))}(e),i=t("Choose heading"),o=t("Heading");e.ui.componentFactory.add("heading",(t=>{const r={},s=new Qi,a=e.commands.get("heading"),l=e.commands.get("paragraph"),c=[a];for(const e of n){const t={type:"button",model:new kg({label:e.title,class:e.class,role:"menuitemradio",withText:!0})};"paragraph"===e.model?(t.model.bind("isOn").to(l,"value"),t.model.set("commandName","paragraph"),c.push(l)):(t.model.bind("isOn").to(a,"value",(t=>t===e.model)),t.model.set({commandName:"heading",commandValue:e.model})),s.add(t),r[e.model]=e.title}const d=th(t);return oh(d,s,{ariaLabel:o,role:"menu"}),d.buttonView.set({ariaLabel:o,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:o}),d.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),d.bind("isEnabled").toMany(c,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e))})),d.buttonView.bind("label").to(a,"value",l,"value",((e,t)=>{const n=t?"paragraph":e;return"boolean"==typeof n?i:r[n]?r[n]:i})),d.buttonView.bind("ariaLabel").to(a,"value",l,"value",((e,t)=>{const n=t?"paragraph":e;return"boolean"==typeof n?o:r[n]?`${r[n]}, ${o}`:o})),this.listenTo(d,"execute",(t=>{const{commandName:n,commandValue:i}=t.source;e.execute(n,i?{value:i}:void 0),e.editing.view.focus()})),d})),e.ui.componentFactory.add("menuBar:heading",(i=>{const o=new Cm(i),r=e.commands.get("heading"),s=e.commands.get("paragraph"),a=[r],l=new Sm(i);o.set({class:"ck-heading-dropdown"}),l.set({ariaLabel:t("Heading"),role:"menu"}),o.buttonView.set({label:t("Heading")}),o.panelView.children.add(l);for(const t of n){const n=new Jg(i,o),c=new Tm(i);n.children.add(c),l.items.add(n),c.set({label:t.title,role:"menuitemradio",class:t.class}),c.bind("ariaChecked").to(c,"isOn"),c.delegate("execute").to(o),c.on("execute",(()=>{const n="paragraph"===t.model?"paragraph":"heading";e.execute(n,{value:t.model}),e.editing.view.focus()})),"paragraph"===t.model?(c.bind("isOn").to(s,"value"),a.push(s)):c.bind("isOn").to(r,"value",(e=>e===t.model))}return o.bind("isEnabled").toMany(a,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e))})),o}))}}function av(e){return e.createContainerElement("figure",{class:"image"},[e.createEmptyElement("img"),e.createSlot("children")])}function lv(e,t){const n=e.plugins.get("ImageUtils"),i=e.plugins.has("ImageInlineEditing")&&e.plugins.has("ImageBlockEditing");return e=>n.isInlineImageView(e)?i&&("block"==e.getStyle("display")||e.findAncestor(n.isBlockImageView)?"imageBlock":"imageInline")!==t?null:o(e):null;function o(e){const t={name:!0};return e.hasAttribute("src")&&(t.attributes=["src"]),t}}function cv(e,t){const n=Zi(t.getSelectedBlocks());return!n||e.isObject(n)||n.isEmpty&&"listItem"!=n.name?"imageBlock":"imageInline"}function dv(e){return e&&e.endsWith("px")?parseInt(e):null}function uv(e){const t=dv(e.getStyle("width")),n=dv(e.getStyle("height"));return!(!t||!n)}var pv=Object.defineProperty,hv=Object.getOwnPropertySymbols,gv=Object.prototype.hasOwnProperty,mv=Object.prototype.propertyIsEnumerable,fv=(e,t,n)=>t in e?pv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,bv=(e,t)=>{for(var n in t||(t={}))gv.call(t,n)&&fv(e,n,t[n]);if(hv)for(var n of hv(t))mv.call(t,n)&&fv(e,n,t[n]);return e};const yv=/^(image|image-inline)$/;class wv extends Lo{constructor(){super(...arguments),this._domEmitter=new(Vn())}static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=this.editor,r=o.model,s=r.document.selection,a=vv(o,t||s,n);e=bv(bv({},Object.fromEntries(s.getAttributes())),e);for(const l in e)r.schema.checkAttribute(a,l)||delete e[l];return r.change((n=>{const{setImageSizes:o=!0}=i,s=n.createElement(a,e);return r.insertObject(s,t,null,{setSelection:"on",findOptimalPosition:t||"imageInline"==a?void 0:"auto"}),s.parent?(o&&this.setImageNaturalSizeAttributes(s),s):null}))}setImageNaturalSizeAttributes(e){const t=e.getAttribute("src");t&&(e.getAttribute("width")||e.getAttribute("height")||this.editor.model.change((n=>{const i=new o.window.Image;this._domEmitter.listenTo(i,"load",(()=>{e.getAttribute("width")||e.getAttribute("height")||this.editor.model.enqueueChange(n.batch,(t=>{t.setAttribute("width",i.naturalWidth,e),t.setAttribute("height",i.naturalHeight,e)})),this._domEmitter.stopListening(i,"load")})),i.src=t})))}getClosestSelectedImageWidget(e){const t=e.getFirstPosition();if(!t)return null;const n=e.getSelectedElement();if(n&&this.isImageWidget(n))return n;let i=t.parent;for(;i;){if(i.is("element")&&this.isImageWidget(i))return i;i=i.parent}return null}getClosestSelectedImageElement(e){const t=e.getSelectedElement();return this.isImage(t)?t:e.getFirstPosition().findAncestor("imageBlock")}getImageWidgetFromImageView(e){return e.findAncestor({classes:yv})}isImageAllowed(){const e=this.editor.model.document.selection;return function(e,t){if("imageBlock"==vv(e,t,null)){const n=function(e,t){const n=Ab(e,t).start.parent;return n.isEmpty&&!n.is("element","$root")?n.parent:n}(t,e.model);if(e.model.schema.checkChild(n,"imageBlock"))return!0}else if(e.model.schema.checkChild(t.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(e){return[...e.focus.getAncestors()].every((e=>!e.is("element","imageBlock")))}(e)}toImageWidget(e,t,n){return t.setCustomProperty("image",!0,e),wb(e,t,{label:()=>{const t=this.findViewImgElement(e).getAttribute("alt");return t?`${t} ${n}`:n}})}isImageWidget(e){return!!e.getCustomProperty("image")&&yb(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const t=this.editor.editing.view;for(const{item:n}of t.createRangeIn(e))if(this.isInlineImageView(n))return n}destroy(){return this._domEmitter.stopListening(),super.destroy()}}function vv(e,t,n){const i=e.model.schema,o=e.config.get("image.insert.type");return e.plugins.has("ImageBlockEditing")?e.plugins.has("ImageInlineEditing")?n||("inline"===o?"imageInline":"auto"!==o?"imageBlock":t.is("selection")?cv(i,t):i.checkChild(t,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,new RegExp(String(/^(http(s)?:\/\/)?[\w-]+\.[\w.~:/[\]@!$&'()*+,;=%-]+/.source+/\.(jpg|jpeg|png|gif|ico|webp|JPG|JPEG|PNG|GIF|ICO|WEBP)/.source+/(\?[\w.~:/[\]@!$&'()*+,;=%-]*)?/.source+/(#[\w.~:/[\]@!$&'()*+,;=%-]*)?$/.source));class kv extends Oo{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const t=this.editor,n=t.plugins.get("ImageUtils"),i=t.model,o=n.getClosestSelectedImageElement(i.document.selection);i.change((t=>{t.setAttribute("alt",e.newValue,o)}))}}class _v extends Lo{static get requires(){return[wv]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new kv(this.editor))}}var xv=r(4062);Do()(xv.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),xv.A.locals;var Av=r(2722);Do()(Av.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Av.A.locals;class Cv extends Po{constructor(e){super(e);const t=this.locale.t;this.focusTracker=new Xi,this.keystrokes=new Ji,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(t("Save"),Gu.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(t("Cancel"),Gu.cancel,"ck-button-cancel","cancel"),this._focusables=new so,this._focusCycler=new Tp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),jo({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach((e=>{this._focusables.add(e),this.focusTracker.add(e.element)}))}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,t,n,i){const o=new ap(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o}_createLabeledInputView(){const e=this.locale.t,t=new bp(this.locale,lh);return t.label=e("Text alternative"),t}}function Sv(e){const t=e.editing.view,n=Oh.defaultPositions,i=e.plugins.get("ImageUtils");return{target:t.domConverter.mapViewToDom(i.getClosestSelectedImageWidget(t.document.selection)),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,n.viewportStickyNorth]}}class Iv extends Lo{static get requires(){return[Cg]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,t=e.t;e.ui.componentFactory.add("imageTextAlternative",(n=>{const i=e.commands.get("imageTextAlternative"),o=new ap(n);return o.set({label:t("Change image text alternative"),icon:Gu.textAlternative,tooltip:!0}),o.bind("isEnabled").to(i,"isEnabled"),o.bind("isOn").to(i,"value",(e=>!!e)),this.listenTo(o,"execute",(()=>{this._showForm()})),o}))}_createForm(){const e=this.editor,t=e.editing.view.document,n=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(Bo(Cv))(e.locale),this._form.render(),this.listenTo(this._form,"submit",(()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)})),this.listenTo(this._form,"cancel",(()=>{this._hideForm(!0)})),this._form.keystrokes.set("Esc",((e,t)=>{this._hideForm(!0),t()})),this.listenTo(e.ui,"update",(()=>{n.getClosestSelectedImageWidget(t.selection)?this._isVisible&&function(e){const t=e.plugins.get("ContextualBalloon");if(e.plugins.get("ImageUtils").getClosestSelectedImageWidget(e.editing.view.document.selection)){const n=Sv(e);t.updatePosition(n)}}(e):this._hideForm(!0)})),Ro({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,t=e.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:Sv(e)}),n.fieldView.value=n.fieldView.element.value=t.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class Tv extends Lo{static get requires(){return[_v,Iv]}static get pluginName(){return"ImageTextAlternative"}}function Ev(e,t){const n=(t,n,i)=>{if(!i.consumable.consume(n.item,t.name))return;const o=i.writer,r=i.mapper.toViewElement(n.item),s=e.findViewImgElement(r);null===n.attributeNewValue?(o.removeAttribute("srcset",s),o.removeAttribute("sizes",s)):n.attributeNewValue&&(o.setAttribute("srcset",n.attributeNewValue,s),o.setAttribute("sizes","100vw",s))};return e=>{e.on(`attribute:srcset:${t}`,n)}}function Dv(e,t,n){const i=(t,n,i)=>{if(!i.consumable.consume(n.item,t.name))return;const o=i.writer,r=i.mapper.toViewElement(n.item),s=e.findViewImgElement(r);o.setAttribute(n.attributeKey,n.attributeNewValue||"",s)};return e=>{e.on(`attribute:${n}:${t}`,i)}}class Mv extends Gs{observe(e){this.listenTo(e,"load",((e,t)=>{const n=t.target;this.checkShouldIgnoreEventFromTarget(n)||"IMG"==n.tagName&&this._fireEvents(t)}),{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var Pv=Object.defineProperty,Rv=Object.getOwnPropertySymbols,Bv=Object.prototype.hasOwnProperty,jv=Object.prototype.propertyIsEnumerable,Lv=(e,t,n)=>t in e?Pv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,zv=(e,t)=>{for(var n in t||(t={}))Bv.call(t,n)&&Lv(e,n,t[n]);if(Rv)for(var n of Rv(t))jv.call(t,n)&&Lv(e,n,t[n]);return e};class Ov extends Oo{constructor(e){super(e);const t=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||"block"===t&&k("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||"inline"===t&&k("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const t=Mi(e.source),n=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),o=Object.fromEntries(n.getAttributes());t.forEach(((e,t)=>{const r=n.getSelectedElement();if("string"==typeof e&&(e={src:e}),t&&r&&i.isImage(r)){const t=this.editor.model.createPositionAfter(r);i.insertImage(zv(zv({},e),o),t)}else i.insertImage(zv(zv({},e),o))}))}}class Nv extends Oo{constructor(e){super(e),this.decorate("cleanupImage")}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(t),this.value=this.isEnabled?t.getAttribute("src"):null}execute(e){const t=this.editor.model.document.selection.getSelectedElement(),n=this.editor.plugins.get("ImageUtils");this.editor.model.change((i=>{i.setAttribute("src",e.source,t),this.cleanupImage(i,t),n.setImageNaturalSizeAttributes(t)}))}cleanupImage(e,t){e.removeAttribute("srcset",t),e.removeAttribute("sizes",t),e.removeAttribute("sources",t),e.removeAttribute("width",t),e.removeAttribute("height",t),e.removeAttribute("alt",t)}}class Fv extends Lo{static get requires(){return[wv]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,t=e.conversion;e.editing.view.addObserver(Mv),t.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:"srcset"});const n=new Ov(e),i=new Nv(e);e.commands.add("insertImage",n),e.commands.add("replaceImageSource",i),e.commands.add("imageInsert",n)}}class Vv extends Lo{static get requires(){return[wv]}static get pluginName(){return"ImageSizeAttributes"}afterInit(){this._registerSchema(),this._registerConverters("imageBlock"),this._registerConverters("imageInline")}_registerSchema(){this.editor.plugins.has("ImageBlockEditing")&&this.editor.model.schema.extend("imageBlock",{allowAttributes:["width","height"]}),this.editor.plugins.has("ImageInlineEditing")&&this.editor.model.schema.extend("imageInline",{allowAttributes:["width","height"]})}_registerConverters(e){const t=this.editor,n=t.plugins.get("ImageUtils"),i="imageBlock"===e?"figure":"img";function o(t,i,o,r){t.on(`attribute:${i}:${e}`,((t,i,s)=>{if(!s.consumable.consume(i.item,t.name))return;const a=s.writer,l=s.mapper.toViewElement(i.item),c=n.findViewImgElement(l);if(null!==i.attributeNewValue?a.setAttribute(o,i.attributeNewValue,c):a.removeAttribute(o,c),i.item.hasAttribute("sources"))return;const d=i.item.hasAttribute("resizedWidth");if("imageInline"===e&&!d&&!r)return;const u=i.item.getAttribute("width"),p=i.item.getAttribute("height");u&&p&&a.setStyle("aspect-ratio",`${u}/${p}`,c)}))}t.conversion.for("upcast").attributeToAttribute({view:{name:i,styles:{width:/.+/}},model:{key:"width",value:e=>uv(e)?dv(e.getStyle("width")):null}}).attributeToAttribute({view:{name:i,key:"width"},model:"width"}).attributeToAttribute({view:{name:i,styles:{height:/.+/}},model:{key:"height",value:e=>uv(e)?dv(e.getStyle("height")):null}}).attributeToAttribute({view:{name:i,key:"height"},model:"height"}),t.conversion.for("editingDowncast").add((e=>{o(e,"width","width",!0),o(e,"height","height",!0)})),t.conversion.for("dataDowncast").add((e=>{o(e,"width","width",!1),o(e,"height","height",!1)}))}}class Hv extends Oo{constructor(e,t){super(e),this._modelElementName=t}refresh(){const e=this.editor.plugins.get("ImageUtils"),t=e.getClosestSelectedImageElement(this.editor.model.document.selection);"imageBlock"===this._modelElementName?this.isEnabled=e.isInlineImage(t):this.isEnabled=e.isBlockImage(t)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor,n=this.editor.model,i=t.plugins.get("ImageUtils"),o=i.getClosestSelectedImageElement(n.document.selection),r=Object.fromEntries(o.getAttributes());return r.src||r.uploadId?n.change((t=>{const{setImageSizes:s=!0}=e,a=Array.from(n.markers).filter((e=>e.getRange().containsItem(o))),l=i.insertImage(r,n.createSelection(o,"on"),this._modelElementName,{setImageSizes:s});if(!l)return null;const c=t.createRangeOn(l);for(const e of a){const n=e.getRange(),i="$graveyard"!=n.root.rootName?n.getJoined(c,!0):c;t.updateMarker(e,{range:i})}return{oldElement:o,newElement:l}})):null}}var Wv=r(7378);Do()(Wv.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Wv.A.locals;class Uv extends Lo{static get requires(){return[wv]}static get pluginName(){return"ImagePlaceholder"}afterInit(){this._setupSchema(),this._setupConversion(),this._setupLoadListener()}_setupSchema(){const e=this.editor.model.schema;e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["placeholder"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["placeholder"]})}_setupConversion(){const e=this.editor,t=e.conversion,n=e.plugins.get("ImageUtils");t.for("editingDowncast").add((e=>{e.on("attribute:placeholder",((e,t,i)=>{if(!i.consumable.test(t.item,e.name))return;if(!t.item.is("element","imageBlock")&&!t.item.is("element","imageInline"))return;i.consumable.consume(t.item,e.name);const o=i.writer,r=i.mapper.toViewElement(t.item),s=n.findViewImgElement(r);t.attributeNewValue?(o.addClass("image_placeholder",s),o.setStyle("background-image",`url(${t.attributeNewValue})`,s),o.setCustomProperty("editingPipeline:doNotReuseOnce",!0,s)):(o.removeClass("image_placeholder",s),o.removeStyle("background-image",s))}))}))}_setupLoadListener(){const e=this.editor,t=e.model,n=e.editing,i=n.view,o=e.plugins.get("ImageUtils");i.addObserver(Mv),this.listenTo(i.document,"imageLoaded",((e,r)=>{const s=i.domConverter.mapDomToView(r.target);if(!s)return;const a=o.getImageWidgetFromImageView(s);if(!a)return;const l=n.mapper.toModelElement(a);l&&l.hasAttribute("placeholder")&&t.enqueueChange({isUndoable:!1},(e=>{e.removeAttribute("placeholder",l)}))}))}}class qv extends Lo{static get requires(){return[Fv,Vv,wv,Uv,xf]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new Hv(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,i=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToStructure({model:"imageBlock",view:(e,t)=>{let{writer:n}=t;return av(n)}}),n.for("editingDowncast").elementToStructure({model:"imageBlock",view:(e,n)=>{let{writer:o}=n;return i.toImageWidget(av(o),o,t("image widget"))}}),n.for("downcast").add(Dv(i,"imageBlock","src")).add(Dv(i,"imageBlock","alt")).add(Ev(i,"imageBlock")),n.for("upcast").elementToElement({view:lv(e,"imageBlock"),model:(e,t)=>{let{writer:n}=t;return n.createElement("imageBlock",e.hasAttribute("src")?{src:e.getAttribute("src")}:void 0)}}).add(function(e){const t=(t,n,i)=>{if(!i.consumable.test(n.viewItem,{name:!0,classes:"image"}))return;const o=e.findViewImgElement(n.viewItem);if(!o||!i.consumable.test(o,{name:!0}))return;i.consumable.consume(n.viewItem,{name:!0,classes:"image"});const r=Zi(i.convertItem(o,n.modelCursor).modelRange.getItems());r?(i.convertChildren(n.viewItem,r),i.updateConversionResult(r,n)):i.consumable.revert(n.viewItem,{name:!0,classes:"image"})};return e=>{e.on("element:figure",t)}}(i))}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,i=e.plugins.get("ImageUtils"),o=e.plugins.get("ClipboardPipeline");this.listenTo(o,"inputTransformation",((o,r)=>{const s=Array.from(r.content.getChildren());let a;if(!s.every(i.isInlineImageView))return;a=r.targetRanges?e.editing.mapper.toModelRange(r.targetRanges[0]):t.document.selection.getFirstRange();const l=t.createSelection(a);if("imageBlock"===cv(t.schema,l)){const e=new Du(n.document),t=s.map((t=>e.createElement("figure",{class:"image"},t)));r.content=e.createDocumentFragment(t)}})),this.listenTo(o,"contentInsertion",((e,n)=>{"paste"===n.method&&t.change((e=>{const t=e.createRangeIn(n.content);for(const n of t.getItems())n.is("element","imageBlock")&&i.setImageNaturalSizeAttributes(n)}))}))}}var $v=r(3350);Do()($v.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),$v.A.locals;class Gv extends Po{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];super(e),this.focusTracker=new Xi,this.keystrokes=new Ji,this._focusables=new so,this.children=this.createCollection(),this._focusCycler=new Tp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});for(const n of t)this.children.add(n),this._focusables.add(n),n instanceof gp&&this._focusables.addMany(n.children);if(this._focusables.length>1)for(const n of this._focusables)Kv(n)&&(n.focusCycler.on("forwardCycle",(e=>{this._focusCycler.focusNext(),e.stop()})),n.focusCycler.on("backwardCycle",(e=>{this._focusCycler.focusPrevious(),e.stop()})));this.setTemplate({tag:"form",attributes:{class:["ck","ck-image-insert-form"],tabindex:-1},children:this.children})}render(){super.render(),jo({view:this});for(const t of this._focusables)this.focusTracker.add(t.element);this.keystrokes.listenTo(this.element);const e=e=>e.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}}function Kv(e){return"focusCycler"in e}class Yv extends Lo{constructor(e){super(e),this._integrations=new Map,e.config.define("image.insert.integrations",["upload","assetManager","url"])}static get pluginName(){return"ImageInsertUI"}static get requires(){return[wv]}init(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("ImageUtils");this.set("isImageSelected",!1),this.listenTo(e.model.document,"change",(()=>{this.isImageSelected=n.isImage(t.getSelectedElement())}));const i=e=>this._createToolbarComponent(e);e.ui.componentFactory.add("insertImage",i),e.ui.componentFactory.add("imageInsert",i)}registerIntegration(e){let{name:t,observable:n,buttonViewCreator:i,formViewCreator:o,requiresForm:r}=e;this._integrations.has(t)&&k("image-insert-integration-exists",{name:t}),this._integrations.set(t,{observable:n,buttonViewCreator:i,formViewCreator:o,requiresForm:!!r})}_createToolbarComponent(e){const t=this.editor,n=e.t,i=this._prepareIntegrations();if(!i.length)return null;let o;const r=i[0];if(1==i.length){if(!r.requiresForm)return r.buttonViewCreator(!0);o=r.buttonViewCreator(!0)}else{const t=r.buttonViewCreator(!1);o=new Xp(e,t),o.tooltip=!0,o.bind("label").to(this,"isImageSelected",(e=>n(e?"Replace image":"Insert image")))}const s=this.dropdownView=th(e,o),a=i.map((e=>{let{observable:t}=e;return"function"==typeof t?t():t}));return s.bind("isEnabled").toMany(a,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e))})),s.once("change:isOpen",(()=>{const e=i.map((e=>{let{formViewCreator:t}=e;return t(1==i.length)})),n=new Gv(t.locale,e);s.panelView.children.add(n)})),s}_prepareIntegrations(){const e=this.editor.config.get("image.insert.integrations"),t=[];if(!e.length)return k("image-insert-integrations-not-specified"),t;for(const n of e)this._integrations.has(n)?t.push(this._integrations.get(n)):["upload","assetManager","url"].includes(n)||k("image-insert-unknown-integration",{item:n});return t.length||k("image-insert-integrations-not-registered"),t}}var Qv=r(265);Do()(Qv.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Qv.A.locals;class Zv extends Lo{static get requires(){return[qv,zb,Tv,Yv]}static get pluginName(){return"ImageBlock"}}class Xv extends Lo{static get requires(){return[Fv,Vv,wv,Uv,xf]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,t=e.model.schema;t.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),t.addChildCheck(((e,t)=>{if(e.endsWith("caption")&&"imageInline"===t.name)return!1})),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new Hv(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,t=e.t,n=e.conversion,i=e.plugins.get("ImageUtils");n.for("dataDowncast").elementToElement({model:"imageInline",view:(e,t)=>{let{writer:n}=t;return n.createEmptyElement("img")}}),n.for("editingDowncast").elementToStructure({model:"imageInline",view:(e,n)=>{let{writer:o}=n;return i.toImageWidget(function(e){return e.createContainerElement("span",{class:"image-inline"},e.createEmptyElement("img"))}(o),o,t("image widget"))}}),n.for("downcast").add(Dv(i,"imageInline","src")).add(Dv(i,"imageInline","alt")).add(Ev(i,"imageInline")),n.for("upcast").elementToElement({view:lv(e,"imageInline"),model:(e,t)=>{let{writer:n}=t;return n.createElement("imageInline",e.hasAttribute("src")?{src:e.getAttribute("src")}:void 0)}})}_setupClipboardIntegration(){const e=this.editor,t=e.model,n=e.editing.view,i=e.plugins.get("ImageUtils"),o=e.plugins.get("ClipboardPipeline");this.listenTo(o,"inputTransformation",((o,r)=>{const s=Array.from(r.content.getChildren());let a;if(!s.every(i.isBlockImageView))return;a=r.targetRanges?e.editing.mapper.toModelRange(r.targetRanges[0]):t.document.selection.getFirstRange();const l=t.createSelection(a);if("imageInline"===cv(t.schema,l)){const e=new Du(n.document),t=s.map((t=>1===t.childCount?(Array.from(t.getAttributes()).forEach((n=>e.setAttribute(...n,i.findViewImgElement(t)))),t.getChild(0)):t));r.content=e.createDocumentFragment(t)}})),this.listenTo(o,"contentInsertion",((e,n)=>{"paste"===n.method&&t.change((e=>{const t=e.createRangeIn(n.content);for(const n of t.getItems())n.is("element","imageInline")&&i.setImageNaturalSizeAttributes(n)}))}))}}class Jv extends Lo{static get requires(){return[Xv,zb,Tv,Yv]}static get pluginName(){return"ImageInline"}}class ek extends Lo{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[wv]}getCaptionFromImageModelElement(e){for(const t of e.getChildren())if(t&&t.is("element","caption"))return t;return null}getCaptionFromModelSelection(e){const t=this.editor.plugins.get("ImageUtils"),n=e.getFirstPosition().findAncestor("caption");return n&&t.isBlockImage(n.parent)?n:null}matchImageCaptionViewElement(e){const t=this.editor.plugins.get("ImageUtils");return"figcaption"==e.name&&t.isBlockImageView(e.parent)?{name:!0}:null}}class tk extends Oo{refresh(){const e=this.editor,t=e.plugins.get("ImageCaptionUtils"),n=e.plugins.get("ImageUtils");if(!e.plugins.has(qv))return this.isEnabled=!1,void(this.value=!1);const i=e.model.document.selection,o=i.getSelectedElement();if(!o){const e=t.getCaptionFromModelSelection(i);return this.isEnabled=!!e,void(this.value=!!e)}this.isEnabled=n.isImage(o),this.isEnabled?this.value=!!t.getCaptionFromImageModelElement(o):this.value=!1}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{focusCaptionOnShow:t}=e;this.editor.model.change((e=>{this.value?this._hideImageCaption(e):this._showImageCaption(e,t)}))}_showImageCaption(e,t){const n=this.editor.model.document.selection,i=this.editor.plugins.get("ImageCaptionEditing"),o=this.editor.plugins.get("ImageUtils");let r=n.getSelectedElement();const s=i._getSavedCaption(r);o.isInlineImage(r)&&(this.editor.execute("imageTypeBlock"),r=n.getSelectedElement());const a=s||e.createElement("caption");e.append(a,r),t&&e.setSelection(a,"in")}_hideImageCaption(e){const t=this.editor,n=t.model.document.selection,i=t.plugins.get("ImageCaptionEditing"),o=t.plugins.get("ImageCaptionUtils");let r,s=n.getSelectedElement();s?r=o.getCaptionFromImageModelElement(s):(r=o.getCaptionFromModelSelection(n),s=r.parent),i._saveCaption(s,r),e.setSelection(s,"on"),e.remove(r)}}class nk extends Lo{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[wv,ek]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,t=e.model.schema;t.isRegistered("caption")?t.extend("caption",{allowIn:"imageBlock"}):t.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new tk(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils"),o=e.t;e.conversion.for("upcast").elementToElement({view:e=>i.matchImageCaptionViewElement(e),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(e,t)=>{let{writer:i}=t;return n.isBlockImage(e.parent)?i.createContainerElement("figcaption"):null}}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(e,i)=>{let{writer:r}=i;if(!n.isBlockImage(e.parent))return null;const s=r.createEditableElement("figcaption");r.setCustomProperty("imageCaption",!0,s),s.placeholder=o("Enter image caption"),Zo({view:t,element:s,keepOnFocus:!0});const a=e.parent.getAttribute("alt");return xb(s,r,{label:a?o("Caption for image: %0",[a]):o("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.plugins.get("ImageCaptionUtils"),i=e.commands.get("imageTypeInline"),o=e.commands.get("imageTypeBlock"),r=e=>{if(!e.return)return;const{oldElement:i,newElement:o}=e.return;if(!i)return;if(t.isBlockImage(i)){const e=n.getCaptionFromImageModelElement(i);if(e)return void this._saveCaption(o,e)}const r=this._getSavedCaption(i);r&&this._saveCaption(o,r)};i&&this.listenTo(i,"execute",r,{priority:"low"}),o&&this.listenTo(o,"execute",r,{priority:"low"})}_getSavedCaption(e){const t=this._savedCaptionsMap.get(e);return t?qa.fromJSON(t):null}_saveCaption(e,t){this._savedCaptionsMap.set(e,t.toJSON())}_registerCaptionReconversion(){const e=this.editor,t=e.model,n=e.plugins.get("ImageUtils"),i=e.plugins.get("ImageCaptionUtils");t.document.on("change:data",(()=>{const o=t.document.differ.getChanges();for(const t of o){if("alt"!==t.attributeKey)continue;const o=t.range.start.nodeAfter;if(n.isBlockImage(o)){const t=i.getCaptionFromImageModelElement(o);if(!t)return;e.editing.reconvertItem(t)}}}))}}class ik extends Lo{static get requires(){return[ek]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,t=e.editing.view,n=e.plugins.get("ImageCaptionUtils"),i=e.t;e.ui.componentFactory.add("toggleImageCaption",(o=>{const r=e.commands.get("toggleImageCaption"),s=new ap(o);return s.set({icon:Gu.caption,tooltip:!0,isToggleable:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),s.bind("label").to(r,"value",(e=>i(e?"Toggle caption off":"Toggle caption on"))),this.listenTo(s,"execute",(()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const i=n.getCaptionFromModelSelection(e.model.document.selection);if(i){const n=e.editing.mapper.toViewElement(i);t.scrollToTheSelection(),t.change((e=>{e.addClass("image__caption_highlighted",n)}))}e.editing.view.focus()})),s}))}}var ok=r(5247);function rk(e){const t=e.map((e=>e.replace("+","\\+")));return new RegExp(`^image\\/(${t.join("|")})$`)}function sk(e){return new Promise(((t,n)=>{const i=e.getAttribute("src");fetch(i).then((e=>e.blob())).then((e=>{const n=ak(e,i),o=n.replace("image/",""),r=new File([e],`image.${o}`,{type:n});t(r)})).catch((e=>e&&"TypeError"===e.name?function(e){return function(e){return new Promise(((t,n)=>{const i=o.document.createElement("img");i.addEventListener("load",(()=>{const e=o.document.createElement("canvas");e.width=i.width,e.height=i.height,e.getContext("2d").drawImage(i,0,0),e.toBlob((e=>e?t(e):n()))})),i.addEventListener("error",(()=>n())),i.src=e}))}(e).then((t=>{const n=ak(t,e),i=n.replace("image/","");return new File([t],`image.${i}`,{type:n})}))}(i).then(t).catch(n):n(e)))}))}function ak(e,t){return e.type?e.type:t.match(/data:(image\/\w+);base64/)?t.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}Do()(ok.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ok.A.locals;class lk extends Lo{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,t=e.t,n=()=>{const e=this._createButton(dp);return e.set({label:t("Upload image from computer"),tooltip:!0}),e};if(e.ui.componentFactory.add("uploadImage",n),e.ui.componentFactory.add("imageUpload",n),e.ui.componentFactory.add("menuBar:uploadImage",(()=>{const e=this._createButton(Em);return e.label=t("Image from computer"),e})),e.plugins.has("ImageInsertUI")){const n=e.plugins.get("ImageInsertUI");n.registerIntegration({name:"upload",observable:()=>e.commands.get("uploadImage"),buttonViewCreator:()=>{const i=e.ui.componentFactory.create("uploadImage");return i.bind("label").to(n,"isImageSelected",(e=>t(e?"Replace image from computer":"Upload image from computer"))),i},formViewCreator:()=>{const i=e.ui.componentFactory.create("uploadImage");return i.withText=!0,i.bind("label").to(n,"isImageSelected",(e=>t(e?"Replace from computer":"Upload from computer"))),i.on("execute",(()=>{n.dropdownView.isOpen=!1})),i}})}}_createButton(e){const t=this.editor,n=t.locale,i=t.commands.get("uploadImage"),o=t.config.get("image.upload.types"),r=rk(o),s=new e(t.locale),a=n.t;return s.set({acceptedType:o.map((e=>`image/${e}`)).join(","),allowMultipleFiles:!0,label:a("Upload image from computer"),icon:Gu.imageUpload}),s.bind("isEnabled").to(i),s.on("done",((e,n)=>{const i=Array.from(n).filter((e=>r.test(e.type)));i.length&&(t.execute("uploadImage",{file:i}),t.editing.view.focus())})),s}}var ck=r(2267);Do()(ck.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ck.A.locals;var dk=r(7693);Do()(dk.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),dk.A.locals;var uk=r(1559);Do()(uk.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),uk.A.locals;class pk extends Lo{constructor(e){super(e),this.uploadStatusChange=(e,t,n)=>{const i=this.editor,o=t.item,r=o.getAttribute("uploadId");if(!n.consumable.consume(t.item,e.name))return;const s=i.plugins.get("ImageUtils"),a=i.plugins.get(Py),l=r?t.attributeNewValue:null,c=this.placeholder,d=i.editing.mapper.toViewElement(o),u=n.writer;if("reading"==l)return hk(d,u),void gk(s,c,d,u);if("uploading"==l){const e=a.loaders.get(r);return hk(d,u),void(e?(mk(d,u),function(e,t,n,i){const o=function(e){const t=e.createUIElement("div",{class:"ck-progress-bar"});return e.setCustomProperty("progressBar",!0,t),t}(t);t.insert(t.createPositionAt(e,"end"),o),n.on("change:uploadedPercent",((e,t,n)=>{i.change((e=>{e.setStyle("width",n+"%",o)}))}))}(d,u,e,i.editing.view),function(e,t,n,i){if(i.data){const o=e.findViewImgElement(t);n.setAttribute("src",i.data,o)}}(s,d,u,e)):gk(s,c,d,u))}"complete"==l&&a.loaders.get(r)&&function(e,t,n){const i=t.createUIElement("div",{class:"ck-image-upload-complete-icon"});t.insert(t.createPositionAt(e,"end"),i),setTimeout((()=>{n.change((e=>e.remove(e.createRangeOn(i))))}),3e3)}(d,u,i.editing.view),function(e,t){bk(e,t,"progressBar")}(d,u),mk(d,u),function(e,t){t.removeClass("ck-appear",e)}(d,u)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function hk(e,t){e.hasClass("ck-appear")||t.addClass("ck-appear",e)}function gk(e,t,n,i){n.hasClass("ck-image-upload-placeholder")||i.addClass("ck-image-upload-placeholder",n);const o=e.findViewImgElement(n);o.getAttribute("src")!==t&&i.setAttribute("src",t,o),fk(n,"placeholder")||i.insert(i.createPositionAfter(o),function(e){const t=e.createUIElement("div",{class:"ck-upload-placeholder-loader"});return e.setCustomProperty("placeholder",!0,t),t}(i))}function mk(e,t){e.hasClass("ck-image-upload-placeholder")&&t.removeClass("ck-image-upload-placeholder",e),bk(e,t,"placeholder")}function fk(e,t){for(const n of e.getChildren())if(n.getCustomProperty(t))return n}function bk(e,t,n){const i=fk(e,n);i&&t.remove(t.createRangeOn(i))}var yk=Object.defineProperty,wk=Object.defineProperties,vk=Object.getOwnPropertyDescriptors,kk=Object.getOwnPropertySymbols,_k=Object.prototype.hasOwnProperty,xk=Object.prototype.propertyIsEnumerable,Ak=(e,t,n)=>t in e?yk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Ck extends Oo{refresh(){const e=this.editor,t=e.plugins.get("ImageUtils"),n=e.model.document.selection.getSelectedElement();this.isEnabled=t.isImageAllowed()||t.isImage(n)}execute(e){const t=Mi(e.file),n=this.editor.model.document.selection,i=this.editor.plugins.get("ImageUtils"),o=Object.fromEntries(n.getAttributes());t.forEach(((e,t)=>{const r=n.getSelectedElement();if(t&&r&&i.isImage(r)){const t=this.editor.model.createPositionAfter(r);this._uploadImage(e,o,t)}else this._uploadImage(e,o)}))}_uploadImage(e,t,n){const i=this.editor,o=i.plugins.get(Py).createLoader(e),r=i.plugins.get("ImageUtils");var s,a;o&&r.insertImage((s=((e,t)=>{for(var n in t||(t={}))_k.call(t,n)&&Ak(e,n,t[n]);if(kk)for(var n of kk(t))xk.call(t,n)&&Ak(e,n,t[n]);return e})({},t),a={uploadId:o.id},wk(s,vk(a))),n)}}class Sk extends Lo{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Py,vg,xf,wv]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,t=e.model.document,n=e.conversion,i=e.plugins.get(Py),o=e.plugins.get("ImageUtils"),r=e.plugins.get("ClipboardPipeline"),s=rk(e.config.get("image.upload.types")),a=new Ck(e);e.commands.add("uploadImage",a),e.commands.add("imageUpload",a),n.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",((t,n)=>{if(i=n.dataTransfer,Array.from(i.types).includes("text/html")&&""!==i.getData("text/html"))return;var i;const o=Array.from(n.dataTransfer.files).filter((e=>!!e&&s.test(e.type)));o.length&&(t.stop(),e.model.change((t=>{n.targetRanges&&t.setSelection(n.targetRanges.map((t=>e.editing.mapper.toModelRange(t)))),e.execute("uploadImage",{file:o})})))})),this.listenTo(r,"inputTransformation",((t,n)=>{const r=Array.from(e.editing.view.createRangeIn(n.content)).map((e=>e.item)).filter((e=>function(e,t){return!(!e.isInlineImageView(t)||!t.getAttribute("src")||!t.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!t.getAttribute("src").match(/^blob:/g))}(o,e)&&!e.getAttribute("uploadProcessed"))).map((e=>({promise:sk(e),imageElement:e})));if(!r.length)return;const s=new Du(e.editing.view.document);for(const e of r){s.setAttribute("uploadProcessed",!0,e.imageElement);const t=i.createLoader(e.promise);t&&(s.setAttribute("src","",e.imageElement),s.setAttribute("uploadId",t.id,e.imageElement))}})),e.editing.view.document.on("dragover",((e,t)=>{t.preventDefault()})),t.on("change",(()=>{const n=t.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),o=new Set;for(const t of n)if("insert"==t.type&&"$text"!=t.name){const n=t.position.nodeAfter,r="$graveyard"==t.position.root.rootName;for(const t of Ik(e,n)){const e=t.getAttribute("uploadId");if(!e)continue;const n=i.loaders.get(e);n&&(r?o.has(e)||n.abort():(o.add(e),this._uploadImageElements.set(e,t),"idle"==n.status&&this._readAndUpload(n)))}}})),this.on("uploadComplete",((e,t)=>{let{imageElement:n,data:i}=t;const r=i.urls?i.urls:i;this.editor.model.change((e=>{e.setAttribute("src",r.default,n),this._parseAndSetSrcsetAttributeOnImage(r,n,e),o.setImageNaturalSizeAttributes(n)}))}),{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const t=this.editor,n=t.model,i=t.locale.t,o=t.plugins.get(Py),r=t.plugins.get(vg),s=t.plugins.get("ImageUtils"),a=this._uploadImageElements;return n.enqueueChange({isUndoable:!1},(t=>{t.setAttribute("uploadStatus","reading",a.get(e.id))})),e.read().then((()=>{const o=e.upload(),r=a.get(e.id);if(c.isSafari){const e=t.editing.mapper.toViewElement(r),n=s.findViewImgElement(e);t.editing.view.once("render",(()=>{if(!n.parent)return;const e=t.editing.view.domConverter.mapViewToDom(n.parent);if(!e)return;const i=e.style.display;e.style.display="none",e._ckHack=e.offsetHeight,e.style.display=i}))}return t.ui&&t.ui.ariaLiveAnnouncer.announce(i("Uploading image")),n.enqueueChange({isUndoable:!1},(e=>{e.setAttribute("uploadStatus","uploading",r)})),o})).then((o=>{n.enqueueChange({isUndoable:!1},(n=>{const r=a.get(e.id);n.setAttribute("uploadStatus","complete",r),t.ui&&t.ui.ariaLiveAnnouncer.announce(i("Image upload complete")),this.fire("uploadComplete",{data:o,imageElement:r})})),l()})).catch((o=>{if(t.ui&&t.ui.ariaLiveAnnouncer.announce(i("Error during image upload")),"error"!==e.status&&"aborted"!==e.status)throw o;"error"==e.status&&o&&r.showWarning(o,{title:i("Upload failed"),namespace:"upload"}),n.enqueueChange({isUndoable:!1},(t=>{t.remove(a.get(e.id))})),l()}));function l(){n.enqueueChange({isUndoable:!1},(t=>{const n=a.get(e.id);t.removeAttribute("uploadId",n),t.removeAttribute("uploadStatus",n),a.delete(e.id)})),o.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,t,n){let i=0;const o=Object.keys(e).filter((e=>{const t=parseInt(e,10);if(!isNaN(t))return i=Math.max(i,t),!0})).map((t=>`${e[t]} ${t}w`)).join(", ");if(""!=o){const e={srcset:o};t.hasAttribute("width")||t.hasAttribute("height")||(e.width=i),n.setAttributes(e,t)}}}function Ik(e,t){const n=e.plugins.get("ImageUtils");return Array.from(e.model.createRangeOn(t)).filter((e=>n.isImage(e.item))).map((e=>e.item))}Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var Tk=r(4642);Do()(Tk.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Tk.A.locals;var Ek=r(3469);Do()(Ek.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Ek.A.locals;class Dk extends Oo{constructor(e,t){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(t.map((e=>{if(e.isDefault)for(const t of e.modelElements)this._defaultStyles[t]=e.name;return[e.name,e]})))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor,n=t.model,i=t.plugins.get("ImageUtils");n.change((t=>{const o=e.value,{setImageSizes:r=!0}=e;let s=i.getClosestSelectedImageElement(n.document.selection);o&&this.shouldConvertImageType(o,s)&&(this.editor.execute(i.isBlockImage(s)?"imageTypeInline":"imageTypeBlock",{setImageSizes:r}),s=i.getClosestSelectedImageElement(n.document.selection)),!o||this._styles.get(o).isDefault?t.removeAttribute("imageStyle",s):t.setAttribute("imageStyle",o,s),r&&i.setImageNaturalSizeAttributes(s)}))}shouldConvertImageType(e,t){return!this._styles.get(e).modelElements.includes(t.name)}}var Mk=Object.defineProperty,Pk=Object.getOwnPropertySymbols,Rk=Object.prototype.hasOwnProperty,Bk=Object.prototype.propertyIsEnumerable,jk=(e,t,n)=>t in e?Mk(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Lk=(e,t)=>{for(var n in t||(t={}))Rk.call(t,n)&&jk(e,n,t[n]);if(Pk)for(var n of Pk(t))Bk.call(t,n)&&jk(e,n,t[n]);return e};const{objectFullWidth:zk,objectInline:Ok,objectLeft:Nk,objectRight:Fk,objectCenter:Vk,objectBlockLeft:Hk,objectBlockRight:Wk}=Gu,Uk={get inline(){return{name:"inline",title:"In line",icon:Ok,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Nk,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:Hk,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Vk,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Fk,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:Wk,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Vk,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Fk,modelElements:["imageBlock"],className:"image-style-side"}}},qk={full:zk,left:Hk,right:Wk,center:Vk,inlineLeft:Nk,inlineRight:Fk,inline:Ok},$k=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function Gk(e){k("image-style-configuration-definition-invalid",e)}const Kk={normalizeStyles:function(e){return(e.configuredStyles.options||[]).map((e=>function(e){return e="string"==typeof e?Uk[e]?Lk({},Uk[e]):{name:e}:function(e,t){const n=Lk({},t);for(const i in e)Object.prototype.hasOwnProperty.call(t,i)||(n[i]=e[i]);return n}(Uk[e.name],e),"string"==typeof e.icon&&(e.icon=qk[e.icon]||e.icon),e}(e))).filter((t=>function(e,t){let{isBlockPluginLoaded:n,isInlinePluginLoaded:i}=t;const{modelElements:o,name:r}=e;if(!(o&&o.length&&r))return Gk({style:e}),!1;{const t=[n?"imageBlock":null,i?"imageInline":null];if(!o.some((e=>t.includes(e))))return k("image-style-missing-dependency",{style:e,missingPlugins:o.map((e=>"imageBlock"===e?"ImageBlockEditing":"ImageInlineEditing"))}),!1}return!0}(t,e)))},getDefaultStylesConfiguration:function(e,t){return e&&t?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:e?{options:["block","side"]}:t?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(e){return e.has("ImageBlockEditing")&&e.has("ImageInlineEditing")?[...$k]:[]},warnInvalidStyle:Gk,DEFAULT_OPTIONS:Uk,DEFAULT_ICONS:qk,DEFAULT_DROPDOWN_DEFINITIONS:$k};function Yk(e,t){for(const n of t)if(n.name===e)return n}class Qk extends Lo{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[wv]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:t}=Kk,n=this.editor,i=n.plugins.has("ImageBlockEditing"),o=n.plugins.has("ImageInlineEditing");n.config.define("image.styles",t(i,o)),this.normalizedStyles=e({configuredStyles:n.config.get("image.styles"),isBlockPluginLoaded:i,isInlinePluginLoaded:o}),this._setupConversion(i,o),this._setupPostFixer(),n.commands.add("imageStyle",new Dk(n,this.normalizedStyles))}_setupConversion(e,t){const n=this.editor,i=n.model.schema,o=(r=this.normalizedStyles,(e,t,n)=>{if(!n.consumable.consume(t.item,e.name))return;const i=Yk(t.attributeNewValue,r),o=Yk(t.attributeOldValue,r),s=n.mapper.toViewElement(t.item),a=n.writer;o&&a.removeClass(o.className,s),i&&a.addClass(i.className,s)});var r;const s=function(e){const t={imageInline:e.filter((e=>!e.isDefault&&e.modelElements.includes("imageInline"))),imageBlock:e.filter((e=>!e.isDefault&&e.modelElements.includes("imageBlock")))};return(e,n,i)=>{if(!n.modelRange)return;const o=n.viewItem,r=Zi(n.modelRange.getItems());if(r&&i.schema.checkAttribute(r,"imageStyle"))for(const s of t[r.name])i.consumable.consume(o,{classes:s.className})&&i.writer.setAttribute("imageStyle",s.name,r)}}(this.normalizedStyles);n.editing.downcastDispatcher.on("attribute:imageStyle",o),n.data.downcastDispatcher.on("attribute:imageStyle",o),e&&(i.extend("imageBlock",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:figure",s,{priority:"low"})),t&&(i.extend("imageInline",{allowAttributes:"imageStyle"}),n.data.upcastDispatcher.on("element:img",s,{priority:"low"}))}_setupPostFixer(){const e=this.editor,t=e.model.document,n=e.plugins.get(wv),i=new Map(this.normalizedStyles.map((e=>[e.name,e])));t.registerPostFixer((e=>{let o=!1;for(const r of t.differ.getChanges())if("insert"==r.type||"attribute"==r.type&&"imageStyle"==r.attributeKey){let t="insert"==r.type?r.position.nodeAfter:r.range.start.nodeAfter;if(t&&t.is("element","paragraph")&&t.childCount>0&&(t=t.getChild(0)),!n.isImage(t))continue;const s=t.getAttribute("imageStyle");if(!s)continue;const a=i.get(s);a&&a.modelElements.includes(t.name)||(e.removeAttribute("imageStyle",t),o=!0)}return o}))}}var Zk=r(6386);Do()(Zk.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),Zk.A.locals;class Xk extends Lo{static get requires(){return[Qk]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,t=this.editor.config.get("image.toolbar")||[],n=Jk(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const o of n)this._createButton(o);const i=Jk([...t.filter(O),...Kk.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const o of i)this._createDropdown(o,n)}_createDropdown(e,t){const n=this.editor.ui.componentFactory;n.add(e.name,(i=>{let o;const{defaultItem:r,items:s,title:a}=e,l=s.filter((e=>t.find((t=>{let{name:n}=t;return e_(n)===e})))).map((e=>{const t=n.create(e);return e===r&&(o=t),t}));s.length!==l.length&&Kk.warnInvalidStyle({dropdown:e});const c=th(i,Xp),d=c.buttonView,u=d.arrowView;return nh(c,l,{enableActiveItemFocusOnDropdownOpen:!0}),d.set({label:t_(a,o.label),class:null,tooltip:!0}),u.unbind("label"),u.set({label:a}),d.bind("icon").toMany(l,"isOn",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.findIndex(zi);return i<0?o.icon:l[i].icon})),d.bind("label").toMany(l,"isOn",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.findIndex(zi);return t_(a,i<0?o.label:l[i].label)})),d.bind("isOn").toMany(l,"isOn",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(zi)})),d.bind("class").toMany(l,"isOn",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(zi)?"ck-splitbutton_flatten":void 0})),d.on("execute",(()=>{l.some((e=>{let{isOn:t}=e;return t}))?c.isOpen=!c.isOpen:o.fire("execute")})),c.bind("isEnabled").toMany(l,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(zi)})),this.listenTo(c,"execute",(()=>{this.editor.editing.view.focus()})),c}))}_createButton(e){const t=e.name;this.editor.ui.componentFactory.add(e_(t),(n=>{const i=this.editor.commands.get("imageStyle"),o=new ap(n);return o.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),o.bind("isEnabled").to(i,"isEnabled"),o.bind("isOn").to(i,"value",(e=>e===t)),o.on("execute",this._executeCommand.bind(this,t)),o}))}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function Jk(e,t){for(const n of e)t[n.title]&&(n.title=t[n.title]);return e}function e_(e){return`imageStyle:${e}`}function t_(e,t){return(e?e+": ":"")+t}class n_ extends Lo{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new Fo(e)),e.commands.add("outdent",new Fo(e))}}class i_ extends Lo{static get pluginName(){return"IndentUI"}init(){const e=this.editor,t=e.locale,n=e.t,i="ltr"==t.uiLanguageDirection?Gu.indent:Gu.outdent,o="ltr"==t.uiLanguageDirection?Gu.outdent:Gu.indent;this._defineButton("indent",n("Increase indent"),i),this._defineButton("outdent",n("Decrease indent"),o)}_defineButton(e,t,n){const i=this.editor;i.ui.componentFactory.add(e,(()=>{const i=this._createButton(ap,e,t,n);return i.set({tooltip:!0}),i})),i.ui.componentFactory.add("menuBar:"+e,(()=>this._createButton(Tm,e,t,n)))}_createButton(e,t,n,i){const o=this.editor,r=o.commands.get(t),s=new e(o.locale);return s.set({label:n,icon:i}),s.bind("isEnabled").to(r,"isEnabled"),this.listenTo(s,"execute",(()=>{o.execute(t),o.editing.view.focus()})),s}}class o_{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach((e=>this._definitions.add(e))):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",((e,t,n)=>{if(!n.consumable.test(t.item,"attribute:linkHref"))return;if(!t.item.is("selection")&&!n.schema.isInline(t.item))return;const i=n.writer,o=i.document.selection;for(const r of this._definitions){const e=i.createAttributeElement("a",r.attributes,{priority:5});r.classes&&i.addClass(r.classes,e);for(const t in r.styles)i.setStyle(t,r.styles[t],e);i.setCustomProperty("link",!0,e),r.callback(t.attributeNewValue)?t.item.is("selection")?i.wrap(o.getFirstRange(),e):i.wrap(n.mapper.toViewRange(t.range),e):i.unwrap(n.mapper.toViewRange(t.range),e)}}),{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",((e,t,n)=>{let{writer:i,mapper:o}=n;const r=o.toViewElement(t.item),s=Array.from(r.getChildren()).find((e=>e.is("element","a")));for(const a of this._definitions){const e=eo(a.attributes);if(a.callback(t.attributeNewValue)){for(const[t,n]of e)"class"===t?i.addClass(n,s):i.setAttribute(t,n,s);a.classes&&i.addClass(a.classes,s);for(const e in a.styles)i.setStyle(e,a.styles[e],s)}else{for(const[t,n]of e)"class"===t?i.removeClass(n,s):i.removeAttribute(t,s);a.classes&&i.removeClass(a.classes,s);for(const e in a.styles)i.removeStyle(e,s)}}}))}}}var r_=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const s_=function(e){return r_.test(e)};var a_="\\ud800-\\udfff",l_="["+a_+"]",c_="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",d_="\\ud83c[\\udffb-\\udfff]",u_="[^"+a_+"]",p_="(?:\\ud83c[\\udde6-\\uddff]){2}",h_="[\\ud800-\\udbff][\\udc00-\\udfff]",g_="(?:"+c_+"|"+d_+")?",m_="[\\ufe0e\\ufe0f]?",f_=m_+g_+"(?:\\u200d(?:"+[u_,p_,h_].join("|")+")"+m_+g_+")*",b_="(?:"+[u_+c_+"?",c_,p_,h_,l_].join("|")+")",y_=RegExp(d_+"(?="+d_+")|"+b_+f_,"g");const w_=function(e){return s_(e)?function(e){return e.match(y_)||[]}(e):function(e){return e.split("")}(e)},v_=function(e){e=_r(e);var t=s_(e)?w_(e):void 0,n=t?t[0]:e.charAt(0),i=t?function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:Sr(e,t,n)}(t,1).join(""):e.slice(1);return n.toUpperCase()+i},k_=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,__=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,x_=/^((\w+:(\/{2,})?)|(\W))/i,A_=["https?","ftps?","mailto"],C_="Ctrl+K";function S_(e,t){let{writer:n}=t;const i=n.createAttributeElement("a",{href:e},{priority:5});return n.setCustomProperty("link",!0,i),i}function I_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:A_;const n=String(e),i=t.join("|");return function(e,t){return!!e.replace(k_,"").match(t)}(n,new RegExp(`${"^(?:(?:<protocols>):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))".replace("<protocols>",i)}`,"i"))?n:"#"}function T_(e,t){return!!e&&t.checkAttribute(e.name,"linkHref")}function E_(e,t){const n=(i=e,__.test(i)?"mailto:":t);var i;const o=!!n&&!D_(e);return e&&o?n+e:e}function D_(e){return x_.test(e)}function M_(e){window.open(e,"_blank","noopener")}class P_ extends Oo{constructor(){super(...arguments),this.manualDecorators=new Qi,this.automaticDecorators=new o_}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement()||Zi(t.getSelectedBlocks());T_(n,e.schema)?(this.value=n.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(n,"linkHref")):(this.value=t.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref"));for(const i of this.manualDecorators)i.value=this._getDecoratorStateFromModel(i.id)}execute(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.editor.model,i=n.document.selection,o=[],r=[];for(const s in t)t[s]?o.push(s):r.push(s);n.change((t=>{if(i.isCollapsed){const s=i.getFirstPosition();if(i.hasAttribute("linkHref")){const a=R_(i);let l=tb(s,"linkHref",i.getAttribute("linkHref"),n);i.getAttribute("linkHref")===a&&(l=this._updateLinkContent(n,t,l,e)),t.setAttribute("linkHref",e,l),o.forEach((e=>{t.setAttribute(e,!0,l)})),r.forEach((e=>{t.removeAttribute(e,l)})),t.setSelection(t.createPositionAfter(l.end.nodeBefore))}else if(""!==e){const r=eo(i.getAttributes());r.set("linkHref",e),o.forEach((e=>{r.set(e,!0)}));const{end:a}=n.insertContent(t.createText(e,r),s);t.setSelection(a)}["linkHref",...o,...r].forEach((e=>{t.removeSelectionAttribute(e)}))}else{const s=n.schema.getValidRanges(i.getRanges(),"linkHref"),a=[];for(const e of i.getSelectedBlocks())n.schema.checkAttribute(e,"linkHref")&&a.push(t.createRangeOn(e));const l=a.slice();for(const e of s)this._isRangeToUpdate(e,a)&&l.push(e);for(const c of l){let s=c;if(1===l.length){const o=R_(i);i.getAttribute("linkHref")===o&&(s=this._updateLinkContent(n,t,c,e),t.setSelection(t.createSelection(s)))}t.setAttribute("linkHref",e,s),o.forEach((e=>{t.setAttribute(e,!0,s)})),r.forEach((e=>{t.removeAttribute(e,s)}))}}}))}_getDecoratorStateFromModel(e){const t=this.editor.model,n=t.document.selection,i=n.getSelectedElement();return T_(i,t.schema)?i.getAttribute(e):n.getAttribute(e)}_isRangeToUpdate(e,t){for(const n of t)if(n.containsRange(e))return!1;return!0}_updateLinkContent(e,t,n,i){const o=t.createText(i,{linkHref:i});return e.insertContent(o,n)}}function R_(e){if(e.isCollapsed){const t=e.getFirstPosition();return t.textNode&&t.textNode.data}{const t=Array.from(e.getFirstRange().getItems());if(t.length>1)return null;const n=t[0];return n.is("$text")||n.is("$textProxy")?n.data:null}}class B_ extends Oo{refresh(){const e=this.editor.model,t=e.document.selection,n=t.getSelectedElement();T_(n,e.schema)?this.isEnabled=e.schema.checkAttribute(n,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(t,"linkHref")}execute(){const e=this.editor,t=this.editor.model,n=t.document.selection,i=e.commands.get("link");t.change((e=>{const o=n.isCollapsed?[tb(n.getFirstPosition(),"linkHref",n.getAttribute("linkHref"),t)]:t.schema.getValidRanges(n.getRanges(),"linkHref");for(const t of o)if(e.removeAttribute("linkHref",t),i)for(const n of i.manualDecorators)e.removeAttribute(n.id,t)}))}}class j_ extends(q()){constructor(e){let{id:t,label:n,attributes:i,classes:o,styles:r,defaultValue:s}=e;super(),this.id=t,this.set("value",void 0),this.defaultValue=s,this.label=n,this.attributes=i,this.classes=o,this.styles=r}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var L_=r(7719);Do()(L_.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),L_.A.locals;var z_=Object.defineProperty,O_=Object.getOwnPropertySymbols,N_=Object.prototype.hasOwnProperty,F_=Object.prototype.propertyIsEnumerable,V_=(e,t,n)=>t in e?z_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H_=(e,t)=>{for(var n in t||(t={}))N_.call(t,n)&&V_(e,n,t[n]);if(O_)for(var n of O_(t))F_.call(t,n)&&V_(e,n,t[n]);return e};const W_="automatic",U_=/^(https?:)?\/\//;class q_ extends Lo{static get pluginName(){return"LinkEditing"}static get requires(){return[Vf,Tf,xf]}constructor(e){super(e),e.config.define("link",{allowCreatingEmptyLinks:!1,addTargetToExternalLinks:!1})}init(){const e=this.editor,t=this.editor.config.get("link.allowedProtocols");e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:S_}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(e,n)=>S_(I_(e,t),n)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:e=>e.getAttribute("href")}}),e.commands.add("link",new P_(e)),e.commands.add("unlink",new B_(e));const n=function(e,t){const n={"Open in a new tab":e("Open in a new tab"),Downloadable:e("Downloadable")};return t.forEach((e=>("label"in e&&n[e.label]&&(e.label=n[e.label]),e))),t}(e.t,function(e){const t=[];if(e)for(const[n,i]of Object.entries(e)){const e=Object.assign({},i,{id:`link${v_(n)}`});t.push(e)}return t}(e.config.get("link.decorators")));this._enableAutomaticDecorators(n.filter((e=>e.mode===W_))),this._enableManualDecorators(n.filter((e=>"manual"===e.mode))),e.plugins.get(Vf).registerAttribute("linkHref"),function(e,t,n,i){const o=e.editing.view,r=new Set;o.document.registerPostFixer((n=>{const o=e.model.document.selection;let s=!1;if(o.hasAttribute(t)){const a=tb(o.getFirstPosition(),t,o.getAttribute(t),e.model),l=e.editing.mapper.toViewRange(a);for(const e of l.getItems())e.is("element","a")&&!e.hasClass(i)&&(n.addClass(i,e),r.add(e),s=!0)}return s})),e.conversion.for("editingDowncast").add((e=>{function t(){o.change((e=>{for(const t of r.values())e.removeClass(i,t),r.delete(t)}))}e.on("insert",t,{priority:"highest"}),e.on("remove",t,{priority:"highest"}),e.on("attribute",t,{priority:"highest"}),e.on("selection",t,{priority:"highest"})}))}(e,"linkHref",0,"ck-link_selected"),this._enableLinkOpen(),this._enableSelectionAttributesFixer(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const t=this.editor,n=t.commands.get("link").automaticDecorators;t.config.get("link.addTargetToExternalLinks")&&n.add({id:"linkIsExternal",mode:W_,callback:e=>!!e&&U_.test(e),attributes:{target:"_blank",rel:"noopener noreferrer"}}),n.add(e),n.length&&t.conversion.for("downcast").add(n.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const t=this.editor,n=t.commands.get("link").manualDecorators;e.forEach((e=>{t.model.schema.extend("$text",{allowAttributes:e.id});const i=new j_(e);n.add(i),t.conversion.for("downcast").attributeToElement({model:i.id,view:(e,t,n)=>{let{writer:o,schema:r}=t,{item:s}=n;if((s.is("selection")||r.isInline(s))&&e){const e=o.createAttributeElement("a",i.attributes,{priority:5});i.classes&&o.addClass(i.classes,e);for(const t in i.styles)o.setStyle(t,i.styles[t],e);return o.setCustomProperty("link",!0,e),e}}}),t.conversion.for("upcast").elementToAttribute({view:H_({name:"a"},i._createPattern()),model:{key:i.id}})}))}_enableLinkOpen(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",((e,t)=>{if(!(c.isMac?t.domEvent.metaKey:t.domEvent.ctrlKey))return;let n=t.domTarget;if("a"!=n.tagName.toLowerCase()&&(n=n.closest("a")),!n)return;const i=n.getAttribute("href");i&&(e.stop(),t.preventDefault(),M_(i))}),{context:"$capture"}),this.listenTo(t,"keydown",((t,n)=>{const i=e.commands.get("link").value;i&&n.keyCode===Ci.enter&&n.altKey&&(t.stop(),M_(i))}))}_enableSelectionAttributesFixer(){const e=this.editor.model,t=e.document.selection;this.listenTo(t,"change:attribute",((n,i)=>{let{attributeKeys:o}=i;o.includes("linkHref")&&!t.hasAttribute("linkHref")&&e.change((t=>{var n;!function(e,t){e.removeSelectionAttribute("linkHref");for(const n of t)e.removeSelectionAttribute(n)}(t,(n=e.schema,n.getDefinition("$text").allowAttributes.filter((e=>e.startsWith("link")))))}))}))}_enableClipboardIntegration(){const e=this.editor,t=e.model,n=this.editor.config.get("link.defaultProtocol");n&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",((e,i)=>{t.change((e=>{const t=e.createRangeIn(i.content);for(const i of t.getItems())if(i.hasAttribute("linkHref")){const t=E_(i.getAttribute("linkHref"),n);e.setAttribute("linkHref",t,i)}}))}))}}var $_=r(3817);Do()($_.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),$_.A.locals;class G_ extends Po{constructor(e,t,n){super(e),this.focusTracker=new Xi,this.keystrokes=new Ji,this._focusables=new so;const i=e.t;this._validators=n,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(i("Save"),Gu.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),Gu.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(t),this.children=this._createFormChildren(t.manualDecorators),this._focusCycler=new Tp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const o=["ck","ck-link-form","ck-responsive-form"];t.manualDecorators.length&&o.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:o,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce(((e,t)=>(e[t.name]=t.isOn,e)),{})}render(){super.render(),jo({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach((e=>{this._focusables.add(e),this.focusTracker.add(e.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null}_createUrlInput(){const e=this.locale.t,t=new bp(this.locale,lh);return t.label=e("Link URL"),t}_createButton(e,t,n,i){const o=new ap(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o}_createManualDecoratorSwitches(e){const t=this.createCollection();for(const n of e.manualDecorators){const i=new cp(this.locale);i.set({name:n.id,label:n.label,withText:!0}),i.bind("isOn").toMany([n,e],"value",((e,t)=>void 0===t&&void 0===e?!!n.defaultValue:!!e)),i.on("execute",(()=>{n.set("value",!i.isOn)})),t.add(i)}return t}_createFormChildren(e){const t=this.createCollection();if(t.add(this.urlInputView),e.length){const e=new Po;e.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map((e=>({tag:"li",children:[e],attributes:{class:["ck","ck-list__item"]}}))),attributes:{class:["ck","ck-reset","ck-list"]}}),t.add(e)}return t.add(this.saveButtonView),t.add(this.cancelButtonView),t}get url(){const{element:e}=this.urlInputView.fieldView;return e?e.value.trim():null}}var K_=r(8762);Do()(K_.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),K_.A.locals;class Y_ extends Po{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.focusTracker=new Xi,this.keystrokes=new Ji,this._focusables=new so;const n=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(n("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(n("Edit link"),Gu.pencil,"edit"),this.set("href",void 0),this._linkConfig=t,this._focusCycler=new Tp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach((e=>{this._focusables.add(e),this.focusTracker.add(e.element)})),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,t,n){const i=new ap(this.locale);return i.set({label:e,icon:t,tooltip:!0}),i.delegate("execute").to(this,n),i}_createPreviewButton(){const e=new ap(this.locale),t=this.bindTemplate,n=this.t;return e.set({withText:!0,tooltip:n("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:t.to("href",(e=>e&&I_(e,this._linkConfig.allowedProtocols))),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",(e=>e||n("This link has no URL"))),e.bind("isEnabled").to(this,"href",(e=>!!e)),e.template.tag="a",e.template.eventListeners={},e}}const Q_="link-ui";class Z_ extends Lo{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[Cg]}static get pluginName(){return"LinkUI"}init(){const e=this.editor,t=this.editor.t;e.editing.view.addObserver(Tu),this._balloon=e.plugins.get(Cg),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Q_,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Q_,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}}),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Create link"),keystroke:C_},{label:t("Move out of a link"),keystroke:[["arrowleft","arrowleft"],["arrowright","arrowright"]]}]})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,t=new Y_(e.locale,e.config.get("link")),n=e.commands.get("link"),i=e.commands.get("unlink");return t.bind("href").to(n,"value"),t.editButtonView.bind("isEnabled").to(n),t.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(t,"edit",(()=>{this._addFormView()})),this.listenTo(t,"unlink",(()=>{e.execute("unlink"),this._hideUI()})),t.keystrokes.set("Esc",((e,t)=>{this._hideUI(),t()})),t.keystrokes.set(C_,((e,t)=>{this._addFormView(),t()})),t}_createFormView(){const e=this.editor,t=e.commands.get("link"),n=e.config.get("link.defaultProtocol"),i=new(Bo(G_))(e.locale,t,function(e){const t=e.t,n=e.config.get("link.allowCreatingEmptyLinks");return[e=>{if(!n&&!e.url.length)return t("Link URL must not be empty.")}]}(e));return i.urlInputView.fieldView.bind("value").to(t,"value"),i.urlInputView.bind("isEnabled").to(t,"isEnabled"),i.saveButtonView.bind("isEnabled").to(t,"isEnabled"),this.listenTo(i,"submit",(()=>{if(i.isValid()){const{value:t}=i.urlInputView.fieldView.element,o=E_(t,n);e.execute("link",o,i.getDecoratorSwitchesState()),this._closeFormView()}})),this.listenTo(i.urlInputView,"change:errorText",(()=>{e.ui.update()})),this.listenTo(i,"cancel",(()=>{this._closeFormView()})),i.keystrokes.set("Esc",((e,t)=>{this._closeFormView(),t()})),i}_createToolbarLinkButton(){const e=this.editor,t=e.commands.get("link");e.ui.componentFactory.add("link",(()=>{const e=this._createButton(ap);return e.set({tooltip:!0,isToggleable:!0}),e.bind("isOn").to(t,"value",(e=>!!e)),e})),e.ui.componentFactory.add("menuBar:link",(()=>this._createButton(Tm)))}_createButton(e){const t=this.editor,n=t.locale,i=t.commands.get("link"),o=new e(t.locale),r=n.t;return o.set({label:r("Link"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',keystroke:C_}),o.bind("isEnabled").to(i,"isEnabled"),this.listenTo(o,"execute",(()=>this._showUI(!0))),o}_enableBalloonActivators(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"click",(()=>{this._getSelectedLinkElement()&&this._showUI()})),e.keystrokes.set(C_,((t,n)=>{n(),e.commands.get("link").isEnabled&&this._showUI(!0)}))}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",((e,t)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),t())}),{priority:"high"}),this.editor.keystrokes.set("Esc",((e,t)=>{this._isUIVisible&&(this._hideUI(),t())})),Ro({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this.formView.resetFormStatus(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.fieldView.value=e.value||"",this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions()}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),void 0!==e.value?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this.formView.urlInputView.fieldView.reset(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,t=e.editing.view.document;let n=this._getSelectedLinkElement(),i=r();const o=()=>{const e=this._getSelectedLinkElement(),t=r();n&&!e||!n&&t!==i?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),n=e,i=t};function r(){return t.selection.focus.getAncestors().reverse().find((e=>e.is("element")))}this.listenTo(e.ui,"update",o),this.listenTo(this._balloon,"change:visibleView",o)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,t=this.editor.model,n=e.document;let i;if(t.markers.has(Q_)){const t=Array.from(this.editor.editing.mapper.markerNameToElements(Q_)),n=e.createRange(e.createPositionBefore(t[0]),e.createPositionAfter(t[t.length-1]));i=e.domConverter.viewRangeToDom(n)}else i=()=>{const t=this._getSelectedLinkElement();return t?e.domConverter.mapViewToDom(t):e.domConverter.viewRangeToDom(n.selection.getFirstRange())};return{target:i}}_getSelectedLinkElement(){const e=this.editor.editing.view,t=e.document.selection,n=t.getSelectedElement();if(t.isCollapsed||n&&yb(n))return X_(t.getFirstPosition());{const n=t.getFirstRange().getTrimmed(),i=X_(n.start),o=X_(n.end);return i&&i==o&&e.createRangeIn(i).getTrimmed().isEqual(n)?i:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change((t=>{const n=e.document.selection.getFirstRange();if(e.markers.has(Q_))t.updateMarker(Q_,{range:n});else if(n.start.isAtEnd){const i=n.start.getLastMatchingPosition((t=>{let{item:n}=t;return!e.schema.isContent(n)}),{boundaries:n});t.addMarker(Q_,{usingOperation:!1,affectsData:!1,range:t.createRange(i,n.end)})}else t.addMarker(Q_,{usingOperation:!1,affectsData:!1,range:n})}))}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Q_)&&e.change((e=>{e.removeMarker(Q_)}))}}function X_(e){return e.getAncestors().find((e=>{return(t=e).is("attributeElement")&&!!t.getCustomProperty("link");var t}))||null}const J_=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class ex extends Lo{static get requires(){return[zf,q_]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",(()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")})),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling(),this._enablePasteLinking()}_expandLinkRange(e,t){return t.textNode&&t.textNode.hasAttribute("linkHref")?tb(t,"linkHref",t.textNode.getAttribute("linkHref"),e):null}_selectEntireLinks(e,t){const n=this.editor.model,i=n.document.selection,o=i.getFirstPosition(),r=i.getLastPosition();let s=t.getJoined(this._expandLinkRange(n,o)||t);s&&(s=s.getJoined(this._expandLinkRange(n,r)||t)),s&&(s.start.isBefore(o)||s.end.isAfter(r))&&e.setSelection(s)}_enablePasteLinking(){const e=this.editor,t=e.model,n=t.document.selection,i=e.plugins.get("ClipboardPipeline"),o=e.commands.get("link");i.on("inputTransformation",((e,i)=>{if(!this.isEnabled||!o.isEnabled||n.isCollapsed||"paste"!==i.method)return;if(n.rangeCount>1)return;const r=n.getFirstRange(),s=i.dataTransfer.getData("text/plain");if(!s)return;const a=s.match(J_);a&&a[2]===s&&(t.change((e=>{this._selectEntireLinks(e,r),o.execute(s)})),e.stop())}),{priority:"high"})}_enableTypingHandling(){const e=this.editor,t=new Ff(e.model,(e=>{if(!function(e){return e.length>4&&" "===e[e.length-1]&&" "!==e[e.length-2]}(e))return;const t=tx(e.substr(0,e.length-1));return t?{url:t}:void 0}));t.on("matched:data",((t,n)=>{const{batch:i,range:o,url:r}=n;if(!i.isTyping)return;const s=o.end.getShiftedBy(-1),a=s.getShiftedBy(-r.length),l=e.model.createRange(a,s);this._applyAutoLink(r,l)})),t.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("enter");n&&n.on("execute",(()=>{const e=t.document.selection.getFirstPosition();if(!e.parent.previousSibling)return;const n=t.createRangeIn(e.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(n)}))}_enableShiftEnterHandling(){const e=this.editor,t=e.model,n=e.commands.get("shiftEnter");n&&n.on("execute",(()=>{const e=t.document.selection.getFirstPosition(),n=t.createRange(t.createPositionAt(e.parent,0),e.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(n)}))}_checkAndApplyAutoLinkOnRange(e){const t=this.editor.model,{text:n,range:i}=Nf(e,t),o=tx(n);if(o){const e=t.createRange(i.end.getShiftedBy(-o.length),i.end);this._applyAutoLink(o,e)}}_applyAutoLink(e,t){const n=this.editor.model,i=E_(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(e,t){return t.schema.checkAttributeInSelection(t.createSelection(e),"linkHref")}(t,n)&&D_(i)&&!function(e){const t=e.start.nodeAfter;return!!t&&t.hasAttribute("linkHref")}(t)&&this._persistAutoLink(i,t)}_persistAutoLink(e,t){const n=this.editor.model,i=this.editor.plugins.get("Delete");n.enqueueChange((o=>{o.setAttribute("linkHref",e,t),n.enqueueChange((()=>{i.requestUndoOnBackspace()}))}))}}function tx(e){const t=J_.exec(e);return t?t[2]:null}var nx=r(4808);Do()(nx.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),nx.A.locals;class ix{constructor(e,t){this._startElement=e,this._referenceIndent=e.getAttribute("listIndent"),this._isForward="forward"==t.direction,this._includeSelf=!!t.includeSelf,this._sameAttributes=Mi(t.sameAttributes||[]),this._sameIndent=!!t.sameIndent,this._lowerIndent=!!t.lowerIndent,this._higherIndent=!!t.higherIndent}static first(e,t){return Zi(new this(e,t)[Symbol.iterator]())}*[Symbol.iterator](){const e=[];for(const{node:t}of ox(this._getStartNode(),this._isForward?"forward":"backward")){const n=t.getAttribute("listIndent");if(n<this._referenceIndent){if(!this._lowerIndent)break;this._referenceIndent=n}else if(n>this._referenceIndent){if(!this._higherIndent)continue;if(!this._isForward){e.push(t);continue}}else{if(!this._sameIndent){if(this._higherIndent){e.length&&(yield*e,e.length=0);break}continue}if(this._sameAttributes.some((e=>t.getAttribute(e)!==this._startElement.getAttribute(e))))break}e.length&&(yield*e,e.length=0),yield t}}_getStartNode(){return this._includeSelf?this._startElement:this._isForward?this._startElement.nextSibling:this._startElement.previousSibling}}function ox(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"forward";return function*(){const n="forward"==t,i=[];let o=null;for(;fx(e);){let t=null;if(o){const n=e.getAttribute("listIndent"),r=o.getAttribute("listIndent");n>r?i[r]=o:n<r?(t=i[n],i.length=n):t=o}yield{node:e,previous:o,previousNodeInList:t},o=e,e=n?e.nextSibling:e.previousSibling}}()}class rx{constructor(e){this._listHead=e}[Symbol.iterator](){return ox(this._listHead,"forward")}}var sx=Object.defineProperty,ax=Object.defineProperties,lx=Object.getOwnPropertyDescriptors,cx=Object.getOwnPropertySymbols,dx=Object.prototype.hasOwnProperty,ux=Object.prototype.propertyIsEnumerable,px=(e,t,n)=>t in e?sx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,hx=(e,t)=>{for(var n in t||(t={}))dx.call(t,n)&&px(e,n,t[n]);if(cx)for(var n of cx(t))ux.call(t,n)&&px(e,n,t[n]);return e},gx=(e,t)=>ax(e,lx(t));class mx{static next(){return b()}}function fx(e){return!!e&&e.is("element")&&e.hasAttribute("listItemId")}function bx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return[...yx(e,gx(hx({},t),{direction:"backward"})),...yx(e,gx(hx({},t),{direction:"forward"}))]}function yx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="forward"==t.direction,i=Array.from(new ix(e,gx(hx({},t),{includeSelf:n,sameIndent:!0,sameAttributes:"listItemId"})));return n?i:i.reverse()}function wx(e,t){const n=new ix(e,hx({sameIndent:!0,sameAttributes:"listType"},t)),i=new ix(e,hx({sameIndent:!0,sameAttributes:"listType",includeSelf:!0,direction:"forward"},t));return[...Array.from(n).reverse(),...i]}function vx(e){return!ix.first(e,{sameIndent:!0,sameAttributes:"listItemId"})}function kx(e){return!ix.first(e,{direction:"forward",sameIndent:!0,sameAttributes:"listItemId"})}function _x(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=Mi(e);const n=!1!==t.withNested,i=new Set;for(const o of e)for(const e of bx(o,{higherIndent:n}))i.add(e);return Tx(i)}function xx(e,t){const n=yx(e,{direction:"forward"}),i=mx.next();for(const o of n)t.setAttribute("listItemId",i,o);return n}function Ax(e,t,n){const i={};for(const[r,s]of t.getAttributes())r.startsWith("list")&&(i[r]=s);const o=yx(e,{direction:"forward"});for(const r of o)n.setAttributes(i,r);return o}function Cx(e,t){let{expand:n,indentBy:i=1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e=Mi(e);const o=n?_x(e):e;for(const r of o){const e=r.getAttribute("listIndent")+i;e<0?Sx(r,t):t.setAttribute("listIndent",e,r)}return o}function Sx(e,t){e=Mi(e);for(const n of e)n.is("element","listItem")&&t.rename(n,"paragraph");for(const n of e)for(const e of n.getAttributeKeys())e.startsWith("list")&&t.removeAttribute(e,n);return e}function Ix(e){if(!e.length)return!1;const t=e[0].getAttribute("listItemId");return!!t&&!e.some((e=>e.getAttribute("listItemId")!=t))}function Tx(e){return Array.from(e).filter((e=>"$graveyard"!==e.root.rootName)).sort(((e,t)=>e.index-t.index))}function Ex(e){const t=e.document.selection.getSelectedElement();return t&&e.schema.isObject(t)&&e.schema.isBlock(t)?t:null}function Dx(e,t){return t.checkChild(e.parent,"listItem")&&t.checkChild(e,"$text")&&!t.isObject(e)}function Mx(e,t,n){return yx(t,{direction:"forward"}).pop().index>e.index?Ax(e,t,n):[]}class Px extends Oo{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,t=Rx(e.document.selection);e.change((e=>{const n=[];Ix(t)&&!vx(t[0])?("forward"==this._direction&&n.push(...Cx(t,e)),n.push(...xx(t[0],e))):"forward"==this._direction?n.push(...Cx(t,e,{expand:!0})):n.push(...function(e,t){const n=_x(e=Mi(e)),i=new Set,o=Math.min(...n.map((e=>e.getAttribute("listIndent")))),r=new Map;for(const s of n)r.set(s,ix.first(s,{lowerIndent:!0}));for(const s of n){if(i.has(s))continue;i.add(s);const e=s.getAttribute("listIndent")-1;if(e<0)Sx(s,t);else{if(s.getAttribute("listIndent")==o){const e=Mx(s,r.get(s),t);for(const t of e)i.add(t);if(e.length)continue}t.setAttribute("listIndent",e,s)}}return Tx(i)}(t,e));for(const t of n){if(!t.hasAttribute("listType"))continue;const n=ix.first(t,{sameIndent:!0});n&&e.setAttribute("listType",n.getAttribute("listType"),t)}this._fireAfterExecute(n)}))}_fireAfterExecute(e){this.fire("afterExecute",Tx(new Set(e)))}_checkEnabled(){let e=Rx(this.editor.model.document.selection),t=e[0];if(!t)return!1;if("backward"==this._direction)return!0;if(Ix(e)&&!vx(e[0]))return!0;e=_x(e),t=e[0];const n=ix.first(t,{sameIndent:!0});return!!n&&n.getAttribute("listType")==t.getAttribute("listType")}}function Rx(e){const t=Array.from(e.getSelectedBlocks()),n=t.findIndex((e=>!fx(e)));return-1!=n&&(t.length=n),t}var Bx=Object.defineProperty,jx=Object.defineProperties,Lx=Object.getOwnPropertyDescriptors,zx=Object.getOwnPropertySymbols,Ox=Object.prototype.hasOwnProperty,Nx=Object.prototype.propertyIsEnumerable,Fx=(e,t,n)=>t in e?Bx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Vx=(e,t)=>{for(var n in t||(t={}))Ox.call(t,n)&&Fx(e,n,t[n]);if(zx)for(var n of zx(t))Nx.call(t,n)&&Fx(e,n,t[n]);return e},Hx=(e,t)=>jx(e,Lx(t));class Wx extends Oo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e),this.type=t,this._listWalkerOptions=n.multiLevel?{higherIndent:!0,lowerIndent:!0,sameAttributes:[]}:void 0}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document,i=Ex(t),o=Array.from(n.selection.getSelectedBlocks()).filter((e=>t.schema.checkAttribute(e,"listType")||Dx(e,t.schema))),r=void 0!==e.forceValue?!e.forceValue:this.value;t.change((s=>{if(r){const e=o[o.length-1],t=yx(e,{direction:"forward"}),n=[];t.length>1&&n.push(...xx(t[1],s)),n.push(...Sx(o,s)),n.push(...function(e,t){const n=[];let i=Number.POSITIVE_INFINITY;for(const{node:o}of ox(e.nextSibling,"forward")){const e=o.getAttribute("listIndent");if(0==e)break;e<i&&(i=e);const r=e-i;t.setAttribute("listIndent",r,o),n.push(o)}return n}(e,s)),this._fireAfterExecute(n)}else if((i||n.selection.isCollapsed)&&fx(o[0])){const t=wx(i||o[0],this._listWalkerOptions);for(const n of t)s.setAttributes(Hx(Vx({},e.additionalAttributes),{listType:this.type}),n);this._fireAfterExecute(t)}else{const n=[];for(const i of o)if(i.hasAttribute("listType"))for(const t of _x(i,{withNested:!1}))t.getAttribute("listType")!=this.type&&(s.setAttributes(Hx(Vx({},e.additionalAttributes),{listType:this.type}),t),n.push(t));else!i.is("element","listItem")&&Dx(i,t.schema)&&s.rename(i,"listItem"),s.setAttributes(Hx(Vx({},e.additionalAttributes),{listIndent:0,listItemId:mx.next(),listType:this.type}),i),n.push(i);this._fireAfterExecute(n)}}))}_fireAfterExecute(e){this.fire("afterExecute",Tx(new Set(e)))}_getValue(){const e=this.editor.model.document.selection,t=Array.from(e.getSelectedBlocks());if(!t.length)return!1;for(const n of t)if(n.getAttribute("listType")!=this.type)return!1;return!0}_checkEnabled(){const e=this.editor.model,t=e.schema,n=e.document.selection,i=Array.from(n.getSelectedBlocks());if(!i.length)return!1;if(this.value)return!0;for(const o of i)if(t.checkAttribute(o,"listType")||Dx(o,t))return!0;return!1}}class Ux extends Oo{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){let{shouldMergeOnBlocksContentLevel:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor.model,n=t.document.selection,i=[];t.change((o=>{const{firstElement:r,lastElement:s}=this._getMergeSubjectElements(n,e),a=r.getAttribute("listIndent")||0,l=s.getAttribute("listIndent"),c=s.getAttribute("listItemId");if(a!=l){const e=(d=s,Array.from(new ix(d,{direction:"forward",higherIndent:!0})));i.push(...Cx([s,...e],o,{indentBy:a-l,expand:a<l}))}var d;if(e){let e=n;n.isCollapsed&&(e=o.createSelection(o.createRange(o.createPositionAt(r,"end"),o.createPositionAt(s,0)))),t.deleteContent(e,{doNotResetEntireContent:n.isCollapsed});const a=e.getLastPosition().parent,l=a.nextSibling;i.push(a),l&&l!==s&&l.getAttribute("listItemId")==c&&i.push(...Ax(l,a,o))}else i.push(...Ax(s,r,o));this._fireAfterExecute(i)}))}_fireAfterExecute(e){this.fire("afterExecute",Tx(new Set(e)))}_checkEnabled(){const e=this.editor.model,t=e.document.selection,n=Ex(e);if(t.isCollapsed||n){const e=n||t.getFirstPosition().parent;if(!fx(e))return!1;const i="backward"==this._direction?e.previousSibling:e.nextSibling;if(!i)return!1;if(Ix([e,i]))return!1}else{const e=t.getLastPosition(),n=t.getFirstPosition();if(e.parent===n.parent)return!1;if(!fx(e.parent))return!1}return!0}_getMergeSubjectElements(e,t){const n=Ex(this.editor.model);let i,o;if(e.isCollapsed||n){const r=n||e.getFirstPosition().parent,s=vx(r);"backward"==this._direction?(o=r,i=s&&!t?ix.first(r,{sameIndent:!0,lowerIndent:!0}):r.previousSibling):(i=r,o=r.nextSibling)}else i=e.getFirstPosition().parent,o=e.getLastPosition().parent;return{firstElement:i,lastElement:o}}}class qx extends Oo{constructor(e,t){super(e),this._direction=t}refresh(){this.isEnabled=this._checkEnabled()}execute(){this.editor.model.change((e=>{const t=xx(this._getStartBlock(),e);this._fireAfterExecute(t)}))}_fireAfterExecute(e){this.fire("afterExecute",Tx(new Set(e)))}_checkEnabled(){const e=this.editor.model.document.selection,t=this._getStartBlock();return e.isCollapsed&&fx(t)&&!vx(t)}_getStartBlock(){const e=this.editor.model.document.selection.getFirstPosition().parent;return"before"==this._direction?e:e.nextSibling}}class $x extends Lo{static get pluginName(){return"ListUtils"}expandListBlocksToCompleteList(e){return function(e){e=Mi(e);const t=new Set;for(const n of e)for(const e of wx(n))t.add(e);return Tx(t)}(e)}isFirstBlockOfListItem(e){return vx(e)}isListItemBlock(e){return fx(e)}expandListBlocksToCompleteItems(e){return _x(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}isNumberedListType(e){return function(e){return"numbered"==e||"customNumbered"==e}(e)}}function Gx(e){return e.is("element","ol")||e.is("element","ul")}function Kx(e){return e.is("element","li")}function Yx(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xx(n,t);return e.createAttributeElement(Zx(n),null,{priority:2*t/100-100,id:i})}function Qx(e,t,n){return e.createAttributeElement("li",null,{priority:(2*t+1)/100-100,id:n})}function Zx(e){return"numbered"==e||"customNumbered"==e?"ol":"ul"}function Xx(e,t){return`list-${e}-${t}`}function Jx(e,t){const n=e.nodeBefore;if(fx(n)){let e=n;for(const{node:n}of ox(e,"backward"))if(e=n,t.has(e))return;t.set(n,e)}else{const n=e.nodeAfter;fx(n)&&t.set(n,n)}}function eA(){return(e,t,n)=>{if(!n.consumable.test(t.viewItem,{name:!0}))return;const i=new Du(t.viewItem.document);for(const o of Array.from(t.viewItem.getChildren()))Kx(o)||Gx(o)||i.remove(o)}}function tA(e,t,n){let{dataPipeline:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const o=function(e){return(t,n)=>{const i=[];for(const o of e)t.hasAttribute(o)&&i.push(`attribute:${o}`);return!!i.every((e=>!1!==n.test(t,e)))&&(i.forEach((e=>n.consume(t,e))),!0)}}(e);return(r,s,a)=>{const{writer:l,mapper:c,consumable:d}=a,u=s.item;if(!e.includes(s.attributeKey))return;if(!o(u,d))return;const p=function(e,t,n){const i=n.createRangeOn(e);return t.toViewRange(i).getTrimmed().end.nodeBefore}(u,c,n);iA(p,l,c),function(e,t){let n=e.parent;for(;n.is("attributeElement")&&["ul","ol","li"].includes(n.name);){const i=n.parent;t.unwrap(t.createRangeOn(e),n),n=i}}(p,l);const h=function(e,t,n,i,o){let{dataPipeline:r}=o,s=i.createRangeOn(t);if(!vx(e))return s;for(const a of n){if("itemMarker"!=a.scope)continue;const n=a.createElement(i,e,{dataPipeline:r});if(!n)continue;if(i.setCustomProperty("listItemMarker",!0,n),a.canInjectMarkerIntoElement&&a.canInjectMarkerIntoElement(e)?i.insert(i.createPositionAt(t,0),n):(i.insert(s.start,n),s=i.createRange(i.createPositionBefore(n),i.createPositionAfter(t))),!a.createWrapperElement||!a.canWrapElement)continue;const o=a.createWrapperElement(i,e,{dataPipeline:r});i.setCustomProperty("listItemWrapper",!0,o),a.canWrapElement(e)?s=i.wrap(s,o):(s=i.wrap(i.createRangeOn(n),o),s=i.createRange(s.start,i.createPositionAfter(t)))}return s}(u,p,t,l,{dataPipeline:i});!function(e,t,n,i){if(!e.hasAttribute("listIndent"))return;const o=e.getAttribute("listIndent");let r=e;for(let s=o;s>=0;s--){const e=Qx(i,s,r.getAttribute("listItemId")),o=Yx(i,s,r.getAttribute("listType"));for(const t of n)"list"!=t.scope&&"item"!=t.scope||!r.hasAttribute(t.attributeName)||t.setAttributeOnDowncast(i,r.getAttribute(t.attributeName),"list"==t.scope?o:e);if(t=i.wrap(t,e),t=i.wrap(t,o),0==s)break;if(r=ix.first(r,{lowerIndent:!0}),!r)break}}(u,h,t,l)}}function nA(e){let{dataPipeline:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(n,i)=>{let{writer:o}=i;if(!oA(n,e))return null;if(!t)return o.createContainerElement("span",{class:"ck-list-bogus-paragraph"});const r=o.createContainerElement("p");return o.setCustomProperty("dataPipeline:transparentRendering",!0,r),r}}function iA(e,t,n){for(;e.parent.is("attributeElement")&&e.parent.getCustomProperty("listItemWrapper");)t.unwrap(t.createRangeOn(e),e.parent);const i=[];o(t.createPositionBefore(e).getWalker({direction:"backward"})),o(t.createRangeIn(e).getWalker());for(const r of i)t.remove(r);function o(e){for(const{item:t}of e){if(t.is("element")&&n.toModelElement(t))break;t.is("element")&&t.getCustomProperty("listItemMarker")&&i.push(t)}}}function oA(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bx(e);if(!fx(e))return!1;for(const i of e.getAttributeKeys())if(!i.startsWith("selection:")&&!t.includes(i))return!1;return n.length<2}var rA=r(1232);Do()(rA.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),rA.A.locals;var sA=r(6903);Do()(sA.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),sA.A.locals;const aA=["listType","listIndent","listItemId"];class lA extends Lo{constructor(e){super(e),this._downcastStrategies=[],e.config.define("list.multiBlock",!0)}static get pluginName(){return"ListEditing"}static get requires(){return[lb,zf,$x,xf]}init(){const e=this.editor,t=e.model,n=e.config.get("list.multiBlock");if(e.plugins.has("LegacyListEditing"))throw new v("list-feature-conflict",this,{conflictPlugin:"LegacyListEditing"});t.schema.register("$listItem",{allowAttributes:aA}),n?(t.schema.extend("$container",{allowAttributesOf:"$listItem"}),t.schema.extend("$block",{allowAttributesOf:"$listItem"}),t.schema.extend("$blockObject",{allowAttributesOf:"$listItem"})):t.schema.register("listItem",{inheritAllFrom:"$block",allowAttributesOf:"$listItem"});for(const i of aA)t.schema.setAttributeProperties(i,{copyOnReplace:!0});e.commands.add("numberedList",new Wx(e,"numbered")),e.commands.add("bulletedList",new Wx(e,"bulleted")),e.commands.add("customNumberedList",new Wx(e,"customNumbered",{multiLevel:!0})),e.commands.add("customBulletedList",new Wx(e,"customBulleted",{multiLevel:!0})),e.commands.add("indentList",new Px(e,"forward")),e.commands.add("outdentList",new Px(e,"backward")),e.commands.add("splitListItemBefore",new qx(e,"before")),e.commands.add("splitListItemAfter",new qx(e,"after")),n&&(e.commands.add("mergeListItemBackward",new Ux(e,"backward")),e.commands.add("mergeListItemForward",new Ux(e,"forward"))),this._setupDeleteIntegration(),this._setupEnterIntegration(),this._setupTabIntegration(),this._setupClipboardIntegration(),this._setupAccessibilityIntegration()}afterInit(){const e=this.editor.commands,t=e.get("indent"),n=e.get("outdent");t&&t.registerChildCommand(e.get("indentList"),{priority:"high"}),n&&n.registerChildCommand(e.get("outdentList"),{priority:"lowest"}),this._setupModelPostFixing(),this._setupConversion()}registerDowncastStrategy(e){this._downcastStrategies.push(e)}getListAttributeNames(){return[...aA,...this._downcastStrategies.map((e=>e.attributeName))]}_setupDeleteIntegration(){const e=this.editor,t=e.commands.get("mergeListItemBackward"),n=e.commands.get("mergeListItemForward");this.listenTo(e.editing.view.document,"delete",((i,o)=>{const r=e.model.document.selection;Ex(e.model)||e.model.change((()=>{const s=r.getFirstPosition();if(r.isCollapsed&&"backward"==o.direction){if(!s.isAtStart)return;const n=s.parent;if(!fx(n))return;if(ix.first(n,{sameAttributes:"listType",sameIndent:!0})||0!==n.getAttribute("listIndent")){if(!t||!t.isEnabled)return;t.execute({shouldMergeOnBlocksContentLevel:cA(e.model,"backward")})}else kx(n)||e.execute("splitListItemAfter"),e.execute("outdentList");o.preventDefault(),i.stop()}else{if(r.isCollapsed&&!r.getLastPosition().isAtEnd)return;if(!n||!n.isEnabled)return;n.execute({shouldMergeOnBlocksContentLevel:cA(e.model,"forward")}),o.preventDefault(),i.stop()}}))}),{context:"li"})}_setupEnterIntegration(){const e=this.editor,t=e.model,n=e.commands,i=n.get("enter");this.listenTo(e.editing.view.document,"enter",((n,i)=>{const o=t.document,r=o.selection.getFirstPosition().parent;if(o.selection.isCollapsed&&fx(r)&&r.isEmpty&&!i.isSoft){const t=vx(r),o=kx(r);t&&o?(e.execute("outdentList"),i.preventDefault(),n.stop()):t&&!o?(e.execute("splitListItemAfter"),i.preventDefault(),n.stop()):o&&(e.execute("splitListItemBefore"),i.preventDefault(),n.stop())}}),{context:"li"}),this.listenTo(i,"afterExecute",(()=>{const t=n.get("splitListItemBefore");t.refresh(),t.isEnabled&&2===bx(e.model.document.selection.getLastPosition().parent).length&&t.execute()}))}_setupTabIntegration(){const e=this.editor;this.listenTo(e.editing.view.document,"tab",((t,n)=>{const i=n.shiftKey?"outdentList":"indentList";this.editor.commands.get(i).isEnabled&&(e.execute(i),n.stopPropagation(),n.preventDefault(),t.stop())}),{context:"li"})}_setupConversion(){const e=this.editor,t=e.model,n=this.getListAttributeNames(),i=e.config.get("list.multiBlock"),o=i?"paragraph":"listItem";e.conversion.for("upcast").elementToElement({view:"li",model:(e,t)=>{let{writer:n}=t;return n.createElement(o,{listType:""})}}).elementToElement({view:"p",model:(e,t)=>{let{writer:n}=t;return e.parent&&e.parent.is("element","li")?n.createElement(o,{listType:""}):null},converterPriority:"high"}).add((e=>{e.on("element:li",((e,t,n)=>{const{writer:i,schema:o}=n;if(!t.modelRange)return;const r=Array.from(t.modelRange.getItems({shallow:!0})).filter((e=>o.checkAttribute(e,"listItemId")));if(!r.length)return;const s=mx.next(),a=function(e){let t=0,n=e.parent;for(;n;){if(Kx(n))t++;else{const e=n.previousSibling;e&&Kx(e)&&t++}n=n.parent}return t}(t.viewItem);let l=t.viewItem.parent&&t.viewItem.parent.is("element","ol")?"numbered":"bulleted";const c=r[0].getAttribute("listType");c&&(l=c);const d={listItemId:s,listIndent:a,listType:l};for(const u of r)u.hasAttribute("listItemId")||i.setAttributes(d,u);r.length>1&&r[1].getAttribute("listItemId")!=d.listItemId&&n.keepEmptyElement(r[0])})),e.on("element:ul",eA(),{priority:"high"}),e.on("element:ol",eA(),{priority:"high"})})),i||e.conversion.for("downcast").elementToElement({model:"listItem",view:"p"}),e.conversion.for("editingDowncast").elementToElement({model:o,view:nA(n),converterPriority:"high"}).add((e=>{var i;e.on("attribute",tA(n,this._downcastStrategies,t)),e.on("remove",(i=t.schema,(e,t,n)=>{const{writer:o,mapper:r}=n,s=e.name.split(":")[1];if(!i.checkAttribute(s,"listItemId"))return;const a=r.toViewPosition(t.position),l=t.position.getShiftedBy(t.length),c=r.toViewPosition(l,{isPhantom:!0}),d=o.createRange(a,c).getTrimmed().end.nodeBefore;d&&iA(d,o,r)}))})),e.conversion.for("dataDowncast").elementToElement({model:o,view:nA(n,{dataPipeline:!0}),converterPriority:"high"}).add((e=>{e.on("attribute",tA(n,this._downcastStrategies,t,{dataPipeline:!0}))}));const r=(s=this._downcastStrategies,a=e.editing.view,(e,t)=>{if(t.modelPosition.offset>0)return;const n=t.modelPosition.parent;if(!fx(n))return;if(!s.some((e=>"itemMarker"==e.scope&&e.canInjectMarkerIntoElement&&e.canInjectMarkerIntoElement(n))))return;const i=t.mapper.toViewElement(n),o=a.createRangeIn(i),r=o.getWalker();let l=o.start;for(const{item:s}of r){if(s.is("element")&&t.mapper.toModelElement(s)||s.is("$textProxy"))break;s.is("element")&&s.getCustomProperty("listItemMarker")&&(l=a.createPositionAfter(s),r.skip((e=>{let{previousPosition:t}=e;return!t.isEqual(l)})))}t.viewPosition=l});var s,a;e.editing.mapper.on("modelToViewPosition",r),e.data.mapper.on("modelToViewPosition",r),this.listenTo(t.document,"change:data",function(e,t,n,i){return()=>{const i=e.document.differ.getChanges(),s=[],a=new Map,l=new Set;for(const e of i)if("insert"==e.type&&"$text"!=e.name)Jx(e.position,a),e.attributes.has("listItemId")?l.add(e.position.nodeAfter):Jx(e.position.getShiftedBy(e.length),a);else if("remove"==e.type&&e.attributes.has("listItemId"))Jx(e.position,a);else if("attribute"==e.type){const t=e.range.start.nodeAfter;n.includes(e.attributeKey)?(Jx(e.range.start,a),null===e.attributeNewValue?(Jx(e.range.start.getShiftedBy(1),a),r(t)&&s.push(t)):l.add(t)):fx(t)&&r(t)&&s.push(t)}for(const e of a.values())s.push(...o(e,l));for(const e of new Set(s))t.reconvertItem(e)};function o(e,t){const i=[],o=new Set,a=[];for(const{node:l,previous:c}of ox(e,"forward")){if(o.has(l))continue;const e=l.getAttribute("listIndent");c&&e<c.getAttribute("listIndent")&&(a.length=e+1),a[e]=Object.fromEntries(Array.from(l.getAttributes()).filter((e=>{let[t]=e;return n.includes(t)})));const d=yx(l,{direction:"forward"});for(const n of d)o.add(n),(r(n,d)||s(n,a,t))&&i.push(n)}return i}function r(e,o){const r=t.mapper.toViewElement(e);if(!r)return!1;if(i.fire("checkElement",{modelElement:e,viewElement:r}))return!0;if(!e.is("element","paragraph")&&!e.is("element","listItem"))return!1;const s=oA(e,n,o);return!(!s||!r.is("element","p"))||!(s||!r.is("element","span"))}function s(e,n,o){if(o.has(e))return!1;const r=t.mapper.toViewElement(e);let s=n.length-1;for(let t=r.parent;!t.is("editableElement");t=t.parent){const e=Kx(t),o=Gx(t);if(!o&&!e)continue;const r="checkAttributes:"+(e?"item":"list");if(i.fire(r,{viewElement:t,modelAttributes:n[s]}))break;if(o&&(s--,s<0))return!1}return!0}}(t,e.editing,n,this),{priority:"high"}),this.on("checkAttributes:item",((e,t)=>{let{viewElement:n,modelAttributes:i}=t;n.id!=i.listItemId&&(e.return=!0,e.stop())})),this.on("checkAttributes:list",((e,t)=>{let{viewElement:n,modelAttributes:i}=t;n.name==Zx(i.listType)&&n.id==Xx(i.listType,i.listIndent)||(e.return=!0,e.stop())}))}_setupModelPostFixing(){const e=this.editor.model,t=this.getListAttributeNames();e.document.registerPostFixer((n=>function(e,t,n,i){const o=e.document.differ.getChanges(),r=new Map,s=i.editor.config.get("list.multiBlock");let a=!1;for(const c of o){if("insert"==c.type&&"$text"!=c.name){const i=c.position.nodeAfter;if(!e.schema.checkAttribute(i,"listItemId"))for(const e of Array.from(i.getAttributeKeys()))n.includes(e)&&(t.removeAttribute(e,i),a=!0);Jx(c.position,r),c.attributes.has("listItemId")||Jx(c.position.getShiftedBy(c.length),r);for(const{item:t,previousPosition:n}of e.createRangeIn(i))fx(t)&&Jx(n,r)}else"remove"==c.type?Jx(c.position,r):"attribute"==c.type&&n.includes(c.attributeKey)&&(Jx(c.range.start,r),null===c.attributeNewValue&&Jx(c.range.start.getShiftedBy(1),r));if(!s&&"attribute"==c.type&&aA.includes(c.attributeKey)){const e=c.range.start.nodeAfter;null===c.attributeNewValue&&e&&e.is("element","listItem")?(t.rename(e,"paragraph"),a=!0):null===c.attributeOldValue&&e&&e.is("element")&&"listItem"!=e.name&&(t.rename(e,"listItem"),a=!0)}}const l=new Set;for(const c of r.values())a=i.fire("postFixer",{listNodes:new rx(c),listHead:c,writer:t,seenIds:l})||a;return a}(e,n,t,this))),this.on("postFixer",((e,t)=>{let{listNodes:n,writer:i}=t;e.return=function(e,t){let n=0,i=-1,o=null,r=!1;for(const{node:s}of e){const e=s.getAttribute("listIndent");if(e>n){let a;null===o?(o=e-n,a=n):(o>e&&(o=e),a=e-o),a>i+1&&(a=i+1),t.setAttribute("listIndent",a,s),r=!0,i=a}else o=null,n=e+1,i=e}return r}(n,i)||e.return}),{priority:"high"}),this.on("postFixer",((e,t)=>{let{listNodes:n,writer:i,seenIds:o}=t;e.return=function(e,t,n){const i=new Set;let o=!1;for(const{node:r}of e){if(i.has(r))continue;let e=r.getAttribute("listType"),s=r.getAttribute("listItemId");if(t.has(s)&&(s=mx.next()),t.add(s),r.is("element","listItem"))r.getAttribute("listItemId")!=s&&(n.setAttribute("listItemId",s,r),o=!0);else for(const t of yx(r,{direction:"forward"}))i.add(t),t.getAttribute("listType")!=e&&(s=mx.next(),e=t.getAttribute("listType")),t.getAttribute("listItemId")!=s&&(n.setAttribute("listItemId",s,t),o=!0)}return o}(n,o,i)||e.return}),{priority:"high"})}_setupClipboardIntegration(){const e=this.editor.model,t=this.editor.plugins.get("ClipboardPipeline");this.listenTo(e,"insertContent",function(e){return(t,n)=>{let[i,o]=n;const r=i.is("documentFragment")?Array.from(i.getChildren()):[i];if(!r.length)return;const s=(o?e.createSelection(o):e.document.selection).getFirstPosition();let a;if(fx(s.parent))a=s.parent;else{if(!fx(s.nodeBefore))return;a=s.nodeBefore}e.change((e=>{const t=a.getAttribute("listType"),n=a.getAttribute("listIndent"),i=r[0].getAttribute("listIndent")||0,o=Math.max(n-i,0);for(const s of r){const n=fx(s);a.is("element","listItem")&&s.is("element","paragraph")&&e.rename(s,"listItem"),e.setAttributes({listIndent:(n?s.getAttribute("listIndent"):0)+o,listItemId:n?s.getAttribute("listItemId"):mx.next(),listType:t},s)}}))}}(e),{priority:"high"}),this.listenTo(t,"outputTransformation",((t,n)=>{e.change((e=>{const t=Array.from(n.content.getChildren()),i=t[t.length-1];if(t.length>1&&i.is("element")&&i.isEmpty&&t.slice(0,-1).every(fx)&&e.remove(i),"copy"==n.method||"cut"==n.method){const t=Array.from(n.content.getChildren());Ix(t)&&Sx(t,e)}}))}))}_setupAccessibilityIntegration(){const e=this.editor,t=e.t;e.accessibility.addKeystrokeInfoGroup({id:"list",label:t("Keystrokes that can be used in a list"),keystrokes:[{label:t("Increase list item indent"),keystroke:"Tab"},{label:t("Decrease list item indent"),keystroke:"Shift+Tab"}]})}}function cA(e,t){const n=e.document.selection;if(!n.isCollapsed)return!Ex(e);if("forward"===t)return!0;const i=n.getFirstPosition().parent,o=i.previousSibling;return!e.schema.isObject(o)&&(!!o.isEmpty||Ix([i,o]))}function dA(e,t,n,i){e.ui.componentFactory.add(t,(()=>{const o=uA(ap,e,t,n,i);return o.set({tooltip:!0,isToggleable:!0}),o})),e.ui.componentFactory.add(`menuBar:${t}`,(()=>uA(Tm,e,t,n,i)))}function uA(e,t,n,i,o){const r=t.commands.get(n),s=new e(t.locale);return s.set({label:i,icon:o}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),s.on("execute",(()=>{t.execute(n),t.editing.view.focus()})),s}class pA extends Lo{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;this.editor.ui.componentFactory.has("numberedList")||dA(this.editor,"numberedList",e("Numbered List"),Gu.numberedList),this.editor.ui.componentFactory.has("bulletedList")||dA(this.editor,"bulletedList",e("Bulleted List"),Gu.bulletedList)}}const hA={},gA={},mA={},fA=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:e,typeAttribute:t,listType:n}of fA)hA[e]=n,gA[e]=t,t&&(mA[t]=e);var bA=r(9968);Do()(bA.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),bA.A.locals;var yA=r(7141);Do()(yA.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),yA.A.locals,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Ti("Ctrl+Enter");var wA=r(8991);function vA(e,t){const n=(n,i,o)=>{if(!o.consumable.consume(i.item,n.name))return;const r=i.attributeNewValue,s=o.writer,a=o.mapper.toViewElement(i.item),l=[...a.getChildren()].find((e=>e.getCustomProperty("media-content")));s.remove(l);const c=e.getMediaViewElement(s,r,t);s.insert(s.createPositionAt(a,0),c)};return e=>{e.on("attribute:url:media",n)}}function kA(e,t,n,i){return e.createContainerElement("figure",{class:"media"},[t.getMediaViewElement(e,n,i),e.createSlot()])}function _A(e){const t=e.getSelectedElement();return t&&t.is("element","media")?t:null}function xA(e,t,n,i){e.change((o=>{const r=o.createElement("media",{url:t});e.insertObject(r,n,null,{setSelection:"on",findOptimalPosition:i?"auto":void 0})}))}Do()(wA.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),wA.A.locals,Ti("Ctrl+Enter");class AA extends Oo{refresh(){const e=this.editor.model,t=e.document.selection,n=_A(t);this.value=n?n.getAttribute("url"):void 0,this.isEnabled=function(e){const t=e.getSelectedElement();return!!t&&"media"===t.name}(t)||function(e,t){let n=Ab(e,t).start.parent;return n.isEmpty&&!t.schema.isLimit(n)&&(n=n.parent),t.schema.checkChild(n,"media")}(t,e)}execute(e){const t=this.editor.model,n=t.document.selection,i=_A(n);i?t.change((t=>{t.setAttribute("url",e,i)})):xA(t,e,n,!0)}}class CA{constructor(e,t){const n=t.providers,i=t.extraProviders||[],o=new Set(t.removeProviders),r=n.concat(i).filter((e=>{const t=e.name;return t?!o.has(t):(k("media-embed-no-provider-name",{provider:e}),!1)}));this.locale=e,this.providerDefinitions=r}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,t,n){return this._getMedia(t).getViewElement(e,n)}_getMedia(e){if(!e)return new SA(this.locale);e=e.trim();for(const t of this.providerDefinitions){const n=t.html,i=Mi(t.url);for(const t of i){const i=this._getUrlMatches(e,t);if(i)return new SA(this.locale,e,i,n)}}return null}_getUrlMatches(e,t){let n=e.match(t);if(n)return n;let i=e.replace(/^https?:\/\//,"");return n=i.match(t),n||(i=i.replace(/^www\./,""),n=i.match(t),n||null)}}class SA{constructor(e,t,n,i){this.url=this._getValidUrl(t),this._locale=e,this._match=n,this._previewRenderer=i}getViewElement(e,t){const n={};let i;if(t.renderForEditingView||t.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),t.renderForEditingView&&(n.class="ck-media__wrapper");const o=this._getPreviewHtml(t);i=e.createRawElement("div",n,((e,t)=>{t.setContentOf(e,o)}))}else this.url&&(n.url=this.url),i=e.createEmptyElement(t.elementName,n);return e.setCustomProperty("media-content",!0,i),i}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new op,t=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new ao({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":t("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var IA=r(7048);Do()(IA.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),IA.A.locals;class TA extends Lo{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:[/^dailymotion\.com\/video\/(\w+)/,/^dai.ly\/(\w+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:e=>{const t=e[1],n=e[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${t}${n?`?start=${n}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:e=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new CA(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,t=e.model.schema,n=e.t,i=e.conversion,o=e.config.get("mediaEmbed.previewsInData"),r=e.config.get("mediaEmbed.elementName"),s=this.registry;e.commands.add("mediaEmbed",new AA(e)),t.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),i.for("dataDowncast").elementToStructure({model:"media",view:(e,t)=>{let{writer:n}=t;const i=e.getAttribute("url");return kA(n,s,i,{elementName:r,renderMediaPreview:!!i&&o})}}),i.for("dataDowncast").add(vA(s,{elementName:r,renderMediaPreview:o})),i.for("editingDowncast").elementToStructure({model:"media",view:(e,t)=>{let{writer:i}=t;const o=e.getAttribute("url");return function(e,t,n){return t.setCustomProperty("media",!0,e),wb(e,t,{label:n})}(kA(i,s,o,{elementName:r,renderForEditingView:!0}),i,n("media widget"))}}),i.for("editingDowncast").add(vA(s,{elementName:r,renderForEditingView:!0})),i.for("upcast").elementToElement({view:e=>["oembed",r].includes(e.name)&&e.getAttribute("url")?{name:!0}:null,model:(e,t)=>{let{writer:n}=t;const i=e.getAttribute("url");return s.hasMedia(i)?n.createElement("media",{url:i}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(e,t)=>{let{writer:n}=t;const i=e.getAttribute("data-oembed-url");return s.hasMedia(i)?n.createElement("media",{url:i}):null}}).add((e=>{e.on("element:figure",((e,t,n)=>{if(!n.consumable.consume(t.viewItem,{name:!0,classes:"media"}))return;const{modelRange:i,modelCursor:o}=n.convertChildren(t.viewItem,t.modelCursor);t.modelRange=i,t.modelCursor=o,Zi(i.getItems())||n.consumable.revert(t.viewItem,{name:!0,classes:"media"})}))}))}}const EA=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class DA extends Lo{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[uy,zf,Dy]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,t=e.model.document,n=e.plugins.get("ClipboardPipeline");this.listenTo(n,"inputTransformation",(()=>{const e=t.selection.getFirstRange(),n=kd.fromPosition(e.start);n.stickiness="toPrevious";const i=kd.fromPosition(e.end);i.stickiness="toNext",t.once("change:data",(()=>{this._embedMediaBetweenPositions(n,i),n.detach(),i.detach()}),{priority:"high"})})),e.commands.get("undo").on("execute",(()=>{this._timeoutId&&(o.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)}),{priority:"high"})}_embedMediaBetweenPositions(e,t){const n=this.editor,i=n.plugins.get(TA).registry,r=new xl(e,t),s=r.getWalker({ignoreElementEnd:!0});let a="";for(const o of s)o.item.is("$textProxy")&&(a+=o.item.data);a=a.trim(),a.match(EA)&&i.hasMedia(a)&&n.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=kd.fromPosition(e),this._timeoutId=o.window.setTimeout((()=>{n.model.change((e=>{this._timeoutId=null,e.remove(r),r.detach();let t=null;"$graveyard"!==this._positionToInsert.root.rootName&&(t=this._positionToInsert),xA(n.model,a,t,!1),this._positionToInsert.detach(),this._positionToInsert=null})),n.plugins.get(zf).requestUndoOnBackspace()}),100)):r.detach()}}var MA=r(5651);Do()(MA.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),MA.A.locals;class PA extends Po{constructor(e,t){super(t);const n=t.t;this.focusTracker=new Xi,this.keystrokes=new Ji,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("Save"),Gu.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("Cancel"),Gu.cancel,"ck-button-cancel","cancel"),this._focusables=new so,this._focusCycler=new Tp({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),jo({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach((e=>{this._focusables.add(e),this.focusTracker.add(e.element)})),this.keystrokes.listenTo(this.element);const e=e=>e.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const t=e(this);if(t)return this.urlInputView.errorText=t,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,t=new bp(this.locale,lh),n=t.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),t.label=e("Media URL"),t.infoText=this._urlInputViewInfoDefault,n.on("input",(()=>{t.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=n.element.value.trim()})),t}_createButton(e,t,n,i){const o=new ap(this.locale);return o.set({label:e,icon:t,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o}}class RA extends Lo{static get requires(){return[TA]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,t=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",(e=>{const n=th(e);return this._setUpDropdown(n,t),n}))}_setUpDropdown(e,t){const n=this.editor,i=n.t,o=e.buttonView,r=n.plugins.get(TA).registry;e.once("change:isOpen",(()=>{const i=new(Bo(PA))(function(e,t){return[t=>{if(!t.url.length)return e("The URL must not be empty.")},n=>{if(!t.hasMedia(n.url))return e("This media URL is not supported.")}]}(n.t,r),n.locale);e.panelView.children.add(i),o.on("open",(()=>{i.disableCssTransitions(),i.url=t.value||"",i.urlInputView.fieldView.select(),i.enableCssTransitions()}),{priority:"low"}),e.on("submit",(()=>{i.isValid()&&(n.execute("mediaEmbed",i.url),n.editing.view.focus())})),e.on("change:isOpen",(()=>i.resetFormStatus())),e.on("cancel",(()=>{n.editing.view.focus()})),i.delegate("submit","cancel").to(e),i.urlInputView.fieldView.bind("value").to(t,"value"),i.urlInputView.on("change:errorText",(()=>{n.ui.update()})),i.urlInputView.bind("isEnabled").to(t,"isEnabled")})),e.bind("isEnabled").to(t),o.set({label:i("Insert media"),icon:'<svg viewBox="0 0 22 20" xmlns="http://www.w3.org/2000/svg"><path d="M1.587 1.5c-.612 0-.601-.029-.601.551v14.84c0 .59-.01.559.591.559h18.846c.602 0 .591.03.591-.56V2.052c0-.58.01-.55-.591-.55H1.587Zm.701.971h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-14.24 1h13.008v12H4.467l.029-12Zm-2.208 1h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003v1H2.288v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h1.003l-.029 1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Zm-16.448 2h.974v1h-.974v-1Zm16.448 0h1.003v1h-1.003v-1Z"/><path d="M8.374 6.648a.399.399 0 0 1 .395-.4.402.402 0 0 1 .2.049l5.148 2.824a.4.4 0 0 1 0 .7l-5.148 2.824a.403.403 0 0 1-.595-.35V6.648Z"/></svg>',tooltip:!0})}}var BA=r(70);function jA(e){return void 0!==e&&e.endsWith("px")}function LA(e){return e.toFixed(2).replace(/\.?0+$/,"")+"px"}Do()(BA.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),BA.A.locals;var zA=Object.defineProperty,OA=Object.defineProperties,NA=Object.getOwnPropertyDescriptors,FA=Object.getOwnPropertySymbols,VA=Object.prototype.hasOwnProperty,HA=Object.prototype.propertyIsEnumerable,WA=(e,t,n)=>t in e?zA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,UA=(e,t)=>{for(var n in t||(t={}))VA.call(t,n)&&WA(e,n,t[n]);if(FA)for(var n of FA(t))HA.call(t,n)&&WA(e,n,t[n]);return e};function qA(e){return function(e){return e.is("element","ol")||e.is("element","ul")}(e.element.previousSibling||e.element.parent)}function $A(e,t){const n=new RegExp(`@list l${e.id}:level${e.indent}\\s*({[^}]*)`,"gi"),i=/mso-level-number-format:([^;]{0,100});/gi,o=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,r=new RegExp(`@list\\s+l${e.id}:level\\d\\s*{[^{]*mso-level-text:"%\\d\\\\.`,"gi"),s=new RegExp(`@list l${e.id}:level\\d\\s*{[^{]*mso-level-number-format:`,"gi"),a=r.exec(t),l=s.exec(t),c=a&&!l,d=n.exec(t);let u="decimal",p="ol",h=null;if(d&&d[1]){const t=i.exec(d[1]);if(t&&t[1]&&(u=t[1].trim(),p="bullet"!==u&&"image"!==u?"ol":"ul"),"bullet"===u){const t=function(e){if("li"==e.name&&"ul"==e.parent.name&&e.parent.hasAttribute("type"))return e.parent.getAttribute("type");const t=function(e){if(e.getChild(0).is("$text"))return null;for(const t of e.getChildren()){if(!t.is("element","span"))continue;const e=t.getChild(0);if(e)return e.is("$text")?e:e.getChild(0)}return null}(e);if(!t)return null;const n=t._data;return"o"===n?"circle":"\xb7"===n?"disc":"\xa7"===n?"square":null}(e.element);t&&(u=t)}else{const e=o.exec(d[1]);e&&e[1]&&(h=parseInt(e[1]))}c&&(p="ol")}return{type:p,startIndex:h,style:GA(u),isLegalStyleList:c}}function GA(e){if(e.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(e){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return e;default:return null}}function KA(e,t,n){const i=t.createElement(e.type);return e.style&&t.setStyle("list-style-type",e.style,i),e.startIndex&&e.startIndex>1&&t.setAttribute("start",e.startIndex,i),e.isLegalStyleList&&n&&t.addClass("legal-list",i),i}function YA(e){const t=e.getStyle("mso-list");if(void 0===t)return{};const n=t.match(/(^|\s{1,100})l(\d+)/i),i=t.match(/\s{0,100}lfo(\d+)/i),o=t.match(/\s{0,100}level(\d+)/i);return n&&i&&o?{id:n[2],order:i[1],indent:parseInt(o[1])}:{indent:1}}function QA(e,t){const n=new sr({name:"span",styles:{"mso-list":"Ignore"}}),i=t.createRangeIn(e);for(const o of i)"elementStart"===o.type&&n.match(o.item)&&t.remove(o.item)}function ZA(e){const t=e.getStyle("margin-left");return void 0===t||t.endsWith("px")?t:function(e){const t=parseFloat(e);return e.endsWith("pt")?LA(96*t/72):e.endsWith("pc")?LA(12*t*96/72):e.endsWith("in")?LA(96*t):e.endsWith("cm")?LA(96*t/2.54):e.endsWith("mm")?LA(t/10*96/2.54):e}(t)}function XA(e){return btoa(e.match(/\w{2}/g).map((e=>String.fromCharCode(parseInt(e,16)))).join(""))}const JA=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,eC=/xmlns:o="urn:schemas-microsoft-com/i;class tC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.document=e,this.hasMultiLevelListPlugin=t}isActive(e){return JA.test(e)||eC.test(e)}execute(e){const{body:t,stylesString:n}=e._parsedData;(function(e,t,n){if(!e.childCount)return;const i=new Du(e.document),o=function(e,t){const n=t.createRangeIn(e),i=[],o=new Set;for(const r of n.getItems()){if(!r.is("element")||!r.name.match(/^(p|h\d+|li|div)$/))continue;let e=ZA(r);if(void 0===e||0!=parseFloat(e)||Array.from(r.getClassNames()).find((e=>e.startsWith("MsoList")))||(e=void 0),r.hasStyle("mso-list")||void 0!==e&&o.has(e)){const t=YA(r);i.push({element:r,id:t.id,order:t.order,indent:t.indent,marginLeft:e}),void 0!==e&&o.add(e)}else o.clear()}return i}(e,i);if(!o.length)return;const r={},s=[];for(const l of o)if(void 0!==l.indent){qA(l)||(s.length=0);const e=`${l.id}:${l.indent}`,o=Math.min(l.indent-1,s.length);if(o<s.length&&s[o].id!==l.id&&(s.length=o),o<s.length-1)s.length=o+1;else{const c=$A(l,t);if(o>s.length-1||s[o].listElement.name!=c.type){0==o&&"ol"==c.type&&void 0!==l.id&&r[e]&&(c.startIndex=r[e]);const t=KA(c,i,n);if(jA(l.marginLeft)&&(0==o||jA(s[o-1].marginLeft))){let e=l.marginLeft;o>0&&(e=LA(parseFloat(e)-parseFloat(s[o-1].marginLeft))),i.setStyle("padding-left",e,t)}if(0==s.length){const e=l.element.parent,n=e.getChildIndex(l.element)+1;i.insertChild(n,t,e)}else{const e=s[o-1].listItemElements;i.appendChild(t,e[e.length-1])}s[o]=(a=UA({},l),OA(a,NA({listElement:t,listItemElements:[]}))),0==o&&void 0!==l.id&&(r[e]=c.startIndex||1)}}const c="li"==l.element.name?l.element:i.createElement("li");i.appendChild(c,s[o].listElement),s[o].listItemElements.push(c),0==o&&void 0!==l.id&&r[e]++,l.element!=c&&i.appendChild(l.element,c),QA(l.element,i),i.removeStyle("text-indent",l.element),i.removeStyle("margin-left",l.element)}else{const e=s.find((e=>e.marginLeft==l.marginLeft));if(e){const t=e.listItemElements;i.appendChild(l.element,t[t.length-1]),i.removeStyle("margin-left",l.element)}else s.length=0}var a})(t,n,this.hasMultiLevelListPlugin),function(e,t){if(!e.childCount)return;const n=new Du(e.document),i=function(e,t){const n=t.createRangeIn(e),i=new sr({name:/v:(.+)/}),o=[];for(const r of n){if("elementStart"!=r.type)continue;const e=r.item,t=e.previousSibling,n=t&&t.is("element")?t.name:null,s=["Chart"],a=i.match(e),l=e.getAttribute("o:gfxdata"),c="v:shapetype"===n,d=l&&s.some((t=>e.getAttribute("id").includes(t)));a&&l&&!c&&!d&&o.push(r.item.getAttribute("id"))}return o}(e,n);!function(e,t,n){const i=n.createRangeIn(t),o=new sr({name:"img"}),r=[];for(const s of i)if(s.item.is("element")&&o.match(s.item)){const t=s.item,n=t.getAttribute("v:shapes")?t.getAttribute("v:shapes").split(" "):[];n.length&&n.every((t=>e.indexOf(t)>-1))?r.push(t):t.getAttribute("src")||r.push(t)}for(const s of r)n.remove(s)}(i,e,n),function(e,t,n){const i=n.createRangeIn(t),o=[];for(const a of i)if("elementStart"==a.type&&a.item.is("element","v:shape")){const t=a.item.getAttribute("id");if(e.includes(t))continue;r(a.item.parent.getChildren(),t)||o.push(a.item)}for(const a of o){const e={src:s(a)};a.hasAttribute("alt")&&(e.alt=a.getAttribute("alt"));const t=n.createElement("img",e);n.insertChild(a.index+1,t,a.parent)}function r(e,t){for(const n of e)if(n.is("element")){if("img"==n.name&&n.getAttribute("v:shapes")==t)return!0;if(r(n.getChildren(),t))return!0}return!1}function s(e){for(const t of e.getChildren())if(t.is("element")&&t.getAttribute("src"))return t.getAttribute("src")}}(i,e,n),function(e,t){const n=t.createRangeIn(e),i=new sr({name:/v:(.+)/}),o=[];for(const r of n)"elementStart"==r.type&&i.match(r.item)&&o.push(r.item);for(const r of o)t.remove(r)}(e,n);const o=function(e,t){const n=t.createRangeIn(e),i=new sr({name:"img"}),o=[];for(const r of n)r.item.is("element")&&i.match(r.item)&&r.item.getAttribute("src").startsWith("file://")&&o.push(r.item);return o}(e,n);o.length&&function(e,t,n){if(e.length===t.length)for(let i=0;i<e.length;i++){const o=`data:${t[i].type};base64,${XA(t[i].hex)}`;n.setAttribute("src",o,e[i])}}(o,function(e){if(!e)return[];const t=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+t.source+"))([\\da-fA-F\\s]+)\\}","g"),i=e.match(n),o=[];if(i)for(const r of i){let e=!1;r.includes("\\pngblip")?e="image/png":r.includes("\\jpegblip")&&(e="image/jpeg"),e&&o.push({hex:r.replace(t,"").replace(/[^\da-fA-F]/g,""),type:e})}return o}(t),n)}(t,e.dataTransfer.getData("text/rtf")),function(e){const t=[],n=new Du(e.document);for(const{item:i}of n.createRangeIn(e))if(i.is("element")){for(const e of i.getClassNames())/\bmso/gi.exec(e)&&n.removeClass(e,i);for(const e of i.getStyleNames())/\bmso/gi.exec(e)&&n.removeStyle(e,i);(i.is("element","w:sdt")||i.is("element","w:sdtpr")&&i.isEmpty||i.is("element","o:p")&&i.isEmpty)&&t.push(i)}for(const i of t){const e=i.parent,t=e.getChildIndex(i);n.insertChild(t,i.getChildren(),e),n.remove(i)}}(t),e.content=t}}function nC(e,t,n,i){let{blockElements:o,inlineObjectElements:r}=i,s=n.createPositionAt(e,"forward"==t?"after":"before");return s=s.getLastMatchingPosition((e=>{let{item:t}=e;return t.is("element")&&!o.includes(t.name)&&!r.includes(t.name)}),{direction:t}),"forward"==t?s.nodeAfter:s.nodeBefore}function iC(e,t){return!!e&&e.is("element")&&t.includes(e.name)}const oC=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class rC{constructor(e){this.document=e}isActive(e){return oC.test(e)}execute(e){const t=new Du(this.document),{body:n}=e._parsedData;!function(e,t){for(const n of e.getChildren())if(n.is("element","b")&&"normal"===n.getStyle("font-weight")){const i=e.getChildIndex(n);t.remove(n),t.insertChild(i,n.getChildren(),e)}}(n,t),function(e,t){for(const n of t.createRangeIn(e)){const e=n.item;if(e.is("element","li")){const n=e.getChild(0);n&&n.is("element","p")&&t.unwrapElement(n)}}}(n,t),function(e,t){const n=new es(t.document.stylesProcessor),i=new Hs(n,{renderingMode:"data"}),o=i.blockElements,r=i.inlineObjectElements,s=[];for(const a of t.createRangeIn(e)){const e=a.item;if(e.is("element","br")){const n=nC(e,"forward",t,{blockElements:o,inlineObjectElements:r}),i=nC(e,"backward",t,{blockElements:o,inlineObjectElements:r}),a=iC(n,o);(iC(i,o)||a)&&s.push(e)}}for(const a of s)a.hasClass("Apple-interchange-newline")?t.remove(a):t.replace(a,t.createElement("p"))}(n,t),e.content=n}}const sC=/<google-sheets-html-origin/i;class aC{constructor(e){this.document=e}isActive(e){return sC.test(e)}execute(e){const t=new Du(this.document),{body:n}=e._parsedData;!function(e,t){for(const n of e.getChildren())if(n.is("element","google-sheets-html-origin")){const i=e.getChildIndex(n);t.remove(n),t.insertChild(i,n.getChildren(),e)}}(n,t),function(e,t){for(const n of e.getChildren())n.is("element","table")&&n.hasAttribute("xmlns")&&t.removeAttribute("xmlns",n)}(n,t),function(e,t){for(const n of e.getChildren())n.is("element","table")&&"0px"===n.getStyle("width")&&t.removeStyle("width",n)}(n,t),function(e,t){for(const n of Array.from(e.getChildren()))n.is("element","style")&&t.remove(n)}(n,t),e.content=n}}function lC(e){return e.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,((e,t)=>1===t.length?" ":Array(t.length+1).join("\xa0 ").substr(0,t.length)))}function cC(e,t,n,i){let o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;null!=t&&null!=o&&t>o?i.setAttribute(e,t,n):i.removeAttribute(e,n)}function dC(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=e.createElement("tableCell",n);return e.insertElement("paragraph",i),e.insert(i,t),i}function uC(e,t){const n=t.parent.parent,i=parseInt(n.getAttribute("headingColumns")||"0"),{column:o}=e.getCellLocation(t);return!!i&&o<i}function pC(e){return t=>{t.on(`element:${e}`,((e,t,n)=>{let{writer:i}=n;if(!t.modelRange)return;const o=t.modelRange.start.nodeAfter,r=i.createPositionAt(o,0);if(t.viewItem.isEmpty)return void i.insertElement("paragraph",r);const s=Array.from(o.getChildren());if(s.every((e=>e.is("element","$marker")))){const e=i.createElement("paragraph");i.insert(e,i.createPositionAt(o,0));for(const t of s)i.move(i.createRangeOn(t),i.createPositionAt(e,"end"))}}),{priority:"low"})}}function hC(e){let t=0,n=0;const i=Array.from(e.getChildren()).filter((e=>"th"===e.name||"td"===e.name));for(;n<i.length&&"th"===i[n].name;){const e=i[n];t+=parseInt(e.getAttribute("colspan")||"1"),n++}return t}Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;class gC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._jumpedToStartRow=!1,this._table=e,this._startRow=void 0!==t.row?t.row:t.startRow||0,this._endRow=void 0!==t.row?t.row:t.endRow,this._startColumn=void 0!==t.column?t.column:t.startColumn||0,this._endColumn=void 0!==t.column?t.column:t.endColumn,this._includeAllSlots=!!t.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){this._canJumpToStartRow()&&this._jumpToNonSpannedRowClosestToStartRow();const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let t=null;const n=this._getSpanned();if(n)this._includeAllSlots&&!this._shouldSkipSlot()&&(t=this._formatOutValue(n.cell,n.row,n.column));else{const n=e.getChild(this._cellIndex);if(!n)return this._advanceToNextRow();const i=parseInt(n.getAttribute("colspan")||"1"),o=parseInt(n.getAttribute("rowspan")||"1");(i>1||o>1)&&this._recordSpans(n,o,i),this._shouldSkipSlot()||(t=this._formatOutValue(n)),this._nextCellAtColumn=this._column+i}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return void 0!==this._endRow&&this._row>this._endRow}_isOverEndColumn(){return void 0!==this._endColumn&&this._column>this._endColumn}_formatOutValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._column;return{done:!1,value:new mC(this,e,t,n)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),t=this._row<this._startRow,n=this._column<this._startColumn,i=void 0!==this._endColumn&&this._column>this._endColumn;return e||t||n||i}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,t,n){const i={cell:e,row:this._row,column:this._column};for(let o=this._row;o<this._row+t;o++)for(let e=this._column;e<this._column+n;e++)o==this._row&&e==this._column||this._markSpannedCell(o,e,i)}_markSpannedCell(e,t,n){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(t,n)}_canJumpToStartRow(){return!!this._startRow&&this._startRow>0&&!this._jumpedToStartRow}_jumpToNonSpannedRowClosestToStartRow(){const e=this._getRowLength(0);for(let t=this._startRow;!this._jumpedToStartRow;t--)e===this._getRowLength(t)&&(this._row=t,this._rowIndex=t,this._jumpedToStartRow=!0)}_getRowLength(e){return[...this._table.getChild(e).getChildren()].reduce(((e,t)=>e+parseInt(t.getAttribute("colspan")||"1")),0)}}class mC{constructor(e,t,n,i){this.cell=t,this.row=e._row,this.column=e._column,this.cellAnchorRow=n,this.cellAnchorColumn=i,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function fC(e,t){return(n,i)=>{let{writer:o}=i;const r=n.getAttribute("headingRows")||0,s=o.createContainerElement("table",null,[]),a=o.createContainerElement("figure",{class:"table"},s);r>0&&o.insert(o.createPositionAt(s,"end"),o.createContainerElement("thead",null,o.createSlot((e=>e.is("element","tableRow")&&e.index<r)))),r<e.getRows(n)&&o.insert(o.createPositionAt(s,"end"),o.createContainerElement("tbody",null,o.createSlot((e=>e.is("element","tableRow")&&e.index>=r))));for(const{positionOffset:e,filter:l}of t.additionalSlots)o.insert(o.createPositionAt(s,e),o.createSlot(l));return o.insert(o.createPositionAt(s,"after"),o.createSlot((e=>!e.is("element","tableRow")&&!t.additionalSlots.some((t=>{let{filter:n}=t;return n(e)}))))),t.asWidget?function(e,t){return t.setCustomProperty("table",!0,e),wb(e,t,{hasSelectionHandle:!0})}(a,o):a}}function bC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t,n)=>{let{writer:i}=n;const o=t.parent,r=o.parent,s=r.getChildIndex(o),a=new gC(r,{row:s}),l=r.getAttribute("headingRows")||0,c=r.getAttribute("headingColumns")||0;let d=null;for(const u of a)if(u.cell==t){const t=u.row<l||u.column<c?"th":"td";d=e.asWidget?xb(i.createEditableElement(t),i):i.createContainerElement(t);break}return d}}function yC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(t,n)=>{let{writer:i}=n;if(!t.parent.is("element","tableCell"))return null;if(!wC(t))return null;if(e.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const e=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,e),e}}}function wC(e){return 1==e.parent.childCount&&!!e.getAttributeKeys().next().done}class vC extends Oo{refresh(){const e=this.editor.model,t=e.document.selection,n=e.schema;this.isEnabled=function(e,t){const n=e.getFirstPosition().parent,i=n===n.root?n:n.parent;return t.checkChild(i,"table")}(t,n)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.editor,n=t.model,i=t.plugins.get("TableUtils"),o=t.config.get("table.defaultHeadings.rows"),r=t.config.get("table.defaultHeadings.columns");void 0===e.headingRows&&o&&(e.headingRows=o),void 0===e.headingColumns&&r&&(e.headingColumns=r),n.change((t=>{const o=i.createTable(t,e);n.insertObject(o,null,null,{findOptimalPosition:"auto"}),t.setSelection(t.createPositionAt(o.getNodeByPath([0,0,0]),0))}))}}class kC extends Oo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.order=t.order||"below"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),i="above"===this.order,o=n.getSelectionAffectedTableCells(t),r=n.getRowIndexes(o),s=i?r.first:r.last,a=o[0].findAncestor("table");n.insertRows(a,{at:i?s:s+1,copyStructureFromAbove:!i})}}class _C extends Oo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.order=t.order||"right"}refresh(){const e=this.editor.model.document.selection,t=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=t}execute(){const e=this.editor,t=e.model.document.selection,n=e.plugins.get("TableUtils"),i="left"===this.order,o=n.getSelectionAffectedTableCells(t),r=n.getColumnIndexes(o),s=i?r.first:r.last,a=o[0].findAncestor("table");n.insertColumns(a,{columns:1,at:i?s:s+1})}}class xC extends Oo{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(e),this.direction=t.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=1===e.length}execute(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];"horizontally"===this.direction?e.splitCellHorizontally(t,2):e.splitCellVertically(t,2)}}function AC(e,t,n){const{startRow:i,startColumn:o,endRow:r,endColumn:s}=t,a=n.createElement("table"),l=r-i+1;for(let d=0;d<l;d++)n.insertElement("tableRow",a,"end");const c=[...new gC(e,{startRow:i,endRow:r,startColumn:o,endColumn:s,includeAllSlots:!0})];for(const{row:d,column:u,cell:p,isAnchor:h,cellAnchorRow:g,cellAnchorColumn:m}of c){const e=d-i,t=a.getChild(e);if(h){const e=n.cloneElement(p);n.append(e,t),EC(e,d,u,r,s,n)}else(g<i||m<o)&&dC(n,n.createPositionAt(t,"end"))}return function(e,t,n,i,o){const r=parseInt(t.getAttribute("headingRows")||"0");r>0&&cC("headingRows",r-n,e,o,0);const s=parseInt(t.getAttribute("headingColumns")||"0");s>0&&cC("headingColumns",s-i,e,o,0)}(a,e,i,o,n),a}function CC(e,t){const n=[],i=new gC(e,{startRow:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,endRow:t-1});for(const o of i){const{row:e,cellHeight:i}=o;e<t&&t<=e+i-1&&n.push(o)}return n}function SC(e,t,n){const i=e.parent,o=i.parent,r=i.index,s=t-r,a={},l=parseInt(e.getAttribute("rowspan"))-s;l>1&&(a.rowspan=l);const c=parseInt(e.getAttribute("colspan")||"1");c>1&&(a.colspan=c);const d=r+s,u=[...new gC(o,{startRow:r,endRow:d,includeAllSlots:!0})];let p,h=null;for(const g of u){const{row:t,column:i,cell:o}=g;o===e&&void 0===p&&(p=i),void 0!==p&&p===i&&t===d&&(h=dC(n,g.getPositionBefore(),a))}return cC("rowspan",s,e,n),h}function IC(e,t){const n=[],i=new gC(e);for(const o of i){const{column:e,cellWidth:i}=o;e<t&&t<=e+i-1&&n.push(o)}return n}function TC(e,t,n,i){const o=n-t,r={},s=parseInt(e.getAttribute("colspan"))-o;s>1&&(r.colspan=s);const a=parseInt(e.getAttribute("rowspan")||"1");a>1&&(r.rowspan=a);const l=dC(i,i.createPositionAfter(e),r);return cC("colspan",o,e,i),l}function EC(e,t,n,i,o,r){const s=parseInt(e.getAttribute("colspan")||"1"),a=parseInt(e.getAttribute("rowspan")||"1");n+s-1>o&&cC("colspan",o-n+1,e,r,1),t+a-1>i&&cC("rowspan",i-t+1,e,r,1)}function DC(e,t){const n=t.getColumns(e),i=new Array(n).fill(0);for(const{column:r}of new gC(e))i[r]++;const o=i.reduce(((e,t,n)=>t?e:[...e,n]),[]);if(o.length>0){const n=o[o.length-1];return t.removeColumns(e,{at:n}),!0}return!1}function MC(e,t){const n=[],i=t.getRows(e);for(let o=0;o<i;o++)e.getChild(o).isEmpty&&n.push(o);if(n.length>0){const i=n[n.length-1];return t.removeRows(e,{at:i}),!0}return!1}function PC(e,t){DC(e,t)||MC(e,t)}function RC(e,t){const n=Array.from(new gC(e,{startColumn:t.firstColumn,endColumn:t.lastColumn,row:t.lastRow}));if(n.every((e=>{let{cellHeight:t}=e;return 1===t})))return t.lastRow;const i=n[0].cellHeight-1;return t.lastRow+i}function BC(e,t){const n=Array.from(new gC(e,{startRow:t.firstRow,endRow:t.lastRow,column:t.lastColumn}));if(n.every((e=>{let{cellWidth:t}=e;return 1===t})))return t.lastColumn;const i=n[0].cellWidth-1;return t.lastColumn+i}class jC extends Oo{constructor(e,t){super(e),this.direction=t.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,t=e.document,n=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(t.selection)[0],i=this.value,o=this.direction;e.change((e=>{const t="right"==o||"down"==o,r=t?n:i,s=t?i:n,a=s.parent;!function(e,t,n){LC(e)||(LC(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}(s,r,e);const l=this.isHorizontal?"colspan":"rowspan",c=parseInt(n.getAttribute(l)||"1"),d=parseInt(i.getAttribute(l)||"1");e.setAttribute(l,c+d,r),e.setSelection(e.createRangeIn(r));const u=this.editor.plugins.get("TableUtils");PC(a.findAncestor("table"),u)}))}_getMergeableCell(){const e=this.editor.model.document,t=this.editor.plugins.get("TableUtils"),n=t.getTableCellsContainingSelection(e.selection)[0];if(!n)return;const i=this.isHorizontal?function(e,t,n){const i=e.parent.parent,o="right"==t?e.nextSibling:e.previousSibling,r=(i.getAttribute("headingColumns")||0)>0;if(!o)return;const s="right"==t?e:o,a="right"==t?o:e,{column:l}=n.getCellLocation(s),{column:c}=n.getCellLocation(a),d=parseInt(s.getAttribute("colspan")||"1"),u=uC(n,s),p=uC(n,a);return r&&u!=p?void 0:l+d===c?o:void 0}(n,this.direction,t):function(e,t,n){const i=e.parent,o=i.parent,r=o.getChildIndex(i);if("down"==t&&r===n.getRows(o)-1||"up"==t&&0===r)return null;const s=parseInt(e.getAttribute("rowspan")||"1"),a=o.getAttribute("headingRows")||0;if(a&&("down"==t&&r+s===a||"up"==t&&r===a))return null;const l=parseInt(e.getAttribute("rowspan")||"1"),c="down"==t?r+l:r,d=[...new gC(o,{endRow:c})],u=d.find((t=>t.cell===e)),p=u.column,h=d.find((e=>{let{row:n,cellHeight:i,column:o}=e;return o===p&&("down"==t?n===c:c===n+i)}));return h&&h.cell?h.cell:null}(n,this.direction,t);if(!i)return;const o=this.isHorizontal?"rowspan":"colspan",r=parseInt(n.getAttribute(o)||"1");return parseInt(i.getAttribute(o)||"1")===r?i:void 0}}function LC(e){const t=e.getChild(0);return 1==e.childCount&&t.is("element","paragraph")&&t.isEmpty}class zC extends Oo{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const i=n.findAncestor("table"),o=e.getRows(i)-1,r=e.getRowIndexes(t),s=0===r.first&&r.last===o;this.isEnabled=!s}else this.isEnabled=!1}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),i=t.getRowIndexes(n),o=n[0],r=o.findAncestor("table"),s=t.getCellLocation(o).column;e.change((e=>{const n=i.last-i.first+1;t.removeRows(r,{at:i.first,rows:n});const o=function(e,t,n,i){const o=e.getChild(Math.min(t,i-1));let r=o.getChild(0),s=0;for(const a of o.getChildren()){if(s>n)return r;r=a,s+=parseInt(a.getAttribute("colspan")||"1")}return r}(r,i.first,s,t.getRows(r));e.setSelection(e.createPositionAt(o,0))}))}}class OC extends Oo{refresh(){const e=this.editor.plugins.get("TableUtils"),t=e.getSelectionAffectedTableCells(this.editor.model.document.selection),n=t[0];if(n){const i=n.findAncestor("table"),o=e.getColumns(i),{first:r,last:s}=e.getColumnIndexes(t);this.isEnabled=s-r<o-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[t,n]=function(e,t){const n=t.getSelectionAffectedTableCells(e),i=n[0],o=n.pop(),r=[i,o];return i.isBefore(o)?r:r.reverse()}(this.editor.model.document.selection,e),i=t.parent.parent,o=[...new gC(i)],r={first:o.find((e=>e.cell===t)).column,last:o.find((e=>e.cell===n)).column},s=function(e,t,n,i){return parseInt(n.getAttribute("colspan")||"1")>1?n:t.previousSibling||n.nextSibling?n.nextSibling||t.previousSibling:i.first?e.reverse().find((e=>{let{column:t}=e;return t<i.first})).cell:e.reverse().find((e=>{let{column:t}=e;return t>i.last})).cell}(o,t,n,r);this.editor.model.change((t=>{const n=r.last-r.first+1;e.removeColumns(i,{at:r.first,columns:n}),t.setSelection(t.createPositionAt(s,0))}))}}class NC extends Oo{refresh(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),i=n.length>0;this.isEnabled=i,this.value=i&&n.every((e=>this._isInHeading(e,e.parent.parent)))}execute(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),i=n[0].findAncestor("table"),{first:o,last:r}=e.getRowIndexes(n),s=this.value?o:r+1,a=i.getAttribute("headingRows")||0;t.change((e=>{if(s){const t=CC(i,s,s>a?a:0);for(const{cell:n}of t)SC(n,s,e)}cC("headingRows",s,i,e,0)}))}_isInHeading(e,t){const n=parseInt(t.getAttribute("headingRows")||"0");return!!n&&e.parent.index<n}}class FC extends Oo{refresh(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),i=n.length>0;this.isEnabled=i,this.value=i&&n.every((e=>uC(t,e)))}execute(){if((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).forceValue===this.value)return;const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),i=n[0].findAncestor("table"),{first:o,last:r}=e.getColumnIndexes(n),s=this.value?o:r+1;t.change((e=>{if(s){const t=IC(i,s);for(const{cell:n,column:i}of t)TC(n,i,s,e)}cC("headingColumns",s,i,e,0)}))}}function VC(e){const t=function(e){if(e.is("element","tableColumnGroup"))return e;const t=e.getChildren();return Array.from(t).find((e=>e.is("element","tableColumnGroup")))}(e);return t?Array.from(t.getChildren()):[]}class HC extends Lo{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const t=e.parent,n=t.parent,i=n.getChildIndex(t),o=new gC(n,{row:i});for(const{cell:r,row:s,column:a}of o)if(r===e)return{row:s,column:a}}createTable(e,t){const n=e.createElement("table"),i=t.rows||2,o=t.columns||2;return WC(e,n,0,i,o),t.headingRows&&cC("headingRows",Math.min(t.headingRows,i),n,e,0),t.headingColumns&&cC("headingColumns",Math.min(t.headingColumns,o),n,e,0),n}insertRows(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.editor.model,i=t.at||0,o=t.rows||1,r=void 0!==t.copyStructureFromAbove,s=t.copyStructureFromAbove?i-1:i,a=this.getRows(e),l=this.getColumns(e);if(i>a)throw new v("tableutils-insertrows-insert-out-of-range",this,{options:t});n.change((t=>{const n=e.getAttribute("headingRows")||0;if(n>i&&cC("headingRows",n+o,e,t,0),!r&&(0===i||i===a))return void WC(t,e,i,o,l);const c=r?Math.max(i,s):i,d=new gC(e,{endRow:c}),u=new Array(l).fill(1);for(const{row:e,column:a,cellHeight:l,cellWidth:p,cell:h}of d){const n=e+l-1,c=e<=s&&s<=n;e<i&&i<=n?(t.setAttribute("rowspan",l+o,h),u[a]=-p):r&&c&&(u[a]=p)}for(let r=0;r<o;r++){const n=t.createElement("tableRow");t.insert(n,e,i);for(let e=0;e<u.length;e++){const i=u[e],o=t.createPositionAt(n,"end");i>0&&dC(t,o,i>1?{colspan:i}:void 0),e+=Math.abs(i)-1}}}))}insertColumns(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.editor.model,i=t.at||0,o=t.columns||1;n.change((t=>{const n=e.getAttribute("headingColumns");i<n&&t.setAttribute("headingColumns",n+o,e);const r=this.getColumns(e);if(0===i||r===i){for(const n of e.getChildren())n.is("element","tableRow")&&UC(o,t,t.createPositionAt(n,i?"end":0));return}const s=new gC(e,{column:i,includeAllSlots:!0});for(const e of s){const{row:n,cell:r,cellAnchorColumn:a,cellAnchorRow:l,cellWidth:c,cellHeight:d}=e;if(a<i){t.setAttribute("colspan",c+o,r);const e=l+d-1;for(let t=n;t<=e;t++)s.skipRow(t)}else UC(o,t,e.getPositionBefore())}}))}removeRows(e,t){const n=this.editor.model,i=t.rows||1,o=this.getRows(e),r=t.at,s=r+i-1;if(s>o-1)throw new v("tableutils-removerows-row-index-out-of-range",this,{table:e,options:t});n.change((t=>{const n={first:r,last:s},{cellsToMove:i,cellsToTrim:o}=function(e,t){let{first:n,last:i}=t;const o=new Map,r=[];for(const{row:s,column:a,cellHeight:l,cell:c}of new gC(e,{endRow:i})){const e=s+l-1;if(s>=n&&s<=i&&e>i){const e=l-(i-s+1);o.set(a,{cell:c,rowspan:e})}if(s<n&&e>=n){let t;t=e>=i?i-n+1:e-n+1,r.push({cell:c,rowspan:l-t})}}return{cellsToMove:o,cellsToTrim:r}}(e,n);i.size&&function(e,t,n,i){const o=[...new gC(e,{includeAllSlots:!0,row:t})],r=e.getChild(t);let s;for(const{column:a,cell:l,isAnchor:c}of o)if(n.has(a)){const{cell:e,rowspan:t}=n.get(a),o=s?i.createPositionAfter(s):i.createPositionAt(r,0);i.move(i.createRangeOn(e),o),cC("rowspan",t,e,i),s=e}else c&&(s=l)}(e,s+1,i,t);for(let a=s;a>=r;a--)t.remove(e.getChild(a));for(const{rowspan:e,cell:r}of o)cC("rowspan",e,r,t);!function(e,t,n){let{first:i,last:o}=t;const r=e.getAttribute("headingRows")||0;i<r&&cC("headingRows",o<r?r-(o-i+1):i,e,n,0)}(e,n,t),DC(e,this)||MC(e,this)}))}removeColumns(e,t){const n=this.editor.model,i=t.at,o=t.columns||1,r=t.at+o-1;n.change((t=>{!function(e,t,n){const i=e.getAttribute("headingColumns")||0;if(i&&t.first<i){const o=Math.min(i-1,t.last)-t.first+1;n.setAttribute("headingColumns",i-o,e)}}(e,{first:i,last:r},t);const n=VC(e);for(let o=r;o>=i;o--){for(const{cell:n,column:i,cellWidth:r}of[...new gC(e)])i<=o&&r>1&&i+r>o?cC("colspan",r-1,n,t):i===o&&t.remove(n);if(n[o]){const e=0===o?n[1]:n[o-1],i=parseFloat(n[o].getAttribute("columnWidth")),r=parseFloat(e.getAttribute("columnWidth"));t.remove(n[o]),t.setAttribute("columnWidth",i+r+"%",e)}}MC(e,this)||DC(e,this)}))}splitCellVertically(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=this.editor.model,i=e.parent.parent,o=parseInt(e.getAttribute("rowspan")||"1"),r=parseInt(e.getAttribute("colspan")||"1");n.change((n=>{if(r>1){const{newCellsSpan:i,updatedSpan:s}=qC(r,t);cC("colspan",s,e,n);const a={};i>1&&(a.colspan=i),o>1&&(a.rowspan=o),UC(r>t?t-1:r-1,n,n.createPositionAfter(e),a)}if(r<t){const s=t-r,a=[...new gC(i)],{column:l}=a.find((t=>{let{cell:n}=t;return n===e})),c=a.filter((t=>{let{cell:n,cellWidth:i,column:o}=t;return n!==e&&o===l||o<l&&o+i>l}));for(const{cell:e,cellWidth:t}of c)n.setAttribute("colspan",t+s,e);const d={};o>1&&(d.rowspan=o),UC(s,n,n.createPositionAfter(e),d);const u=i.getAttribute("headingColumns")||0;u>l&&cC("headingColumns",u+s,i,n)}}))}splitCellHorizontally(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;const n=this.editor.model,i=e.parent,o=i.parent,r=o.getChildIndex(i),s=parseInt(e.getAttribute("rowspan")||"1"),a=parseInt(e.getAttribute("colspan")||"1");n.change((n=>{if(s>1){const i=[...new gC(o,{startRow:r,endRow:r+s-1,includeAllSlots:!0})],{newCellsSpan:l,updatedSpan:c}=qC(s,t);cC("rowspan",c,e,n);const{column:d}=i.find((t=>{let{cell:n}=t;return n===e})),u={};l>1&&(u.rowspan=l),a>1&&(u.colspan=a);for(const e of i){const{column:t,row:i}=e;i>=r+c&&t===d&&(i+r+c)%l==0&&UC(1,n,e.getPositionBefore(),u)}}if(s<t){const i=t-s,l=[...new gC(o,{startRow:0,endRow:r})];for(const{cell:t,cellHeight:o,row:s}of l)if(t!==e&&s+o>r){const e=o+i;n.setAttribute("rowspan",e,t)}const c={};a>1&&(c.colspan=a),WC(n,o,r+1,i,1,c);const d=o.getAttribute("headingRows")||0;d>r&&cC("headingRows",d+i,o,n)}}))}getColumns(e){return[...e.getChild(0).getChildren()].filter((e=>e.is("element","tableCell"))).reduce(((e,t)=>e+parseInt(t.getAttribute("colspan")||"1")),0)}getRows(e){return Array.from(e.getChildren()).reduce(((e,t)=>t.is("element","tableRow")?e+1:e),0)}createTableWalker(e){return new gC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}getSelectedTableCells(e){const t=[];for(const n of this.sortRanges(e.getRanges())){const e=n.getContainedElement();e&&e.is("element","tableCell")&&t.push(e)}return t}getTableCellsContainingSelection(e){const t=[];for(const n of e.getRanges()){const e=n.start.findAncestor("tableCell");e&&t.push(e)}return t}getSelectionAffectedTableCells(e){const t=this.getSelectedTableCells(e);return t.length?t:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const t=e.map((e=>e.parent.index));return this._getFirstLastIndexesObject(t)}getColumnIndexes(e){const t=e[0].findAncestor("table"),n=[...new gC(t)].filter((t=>e.includes(t.cell))).map((e=>e.column));return this._getFirstLastIndexesObject(n)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const t=new Set,n=new Set;let i=0;for(const r of e){const{row:e,column:o}=this.getCellLocation(r),s=parseInt(r.getAttribute("rowspan"))||1,a=parseInt(r.getAttribute("colspan"))||1;t.add(e),n.add(o),s>1&&t.add(e+s-1),a>1&&n.add(o+a-1),i+=s*a}const o=function(e,t){const n=Array.from(e.values()),i=Array.from(t.values());return(Math.max(...n)-Math.min(...n)+1)*(Math.max(...i)-Math.min(...i)+1)}(t,n);return o==i}sortRanges(e){return Array.from(e).sort($C)}_getFirstLastIndexesObject(e){const t=e.sort(((e,t)=>e-t));return{first:t[0],last:t[t.length-1]}}_areCellInTheSameTableSection(e){const t=e[0].findAncestor("table"),n=this.getRowIndexes(e),i=parseInt(t.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(n,i))return!1;const o=this.getColumnIndexes(e),r=parseInt(t.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(o,r)}_areIndexesInSameSection(e,t){let{first:n,last:i}=e;return n<t===i<t}}function WC(e,t,n,i,o){let r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};for(let s=0;s<i;s++){const i=e.createElement("tableRow");e.insert(i,t,n),UC(o,e,e.createPositionAt(i,"end"),r)}}function UC(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};for(let o=0;o<e;o++)dC(t,n,i)}function qC(e,t){if(e<t)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(e/t);return{newCellsSpan:n,updatedSpan:e-n*t+n}}function $C(e,t){const n=e.start,i=t.start;return n.isBefore(i)?-1:1}class GC extends Oo{refresh(){const e=this.editor.plugins.get(HC),t=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(t)}execute(){const e=this.editor.model,t=this.editor.plugins.get(HC);e.change((n=>{const i=t.getSelectedTableCells(e.document.selection),o=i.shift(),{mergeWidth:r,mergeHeight:s}=function(e,t,n){let i=0,o=0;for(const a of t){const{row:e,column:t}=n.getCellLocation(a);i=QC(a,t,i,"colspan"),o=QC(a,e,o,"rowspan")}const{row:r,column:s}=n.getCellLocation(e);return{mergeWidth:i-s,mergeHeight:o-r}}(o,i,t);cC("colspan",r,o,n),cC("rowspan",s,o,n);for(const e of i)KC(e,o,n);PC(o.findAncestor("table"),t),n.setSelection(o,"in")}))}}function KC(e,t,n){YC(e)||(YC(t)&&n.remove(n.createRangeIn(t)),n.move(n.createRangeIn(e),n.createPositionAt(t,"end"))),n.remove(e)}function YC(e){const t=e.getChild(0);return 1==e.childCount&&t.is("element","paragraph")&&t.isEmpty}function QC(e,t,n,i){const o=parseInt(e.getAttribute(i)||"1");return Math.max(n,t+o)}class ZC extends Oo{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,t=this.editor.plugins.get("TableUtils"),n=t.getSelectionAffectedTableCells(e.document.selection),i=t.getRowIndexes(n),o=n[0].findAncestor("table"),r=[];for(let s=i.first;s<=i.last;s++)for(const t of o.getChild(s).getChildren())r.push(e.createRangeOn(t));e.change((e=>{e.setSelection(r)}))}}class XC extends Oo{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),t=this.editor.model,n=e.getSelectionAffectedTableCells(t.document.selection),i=n[0],o=n.pop(),r=i.findAncestor("table"),s=e.getCellLocation(i),a=e.getCellLocation(o),l=Math.min(s.column,a.column),c=Math.max(s.column,a.column),d=[];for(const u of new gC(r,{startColumn:l,endColumn:c}))d.push(t.createRangeOn(u.cell));t.change((e=>{e.setSelection(d)}))}}function JC(e,t){let n=!1;const i=function(e){const t=parseInt(e.getAttribute("headingRows")||"0"),n=Array.from(e.getChildren()).reduce(((e,t)=>t.is("element","tableRow")?e+1:e),0),i=[];for(const{row:o,cell:r,cellHeight:s}of new gC(e)){if(s<2)continue;const e=o<t?t:n;if(o+s>e){const t=e-o;i.push({cell:r,rowspan:t})}}return i}(e);if(i.length){n=!0;for(const e of i)cC("rowspan",e.rowspan,e.cell,t,1)}return n}function eS(e,t){let n=!1;const i=function(e){const t=new Array(e.childCount).fill(0);for(const{rowIndex:n}of new gC(e,{includeAllSlots:!0}))t[n]++;return t}(e),o=[];for(const[a,l]of i.entries())!l&&e.getChild(a).is("element","tableRow")&&o.push(a);if(o.length){n=!0;for(const n of o.reverse())t.remove(e.getChild(n)),i.splice(n,1)}const r=i.filter(((t,n)=>e.getChild(n).is("element","tableRow"))),s=r[0];if(!r.every((e=>e===s))){const i=r.reduce(((e,t)=>t>e?t:e),0);for(const[o,s]of r.entries()){const r=i-s;if(r){for(let n=0;n<r;n++)dC(t,t.createPositionAt(e.getChild(o),"end"));n=!0}}}return n}function tS(e){if("attribute"!==e.type)return!1;const t=e.attributeKey;return"headingRows"===t||"colspan"===t||"rowspan"===t}function nS(e,t){let n=!1;for(const i of e.getChildren())i.is("element","tableRow")&&(n=iS(i,t)||n);return n}function iS(e,t){let n=!1;for(const i of e.getChildren())n=oS(i,t)||n;return n}function oS(e,t){if(0==e.childCount)return t.insertElement("paragraph",e),!0;const n=Array.from(e.getChildren()).filter((e=>e.is("$text")));for(const i of n)t.wrap(t.createRangeOn(i),"paragraph");return!!n.length}function rS(e){return!!e.position.parent.is("element","tableCell")&&("insert"==e.type&&"$text"==e.name||"remove"==e.type)}function sS(e,t){if(!e.is("element","paragraph"))return!1;const n=t.toViewElement(e);return!!n&&wC(e)!==n.is("element","span")}var aS=r(8137);Do()(aS.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),aS.A.locals;class lS extends Lo{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[HC]}init(){const e=this.editor,t=e.model,n=t.schema,i=e.conversion,o=e.plugins.get(HC);n.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),i.for("upcast").add((e=>{e.on("element:figure",((e,t,n)=>{if(!n.consumable.test(t.viewItem,{name:!0,classes:"table"}))return;const i=function(e){for(const t of e.getChildren())if(t.is("element","table"))return t}(t.viewItem);if(!i||!n.consumable.test(i,{name:!0}))return;n.consumable.consume(t.viewItem,{name:!0,classes:"table"});const o=Zi(n.convertItem(i,t.modelCursor).modelRange.getItems());o?(n.convertChildren(t.viewItem,n.writer.createPositionAt(o,"end")),n.updateConversionResult(o,t)):n.consumable.revert(t.viewItem,{name:!0,classes:"table"})}))})),i.for("upcast").add((e=>{e.on("element:table",((e,t,n)=>{const i=t.viewItem;if(!n.consumable.test(i,{name:!0}))return;const{rows:o,headingRows:r,headingColumns:s}=function(e){let t,n=0;const i=[],o=[];let r;for(const s of Array.from(e.getChildren())){if("tbody"!==s.name&&"thead"!==s.name&&"tfoot"!==s.name)continue;"thead"!==s.name||r||(r=s);const e=Array.from(s.getChildren()).filter((e=>e.is("element","tr")));for(const a of e)if(r&&s===r||"tbody"===s.name&&Array.from(a.getChildren()).length&&Array.from(a.getChildren()).every((e=>e.is("element","th"))))n++,i.push(a);else{o.push(a);const e=hC(a);(!t||e<t)&&(t=e)}}return{headingRows:n,headingColumns:t||0,rows:[...i,...o]}}(i),a={};s&&(a.headingColumns=s),r&&(a.headingRows=r);const l=n.writer.createElement("table",a);if(n.safeInsert(l,t.modelCursor)){if(n.consumable.consume(i,{name:!0}),o.forEach((e=>n.convertItem(e,n.writer.createPositionAt(l,"end")))),n.convertChildren(i,n.writer.createPositionAt(l,"end")),l.isEmpty){const e=n.writer.createElement("tableRow");n.writer.insert(e,n.writer.createPositionAt(l,"end")),dC(n.writer,n.writer.createPositionAt(e,"end"))}n.updateConversionResult(l,t)}}))})),i.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:fC(o,{asWidget:!0,additionalSlots:this._additionalSlots})}),i.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:fC(o,{additionalSlots:this._additionalSlots})}),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("upcast").add((e=>{e.on("element:tr",((e,t)=>{t.viewItem.isEmpty&&0==t.modelCursor.index&&e.stop()}),{priority:"high"})})),i.for("downcast").elementToElement({model:"tableRow",view:(e,t)=>{let{writer:n}=t;return e.isEmpty?n.createEmptyElement("tr"):n.createContainerElement("tr")}}),i.for("upcast").elementToElement({model:"tableCell",view:"td"}),i.for("upcast").elementToElement({model:"tableCell",view:"th"}),i.for("upcast").add(pC("td")),i.for("upcast").add(pC("th")),i.for("editingDowncast").elementToElement({model:"tableCell",view:bC({asWidget:!0})}),i.for("dataDowncast").elementToElement({model:"tableCell",view:bC()}),i.for("editingDowncast").elementToElement({model:"paragraph",view:yC({asWidget:!0}),converterPriority:"high"}),i.for("dataDowncast").elementToElement({model:"paragraph",view:yC(),converterPriority:"high"}),i.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),i.for("upcast").attributeToAttribute({model:{key:"colspan",value:cS("colspan")},view:"colspan"}),i.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("upcast").attributeToAttribute({model:{key:"rowspan",value:cS("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new vC(e)),e.commands.add("insertTableRowAbove",new kC(e,{order:"above"})),e.commands.add("insertTableRowBelow",new kC(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new _C(e,{order:"left"})),e.commands.add("insertTableColumnRight",new _C(e,{order:"right"})),e.commands.add("removeTableRow",new zC(e)),e.commands.add("removeTableColumn",new OC(e)),e.commands.add("splitTableCellVertically",new xC(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new xC(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new GC(e)),e.commands.add("mergeTableCellRight",new jC(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new jC(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new jC(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new jC(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new FC(e)),e.commands.add("setTableRowHeader",new NC(e)),e.commands.add("selectTableRow",new ZC(e)),e.commands.add("selectTableColumn",new XC(e)),function(e){e.document.registerPostFixer((t=>function(e,t){const n=t.document.differ.getChanges();let i=!1;const o=new Set;for(const r of n){let t=null;"insert"==r.type&&"table"==r.name&&(t=r.position.nodeAfter),"insert"!=r.type&&"remove"!=r.type||"tableRow"!=r.name&&"tableCell"!=r.name||(t=r.position.findAncestor("table")),tS(r)&&(t=r.range.start.findAncestor("table")),t&&!o.has(t)&&(i=JC(t,e)||i,i=eS(t,e)||i,o.add(t))}return i}(t,e)))}(t),function(e){e.document.registerPostFixer((t=>function(e,t){const n=t.document.differ.getChanges();let i=!1;for(const o of n)"insert"==o.type&&"table"==o.name&&(i=nS(o.position.nodeAfter,e)||i),"insert"==o.type&&"tableRow"==o.name&&(i=iS(o.position.nodeAfter,e)||i),"insert"==o.type&&"tableCell"==o.name&&(i=oS(o.position.nodeAfter,e)||i),"remove"!=o.type&&"insert"!=o.type||!rS(o)||(i=oS(o.position.parent,e)||i);return i}(t,e)))}(t),this.listenTo(t.document,"change:data",(()=>{!function(e,t){const n=e.document.differ;for(const i of n.getChanges()){let e,n=!1;if("attribute"==i.type){const t=i.range.start.nodeAfter;if(!t||!t.is("element","table"))continue;if("headingRows"!=i.attributeKey&&"headingColumns"!=i.attributeKey)continue;e=t,n="headingRows"==i.attributeKey}else"tableRow"!=i.name&&"tableCell"!=i.name||(e=i.position.findAncestor("table"),n="tableRow"==i.name);if(!e)continue;const o=e.getAttribute("headingRows")||0,r=e.getAttribute("headingColumns")||0,s=new gC(e);for(const i of s){const e=i.row<o||i.column<r?"th":"td",s=t.mapper.toViewElement(i.cell);s&&s.is("element")&&s.name!=e&&t.reconvertItem(n?i.cell.parent:i.cell)}}}(t,e.editing),function(e,t){const n=e.document.differ,i=new Set;for(const o of n.getChanges()){const e="attribute"==o.type?o.range.start.parent:o.position.parent;e.is("element","tableCell")&&i.add(e)}for(const o of i.values()){const e=Array.from(o.getChildren()).filter((e=>sS(e,t.mapper)));for(const n of e)t.reconvertItem(n)}}(t,e.editing)}))}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function cS(e){return t=>{const n=parseInt(t.getAttribute(e));return Number.isNaN(n)||n<=0?null:n}}var dS=r(5032);Do()(dS.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),dS.A.locals;class uS extends Po{constructor(e){super(e);const t=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Ji,this.focusTracker=new Xi,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",((e,t)=>`${t} \xd7 ${e}`)),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":t.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:t.to("label")}]}],on:{mousedown:t.to((e=>{e.preventDefault()})),click:t.to((()=>{this.fire("execute")}))}}),this.on("boxover",((e,t)=>{const{row:n,column:i}=t.target.dataset;this.items.get(10*(parseInt(n,10)-1)+(parseInt(i,10)-1)).focus()})),this.focusTracker.on("change:focusedElement",((e,t,n)=>{if(!n)return;const{row:i,column:o}=n.dataset;this.set({rows:parseInt(i),columns:parseInt(o)})})),this.on("change:columns",(()=>this._highlightGridBoxes())),this.on("change:rows",(()=>this._highlightGridBoxes()))}render(){super.render(),function(e){let{keystrokeHandler:t,focusTracker:n,gridItems:i,numberOfColumns:o,uiLanguageDirection:r}=e;const s="number"==typeof o?()=>o:o;function a(e){return t=>{const o=i.find((e=>e.element===n.focusedElement)),r=i.getIndex(o),s=e(r,i);i.get(s).focus(),t.stopPropagation(),t.preventDefault()}}function l(e,t){return e===t-1?0:e+1}function c(e,t){return 0===e?t-1:e-1}t.set("arrowright",a(((e,t)=>"rtl"===r?c(e,t.length):l(e,t.length)))),t.set("arrowleft",a(((e,t)=>"rtl"===r?l(e,t.length):c(e,t.length)))),t.set("arrowup",a(((e,t)=>{let n=e-s();return n<0&&(n=e+s()*Math.floor(t.length/s()),n>t.length-1&&(n-=s())),n}))),t.set("arrowdown",a(((e,t)=>{let n=e+s();return n>t.length-1&&(n=e%s()),n})))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}reset(){this.set({rows:1,columns:1})}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,t=this.columns;this.items.map(((n,i)=>{const o=Math.floor(i/10)<e&&i%10<t;n.set("isOn",o)}))}_createGridButton(e,t,n,i){const o=new ap(e);return o.set({label:i,class:"ck-insert-table-dropdown-grid-box"}),o.extendTemplate({attributes:{"data-row":t,"data-column":n}}),o}_createGridCollection(){const e=[];for(let t=0;t<100;t++){const n=Math.floor(t/10),i=t%10,o=`${n+1} \xd7 ${i+1}`;e.push(this._createGridButton(this.locale,n+1,i+1,o))}return this.createCollection(e)}}class pS extends Lo{static get pluginName(){return"TableUI"}init(){const e=this.editor,t=this.editor.t,n="ltr"===e.locale.contentLanguageDirection;e.ui.componentFactory.add("insertTable",(n=>{const i=e.commands.get("insertTable"),o=th(n);let r;return o.bind("isEnabled").to(i),o.buttonView.set({icon:Gu.table,label:t("Insert table"),tooltip:!0}),o.on("change:isOpen",(()=>{r||(r=new uS(n),o.panelView.children.add(r),r.delegate("execute").to(o),o.on("execute",(()=>{e.execute("insertTable",{rows:r.rows,columns:r.columns}),e.editing.view.focus()})))})),o})),e.ui.componentFactory.add("menuBar:insertTable",(n=>{const i=e.commands.get("insertTable"),o=new Cm(n),r=new uS(n);return r.delegate("execute").to(o),o.on("change:isOpen",((e,t,n)=>{n||r.reset()})),r.on("execute",(()=>{e.execute("insertTable",{rows:r.rows,columns:r.columns}),e.editing.view.focus()})),o.buttonView.set({label:t("Table"),icon:Gu.table}),o.panelView.children.add(r),o.bind("isEnabled").to(i),o})),e.ui.componentFactory.add("tableColumn",(e=>{const i=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:t("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:n?"insertTableColumnLeft":"insertTableColumnRight",label:t("Insert column left")}},{type:"button",model:{commandName:n?"insertTableColumnRight":"insertTableColumnLeft",label:t("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:t("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:t("Select column")}}];return this._prepareDropdown(t("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',i,e)})),e.ui.componentFactory.add("tableRow",(e=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:t("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:t("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:t("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:t("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:t("Select row")}}];return this._prepareDropdown(t("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',n,e)})),e.ui.componentFactory.add("mergeTableCells",(e=>{const i=[{type:"button",model:{commandName:"mergeTableCellUp",label:t("Merge cell up")}},{type:"button",model:{commandName:n?"mergeTableCellRight":"mergeTableCellLeft",label:t("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:t("Merge cell down")}},{type:"button",model:{commandName:n?"mergeTableCellLeft":"mergeTableCellRight",label:t("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:t("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:t("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(t("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',i,e)}))}_prepareDropdown(e,t,n,i){const o=this.editor,r=th(i),s=this._fillDropdownWithListOptions(r,n);return r.buttonView.set({label:e,icon:t,tooltip:!0}),r.bind("isEnabled").toMany(s,"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e))})),this.listenTo(r,"execute",(e=>{o.execute(e.source.commandName),e.source instanceof cp||o.editing.view.focus()})),r}_prepareMergeSplitButtonDropdown(e,t,n,i){const o=this.editor,r=th(i,Xp),s="mergeTableCells",a=o.commands.get(s),l=this._fillDropdownWithListOptions(r,n);return r.buttonView.set({label:e,icon:t,tooltip:!0,isEnabled:!0}),r.bind("isEnabled").toMany([a,...l],"isEnabled",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some((e=>e))})),this.listenTo(r.buttonView,"execute",(()=>{o.execute(s),o.editing.view.focus()})),this.listenTo(r,"execute",(e=>{o.execute(e.source.commandName),o.editing.view.focus()})),r}_fillDropdownWithListOptions(e,t){const n=this.editor,i=[],o=new Qi;for(const r of t)hS(r,n,i,o);return oh(e,o),i}}function hS(e,t,n,i){if("button"===e.type||"switchbutton"===e.type){const i=e.model=new kg(e.model),{commandName:o,bindIsOn:r}=e.model,s=t.commands.get(o);n.push(s),i.set({commandName:o}),i.bind("isEnabled").to(s),r&&i.bind("isOn").to(s,"value"),i.set({withText:!0})}i.add(e)}var gS=r(8423);Do()(gS.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),gS.A.locals;class mS extends Lo{static get pluginName(){return"TableSelection"}static get requires(){return[HC,HC]}init(){const e=this.editor,t=e.model,n=e.editing.view;this.listenTo(t,"deleteContent",((e,t)=>this._handleDeleteContent(e,t)),{priority:"high"}),this.listenTo(n.document,"insertText",((e,t)=>this._handleInsertTextEvent(e,t)),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(HC),t=this.editor.model.document.selection,n=e.getSelectedTableCells(t);return 0==n.length?null:n}getSelectionAsFragment(){const e=this.editor.plugins.get(HC),t=this.getSelectedTableCells();return t?this.editor.model.change((n=>{const i=n.createDocumentFragment(),{first:o,last:r}=e.getColumnIndexes(t),{first:s,last:a}=e.getRowIndexes(t),l=t[0].findAncestor("table");let c=a,d=r;if(e.isSelectionRectangular(t)){const e={firstColumn:o,lastColumn:r,firstRow:s,lastRow:a};c=RC(l,e),d=BC(l,e)}const u=AC(l,{startRow:s,startColumn:o,endRow:c,endColumn:d},n);return n.insert(u,i,0),i})):null}setCellSelection(e,t){const n=this._getCellsToSelect(e,t);this.editor.model.change((e=>{e.setSelection(n.cells.map((t=>e.createRangeOn(t))),{backward:n.backward})}))}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=Zi(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,t=new Set;e.conversion.for("editingDowncast").add((e=>e.on("selection",((e,n,i)=>{const o=i.writer;!function(e){for(const n of t)e.removeClass("ck-editor__editable_selected",n);t.clear()}(o);const r=this.getSelectedTableCells();if(!r)return;for(const a of r){const e=i.mapper.toViewElement(a);o.addClass("ck-editor__editable_selected",e),t.add(e)}const s=i.mapper.toViewElement(r[r.length-1]);o.setSelection(s,0)}),{priority:"lowest"})))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",(()=>{if(!this.isEnabled){const t=this.getSelectedTableCells();if(!t)return;e.model.change((n=>{const i=n.createPositionAt(t[0],0),o=e.model.schema.getNearestSelectionRange(i);n.setSelection(o)}))}}))}_handleDeleteContent(e,t){const n=this.editor.plugins.get(HC),i=t[0],o=t[1],r=this.editor.model,s=!o||"backward"==o.direction,a=n.getSelectedTableCells(i);a.length&&(e.stop(),r.change((e=>{const t=a[s?a.length-1:0];r.change((e=>{for(const t of a)r.deleteContent(e.createSelection(t,"in"))}));const n=r.schema.getNearestSelectionRange(e.createPositionAt(t,0));i.is("documentSelection")?e.setSelection(n):i.setTo(n)})))}_handleInsertTextEvent(e,t){const n=this.editor,i=this.getSelectedTableCells();if(!i)return;const o=n.editing.view,r=n.editing.mapper,s=i.map((e=>o.createRangeOn(r.toViewElement(e))));t.selection=o.createSelection(s)}_getCellsToSelect(e,t){const n=this.editor.plugins.get("TableUtils"),i=n.getCellLocation(e),o=n.getCellLocation(t),r=Math.min(i.row,o.row),s=Math.max(i.row,o.row),a=Math.min(i.column,o.column),l=Math.max(i.column,o.column),c=new Array(s-r+1).fill(null).map((()=>[])),d={startRow:r,endRow:s,startColumn:a,endColumn:l};for(const{row:h,cell:g}of new gC(e.findAncestor("table"),d))c[h-r].push(g);const u=o.row<i.row,p=o.column<i.column;return u&&c.reverse(),p&&c.forEach((e=>e.reverse())),{cells:c.flat(),backward:u||p}}}class fS extends Lo{static get pluginName(){return"TableClipboard"}static get requires(){return[_f,xf,mS,HC]}init(){const e=this.editor,t=e.editing.view.document;this.listenTo(t,"copy",((e,t)=>this._onCopyCut(e,t))),this.listenTo(t,"cut",((e,t)=>this._onCopyCut(e,t))),this.listenTo(e.model,"insertContent",((e,t)=>{let[n,i]=t;return this._onInsertContent(e,n,i)}),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,t){const n=this.editor.editing.view,i=this.editor.plugins.get(mS),o=this.editor.plugins.get(_f);i.getSelectedTableCells()&&("cut"!=e.name||this.editor.model.canEditAt(this.editor.model.document.selection))&&(t.preventDefault(),e.stop(),this.editor.model.enqueueChange({isUndoable:"cut"===e.name},(()=>{const r=o._copySelectedFragmentWithMarkers(e.name,this.editor.model.document.selection,(()=>i.getSelectionAsFragment()));n.document.fire("clipboardOutput",{dataTransfer:t.dataTransfer,content:this.editor.data.toView(r),method:e.name})})))}_onInsertContent(e,t,n){if(n&&!n.is("documentSelection"))return;const i=this.editor.model,o=this.editor.plugins.get(HC),r=this.editor.plugins.get(_f),s=this.getTableIfOnlyTableInContent(t,i);if(!s)return;const a=o.getSelectionAffectedTableCells(i.document.selection);a.length?(e.stop(),t.is("documentFragment")?r._pasteMarkersIntoTransformedElement(t.markers,(e=>this._replaceSelectedCells(s,a,e))):this.editor.model.change((e=>{this._replaceSelectedCells(s,a,e)}))):PC(s,o)}_replaceSelectedCells(e,t,n){const i=this.editor.plugins.get(HC),o={width:i.getColumns(e),height:i.getRows(e)},r=function(e,t,n,i){const o=e[0].findAncestor("table"),r=i.getColumnIndexes(e),s=i.getRowIndexes(e),a={firstColumn:r.first,lastColumn:r.last,firstRow:s.first,lastRow:s.last},l=1===e.length;return l&&(a.lastRow+=t.height-1,a.lastColumn+=t.width-1,function(e,t,n,i){const o=i.getColumns(e),r=i.getRows(e);n>o&&i.insertColumns(e,{at:o,columns:n-o}),t>r&&i.insertRows(e,{at:r,rows:t-r})}(o,a.lastRow+1,a.lastColumn+1,i)),l||!i.isSelectionRectangular(e)?function(e,t,n){const{firstRow:i,lastRow:o,firstColumn:r,lastColumn:s}=t,a={first:i,last:o},l={first:r,last:s};yS(e,r,a,n),yS(e,s+1,a,n),bS(e,i,l,n),bS(e,o+1,l,n,i)}(o,a,n):(a.lastRow=RC(o,a),a.lastColumn=BC(o,a)),a}(t,o,n,i),s=r.lastRow-r.firstRow+1,a=r.lastColumn-r.firstColumn+1;e=AC(e,{startRow:0,startColumn:0,endRow:Math.min(s,o.height)-1,endColumn:Math.min(a,o.width)-1},n);const l=t[0].findAncestor("table"),c=this._replaceSelectedCellsWithPasted(e,o,l,r,n);if(this.editor.plugins.get("TableSelection").isEnabled){const e=i.sortRanges(c.map((e=>n.createRangeOn(e))));n.setSelection(e)}else n.setSelection(c[0],0);return l}_replaceSelectedCellsWithPasted(e,t,n,i,o){const{width:r,height:s}=t,a=function(e,t,n){const i=new Array(n).fill(null).map((()=>new Array(t).fill(null)));for(const{column:o,row:r,cell:s}of new gC(e))i[r][o]=s;return i}(e,r,s),l=[...new gC(n,{startRow:i.firstRow,endRow:i.lastRow,startColumn:i.firstColumn,endColumn:i.lastColumn,includeAllSlots:!0})],c=[];let d;for(const m of l){const{row:e,column:t}=m;t===i.firstColumn&&(d=m.getPositionBefore());const n=e-i.firstRow,l=t-i.firstColumn,u=a[n%s][l%r],p=u?o.cloneElement(u):null,h=this._replaceTableSlotCell(m,p,d,o);h&&(EC(h,e,t,i.lastRow,i.lastColumn,o),c.push(h),d=o.createPositionAfter(h))}const u=parseInt(n.getAttribute("headingRows")||"0"),p=parseInt(n.getAttribute("headingColumns")||"0"),h=i.firstRow<u&&u<=i.lastRow,g=i.firstColumn<p&&p<=i.lastColumn;if(h){const e=bS(n,u,{first:i.firstColumn,last:i.lastColumn},o,i.firstRow);c.push(...e)}if(g){const e=yS(n,p,{first:i.firstRow,last:i.lastRow},o);c.push(...e)}return c}_replaceTableSlotCell(e,t,n,i){const{cell:o,isAnchor:r}=e;return r&&i.remove(o),t?(i.insert(t,n),t):null}getTableIfOnlyTableInContent(e,t){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(1==e.childCount&&e.getChild(0).is("element","table"))return e.getChild(0);const n=t.createRangeIn(e);for(const i of n.getItems())if(i.is("element","table")){const e=t.createRange(n.start,t.createPositionBefore(i));if(t.hasContent(e,{ignoreWhitespaces:!0}))return null;const o=t.createRange(t.createPositionAfter(i),n.end);return t.hasContent(o,{ignoreWhitespaces:!0})?null:i}return null}}function bS(e,t,n,i){if(!(t<1))return CC(e,t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:0).filter((e=>{let{column:t,cellWidth:i}=e;return wS(t,i,n)})).map((e=>{let{cell:n}=e;return SC(n,t,i)}))}function yS(e,t,n,i){if(!(t<1))return IC(e,t).filter((e=>{let{row:t,cellHeight:i}=e;return wS(t,i,n)})).map((e=>{let{cell:n,column:o}=e;return TC(n,o,t,i)}))}function wS(e,t,n){const i=e+t-1,{first:o,last:r}=n;return e>=o&&e<=r||e<o&&i>=o}class vS extends Lo{static get pluginName(){return"TableKeyboard"}static get requires(){return[mS,HC]}init(){var e=this;const t=this.editor,n=t.editing.view.document,i=t.t;this.listenTo(n,"arrowKey",(function(){return e._onArrowKey(...arguments)}),{context:"table"}),this.listenTo(n,"tab",(function(){return e._handleTabOnSelectedTable(...arguments)}),{context:"figure"}),this.listenTo(n,"tab",(function(){return e._handleTab(...arguments)}),{context:["th","td"]}),t.accessibility.addKeystrokeInfoGroup({id:"table",label:i("Keystrokes that can be used in a table cell"),keystrokes:[{label:i("Move the selection to the next cell"),keystroke:"Tab"},{label:i("Move the selection to the previous cell"),keystroke:"Shift+Tab"},{label:i("Insert a new table row (when in the last cell of a table)"),keystroke:"Tab"},{label:i("Navigate through the table"),keystroke:[["arrowup"],["arrowright"],["arrowdown"],["arrowleft"]]}]})}_handleTabOnSelectedTable(e,t){const n=this.editor,i=n.model.document.selection.getSelectedElement();i&&i.is("element","table")&&(t.preventDefault(),t.stopPropagation(),e.stop(),n.model.change((e=>{e.setSelection(e.createRangeIn(i.getChild(0).getChild(0)))})))}_handleTab(e,t){const n=this.editor,i=this.editor.plugins.get(HC),o=this.editor.plugins.get("TableSelection"),r=n.model.document.selection,s=!t.shiftKey;let a=i.getTableCellsContainingSelection(r)[0];if(a||(a=o.getFocusCell()),!a)return;t.preventDefault(),t.stopPropagation(),e.stop();const l=a.parent,c=l.parent,d=c.getChildIndex(l),u=l.getChildIndex(a),p=0===u;if(!s&&p&&0===d)return void n.model.change((e=>{e.setSelection(e.createRangeOn(c))}));const h=u===l.childCount-1,g=d===i.getRows(c)-1;if(s&&g&&h&&(n.execute("insertTableRowBelow"),d===i.getRows(c)-1))return void n.model.change((e=>{e.setSelection(e.createRangeOn(c))}));let m;if(s&&h){const e=c.getChild(d+1);m=e.getChild(0)}else if(!s&&p){const e=c.getChild(d-1);m=e.getChild(e.childCount-1)}else m=l.getChild(u+(s?1:-1));n.model.change((e=>{e.setSelection(e.createRangeIn(m))}))}_onArrowKey(e,t){const n=this.editor,i=Di(t.keyCode,n.locale.contentLanguageDirection);this._handleArrowKeys(i,t.shiftKey)&&(t.preventDefault(),t.stopPropagation(),e.stop())}_handleArrowKeys(e,t){const n=this.editor.plugins.get(HC),i=this.editor.plugins.get("TableSelection"),o=this.editor.model,r=o.document.selection,s=["right","down"].includes(e),a=n.getSelectedTableCells(r);if(a.length){let n;return n=t?i.getFocusCell():s?a[a.length-1]:a[0],this._navigateFromCellInDirection(n,e,t),!0}const l=r.focus.findAncestor("tableCell");if(!l)return!1;if(!r.isCollapsed)if(t){if(r.isBackward==s&&!r.containsEntireContent(l))return!1}else{const e=r.getSelectedElement();if(!e||!o.schema.isObject(e))return!1}return!!this._isSelectionAtCellEdge(r,l,s)&&(this._navigateFromCellInDirection(l,e,t),!0)}_isSelectionAtCellEdge(e,t,n){const i=this.editor.model,o=this.editor.model.schema,r=n?e.getLastPosition():e.getFirstPosition();if(!o.getLimitElement(r).is("element","tableCell"))return i.createPositionAt(t,n?"end":0).isTouching(r);const s=i.createSelection(r);return i.modifySelection(s,{direction:n?"forward":"backward"}),r.isEqual(s.focus)}_navigateFromCellInDirection(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const i=this.editor.model,o=e.findAncestor("table"),r=[...new gC(o,{includeAllSlots:!0})],{row:s,column:a}=r[r.length-1],l=r.find((t=>{let{cell:n}=t;return n==e}));let{row:c,column:d}=l;switch(t){case"left":d--;break;case"up":c--;break;case"right":d+=l.cellWidth;break;case"down":c+=l.cellHeight}if(c<0||c>s||d<0&&c<=0||d>a&&c>=s)return void i.change((e=>{e.setSelection(e.createRangeOn(o))}));d<0?(d=n?0:a,c--):d>a&&(d=n?a:0,c++);const u=r.find((e=>e.row==c&&e.column==d)).cell,p=["right","down"].includes(t),h=this.editor.plugins.get("TableSelection");if(n&&h.isEnabled){const t=h.getAnchorCell()||e;h.setCellSelection(t,u)}else{const e=i.createPositionAt(u,p?0:"end");i.change((t=>{t.setSelection(e)}))}}}class kS extends Qs{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class _S extends Lo{static get pluginName(){return"TableMouse"}static get requires(){return[mS,HC]}init(){this.editor.editing.view.addObserver(kS),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,t=e.plugins.get(HC);let n=!1;const i=e.plugins.get(mS);this.listenTo(e.editing.view.document,"mousedown",((o,r)=>{const s=e.model.document.selection;if(!this.isEnabled||!i.isEnabled)return;if(!r.domEvent.shiftKey)return;const a=i.getAnchorCell()||t.getTableCellsContainingSelection(s)[0];if(!a)return;const l=this._getModelTableCellFromDomEvent(r);l&&xS(a,l)&&(n=!0,i.setCellSelection(a,l),r.preventDefault())})),this.listenTo(e.editing.view.document,"mouseup",(()=>{n=!1})),this.listenTo(e.editing.view.document,"selectionChange",(e=>{n&&e.stop()}),{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let t,n,i=!1,o=!1;const r=e.plugins.get(mS);this.listenTo(e.editing.view.document,"mousedown",((e,n)=>{this.isEnabled&&r.isEnabled&&(n.domEvent.shiftKey||n.domEvent.ctrlKey||n.domEvent.altKey||(t=this._getModelTableCellFromDomEvent(n)))})),this.listenTo(e.editing.view.document,"mousemove",((e,s)=>{if(!s.domEvent.buttons)return;if(!t)return;const a=this._getModelTableCellFromDomEvent(s);a&&xS(t,a)&&(n=a,i||n==t||(i=!0)),i&&(o=!0,r.setCellSelection(t,n),s.preventDefault())})),this.listenTo(e.editing.view.document,"mouseup",(()=>{i=!1,o=!1,t=null,n=null})),this.listenTo(e.editing.view.document,"selectionChange",(e=>{o&&e.stop()}),{priority:"highest"})}_getModelTableCellFromDomEvent(e){const t=e.target,n=this.editor.editing.view.createPositionAt(t,0);return this.editor.editing.mapper.toModelPosition(n).parent.findAncestor("tableCell",{includeSelf:!0})}}function xS(e,t){return e.parent.parent==t.parent.parent}var AS=r(2329);function CS(e){const t=e.getSelectedElement();return t&&IS(t)?t:null}function SS(e){const t=e.getFirstPosition();if(!t)return null;let n=t.parent;for(;n;){if(n.is("element")&&IS(n))return n;n=n.parent}return null}function IS(e){return!!e.getCustomProperty("table")&&yb(e)}Do()(AS.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),AS.A.locals;var TS=r(5506);Do()(TS.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),TS.A.locals,Object.defineProperty,Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var ES=r(2655);Do()(ES.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),ES.A.locals;var DS=r(4043);Do()(DS.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),DS.A.locals;var MS=r(1623);Do()(MS.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),MS.A.locals;var PS=r(8986);Do()(PS.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),PS.A.locals;const RS=Oh.defaultPositions;RS.northArrowSouth,RS.northArrowSouthWest,RS.northArrowSouthEast,RS.southArrowNorth,RS.southArrowNorthWest,RS.southArrowNorthEast,RS.viewportStickyNorth,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,Object.defineProperty,Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var BS=r(5562);Do()(BS.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),BS.A.locals;var jS=r(4143);Do()(jS.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),jS.A.locals;var LS=r(8795);Do()(LS.A,{injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0}),LS.A.locals;var zS=Object.defineProperty,OS=Object.getOwnPropertySymbols,NS=Object.prototype.hasOwnProperty,FS=Object.prototype.propertyIsEnumerable,VS=(e,t,n)=>t in e?zS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,HS=(e,t)=>{for(var n in t||(t={}))NS.call(t,n)&&VS(e,n,t[n]);if(OS)for(var n of OS(t))FS.call(t,n)&&VS(e,n,t[n]);return e};const WS={autoRefresh:!0},US=36e5;class qS extends(q()){constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(super(),!e)throw new v("token-missing-token-url",this);t.initValue&&this._validateTokenValue(t.initValue),this.set("value",t.initValue),this._refresh="function"==typeof e?e:()=>{return t=e,new Promise(((e,n)=>{const i=new XMLHttpRequest;i.open("GET",t),i.addEventListener("load",(()=>{const t=i.status,o=i.response;return t<200||t>299?n(new v("token-cannot-download-new-token",null)):e(o)})),i.addEventListener("error",(()=>n(new Error("Network Error")))),i.addEventListener("abort",(()=>n(new Error("Abort")))),i.send()}));var t},this._options=HS(HS({},WS),t)}init(){return new Promise(((e,t)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(t)}))}refreshToken(){return this._refresh().then((e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this)))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const t="string"==typeof e,n=!/^".*"$/.test(e),i=t&&3===e.split(".").length;if(!n||!i)throw new v("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout((()=>{this.refreshToken()}),e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:t}=JSON.parse(atob(e));return t?Math.floor((1e3*t-Date.now())/2):US}catch(i){return US}}static create(e){return new qS(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).init()}}const $S=/^data:(\S*?);base64,/;class GS extends(D()){constructor(e,t,n){if(super(),!e)throw new v("fileuploader-missing-file",null);if(!t)throw new v("fileuploader-missing-token",null);if(!n)throw new v("fileuploader-missing-api-address",null);this.file=function(e){if("string"!=typeof e)return!1;const t=e.match($S);return!(!t||!t.length)}(e)?function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512;try{const n=e.match($S)[1],i=atob(e.replace($S,"")),o=[];for(let e=0;e<i.length;e+=t){const n=i.slice(e,e+t),r=new Array(n.length);for(let e=0;e<n.length;e++)r[e]=n.charCodeAt(e);o.push(new Uint8Array(r))}return new Blob(o,{type:n})}catch(e){throw new v("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=t,this._apiAddress=n}onProgress(e){return this.on("progress",((t,n)=>e(n))),this}onError(e){return this.once("error",((t,n)=>e(n))),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,t=e=>()=>this.fire("error",e);e.addEventListener("error",t("Network Error")),e.addEventListener("abort",t("Abort")),e.upload&&e.upload.addEventListener("progress",(e=>{e.lengthComputable&&this.fire("progress",{total:e.total,uploaded:e.loaded})})),e.addEventListener("load",(()=>{const t=e.status,n=e.response;if(t<200||t>299)return this.fire("error",n.message||n.error)}))}_sendRequest(){const e=new FormData,t=this.xhr;return e.append("file",this.file),new Promise(((n,i)=>{t.addEventListener("load",(()=>{const e=t.status,o=t.response;return e<200||e>299?o.message?i(new v("fileuploader-uploading-data-failed",this,{message:o.message})):i(o.error):n(o)})),t.addEventListener("error",(()=>i(new Error("Network Error")))),t.addEventListener("abort",(()=>i(new Error("Abort")))),t.send(e)}))}}class KS{constructor(e,t){if(!e)throw new v("uploadgateway-missing-token",null);if(!t)throw new v("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=t}upload(e){return new GS(e,this._token,this._apiAddress)}}class YS extends $o{static get pluginName(){return"CloudServicesCore"}createToken(e,t){return new qS(e,t)}createUploadGateway(e,t){return new KS(e,t)}}var QS=(e,t,n)=>new Promise(((i,o)=>{var r=e=>{try{a(n.next(e))}catch(e){o(e)}},s=e=>{try{a(n.throw(e))}catch(e){o(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(r,s);a((n=n.apply(e,t)).next())}));class ZS extends Jm{}ZS.builtinPlugins=[class extends Lo{static get requires(){return[ep,uy,lb,by,pb,Of,Dy]}static get pluginName(){return"Essentials"}},class extends Lo{static get requires(){return[Py]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const e=this.editor.config.get("ckfinder.uploadUrl");e&&(this.editor.plugins.get(Py).createUploadAdapter=t=>new Ly(t,e,this.editor.t))}},class extends Lo{static get requires(){return[zf]}static get pluginName(){return"Autoformat"}afterInit(){const e=this.editor,t=this.editor.t;this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats(),e.accessibility.addKeystrokeInfos({keystrokes:[{label:t("Revert autoformatting action"),keystroke:"Backspace"}]})}_addListAutoformats(){const e=this.editor.commands;e.get("bulletedList")&&zy(this.editor,this,/^[*-]\s$/,"bulletedList"),e.get("numberedList")&&zy(this.editor,this,/^1[.|)]\s$/,"numberedList"),e.get("todoList")&&zy(this.editor,this,/^\[\s?\]\s$/,"todoList"),e.get("checkTodoList")&&zy(this.editor,this,/^\[\s?x\s?\]\s$/,(()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")}))}_addBasicStylesAutoformats(){const e=this.editor.commands;if(e.get("bold")){const e=Fy(this.editor,"bold");Oy(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Oy(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(e.get("italic")){const e=Fy(this.editor,"italic");Oy(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Oy(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(e.get("code")){const e=Fy(this.editor,"code");Oy(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(e.get("strikethrough")){const e=Fy(this.editor,"strikethrough");Oy(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const e=this.editor.commands.get("heading");e&&e.modelElements.filter((e=>e.match(/^heading[1-6]$/))).forEach((t=>{const n=t[7],i=new RegExp(`^(#{${n}})\\s$`);zy(this.editor,this,i,(()=>{if(!e.isEnabled||e.value===t)return!1;this.editor.execute("heading",{value:t})}))}))}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&zy(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const e=this.editor,t=e.model.document.selection;e.commands.get("codeBlock")&&zy(e,this,/^```$/,(()=>{if(t.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})}))}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&zy(this.editor,this,/^---$/,"horizontalLine")}},class extends Lo{static get requires(){return[Wy,$y]}static get pluginName(){return"Bold"}},class extends Lo{static get requires(){return[Yy,Zy]}static get pluginName(){return"Italic"}},class extends Lo{static get requires(){return[nw,ow]}static get pluginName(){return"BlockQuote"}},class extends Lo{static get pluginName(){return"CKBox"}static get requires(){return[Ow,rw]}},class extends Lo{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",Gw,Uw]}},class extends $o{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[YS]}init(){return QS(this,null,(function*(){const e=this.context.config.get("cloudServices")||{};for(const[n,i]of Object.entries(e))this[n]=i;if(!this.tokenUrl)return void(this.token=null);const t=this.context.plugins.get("CloudServicesCore");this.token=yield t.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)}))}registerTokenUrl(e){return QS(this,null,(function*(){if(this._tokens.has(e))return this.getTokenFor(e);const t=this.context.plugins.get("CloudServicesCore"),n=yield t.createToken(e).init();return this._tokens.set(e,n),n}))}getTokenFor(e){const t=this._tokens.get(e);if(!t)throw new v("cloudservices-token-not-registered",this);return t}destroy(){super.destroy();for(const e of this._tokens.values())e.destroy()}},class extends Lo{static get pluginName(){return"EasyImage"}static get requires(){return[Kw,"ImageUpload"]}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||k("easy-image-image-feature-missing",e)}},class extends Lo{static get requires(){return[ov,sv]}static get pluginName(){return"Heading"}},class extends Lo{static get requires(){return[Zv,Jv]}static get pluginName(){return"Image"}},class extends Lo{static get requires(){return[nk,ik]}static get pluginName(){return"ImageCaption"}},class extends Lo{static get requires(){return[Qk,Xk]}static get pluginName(){return"ImageStyle"}},class extends Lo{static get requires(){return[Nb,wv]}static get pluginName(){return"ImageToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(Nb),i=e.plugins.get("ImageUtils");var o;n.register("image",{ariaLabel:t("Image toolbar"),items:(o=e.config.get("image.toolbar")||[],o.map((e=>O(e)?e.name:e))),getRelatedElement:e=>i.getClosestSelectedImageWidget(e)})}},class extends Lo{static get pluginName(){return"ImageUpload"}static get requires(){return[Sk,lk,pk]}},class extends Lo{static get pluginName(){return"Indent"}static get requires(){return[n_,i_]}},class extends Lo{static get requires(){return[q_,Z_,ex]}static get pluginName(){return"Link"}},class extends Lo{static get requires(){return[lA,pA]}static get pluginName(){return"List"}},class extends Lo{static get requires(){return[TA,RA,DA,zb]}static get pluginName(){return"MediaEmbed"}},ev,class extends Lo{static get pluginName(){return"PasteFromOffice"}static get requires(){return[xf]}init(){const e=this.editor,t=e.plugins.get("ClipboardPipeline"),n=e.editing.view.document,i=[],o=this.editor.plugins.has("MultiLevelList");i.push(new tC(n,o)),i.push(new rC(n)),i.push(new aC(n)),t.on("inputTransformation",((t,o)=>{if(o._isTransformedWithPasteFromOffice)return;if(e.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const r=o.dataTransfer.getData("text/html"),s=i.find((e=>e.isActive(r)));s&&(o._parsedData||(o._parsedData=function(e,t){const n=new DOMParser,i=function(e){return lC(lC(e)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"\xa0</").replace(/ <o:p><\/o:p>/g,"\xa0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(e){const t="</body>",n=e.indexOf(t);if(n<0)return e;const i=e.indexOf("</html>",n+7);return e.substring(0,n+7)+(i>=0?e.substring(i):"")}(e=(e=e.replace(/<!--\[if gte vml 1]>/g,"")).replace(/<o:SmartTagType(?:\s+[^\s>=]+(?:="[^"]*")?)*\s*\/?>/gi,""))),o=n.parseFromString(i,"text/html");!function(e){e.querySelectorAll("span[style*=spacerun]").forEach((e=>{const t=e,n=t.innerText.length||0;t.innerText=Array(n+1).join("\xa0 ").substr(0,n)}))}(o);const r=o.body.innerHTML,s=function(e,t){const n=new es(t),i=new Hs(n,{renderingMode:"data"}),o=e.createDocumentFragment(),r=e.body.childNodes;for(;r.length>0;)o.appendChild(r[0]);return i.domToView(o,{skipComments:!0})}(o,t),a=function(e){const t=[],n=[],i=Array.from(e.getElementsByTagName("style"));for(const o of i)o.sheet&&o.sheet.cssRules&&o.sheet.cssRules.length&&(t.push(o.sheet),n.push(o.innerHTML));return{styles:t,stylesString:n.join(" ")}}(o);return{body:s,bodyString:r,styles:a.styles,stylesString:a.stylesString}}(r,n.stylesProcessor)),s.execute(o),o._isTransformedWithPasteFromOffice=!0)}),{priority:"high"})}},class extends Lo{static get requires(){return[Fv,wv]}static get pluginName(){return"PictureEditing"}afterInit(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),e.plugins.has("ImageInlineEditing")&&e.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const e=this.editor,t=e.conversion,n=e.plugins.get("ImageUtils");t.for("upcast").add(function(e){const t=["srcset","media","type","sizes"],n=(n,i,o)=>{const r=i.viewItem;if(!o.consumable.test(r,{name:!0}))return;const s=new Map;for(const e of r.getChildren())if(e.is("element","source")){const n={};for(const i of t)e.hasAttribute(i)&&o.consumable.test(e,{attributes:i})&&(n[i]=e.getAttribute(i));Object.keys(n).length&&s.set(e,n)}const a=e.findViewImgElement(r);if(!a)return;let l=i.modelCursor.parent;if(!l.is("element","imageBlock")){const e=o.convertItem(a,i.modelCursor);i.modelRange=e.modelRange,i.modelCursor=e.modelCursor,l=Zi(e.modelRange.getItems())}o.consumable.consume(r,{name:!0});for(const[e,t]of s)o.consumable.consume(e,{attributes:Object.keys(t)});s.size&&o.writer.setAttribute("sources",Array.from(s.values()),l),o.convertChildren(r,l)};return e=>{e.on("element:picture",n)}}(n)),t.for("downcast").add(function(e){const t=(t,n,i)=>{if(!i.consumable.consume(n.item,t.name))return;const o=i.writer,r=i.mapper.toViewElement(n.item),s=e.findViewImgElement(r),a=n.attributeNewValue;if(a&&a.length){const e=o.createContainerElement("picture",null,a.map((e=>o.createEmptyElement("source",e)))),t=[];let n=s.parent;for(;n&&n.is("attributeElement");){const e=n.parent;o.unwrap(o.createRangeOn(s),n),t.unshift(n),n=e}o.insert(o.createPositionBefore(s),e),o.move(o.createRangeOn(s),o.createPositionAt(e,"end"));for(const i of t)o.wrap(o.createRangeOn(e),i)}else if(s.parent.is("element","picture")){const e=s.parent;o.move(o.createRangeOn(s),o.createPositionBefore(e)),o.remove(e)}};return e=>{e.on("attribute:sources:imageBlock",t),e.on("attribute:sources:imageInline",t)}}(n))}_setupImageUploadEditingIntegration(){const e=this.editor;if(!e.plugins.has("ImageUploadEditing"))return;const t=e.plugins.get("ImageUploadEditing");this.listenTo(t,"uploadComplete",((t,n)=>{let{imageElement:i,data:o}=n;const r=o.sources;r&&e.model.change((e=>{e.setAttributes({sources:r},i)}))}))}},class extends Lo{static get requires(){return[lS,pS,mS,_S,vS,fS,zb]}static get pluginName(){return"Table"}},class extends Lo{static get requires(){return[Nb]}static get pluginName(){return"TableToolbar"}afterInit(){const e=this.editor,t=e.t,n=e.plugins.get(Nb),i=e.config.get("table.contentToolbar"),o=e.config.get("table.tableToolbar");i&&n.register("tableContent",{ariaLabel:t("Table toolbar"),items:i,getRelatedElement:SS}),o&&n.register("table",{ariaLabel:t("Table toolbar"),items:o,getRelatedElement:CS})}},class extends Lo{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(e){super(e),e.config.define("typing",{transformations:{include:Qf}})}init(){const e=this.editor.model.document.selection;e.on("change:range",(()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")})),this._enableTransformationWatchers()}_enableTransformationWatchers(){const e=this.editor,t=e.model,n=e.plugins.get("Delete"),i=function(e){const t=e.extra||[],n=e.remove||[],i=e=>!n.includes(e);return function(e){const t=new Set;for(const n of e)if("string"==typeof n&&Yf[n])for(const e of Yf[n])t.add(e);else t.add(n);return Array.from(t)}(e.include.concat(t).filter(i)).filter(i).map((e=>"string"==typeof e&&Kf[e]?Kf[e]:e)).filter((e=>"object"==typeof e)).map((e=>({from:Zf(e.from),to:Xf(e.to)})))}(e.config.get("typing.transformations")),o=new Ff(e.model,(e=>{for(const t of i)if(t.from.test(e))return{normalizedTransformation:t}}));o.on("matched:data",((e,i)=>{if(!i.batch.isTyping)return;const{from:o,to:r}=i.normalizedTransformation,s=o.exec(i.text),a=r(s.slice(1)),l=i.range;let c=s.index;t.enqueueChange((e=>{for(let n=1;n<s.length;n++){const i=s[n],o=a[n-1];if(null==o){c+=i.length;continue}const r=l.start.getShiftedBy(c),d=t.createRange(r,r.getShiftedBy(i.length)),u=Jf(r);t.insertContent(e.createText(o,u),d),c+=o.length}t.enqueueChange((()=>{n.requestUndoOnBackspace()}))}))})),o.bind("isEnabled").to(this)}}],ZS.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),s.default})(),e.exports=i()},869:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(5043);var i=n(3290),o=n(579);function r(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(i=e)||null===i||0===Object.keys(i).length?n:e);var i}:t;return(0,o.jsx)(i.mL,{styles:r})}},918:(e,t,n)=>{"use strict";function i(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{A:()=>i})},1153:(e,t,n)=>{"use strict";var i=n(5043),o=Symbol.for("react.element"),r=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var i,r={},c=null,d=null;for(i in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,i)&&!l.hasOwnProperty(i)&&(r[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===r[i]&&(r[i]=t[i]);return{$$typeof:o,type:e,key:c,ref:d,props:r,_owner:a.current}}t.Fragment=r,t.jsx=c,t.jsxs=c},1188:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});const i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},1722:(e,t,n)=>{"use strict";n.d(t,{Rk:()=>i,SF:()=>o,sk:()=>r});function i(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(i+=n+" ")})),i}var o=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},r=function(e,t,n){o(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var r=t;do{e.insert(t===r?"."+i:"",r,e.sheet,!0),r=r.next}while(void 0!==r)}}},2374:(e,t,n)=>{"use strict";t.A=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(i,s,a):i[s]=e[s]}return i.default=e,n&&n.set(e,i),i}(n(5043)),o=n(3174);function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}t.A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(o.ThemeContext);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n}},2730:(e,t,n)=>{"use strict";var i=n(5043),o=n(8853);function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function m(e,t,n,i,o,r,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=s}var f={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){f[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];f[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){f[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){f[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){f[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){f[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){f[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){f[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){f[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,i){var o=f.hasOwnProperty(t)?f[t]:null;(null!==o?0!==o.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,i)&&(n=null),i||null===o?function(e){return!!u.call(g,e)||!u.call(h,e)&&(p.test(e)?g[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,i=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,y);f[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,y);f[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,y);f[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){f[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),f.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){f[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var v=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),I=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var B=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}var L,z=Object.assign;function O(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var N=!1;function F(e,t){if(!e||N)return"";N=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var i=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){i=c}e.call(t.prototype)}else{try{throw Error()}catch(c){i=c}e()}}catch(c){if(c&&i&&"string"===typeof c.stack){for(var o=c.stack.split("\n"),r=i.stack.split("\n"),s=o.length-1,a=r.length-1;1<=s&&0<=a&&o[s]!==r[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==r[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==r[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{N=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function V(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case C:return"Profiler";case A:return"StrictMode";case E:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){i=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=q(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){Z(e,t);var n=U(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(i&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(r(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(r(92));if(te(n)){if(1<n.length)throw Error(r(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function re(e,t){var n=U(t.value),i=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function fe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),o=me(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}Object.keys(he).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var be=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(be[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(r(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(r(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(r(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(r(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ve=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Ae=null;function Ce(e){if(e=vo(e)){if("function"!==typeof _e)throw Error(r(280));var t=e.stateNode;t&&(t=_o(t),_e(e.stateNode,e.type,t))}}function Se(e){xe?Ae?Ae.push(e):Ae=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Ae;if(Ae=xe=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Te(e,t){return e(t)}function Ee(){}var De=!1;function Me(e,t,n){if(De)return e(t,n);De=!0;try{return Te(e,t,n)}finally{De=!1,(null!==xe||null!==Ae)&&(Ee(),Ie())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var i=_o(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(r(231,t,typeof n));return n}var Re=!1;if(d)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(de){Re=!1}function je(e,t,n,i,o,r,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Le=!1,ze=null,Oe=!1,Ne=null,Fe={onError:function(e){Le=!0,ze=e}};function Ve(e,t,n,i,o,r,s,a,l){Le=!1,ze=null,je.apply(Fe,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(He(e)!==e)throw Error(r(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(i=o.return)){n=i;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Ue(o),e;if(s===i)return Ue(o),t;s=s.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,i=s;break}if(l===i){a=!0,i=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,i=o;break}if(l===i){a=!0,i=s,n=o;break}l=l.sibling}if(!a)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Ye=o.unstable_shouldYield,Qe=o.unstable_requestPaint,Ze=o.unstable_now,Xe=o.unstable_getCurrentPriorityLevel,Je=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,it=o.unstable_IdlePriority,ot=null,rt=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,o=e.suspendedLanes,r=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?i=ut(a):0!==(r&=s)&&(i=ut(r))}else 0!==(s=n&~o)?i=ut(s):0!==r&&(i=ut(r));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(r=t&-t)||16===o&&0!==(4194240&r)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)o=1<<(n=31-st(t)),i|=e[n],t&=~o;return i}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function ft(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-st(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var wt=0;function vt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,_t,xt,At,Ct,St=!1,It=[],Tt=null,Et=null,Dt=null,Mt=new Map,Pt=new Map,Rt=[],Bt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Lt(e,t,n,i,o,r){return null===e||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:r,targetContainers:[o]},null!==t&&(null!==(t=vo(t))&&_t(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function zt(e){var t=wo(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void Ct(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ot(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vo(n))&&_t(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);ve=i,n.target.dispatchEvent(i),ve=null,t.shift()}return!0}function Nt(e,t,n){Ot(e)&&n.delete(t)}function Ft(){St=!1,null!==Tt&&Ot(Tt)&&(Tt=null),null!==Et&&Ot(Et)&&(Et=null),null!==Dt&&Ot(Dt)&&(Dt=null),Mt.forEach(Nt),Pt.forEach(Nt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function Ht(e){function t(t){return Vt(t,e)}if(0<It.length){Vt(It[0],e);for(var n=1;n<It.length;n++){var i=It[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==Et&&Vt(Et,e),null!==Dt&&Vt(Dt,e),Mt.forEach(t),Pt.forEach(t),n=0;n<Rt.length;n++)(i=Rt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)zt(n),null===n.blockedOn&&Rt.shift()}var Wt=v.ReactCurrentBatchConfig,Ut=!0;function qt(e,t,n,i){var o=wt,r=Wt.transition;Wt.transition=null;try{wt=1,Gt(e,t,n,i)}finally{wt=o,Wt.transition=r}}function $t(e,t,n,i){var o=wt,r=Wt.transition;Wt.transition=null;try{wt=4,Gt(e,t,n,i)}finally{wt=o,Wt.transition=r}}function Gt(e,t,n,i){if(Ut){var o=Yt(e,t,n,i);if(null===o)Ui(e,t,i,Kt,n),jt(e,i);else if(function(e,t,n,i,o){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,i,o),!0;case"dragenter":return Et=Lt(Et,e,t,n,i,o),!0;case"mouseover":return Dt=Lt(Dt,e,t,n,i,o),!0;case"pointerover":var r=o.pointerId;return Mt.set(r,Lt(Mt.get(r)||null,e,t,n,i,o)),!0;case"gotpointercapture":return r=o.pointerId,Pt.set(r,Lt(Pt.get(r)||null,e,t,n,i,o)),!0}return!1}(o,e,t,n,i))i.stopPropagation();else if(jt(e,i),4&t&&-1<Bt.indexOf(e)){for(;null!==o;){var r=vo(o);if(null!==r&&kt(r),null===(r=Yt(e,t,n,i))&&Ui(e,t,i,Kt,n),r===o)break;o=r}null!==o&&i.stopPropagation()}else Ui(e,t,i,null,n)}}var Kt=null;function Yt(e,t,n,i){if(Kt=null,null!==(e=wo(e=ke(i))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Zt=null,Xt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Xt,i=n.length,o="value"in Zt?Zt.value:Zt.textContent,r=o.length;for(e=0;e<i&&n[e]===o[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===o[r-t];t++);return Jt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function on(){return!1}function rn(e){function t(t,n,i,o,r){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:on,this.isPropagationStopped=on,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=rn(cn),un=z({},cn,{view:0,detail:0}),pn=rn(un),hn=z({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),gn=rn(hn),mn=rn(z({},hn,{dataTransfer:0})),fn=rn(z({},un,{relatedTarget:0})),bn=rn(z({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=rn(yn),vn=rn(z({},cn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function Cn(){return An}var Sn=z({},un,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=rn(Sn),Tn=rn(z({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=rn(z({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=rn(z({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=z({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=rn(Mn),Rn=[9,13,27,32],Bn=d&&"CompositionEvent"in window,jn=null;d&&"documentMode"in document&&(jn=document.documentMode);var Ln=d&&"TextEvent"in window&&!jn,zn=d&&(!Bn||jn&&8<jn&&11>=jn),On=String.fromCharCode(32),Nn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,i){Se(i),0<(t=$i(t,"onChange")).length&&(n=new dn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var $n=null,Gn=null;function Kn(e){Oi(e,0)}function Yn(e){if(G(ko(e)))return e}function Qn(e,t){if("change"===e)return t}var Zn=!1;if(d){var Xn;if(d){var Jn="oninput"in document;if(!Jn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Jn="function"===typeof ei.oninput}Xn=Jn}else Xn=!1;Zn=Xn&&(!document.documentMode||9<document.documentMode)}function ti(){$n&&($n.detachEvent("onpropertychange",ni),Gn=$n=null)}function ni(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];qn(t,Gn,e,ke(e)),Me(Kn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Gn=n,($n=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function oi(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function ri(e,t){if("click"===e)return Yn(t)}function si(e,t){if("input"===e||"change"===e)return Yn(t)}var ai="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(ai(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!u.call(t,o)||!ai(e[o],t[o]))return!1}return!0}function ci(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function di(e,t){var n,i=ci(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ci(i)}}function ui(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ui(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pi(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function hi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gi(e){var t=pi(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ui(n.ownerDocument.documentElement,n)){if(null!==i&&hi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,r=Math.min(i.start,o);i=void 0===i.end?r:Math.min(i.end,o),!e.extend&&r>i&&(o=i,i=r,r=o),o=di(n,r);var s=di(n,i);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),r>i?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mi=d&&"documentMode"in document&&11>=document.documentMode,fi=null,bi=null,yi=null,wi=!1;function vi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wi||null==fi||fi!==K(i)||("selectionStart"in(i=fi)&&hi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=$i(bi,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=fi)))}function ki(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _i={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionend:ki("Transition","TransitionEnd")},xi={},Ai={};function Ci(e){if(xi[e])return xi[e];if(!_i[e])return e;var t,n=_i[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ai)return xi[e]=n[t];return e}d&&(Ai=document.createElement("div").style,"AnimationEvent"in window||(delete _i.animationend.animation,delete _i.animationiteration.animation,delete _i.animationstart.animation),"TransitionEvent"in window||delete _i.transitionend.transition);var Si=Ci("animationend"),Ii=Ci("animationiteration"),Ti=Ci("animationstart"),Ei=Ci("transitionend"),Di=new Map,Mi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pi(e,t){Di.set(e,t),l(t,[e])}for(var Ri=0;Ri<Mi.length;Ri++){var Bi=Mi[Ri];Pi(Bi.toLowerCase(),"on"+(Bi[0].toUpperCase()+Bi.slice(1)))}Pi(Si,"onAnimationEnd"),Pi(Ii,"onAnimationIteration"),Pi(Ti,"onAnimationStart"),Pi("dblclick","onDoubleClick"),Pi("focusin","onFocus"),Pi("focusout","onBlur"),Pi(Ei,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ji="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Li=new Set("cancel close invalid load scroll toggle".split(" ").concat(ji));function zi(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,o,s,a,l,c){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(r(198));var d=ze;Le=!1,ze=null,Oe||(Oe=!0,Ne=d)}}(i,t,void 0,e),e.currentTarget=null}function Oi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var r=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==r&&o.isPropagationStopped())break e;zi(o,a,c),r=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==r&&o.isPropagationStopped())break e;zi(o,a,c),r=l}}}if(Oe)throw e=Ne,Oe=!1,Ne=null,e}function Ni(e,t){var n=t[fo];void 0===n&&(n=t[fo]=new Set);var i=e+"__bubble";n.has(i)||(Wi(t,e,2,!1),n.add(i))}function Fi(e,t,n){var i=0;t&&(i|=4),Wi(n,e,i,t)}var Vi="_reactListening"+Math.random().toString(36).slice(2);function Hi(e){if(!e[Vi]){e[Vi]=!0,s.forEach((function(t){"selectionchange"!==t&&(Li.has(t)||Fi(t,!1,e),Fi(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vi]||(t[Vi]=!0,Fi("selectionchange",!1,t))}}function Wi(e,t,n,i){switch(Qt(t)){case 1:var o=qt;break;case 4:o=$t;break;default:o=Gt}n=o.bind(null,t,n,e),o=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),i?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ui(e,t,n,i,o){var r=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=i.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=wo(a)))return;if(5===(l=s.tag)||6===l){i=r=s;continue e}a=a.parentNode}}i=i.return}Me((function(){var i=r,o=ke(n),s=[];e:{var a=Di.get(e);if(void 0!==a){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=In;break;case"focusin":c="focus",l=fn;break;case"focusout":c="blur",l=fn;break;case"beforeblur":case"afterblur":l=fn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=En;break;case Si:case Ii:case Ti:l=bn;break;case Ei:l=Dn;break;case"scroll":l=pn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==a?a+"Capture":null:a;d=[];for(var h,g=i;null!==g;){var m=(h=g).stateNode;if(5===h.tag&&null!==m&&(h=m,null!==p&&(null!=(m=Pe(g,p))&&d.push(qi(g,m,h)))),u)break;g=g.return}0<d.length&&(a=new l(a,c,null,n,o),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===ve||!(c=n.relatedTarget||n.fromElement)||!wo(c)&&!c[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=i,null!==(c=(c=n.relatedTarget||n.toElement)?wo(c):null)&&(c!==(u=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=i),l!==c)){if(d=gn,m="onMouseLeave",p="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=Tn,m="onPointerLeave",p="onPointerEnter",g="pointer"),u=null==l?a:ko(l),h=null==c?a:ko(c),(a=new d(m,g+"leave",l,n,o)).target=u,a.relatedTarget=h,m=null,wo(o)===i&&((d=new d(p,g+"enter",c,n,o)).target=h,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(p=c,g=0,h=d=l;h;h=Gi(h))g++;for(h=0,m=p;m;m=Gi(m))h++;for(;0<g-h;)d=Gi(d),g--;for(;0<h-g;)p=Gi(p),h--;for(;g--;){if(d===p||null!==p&&d===p.alternate)break e;d=Gi(d),p=Gi(p)}d=null}else d=null;null!==l&&Ki(s,a,l,d,!1),null!==c&&null!==u&&Ki(s,u,c,d,!0)}if("select"===(l=(a=i?ko(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var f=Qn;else if(Un(a))if(Zn)f=si;else{f=oi;var b=ii}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(f=ri);switch(f&&(f=f(e,i))?qn(s,f,n,o):(b&&b(e,a,i),"focusout"===e&&(b=a._wrapperState)&&b.controlled&&"number"===a.type&&ee(a,"number",a.value)),b=i?ko(i):window,e){case"focusin":(Un(b)||"true"===b.contentEditable)&&(fi=b,bi=i,yi=null);break;case"focusout":yi=bi=fi=null;break;case"mousedown":wi=!0;break;case"contextmenu":case"mouseup":case"dragend":wi=!1,vi(s,n,o);break;case"selectionchange":if(mi)break;case"keydown":case"keyup":vi(s,n,o)}var y;if(Bn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Hn?Fn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(zn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Hn&&(y=en()):(Xt="value"in(Zt=o)?Zt.value:Zt.textContent,Hn=!0)),0<(b=$i(i,w)).length&&(w=new vn(w,e,null,n,o),s.push({event:w,listeners:b}),y?w.data=y:null!==(y=Vn(n))&&(w.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Nn=!0,On);case"textInput":return(e=t.data)===On&&Nn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Bn&&Fn(e,t)?(e=en(),Jt=Xt=Zt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=$i(i,"onBeforeInput")).length&&(o=new vn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:i}),o.data=y))}Oi(s,t)}))}function qi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $i(e,t){for(var n=t+"Capture",i=[];null!==e;){var o=e,r=o.stateNode;5===o.tag&&null!==r&&(o=r,null!=(r=Pe(e,n))&&i.unshift(qi(e,r,o)),null!=(r=Pe(e,t))&&i.push(qi(e,r,o))),e=e.return}return i}function Gi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ki(e,t,n,i,o){for(var r=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===i)break;5===a.tag&&null!==c&&(a=c,o?null!=(l=Pe(n,r))&&s.unshift(qi(n,l,a)):o||null!=(l=Pe(n,r))&&s.push(qi(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Yi=/\r\n?/g,Qi=/\u0000|\uFFFD/g;function Zi(e){return("string"===typeof e?e:""+e).replace(Yi,"\n").replace(Qi,"")}function Xi(e,t,n){if(t=Zi(t),Zi(e)!==t&&n)throw Error(r(425))}function Ji(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var io="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,ro="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ro?function(e){return ro.resolve(null).then(e).catch(ao)}:io;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===i)return e.removeChild(o),void Ht(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=o}while(n);Ht(t)}function co(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var po=Math.random().toString(36).slice(2),ho="__reactFiber$"+po,go="__reactProps$"+po,mo="__reactContainer$"+po,fo="__reactEvents$"+po,bo="__reactListeners$"+po,yo="__reactHandles$"+po;function wo(e){var t=e[ho];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[ho]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[ho])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function vo(e){return!(e=e[ho]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ko(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(r(33))}function _o(e){return e[go]||null}var xo=[],Ao=-1;function Co(e){return{current:e}}function So(e){0>Ao||(e.current=xo[Ao],xo[Ao]=null,Ao--)}function Io(e,t){Ao++,xo[Ao]=e.current,e.current=t}var To={},Eo=Co(To),Do=Co(!1),Mo=To;function Po(e,t){var n=e.type.contextTypes;if(!n)return To;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o,r={};for(o in n)r[o]=t[o];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function Ro(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Bo(){So(Do),So(Eo)}function jo(e,t,n){if(Eo.current!==To)throw Error(r(168));Io(Eo,t),Io(Do,n)}function Lo(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in t))throw Error(r(108,W(e)||"Unknown",o));return z({},n,i)}function zo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||To,Mo=Eo.current,Io(Eo,e),Io(Do,Do.current),!0}function Oo(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=Lo(e,t,Mo),i.__reactInternalMemoizedMergedChildContext=e,So(Do),So(Eo),Io(Eo,e)):So(Do),Io(Do,n)}var No=null,Fo=!1,Vo=!1;function Ho(e){null===No?No=[e]:No.push(e)}function Wo(){if(!Vo&&null!==No){Vo=!0;var e=0,t=wt;try{var n=No;for(wt=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}No=null,Fo=!1}catch(o){throw null!==No&&(No=No.slice(e+1)),Ge(Je,Wo),o}finally{wt=t,Vo=!1}}return null}var Uo=[],qo=0,$o=null,Go=0,Ko=[],Yo=0,Qo=null,Zo=1,Xo="";function Jo(e,t){Uo[qo++]=Go,Uo[qo++]=$o,$o=e,Go=t}function er(e,t,n){Ko[Yo++]=Zo,Ko[Yo++]=Xo,Ko[Yo++]=Qo,Qo=e;var i=Zo;e=Xo;var o=32-st(i)-1;i&=~(1<<o),n+=1;var r=32-st(t)+o;if(30<r){var s=o-o%5;r=(i&(1<<s)-1).toString(32),i>>=s,o-=s,Zo=1<<32-st(t)+o|n<<o|i,Xo=r+e}else Zo=1<<r|n<<o|i,Xo=e}function tr(e){null!==e.return&&(Jo(e,1),er(e,1,0))}function nr(e){for(;e===$o;)$o=Uo[--qo],Uo[qo]=null,Go=Uo[--qo],Uo[qo]=null;for(;e===Qo;)Qo=Ko[--Yo],Ko[Yo]=null,Xo=Ko[--Yo],Ko[Yo]=null,Zo=Ko[--Yo],Ko[Yo]=null}var ir=null,or=null,rr=!1,sr=null;function ar(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function lr(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ir=e,or=co(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ir=e,or=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qo?{id:Zo,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ir=e,or=null,!0);default:return!1}}function cr(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function dr(e){if(rr){var t=or;if(t){var n=t;if(!lr(e,t)){if(cr(e))throw Error(r(418));t=co(n.nextSibling);var i=ir;t&&lr(e,t)?ar(i,n):(e.flags=-4097&e.flags|2,rr=!1,ir=e)}}else{if(cr(e))throw Error(r(418));e.flags=-4097&e.flags|2,rr=!1,ir=e}}}function ur(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ir=e}function pr(e){if(e!==ir)return!1;if(!rr)return ur(e),rr=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=or)){if(cr(e))throw hr(),Error(r(418));for(;t;)ar(e,t),t=co(t.nextSibling)}if(ur(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){or=co(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}or=null}}else or=ir?co(e.stateNode.nextSibling):null;return!0}function hr(){for(var e=or;e;)e=co(e.nextSibling)}function gr(){or=ir=null,rr=!1}function mr(e){null===sr?sr=[e]:sr.push(e)}var fr=v.ReactCurrentBatchConfig;function br(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var o=i,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function yr(e,t){throw e=Object.prototype.toString.call(t),Error(r(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wr(e){return(0,e._init)(e._payload)}function vr(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function s(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=zc(n,e.mode,i)).return=e,t):((t=o(t,n)).return=e,t)}function c(e,t,n,i){var r=n.type;return r===x?u(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"===typeof r&&null!==r&&r.$$typeof===P&&wr(r)===t.type)?((i=o(t,n.props)).ref=br(e,t,n),i.return=e,i):((i=Bc(n.type,n.key,n.props,null,e.mode,i)).ref=br(e,t,n),i.return=e,i)}function d(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Oc(n,e.mode,i)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function u(e,t,n,i,r){return null===t||7!==t.tag?((t=jc(n,e.mode,i,r)).return=e,t):((t=o(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Bc(t.type,t.key,t.props,null,e.mode,n)).ref=br(e,null,t),n.return=e,n;case _:return(t=Oc(t,e.mode,n)).return=e,t;case P:return p(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=jc(t,e.mode,n,null)).return=e,t;yr(e,t)}return null}function h(e,t,n,i){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===o?c(e,t,n,i):null;case _:return n.key===o?d(e,t,n,i):null;case P:return h(e,t,(o=n._init)(n._payload),i)}if(te(n)||j(n))return null!==o?null:u(e,t,n,i,null);yr(e,n)}return null}function g(e,t,n,i,o){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,o);if("object"===typeof i&&null!==i){switch(i.$$typeof){case k:return c(t,e=e.get(null===i.key?n:i.key)||null,i,o);case _:return d(t,e=e.get(null===i.key?n:i.key)||null,i,o);case P:return g(e,t,n,(0,i._init)(i._payload),o)}if(te(i)||j(i))return u(t,e=e.get(n)||null,i,o,null);yr(t,i)}return null}function m(o,r,a,l){for(var c=null,d=null,u=r,m=r=0,f=null;null!==u&&m<a.length;m++){u.index>m?(f=u,u=null):f=u.sibling;var b=h(o,u,a[m],l);if(null===b){null===u&&(u=f);break}e&&u&&null===b.alternate&&t(o,u),r=s(b,r,m),null===d?c=b:d.sibling=b,d=b,u=f}if(m===a.length)return n(o,u),rr&&Jo(o,m),c;if(null===u){for(;m<a.length;m++)null!==(u=p(o,a[m],l))&&(r=s(u,r,m),null===d?c=u:d.sibling=u,d=u);return rr&&Jo(o,m),c}for(u=i(o,u);m<a.length;m++)null!==(f=g(u,o,m,a[m],l))&&(e&&null!==f.alternate&&u.delete(null===f.key?m:f.key),r=s(f,r,m),null===d?c=f:d.sibling=f,d=f);return e&&u.forEach((function(e){return t(o,e)})),rr&&Jo(o,m),c}function f(o,a,l,c){var d=j(l);if("function"!==typeof d)throw Error(r(150));if(null==(l=d.call(l)))throw Error(r(151));for(var u=d=null,m=a,f=a=0,b=null,y=l.next();null!==m&&!y.done;f++,y=l.next()){m.index>f?(b=m,m=null):b=m.sibling;var w=h(o,m,y.value,c);if(null===w){null===m&&(m=b);break}e&&m&&null===w.alternate&&t(o,m),a=s(w,a,f),null===u?d=w:u.sibling=w,u=w,m=b}if(y.done)return n(o,m),rr&&Jo(o,f),d;if(null===m){for(;!y.done;f++,y=l.next())null!==(y=p(o,y.value,c))&&(a=s(y,a,f),null===u?d=y:u.sibling=y,u=y);return rr&&Jo(o,f),d}for(m=i(o,m);!y.done;f++,y=l.next())null!==(y=g(m,o,f,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?f:y.key),a=s(y,a,f),null===u?d=y:u.sibling=y,u=y);return e&&m.forEach((function(e){return t(o,e)})),rr&&Jo(o,f),d}return function e(i,r,s,l){if("object"===typeof s&&null!==s&&s.type===x&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case k:e:{for(var c=s.key,d=r;null!==d;){if(d.key===c){if((c=s.type)===x){if(7===d.tag){n(i,d.sibling),(r=o(d,s.props.children)).return=i,i=r;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&wr(c)===d.type){n(i,d.sibling),(r=o(d,s.props)).ref=br(i,d,s),r.return=i,i=r;break e}n(i,d);break}t(i,d),d=d.sibling}s.type===x?((r=jc(s.props.children,i.mode,l,s.key)).return=i,i=r):((l=Bc(s.type,s.key,s.props,null,i.mode,l)).ref=br(i,r,s),l.return=i,i=l)}return a(i);case _:e:{for(d=s.key;null!==r;){if(r.key===d){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(i,r.sibling),(r=o(r,s.children||[])).return=i,i=r;break e}n(i,r);break}t(i,r),r=r.sibling}(r=Oc(s,i.mode,l)).return=i,i=r}return a(i);case P:return e(i,r,(d=s._init)(s._payload),l)}if(te(s))return m(i,r,s,l);if(j(s))return f(i,r,s,l);yr(i,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==r&&6===r.tag?(n(i,r.sibling),(r=o(r,s)).return=i,i=r):(n(i,r),(r=zc(s,i.mode,l)).return=i,i=r),a(i)):n(i,r)}}var kr=vr(!0),_r=vr(!1),xr=Co(null),Ar=null,Cr=null,Sr=null;function Ir(){Sr=Cr=Ar=null}function Tr(e){var t=xr.current;So(xr),e._currentValue=t}function Er(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Dr(e,t){Ar=e,Sr=Cr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Mr(e){var t=e._currentValue;if(Sr!==e)if(e={context:e,memoizedValue:t,next:null},null===Cr){if(null===Ar)throw Error(r(308));Cr=e,Ar.dependencies={lanes:0,firstContext:e}}else Cr=Cr.next=e;return t}var Pr=null;function Rr(e){null===Pr?Pr=[e]:Pr.push(e)}function Br(e,t,n,i){var o=t.interleaved;return null===o?(n.next=n,Rr(t)):(n.next=o.next,o.next=n),t.interleaved=n,jr(e,i)}function jr(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Lr=!1;function zr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Or(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fr(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Tl)){var o=i.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),i.pending=t,jr(e,n)}return null===(o=i.interleaved)?(t.next=t,Rr(i)):(t.next=o.next,o.next=t),i.interleaved=t,jr(e,n)}function Vr(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Hr(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var o=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?o=r=s:r=r.next=s,n=n.next}while(null!==n);null===r?o=r=t:r=r.next=t}else o=r=t;return n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:r,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Wr(e,t,n,i){var o=e.updateQueue;Lr=!1;var r=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?r=c:s.next=c,s=l;var d=e.alternate;null!==d&&((a=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===a?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(null!==r){var u=o.baseState;for(s=0,d=c=l=null,a=r;;){var p=a.lane,h=a.eventTime;if((i&p)===p){null!==d&&(d=d.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=e,m=a;switch(p=t,h=n,m.tag){case 1:if("function"===typeof(g=m.payload)){u=g.call(h,u,p);break e}u=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(p="function"===typeof(g=m.payload)?g.call(h,u,p):g)||void 0===p)break e;u=z({},u,p);break e;case 2:Lr=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(p=o.effects)?o.effects=[a]:p.push(a))}else h={eventTime:h,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(c=d=h,l=u):d=d.next=h,s|=p;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(p=a).next,p.next=null,o.lastBaseUpdate=p,o.shared.pending=null}}if(null===d&&(l=u),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=d,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===r&&(o.shared.lanes=0);Ll|=s,e.lanes=s,e.memoizedState=u}}function Ur(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=n,"function"!==typeof o)throw Error(r(191,o));o.call(i)}}}var qr={},$r=Co(qr),Gr=Co(qr),Kr=Co(qr);function Yr(e){if(e===qr)throw Error(r(174));return e}function Qr(e,t){switch(Io(Kr,t),Io(Gr,e),Io($r,qr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}So($r),Io($r,t)}function Zr(){So($r),So(Gr),So(Kr)}function Xr(e){Yr(Kr.current);var t=Yr($r.current),n=le(t,e.type);t!==n&&(Io(Gr,e),Io($r,n))}function Jr(e){Gr.current===e&&(So($r),So(Gr))}var es=Co(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function is(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=v.ReactCurrentDispatcher,rs=v.ReactCurrentBatchConfig,ss=0,as=null,ls=null,cs=null,ds=!1,us=!1,ps=0,hs=0;function gs(){throw Error(r(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0}function fs(e,t,n,i,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Js:ea,e=n(i,o),us){s=0;do{if(us=!1,ps=0,25<=s)throw Error(r(301));s+=1,cs=ls=null,t.updateQueue=null,os.current=ta,e=n(i,o)}while(us)}if(os.current=Xs,t=null!==ls&&null!==ls.next,ss=0,cs=ls=as=null,ds=!1,t)throw Error(r(300));return e}function bs(){var e=0!==ps;return ps=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function ws(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,ls=e;else{if(null===e)throw Error(r(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function vs(e,t){return"function"===typeof t?t(e):t}function ks(e){var t=ws(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=ls,o=i.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}i.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,i=i.baseState;var l=a=null,c=null,d=s;do{var u=d.lane;if((ss&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),i=d.hasEagerState?d.eagerState:e(i,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=p,a=i):c=c.next=p,as.lanes|=u,Ll|=u}d=d.next}while(null!==d&&d!==s);null===c?a=i:c.next=l,ai(i,t.memoizedState)||(wa=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=c,n.lastRenderedState=i}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Ll|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _s(e){var t=ws(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ai(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,i]}function xs(){}function As(e,t){var n=as,i=ws(),o=t(),s=!ai(i.memoizedState,o);if(s&&(i.memoizedState=o,wa=!0),i=i.queue,Ls(Is.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Ms(9,Ss.bind(null,n,i,o,t),void 0,null),null===El)throw Error(r(349));0!==(30&ss)||Cs(n,t,o)}return o}function Cs(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ss(e,t,n,i){t.value=n,t.getSnapshot=i,Ts(t)&&Es(e)}function Is(e,t,n){return n((function(){Ts(t)&&Es(e)}))}function Ts(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ai(e,n)}catch(i){return!0}}function Es(e){var t=jr(e,1);null!==t&&nc(t,e,1,-1)}function Ds(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,as,e),[t.memoizedState,e]}function Ms(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ps(){return ws().memoizedState}function Rs(e,t,n,i){var o=ys();as.flags|=e,o.memoizedState=Ms(1|t,n,void 0,void 0===i?null:i)}function Bs(e,t,n,i){var o=ws();i=void 0===i?null:i;var r=void 0;if(null!==ls){var s=ls.memoizedState;if(r=s.destroy,null!==i&&ms(i,s.deps))return void(o.memoizedState=Ms(t,n,r,i))}as.flags|=e,o.memoizedState=Ms(1|t,n,r,i)}function js(e,t){return Rs(8390656,8,e,t)}function Ls(e,t){return Bs(2048,8,e,t)}function zs(e,t){return Bs(4,2,e,t)}function Os(e,t){return Bs(4,4,e,t)}function Ns(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bs(4,4,Ns.bind(null,t,e),n)}function Vs(){}function Hs(e,t){var n=ws();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ms(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ws(e,t){var n=ws();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&ms(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Us(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ai(n,t)||(n=mt(),as.lanes|=n,Ll|=n,e.baseState=!0),t)}function qs(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var i=rs.transition;rs.transition={};try{e(!1),t()}finally{wt=n,rs.transition=i}}function $s(){return ws().memoizedState}function Gs(e,t,n){var i=tc(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ys(e))Qs(t,n);else if(null!==(n=Br(e,t,n,i))){nc(n,e,i,ec()),Zs(n,t,i)}}function Ks(e,t,n){var i=tc(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ys(e))Qs(t,o);else{var r=e.alternate;if(0===e.lanes&&(null===r||0===r.lanes)&&null!==(r=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=r(s,n);if(o.hasEagerState=!0,o.eagerState=a,ai(a,s)){var l=t.interleaved;return null===l?(o.next=o,Rr(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(c){}null!==(n=Br(e,t,o,i))&&(nc(n,e,i,o=ec()),Zs(n,t,i))}}function Ys(e){var t=e.alternate;return e===as||null!==t&&t===as}function Qs(e,t){us=ds=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zs(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Xs={readContext:Mr,useCallback:gs,useContext:gs,useEffect:gs,useImperativeHandle:gs,useInsertionEffect:gs,useLayoutEffect:gs,useMemo:gs,useReducer:gs,useRef:gs,useState:gs,useDebugValue:gs,useDeferredValue:gs,useTransition:gs,useMutableSource:gs,useSyncExternalStore:gs,useId:gs,unstable_isNewReconciler:!1},Js={readContext:Mr,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:Mr,useEffect:js,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4194308,4,Ns.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var n=ys();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ys();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Gs.bind(null,as,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Ds,useDebugValue:Vs,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Ds(!1),t=e[0];return e=qs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=as,o=ys();if(rr){if(void 0===n)throw Error(r(407));n=n()}else{if(n=t(),null===El)throw Error(r(349));0!==(30&ss)||Cs(i,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,js(Is.bind(null,i,s,e),[e]),i.flags|=2048,Ms(9,Ss.bind(null,i,s,n,t),void 0,null),n},useId:function(){var e=ys(),t=El.identifierPrefix;if(rr){var n=Xo;t=":"+t+"R"+(n=(Zo&~(1<<32-st(Zo)-1)).toString(32)+n),0<(n=ps++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Mr,useCallback:Hs,useContext:Mr,useEffect:Ls,useImperativeHandle:Fs,useInsertionEffect:zs,useLayoutEffect:Os,useMemo:Ws,useReducer:ks,useRef:Ps,useState:function(){return ks(vs)},useDebugValue:Vs,useDeferredValue:function(e){return Us(ws(),ls.memoizedState,e)},useTransition:function(){return[ks(vs)[0],ws().memoizedState]},useMutableSource:xs,useSyncExternalStore:As,useId:$s,unstable_isNewReconciler:!1},ta={readContext:Mr,useCallback:Hs,useContext:Mr,useEffect:Ls,useImperativeHandle:Fs,useInsertionEffect:zs,useLayoutEffect:Os,useMemo:Ws,useReducer:_s,useRef:Ps,useState:function(){return _s(vs)},useDebugValue:Vs,useDeferredValue:function(e){var t=ws();return null===ls?t.memoizedState=e:Us(t,ls.memoizedState,e)},useTransition:function(){return[_s(vs)[0],ws().memoizedState]},useMutableSource:xs,useSyncExternalStore:As,useId:$s,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ia(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=ec(),o=tc(e),r=Nr(i,o);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=Fr(e,r,o))&&(nc(t,e,o,i),Vr(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=ec(),o=tc(e),r=Nr(i,o);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=Fr(e,r,o))&&(nc(t,e,o,i),Vr(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),i=tc(e),o=Nr(n,i);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Fr(e,o,i))&&(nc(t,e,i,n),Vr(t,e,i))}};function ra(e,t,n,i,o,r,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,r,s):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(o,r))}function sa(e,t,n){var i=!1,o=To,r=t.contextType;return"object"===typeof r&&null!==r?r=Mr(r):(o=Ro(t)?Mo:Eo.current,r=(i=null!==(i=t.contextTypes)&&void 0!==i)?Po(e,o):To),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=r),t}function aa(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},zr(e);var r=t.contextType;"object"===typeof r&&null!==r?o.context=Mr(r):(r=Ro(t)?Mo:Eo.current,o.context=Po(e,r)),o.state=e.memoizedState,"function"===typeof(r=t.getDerivedStateFromProps)&&(ia(e,t,r,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),Wr(e,n,o,i),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",i=t;do{n+=V(i),i=i.return}while(i);var o=n}catch(r){o="\nError generating stack: "+r.message+"\n"+r.stack}return{value:e,source:t,stack:o,digest:null}}function da(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var pa="function"===typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=Nr(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ul||(Ul=!0,ql=i),ua(0,t)},n}function ga(e,t,n){(n=Nr(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){ua(0,t)}}var r=e.stateNode;return null!==r&&"function"===typeof r.componentDidCatch&&(n.callback=function(){ua(0,t),"function"!==typeof i&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new pa;var o=new Set;i.set(t,o)}else void 0===(o=i.get(t))&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function fa(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ba(e,t,n,i,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Nr(-1,1)).tag=2,Fr(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var ya=v.ReactCurrentOwner,wa=!1;function va(e,t,n,i){t.child=null===e?_r(t,null,n,i):kr(t,e.child,n,i)}function ka(e,t,n,i,o){n=n.render;var r=t.ref;return Dr(t,o),i=fs(e,t,n,i,r,o),n=bs(),null===e||wa?(rr&&n&&tr(t),t.flags|=1,va(e,t,i,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ua(e,t,o))}function _a(e,t,n,i,o){if(null===e){var r=n.type;return"function"!==typeof r||Pc(r)||void 0!==r.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Bc(n.type,null,i,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=r,xa(e,t,r,i,o))}if(r=e.child,0===(e.lanes&o)){var s=r.memoizedProps;if((n=null!==(n=n.compare)?n:li)(s,i)&&e.ref===t.ref)return Ua(e,t,o)}return t.flags|=1,(e=Rc(r,i)).ref=t.ref,e.return=t,t.child=e}function xa(e,t,n,i,o){if(null!==e){var r=e.memoizedProps;if(li(r,i)&&e.ref===t.ref){if(wa=!1,t.pendingProps=i=r,0===(e.lanes&o))return t.lanes=e.lanes,Ua(e,t,o);0!==(131072&e.flags)&&(wa=!0)}}return Sa(e,t,n,i,o)}function Aa(e,t,n){var i=t.pendingProps,o=i.children,r=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Io(Rl,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Io(Rl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==r?r.baseLanes:n,Io(Rl,Pl),Pl|=i}else null!==r?(i=r.baseLanes|n,t.memoizedState=null):i=n,Io(Rl,Pl),Pl|=i;return va(e,t,o,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,i,o){var r=Ro(n)?Mo:Eo.current;return r=Po(t,r),Dr(t,o),n=fs(e,t,n,i,r,o),i=bs(),null===e||wa?(rr&&i&&tr(t),t.flags|=1,va(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Ua(e,t,o))}function Ia(e,t,n,i,o){if(Ro(n)){var r=!0;zo(t)}else r=!1;if(Dr(t,o),null===t.stateNode)Wa(e,t),sa(t,n,i),la(t,n,i,o),i=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Mr(c):c=Po(t,c=Ro(n)?Mo:Eo.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||l!==c)&&aa(t,s,i,c),Lr=!1;var p=t.memoizedState;s.state=p,Wr(t,i,s,o),l=t.memoizedState,a!==i||p!==l||Do.current||Lr?("function"===typeof d&&(ia(t,n,d,i),l=t.memoizedState),(a=Lr||ra(t,n,a,i,p,l,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),s.props=i,s.state=l,s.context=c,i=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,Or(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,u=t.pendingProps,p=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Mr(l):l=Po(t,l=Ro(n)?Mo:Eo.current);var h=n.getDerivedStateFromProps;(d="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==u||p!==l)&&aa(t,s,i,l),Lr=!1,p=t.memoizedState,s.state=p,Wr(t,i,s,o);var g=t.memoizedState;a!==u||p!==g||Do.current||Lr?("function"===typeof h&&(ia(t,n,h,i),g=t.memoizedState),(c=Lr||ra(t,n,c,i,p,g,l)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,g,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,g,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),s.props=i,s.state=g,s.context=l,i=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),i=!1)}return Ta(e,t,n,i,r,o)}function Ta(e,t,n,i,o,r){Ca(e,t);var s=0!==(128&t.flags);if(!i&&!s)return o&&Oo(t,n,!1),Ua(e,t,r);i=t.stateNode,ya.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&s?(t.child=kr(t,e.child,null,r),t.child=kr(t,null,a,r)):va(e,t,a,r),t.memoizedState=i.state,o&&Oo(t,n,!0),t.child}function Ea(e){var t=e.stateNode;t.pendingContext?jo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&jo(0,t.context,!1),Qr(e,t.containerInfo)}function Da(e,t,n,i,o){return gr(),mr(o),t.flags|=256,va(e,t,n,i),t.child}var Ma,Pa,Ra,Ba,ja={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function za(e,t,n){var i,o=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&s)),i?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Io(es,1&s),null===e)return dr(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lc(l,o,0,null),e=jc(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=ja,e):Oa(t,l));if(null!==(s=e.memoizedState)&&null!==(i=s.dehydrated))return function(e,t,n,i,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,Na(e,t,a,i=da(Error(r(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=i.fallback,o=t.mode,i=Lc({mode:"visible",children:i.children},o,0,null),(s=jc(s,o,a,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,0!==(1&t.mode)&&kr(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=ja,s);if(0===(1&t.mode))return Na(e,t,a,null);if("$!"===o.data){if(i=o.nextSibling&&o.nextSibling.dataset)var l=i.dgst;return i=l,Na(e,t,a,i=da(s=Error(r(419)),i,void 0))}if(l=0!==(a&e.childLanes),wa||l){if(null!==(i=El)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(i.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,jr(e,o),nc(i,e,o,-1))}return mc(),Na(e,t,a,i=da(Error(r(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,or=co(o.nextSibling),ir=t,rr=!0,sr=null,null!==e&&(Ko[Yo++]=Zo,Ko[Yo++]=Xo,Ko[Yo++]=Qo,Zo=e.id,Xo=e.overflow,Qo=t),t=Oa(t,i.children),t.flags|=4096,t)}(e,t,l,o,i,s,n);if(a){a=o.fallback,l=t.mode,i=(s=e.child).sibling;var c={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=c,t.deletions=null):(o=Rc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==i?a=Rc(i,a):(a=jc(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=ja,o}return e=(a=e.child).sibling,o=Rc(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Oa(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Na(e,t,n,i){return null!==i&&mr(i),kr(t,e.child,null,n),(e=Oa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fa(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Er(e.return,t,n)}function Va(e,t,n,i,o){var r=e.memoizedState;null===r?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=i,r.tail=n,r.tailMode=o)}function Ha(e,t,n){var i=t.pendingProps,o=i.revealOrder,r=i.tail;if(va(e,t,i.children,n),0!==(2&(i=es.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fa(e,n,t);else if(19===e.tag)Fa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Io(es,i),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Va(t,!1,o,n,r);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Va(t,!0,n,null,r);break;case"together":Va(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ua(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ll|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!rr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function $a(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,i|=14680064&o.subtreeFlags,i|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Ga(e,t,n){var i=t.pendingProps;switch(nr(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $a(t),null;case 1:case 17:return Ro(t.type)&&Bo(),$a(t),null;case 3:return i=t.stateNode,Zr(),So(Do),So(Eo),is(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(pr(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==sr&&(sc(sr),sr=null))),Pa(e,t),$a(t),null;case 5:Jr(t);var o=Yr(Kr.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(r(166));return $a(t),null}if(e=Yr($r.current),pr(t)){i=t.stateNode,n=t.type;var s=t.memoizedProps;switch(i[ho]=t,i[go]=s,e=0!==(1&t.mode),n){case"dialog":Ni("cancel",i),Ni("close",i);break;case"iframe":case"object":case"embed":Ni("load",i);break;case"video":case"audio":for(o=0;o<ji.length;o++)Ni(ji[o],i);break;case"source":Ni("error",i);break;case"img":case"image":case"link":Ni("error",i),Ni("load",i);break;case"details":Ni("toggle",i);break;case"input":Q(i,s),Ni("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ni("invalid",i);break;case"textarea":oe(i,s),Ni("invalid",i)}for(var l in ye(n,s),o=null,s)if(s.hasOwnProperty(l)){var c=s[l];"children"===l?"string"===typeof c?i.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xi(i.textContent,c,e),o=["children",c]):"number"===typeof c&&i.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xi(i.textContent,c,e),o=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ni("scroll",i)}switch(n){case"input":$(i),J(i,s,!0);break;case"textarea":$(i),se(i);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(i.onclick=Ji)}i=o,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[ho]=t,e[go]=i,Ma(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,i),n){case"dialog":Ni("cancel",e),Ni("close",e),o=i;break;case"iframe":case"object":case"embed":Ni("load",e),o=i;break;case"video":case"audio":for(o=0;o<ji.length;o++)Ni(ji[o],e);o=i;break;case"source":Ni("error",e),o=i;break;case"img":case"image":case"link":Ni("error",e),Ni("load",e),o=i;break;case"details":Ni("toggle",e),o=i;break;case"input":Q(e,i),o=Y(e,i),Ni("invalid",e);break;case"option":default:o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=z({},i,{value:void 0}),Ni("invalid",e);break;case"textarea":oe(e,i),o=ie(e,i),Ni("invalid",e)}for(s in ye(n,o),c=o)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?fe(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Ni("scroll",e):null!=d&&w(e,s,d,l))}switch(n){case"input":$(e),J(e,i,!1);break;case"textarea":$(e),se(e);break;case"option":null!=i.value&&e.setAttribute("value",""+U(i.value));break;case"select":e.multiple=!!i.multiple,null!=(s=i.value)?ne(e,!!i.multiple,s,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Ji)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $a(t),null;case 6:if(e&&null!=t.stateNode)Ba(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(r(166));if(n=Yr(Kr.current),Yr($r.current),pr(t)){if(i=t.stateNode,n=t.memoizedProps,i[ho]=t,(s=i.nodeValue!==n)&&null!==(e=ir))switch(e.tag){case 3:Xi(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xi(i.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[ho]=t,t.stateNode=i}return $a(t),null;case 13:if(So(es),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(rr&&null!==or&&0!==(1&t.mode)&&0===(128&t.flags))hr(),gr(),t.flags|=98560,s=!1;else if(s=pr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!s)throw Error(r(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(r(317));s[ho]=t}else gr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$a(t),s=!1}else null!==sr&&(sc(sr),sr=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Bl&&(Bl=3):mc())),null!==t.updateQueue&&(t.flags|=4),$a(t),null);case 4:return Zr(),Pa(e,t),null===e&&Hi(t.stateNode.containerInfo),$a(t),null;case 10:return Tr(t.type._context),$a(t),null;case 19:if(So(es),null===(s=t.memoizedState))return $a(t),null;if(i=0!==(128&t.flags),null===(l=s.rendering))if(i)qa(s,!1);else{if(0!==Bl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,qa(s,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Io(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>Hl&&(t.flags|=128,i=!0,qa(s,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ts(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!rr)return $a(t),null}else 2*Ze()-s.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,i=!0,qa(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=es.current,Io(es,i?1&n|2:1&n),t):($a(t),null);case 22:case 23:return uc(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Pl)&&($a(t),6&t.subtreeFlags&&(t.flags|=8192)):$a(t),null;case 24:case 25:return null}throw Error(r(156,t.tag))}function Ka(e,t){switch(nr(t),t.tag){case 1:return Ro(t.type)&&Bo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zr(),So(Do),So(Eo),is(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Jr(t),null;case 13:if(So(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(r(340));gr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return So(es),null;case 4:return Zr(),null;case 10:return Tr(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Ma=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},Ra=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,Yr($r.current);var r,s=null;switch(n){case"input":o=Y(e,o),i=Y(e,i),s=[];break;case"select":o=z({},o,{value:void 0}),i=z({},i,{value:void 0}),s=[];break;case"textarea":o=ie(e,o),i=ie(e,i),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof i.onClick&&(e.onclick=Ji)}for(d in ye(n,i),n=null,o)if(!i.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var l=o[d];for(r in l)l.hasOwnProperty(r)&&(n||(n={}),n[r]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(a.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in i){var c=i[d];if(l=null!=o?o[d]:void 0,i.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(r in l)!l.hasOwnProperty(r)||c&&c.hasOwnProperty(r)||(n||(n={}),n[r]="");for(r in c)c.hasOwnProperty(r)&&l[r]!==c[r]&&(n||(n={}),n[r]=c[r])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(a.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ni("scroll",e),s||l===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ba=function(e,t,n,i){n!==i&&(t.flags|=4)};var Ya=!1,Qa=!1,Za="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Ja(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){Ac(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){Ac(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var o=i=i.next;do{if((o.tag&e)===e){var r=o.destroy;o.destroy=void 0,void 0!==r&&el(t,n,r)}o=o.next}while(o!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function rl(e){var t=e.alternate;null!==t&&(e.alternate=null,rl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ho],delete t[go],delete t[fo],delete t[bo],delete t[yo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ji));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function pl(e,t,n){for(n=n.child;null!==n;)hl(e,t,n),n=n.sibling}function hl(e,t,n){if(rt&&"function"===typeof rt.onCommitFiberUnmount)try{rt.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:Qa||Ja(n,t);case 6:var i=dl,o=ul;dl=null,pl(e,t,n),ul=o,null!==(dl=i)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),Ht(e)):lo(dl,n.stateNode));break;case 4:i=dl,o=ul,dl=n.stateNode.containerInfo,ul=!0,pl(e,t,n),dl=i,ul=o;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){o=i=i.next;do{var r=o,s=r.destroy;r=r.tag,void 0!==s&&(0!==(2&r)||0!==(4&r))&&el(n,t,s),o=o.next}while(o!==i)}pl(e,t,n);break;case 1:if(!Qa&&(Ja(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ac(n,t,a)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Qa=(i=Qa)||null!==n.memoizedState,pl(e,t,n),Qa=i):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var i=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var o=n[i];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(r(160));hl(s,a,o),dl=null,ul=!1;var c=o.alternate;null!==c&&(c.return=null),o.return=null}catch(d){Ac(o,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)fl(t,e),t=t.sibling}function fl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),bl(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(f){Ac(e,e.return,f)}try{nl(5,e,e.return)}catch(f){Ac(e,e.return,f)}}break;case 1:ml(t,e),bl(e),512&i&&null!==n&&Ja(n,n.return);break;case 5:if(ml(t,e),bl(e),512&i&&null!==n&&Ja(n,n.return),32&e.flags){var o=e.stateNode;try{pe(o,"")}catch(f){Ac(e,e.return,f)}}if(4&i&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(o,s),we(l,a);var d=we(l,s);for(a=0;a<c.length;a+=2){var u=c[a],p=c[a+1];"style"===u?fe(o,p):"dangerouslySetInnerHTML"===u?ue(o,p):"children"===u?pe(o,p):w(o,u,p,d)}switch(l){case"input":X(o,s);break;case"textarea":re(o,s);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var g=s.value;null!=g?ne(o,!!s.multiple,g,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[go]=s}catch(f){Ac(e,e.return,f)}}break;case 6:if(ml(t,e),bl(e),4&i){if(null===e.stateNode)throw Error(r(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(f){Ac(e,e.return,f)}}break;case 3:if(ml(t,e),bl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(f){Ac(e,e.return,f)}break;case 4:default:ml(t,e),bl(e);break;case 13:ml(t,e),bl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Vl=Ze())),4&i&&gl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Qa=(d=Qa)||u,ml(t,e),Qa=d):ml(t,e),bl(e),8192&i){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Xa=e,u=e.child;null!==u;){for(p=Xa=u;null!==Xa;){switch(g=(h=Xa).child,h.tag){case 0:case 11:case 14:case 15:nl(4,h,h.return);break;case 1:Ja(h,h.return);var m=h.stateNode;if("function"===typeof m.componentWillUnmount){i=h,n=h.return;try{t=i,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(f){Ac(i,n,f)}}break;case 5:Ja(h,h.return);break;case 22:if(null!==h.memoizedState){kl(p);continue}}null!==g?(g.return=h,Xa=g):kl(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{o=p.stateNode,d?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=p.stateNode,a=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(f){Ac(e,e.return,f)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(f){Ac(e,e.return,f)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(t,e),bl(e),4&i&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var i=n;break e}n=n.return}throw Error(r(160))}switch(i.tag){case 5:var o=i.stateNode;32&i.flags&&(pe(o,""),i.flags&=-33),cl(e,al(e),o);break;case 3:case 4:var s=i.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(r(161))}}catch(a){Ac(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Xa=e,wl(e,t,n)}function wl(e,t,n){for(var i=0!==(1&e.mode);null!==Xa;){var o=Xa,r=o.child;if(22===o.tag&&i){var s=null!==o.memoizedState||Ya;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Qa;a=Ya;var c=Qa;if(Ya=s,(Qa=l)&&!c)for(Xa=o;null!==Xa;)l=(s=Xa).child,22===s.tag&&null!==s.memoizedState?_l(o):null!==l?(l.return=s,Xa=l):_l(o);for(;null!==r;)Xa=r,wl(r,t,n),r=r.sibling;Xa=o,Ya=a,Qa=c}vl(e)}else 0!==(8772&o.subtreeFlags)&&null!==r?(r.return=o,Xa=r):vl(e)}}function vl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Qa)if(null===n)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ur(t,s,i);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ur(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Ht(p)}}}break;default:throw Error(r(163))}Qa||512&t.flags&&ol(t)}catch(h){Ac(t,t.return,h)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function kl(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function _l(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){Ac(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var o=t.return;try{i.componentDidMount()}catch(l){Ac(t,o,l)}}var r=t.return;try{ol(t)}catch(l){Ac(t,r,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Ac(t,s,l)}}}catch(l){Ac(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var xl,Al=Math.ceil,Cl=v.ReactCurrentDispatcher,Sl=v.ReactCurrentOwner,Il=v.ReactCurrentBatchConfig,Tl=0,El=null,Dl=null,Ml=0,Pl=0,Rl=Co(0),Bl=0,jl=null,Ll=0,zl=0,Ol=0,Nl=null,Fl=null,Vl=0,Hl=1/0,Wl=null,Ul=!1,ql=null,$l=null,Gl=!1,Kl=null,Yl=0,Ql=0,Zl=null,Xl=-1,Jl=0;function ec(){return 0!==(6&Tl)?Ze():-1!==Xl?Xl:Xl=Ze()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Tl)&&0!==Ml?Ml&-Ml:null!==fr.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,i){if(50<Ql)throw Ql=0,Zl=null,Error(r(185));bt(e,n,i),0!==(2&Tl)&&e===El||(e===El&&(0===(2&Tl)&&(zl|=n),4===Bl&&ac(e,Ml)),ic(e,i),1===n&&0===Tl&&0===(1&t.mode)&&(Hl=Ze()+500,Fo&&Wo()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,r=e.pendingLanes;0<r;){var s=31-st(r),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&i)||(o[s]=ht(a,t)):l<=t&&(e.expiredLanes|=a),r&=~a}}(e,t);var i=pt(e,e===El?Ml:0);if(0===i)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Fo=!0,Ho(e)}(lc.bind(null,e)):Ho(lc.bind(null,e)),so((function(){0===(6&Tl)&&Wo()})),n=null;else{switch(vt(i)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Ec(n,oc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function oc(e,t){if(Xl=-1,Jl=0,0!==(6&Tl))throw Error(r(327));var n=e.callbackNode;if(_c()&&e.callbackNode!==n)return null;var i=pt(e,e===El?Ml:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=fc(e,i);else{t=i;var o=Tl;Tl|=2;var s=gc();for(El===e&&Ml===t||(Wl=null,Hl=Ze()+500,pc(e,t));;)try{yc();break}catch(l){hc(e,l)}Ir(),Cl.current=s,Tl=o,null!==Dl?t=0:(El=null,Ml=0,t=Bl)}if(0!==t){if(2===t&&(0!==(o=gt(e))&&(i=o,t=rc(e,o))),1===t)throw n=jl,pc(e,0),ac(e,i),ic(e,Ze()),n;if(6===t)ac(e,i);else{if(o=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var o=n[i],r=o.getSnapshot;o=o.value;try{if(!ai(r(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=fc(e,i))&&(0!==(s=gt(e))&&(i=s,t=rc(e,s))),1===t))throw n=jl,pc(e,0),ac(e,i),ic(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(r(345));case 2:case 5:kc(e,Fl,Wl);break;case 3:if(ac(e,i),(130023424&i)===i&&10<(t=Vl+500-Ze())){if(0!==pt(e,0))break;if(((o=e.suspendedLanes)&i)!==i){ec(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=io(kc.bind(null,e,Fl,Wl),t);break}kc(e,Fl,Wl);break;case 4:if(ac(e,i),(4194240&i)===i)break;for(t=e.eventTimes,o=-1;0<i;){var a=31-st(i);s=1<<a,(a=t[a])>o&&(o=a),i&=~s}if(i=o,10<(i=(120>(i=Ze()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Al(i/1960))-i)){e.timeoutHandle=io(kc.bind(null,e,Fl,Wl),i);break}kc(e,Fl,Wl);break;default:throw Error(r(329))}}}return ic(e,Ze()),e.callbackNode===n?oc.bind(null,e):null}function rc(e,t){var n=Nl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=fc(e,t))&&(t=Fl,Fl=n,null!==t&&sc(t)),e}function sc(e){null===Fl?Fl=e:Fl.push.apply(Fl,e)}function ac(e,t){for(t&=~Ol,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),i=1<<n;e[n]=-1,t&=~i}}function lc(e){if(0!==(6&Tl))throw Error(r(327));_c();var t=pt(e,0);if(0===(1&t))return ic(e,Ze()),null;var n=fc(e,t);if(0!==e.tag&&2===n){var i=gt(e);0!==i&&(t=i,n=rc(e,i))}if(1===n)throw n=jl,pc(e,0),ac(e,t),ic(e,Ze()),n;if(6===n)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,Fl,Wl),ic(e,Ze()),null}function cc(e,t){var n=Tl;Tl|=1;try{return e(t)}finally{0===(Tl=n)&&(Hl=Ze()+500,Fo&&Wo())}}function dc(e){null!==Kl&&0===Kl.tag&&0===(6&Tl)&&_c();var t=Tl;Tl|=1;var n=Il.transition,i=wt;try{if(Il.transition=null,wt=1,e)return e()}finally{wt=i,Il.transition=n,0===(6&(Tl=t))&&Wo()}}function uc(){Pl=Rl.current,So(Rl)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Dl)for(n=Dl.return;null!==n;){var i=n;switch(nr(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Bo();break;case 3:Zr(),So(Do),So(Eo),is();break;case 5:Jr(i);break;case 4:Zr();break;case 13:case 19:So(es);break;case 10:Tr(i.type._context);break;case 22:case 23:uc()}n=n.return}if(El=e,Dl=e=Rc(e.current,null),Ml=Pl=t,Bl=0,jl=null,Ol=zl=Ll=0,Fl=Nl=null,null!==Pr){for(t=0;t<Pr.length;t++)if(null!==(i=(n=Pr[t]).interleaved)){n.interleaved=null;var o=i.next,r=n.pending;if(null!==r){var s=r.next;r.next=o,i.next=s}n.pending=i}Pr=null}return e}function hc(e,t){for(;;){var n=Dl;try{if(Ir(),os.current=Xs,ds){for(var i=as.memoizedState;null!==i;){var o=i.queue;null!==o&&(o.pending=null),i=i.next}ds=!1}if(ss=0,cs=ls=as=null,us=!1,ps=0,Sl.current=null,null===n||null===n.return){Bl=1,jl=t,Dl=null;break}e:{var s=e,a=n.return,l=n,c=t;if(t=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=fa(a);if(null!==g){g.flags&=-257,ba(g,a,l,0,t),1&g.mode&&ma(s,d,t),c=d;var m=(t=g).updateQueue;if(null===m){var f=new Set;f.add(c),t.updateQueue=f}else m.add(c);break e}if(0===(1&t)){ma(s,d,t),mc();break e}c=Error(r(426))}else if(rr&&1&l.mode){var b=fa(a);if(null!==b){0===(65536&b.flags)&&(b.flags|=256),ba(b,a,l,0,t),mr(ca(c,l));break e}}s=c=ca(c,l),4!==Bl&&(Bl=2),null===Nl?Nl=[s]:Nl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Hr(s,ha(0,c,t));break e;case 1:l=c;var y=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===$l||!$l.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,Hr(s,ga(s,l,t));break e}}s=s.return}while(null!==s)}vc(n)}catch(v){t=v,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function gc(){var e=Cl.current;return Cl.current=Xs,null===e?Xs:e}function mc(){0!==Bl&&3!==Bl&&2!==Bl||(Bl=4),null===El||0===(268435455&Ll)&&0===(268435455&zl)||ac(El,Ml)}function fc(e,t){var n=Tl;Tl|=2;var i=gc();for(El===e&&Ml===t||(Wl=null,pc(e,t));;)try{bc();break}catch(o){hc(e,o)}if(Ir(),Tl=n,Cl.current=i,null!==Dl)throw Error(r(261));return El=null,Ml=0,Bl}function bc(){for(;null!==Dl;)wc(Dl)}function yc(){for(;null!==Dl&&!Ye();)wc(Dl)}function wc(e){var t=xl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?vc(e):Dl=t,Sl.current=null}function vc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Pl)))return void(Dl=n)}else{if(null!==(n=Ka(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Bl=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Bl&&(Bl=5)}function kc(e,t,n){var i=wt,o=Il.transition;try{Il.transition=null,wt=1,function(e,t,n,i){do{_c()}while(null!==Kl);if(0!==(6&Tl))throw Error(r(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),r=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~r}}(e,s),e===El&&(Dl=El=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ec(tt,(function(){return _c(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Il.transition,Il.transition=null;var a=wt;wt=1;var l=Tl;Tl|=4,Sl.current=null,function(e,t){if(eo=Ut,hi(e=pi())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var o=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch(k){n=null;break e}var a=0,l=-1,c=-1,d=0,u=0,p=e,h=null;t:for(;;){for(var g;p!==n||0!==o&&3!==p.nodeType||(l=a+o),p!==s||0!==i&&3!==p.nodeType||(c=a+i),3===p.nodeType&&(a+=p.nodeValue.length),null!==(g=p.firstChild);)h=p,p=g;for(;;){if(p===e)break t;if(h===n&&++d===o&&(l=a),h===s&&++u===i&&(c=a),null!==(g=p.nextSibling))break;h=(p=h).parentNode}p=g}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Ut=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var f=m.memoizedProps,b=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?f:na(t.type,f),b);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var v=t.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(r(163))}}catch(k){Ac(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tl,tl=!1}(e,n),fl(n,e),gi(to),Ut=!!eo,to=eo=null,e.current=n,yl(n,e,o),Qe(),Tl=l,wt=a,Il.transition=s}else e.current=n;if(Gl&&(Gl=!1,Kl=e,Yl=o),s=e.pendingLanes,0===s&&($l=null),function(e){if(rt&&"function"===typeof rt.onCommitFiberRoot)try{rt.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ze()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(Ul)throw Ul=!1,e=ql,ql=null,e;0!==(1&Yl)&&0!==e.tag&&_c(),s=e.pendingLanes,0!==(1&s)?e===Zl?Ql++:(Ql=0,Zl=e):Ql=0,Wo()}(e,t,n,i)}finally{Il.transition=o,wt=i}return null}function _c(){if(null!==Kl){var e=vt(Yl),t=Il.transition,n=wt;try{if(Il.transition=null,wt=16>e?16:e,null===Kl)var i=!1;else{if(e=Kl,Kl=null,Yl=0,0!==(6&Tl))throw Error(r(331));var o=Tl;for(Tl|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!==(16&Xa.flags)){var l=s.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Xa=d;null!==Xa;){var u=Xa;switch(u.tag){case 0:case 11:case 15:nl(8,u,s)}var p=u.child;if(null!==p)p.return=u,Xa=p;else for(;null!==Xa;){var h=(u=Xa).sibling,g=u.return;if(rl(u),u===d){Xa=null;break}if(null!==h){h.return=g,Xa=h;break}Xa=g}}}var m=s.alternate;if(null!==m){var f=m.child;if(null!==f){m.child=null;do{var b=f.sibling;f.sibling=null,f=b}while(null!==f)}}Xa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Xa=y;break e}Xa=s.return}}var w=e.current;for(Xa=w;null!==Xa;){var v=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==v)v.return=a,Xa=v;else e:for(a=w;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(_){Ac(l,l.return,_)}if(l===a){Xa=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Xa=k;break e}Xa=l.return}}if(Tl=o,Wo(),rt&&"function"===typeof rt.onPostCommitFiberRoot)try{rt.onPostCommitFiberRoot(ot,e)}catch(_){}i=!0}return i}finally{wt=n,Il.transition=t}}return!1}function xc(e,t,n){e=Fr(e,t=ha(0,t=ca(n,t),1),1),t=ec(),null!==e&&(bt(e,1,t),ic(e,t))}function Ac(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===$l||!$l.has(i))){t=Fr(t,e=ga(t,e=ca(n,e),1),1),e=ec(),null!==t&&(bt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,El===e&&(Ml&n)===n&&(4===Bl||3===Bl&&(130023424&Ml)===Ml&&500>Ze()-Vl?pc(e,0):Ol|=n),ic(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=jr(e,t))&&(bt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(r(314))}null!==i&&i.delete(t),Sc(e,n)}function Ec(e,t){return Ge(e,t)}function Dc(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,i){return new Dc(e,t,n,i)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Bc(e,t,n,i,o,s){var a=2;if(i=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return jc(n.children,o,s,t);case A:a=8,o|=8;break;case C:return(e=Mc(12,n,t,2|o)).elementType=C,e.lanes=s,e;case E:return(e=Mc(13,n,t,o)).elementType=E,e.lanes=s,e;case D:return(e=Mc(19,n,t,o)).elementType=D,e.lanes=s,e;case R:return Lc(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:a=10;break e;case I:a=9;break e;case T:a=11;break e;case M:a=14;break e;case P:a=16,i=null;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=Mc(a,n,t,o)).elementType=e,t.type=i,t.lanes=s,t}function jc(e,t,n,i){return(e=Mc(7,e,i,t)).lanes=n,e}function Lc(e,t,n,i){return(e=Mc(22,e,i,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function zc(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Oc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nc(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ft(0),this.expirationTimes=ft(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ft(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,i,o,r,s,a,l){return e=new Nc(e,t,n,a,l),1===t?(t=1,!0===r&&(t|=8)):t=0,r=Mc(3,null,null,t),e.current=r,r.stateNode=e,r.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zr(r),e}function Vc(e){if(!e)return To;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(r(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ro(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(r(171))}if(1===e.tag){var n=e.type;if(Ro(n))return Lo(e,n,t)}return t}function Hc(e,t,n,i,o,r,s,a,l){return(e=Fc(n,i,!0,e,0,r,0,a,l)).context=Vc(null),n=e.current,(r=Nr(i=ec(),o=tc(n))).callback=void 0!==t&&null!==t?t:null,Fr(n,r,o),e.current.lanes=o,bt(e,o,i),ic(e,i),e}function Wc(e,t,n,i){var o=t.current,r=ec(),s=tc(o);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Nr(r,s)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Fr(o,t,s))&&(nc(e,o,s,r),Vr(e,o,s)),s}function Uc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}xl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Do.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:Ea(t),gr();break;case 5:Xr(t);break;case 1:Ro(t.type)&&zo(t);break;case 4:Qr(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;Io(xr,i._currentValue),i._currentValue=o;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Io(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?za(e,t,n):(Io(es,1&es.current),null!==(e=Ua(e,t,n))?e.sibling:null);Io(es,1&es.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Ha(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Io(es,es.current),i)break;return null;case 22:case 23:return t.lanes=0,Aa(e,t,n)}return Ua(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,rr&&0!==(1048576&t.flags)&&er(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Wa(e,t),e=t.pendingProps;var o=Po(t,Eo.current);Dr(t,n),o=fs(null,t,i,e,o,n);var s=bs();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ro(i)?(s=!0,zo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,zr(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,i,e,n),t=Ta(null,t,i,!0,s,n)):(t.tag=0,rr&&s&&tr(t),va(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===M)return 14}return 2}(i),e=na(i,e),o){case 0:t=Sa(null,t,i,e,n);break e;case 1:t=Ia(null,t,i,e,n);break e;case 11:t=ka(null,t,i,e,n);break e;case 14:t=_a(null,t,i,na(i.type,e),n);break e}throw Error(r(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,Sa(e,t,i,o=t.elementType===i?o:na(i,o),n);case 1:return i=t.type,o=t.pendingProps,Ia(e,t,i,o=t.elementType===i?o:na(i,o),n);case 3:e:{if(Ea(t),null===e)throw Error(r(387));i=t.pendingProps,o=(s=t.memoizedState).element,Or(e,t),Wr(t,i,null,n);var a=t.memoizedState;if(i=a.element,s.isDehydrated){if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Da(e,t,i,n,o=ca(Error(r(423)),t));break e}if(i!==o){t=Da(e,t,i,n,o=ca(Error(r(424)),t));break e}for(or=co(t.stateNode.containerInfo.firstChild),ir=t,rr=!0,sr=null,n=_r(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(gr(),i===o){t=Ua(e,t,n);break e}va(e,t,i,n)}t=t.child}return t;case 5:return Xr(t),null===e&&dr(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(i,o)?a=null:null!==s&&no(i,s)&&(t.flags|=32),Ca(e,t),va(e,t,a,n),t.child;case 6:return null===e&&dr(t),null;case 13:return za(e,t,n);case 4:return Qr(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=kr(t,null,i,n):va(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,ka(e,t,i,o=t.elementType===i?o:na(i,o),n);case 7:return va(e,t,t.pendingProps,n),t.child;case 8:case 12:return va(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,Io(xr,i._currentValue),i._currentValue=a,null!==s)if(ai(s.value,a)){if(s.children===o.children&&!Do.current){t=Ua(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===i){if(1===s.tag){(c=Nr(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Er(s.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(r(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Er(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}va(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Dr(t,n),i=i(o=Mr(o)),t.flags|=1,va(e,t,i,n),t.child;case 14:return o=na(i=t.type,t.pendingProps),_a(e,t,i,o=na(i.type,o),n);case 15:return xa(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:na(i,o),Wa(e,t),t.tag=1,Ro(i)?(e=!0,zo(t)):e=!1,Dr(t,n),sa(t,i,o),la(t,i,o,n),Ta(null,t,i,!0,e,n);case 19:return Ha(e,t,n);case 22:return Aa(e,t,n)}throw Error(r(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Kc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Jc(e,t,n,i,o){var r=n._reactRootContainer;if(r){var s=r;if("function"===typeof o){var a=o;o=function(){var e=Uc(s);a.call(e)}}Wc(t,s,e,o)}else s=function(e,t,n,i,o){if(o){if("function"===typeof i){var r=i;i=function(){var e=Uc(s);r.call(e)}}var s=Hc(t,i,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[mo]=s.current,Hi(8===e.nodeType?e.parentNode:e),dc(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof i){var a=i;i=function(){var e=Uc(l);a.call(e)}}var l=Fc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=l,e[mo]=l.current,Hi(8===e.nodeType?e.parentNode:e),dc((function(){Wc(t,l,n,i)})),l}(n,t,e,o,i);return Uc(s)}Yc.prototype.render=Kc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(r(409));Wc(e,t,null,null)},Yc.prototype.unmount=Kc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Wc(null,e,null,null)})),t[mo]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&zt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Ze()),0===(6&Tl)&&(Hl=Ze()+500,Wo()))}break;case 13:dc((function(){var t=jr(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),$c(e,1)}},_t=function(e){if(13===e.tag){var t=jr(e,134217728);if(null!==t)nc(t,e,134217728,ec());$c(e,134217728)}},xt=function(e){if(13===e.tag){var t=tc(e),n=jr(e,t);if(null!==n)nc(n,e,t,ec());$c(e,t)}},At=function(){return wt},Ct=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=_o(i);if(!o)throw Error(r(90));G(i),X(i,o)}}}break;case"textarea":re(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ee=dc;var ed={usingClientEntryPoint:!1,Events:[vo,ko,_o,Se,Ie,cc]},td={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:v.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var id=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!id.isDisabled&&id.supportsFiber)try{ot=id.inject(nd),rt=id}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(r(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(r(299));var n=!1,i="",o=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,i,o),e[mo]=t.current,Hi(8===e.nodeType?e.parentNode:e),new Kc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(r(188));throw e=Object.keys(e).join(","),Error(r(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(r(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(r(405));var i=null!=n&&n.hydratedSources||null,o=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,o,0,s,a),e[mo]=t.current,Hi(e),i)for(e=0;e<i.length;e++)o=(o=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(r(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(r(40));return!!e._reactRootContainer&&(dc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!Zc(n))throw Error(r(200));if(null==e||void 0===e._reactInternals)throw Error(r(38));return Jc(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},3174:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalStyles:()=>_.A,StyledEngineProvider:()=>k,ThemeContext:()=>o.T,css:()=>b.AH,default:()=>x,internal_processStyles:()=>A,keyframes:()=>b.i7});var i=n(8168),o=n(9369),r=n(6598),s=n(9436),a=n(1722),l=n(5043),c=n(918),d=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,u=(0,c.A)((function(e){return d.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),p=function(e){return"theme"!==e},h=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?u:p},g=function(e,t,n){var i;if(t){var o=t.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!==typeof i&&n&&(i=e.__emotion_forwardProp),i},m=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return(0,a.SF)(t,n,i),(0,s.s)((function(){return(0,a.sk)(t,n,i)})),null},f=function e(t,n){var s,c,d=t.__emotion_real===t,u=d&&t.__emotion_base||t;void 0!==n&&(s=n.label,c=n.target);var p=g(t,n,d),f=p||h(u),b=!f("as");return function(){var y=arguments,w=d&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==s&&w.push("label:"+s+";"),null==y[0]||void 0===y[0].raw)w.push.apply(w,y);else{var v=y[0];w.push(v[0]);for(var k=y.length,_=1;_<k;_++)w.push(y[_],v[_])}var x=(0,o.w)((function(e,t,n){var i=b&&e.as||u,s="",d=[],g=e;if(null==e.theme){for(var y in g={},e)g[y]=e[y];g.theme=l.useContext(o.T)}"string"===typeof e.className?s=(0,a.Rk)(t.registered,d,e.className):null!=e.className&&(s=e.className+" ");var v=(0,r.J)(w.concat(d),t.registered,g);s+=t.key+"-"+v.name,void 0!==c&&(s+=" "+c);var k=b&&void 0===p?h(i):f,_={};for(var x in e)b&&"as"===x||k(x)&&(_[x]=e[x]);return _.className=s,n&&(_.ref=n),l.createElement(l.Fragment,null,l.createElement(m,{cache:t,serialized:v,isStringTag:"string"===typeof i}),l.createElement(i,_))}));return x.displayName=void 0!==s?s:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=u,x.__emotion_styles=w,x.__emotion_forwardProp=p,Object.defineProperty(x,"toString",{value:function(){return"."+c}}),x.withComponent=function(t,o){return e(t,(0,i.A)({},n,o,{shouldForwardProp:g(x,o,!0)})).apply(void 0,w)},x}}.bind(null);["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){f[e]=f(e)}));var b=n(3290),y=n(3803),w=n(579);let v;function k(e){const{injectFirst:t,children:n}=e;return t&&v?(0,w.jsx)(o.C,{value:v,children:n}):n}"object"===typeof document&&(v=(0,y.A)({key:"css",prepend:!0}));var _=n(869);function x(e,t){return f(e,t)}const A=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},3234:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A,extendSxProp:()=>o.A,unstable_createStyleFunctionSx:()=>i.k,unstable_defaultSxConfig:()=>r.A});var i=n(8812),o=n(8698),r=n(7758)},3290:(e,t,n)=>{"use strict";n.d(t,{AH:()=>d,i7:()=>u,mL:()=>c});var i=n(9369),o=n(5043),r=n(1722),s=n(9436),a=n(6598),l=(n(3803),n(219),function(e,t){var n=arguments;if(null==t||!i.h.call(t,"css"))return o.createElement.apply(void 0,n);var r=n.length,s=new Array(r);s[0]=i.E,s[1]=(0,i.c)(e,t);for(var a=2;a<r;a++)s[a]=n[a];return o.createElement.apply(null,s)});!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(l||(l={}));var c=(0,i.w)((function(e,t){var n=e.styles,l=(0,a.J)([n],void 0,o.useContext(i.T)),c=o.useRef();return(0,s.i)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,o=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==o&&(i=!0,o.setAttribute("data-emotion",e),n.hydrate([o])),c.current=[n,i],function(){n.flush()}}),[t]),(0,s.i)((function(){var e=c.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,r.sk)(t,l.next,!0),n.tags.length){var i=n.tags[n.tags.length-1].nextElementSibling;n.before=i,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null}));function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.J)(t)}function u(){var e=d.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},3382:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l,getFunctionName:()=>r});var i=n(528);const o=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function r(e){const t=`${e}`.match(o);return t&&t[1]||""}function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||r(e)||t}function a(e,t,n){const i=s(t);return e.displayName||(""!==i?`${n}(${i})`:n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return s(e,"Component");if("object"===typeof e)switch(e.$$typeof){case i.vM:return a(e,e.render,"ForwardRef");case i.lD:return a(e,e.type,"memo");default:return}}}},3763:(e,t,n)=>{"use strict";e.exports=n(4983)},3803:(e,t,n)=>{"use strict";n.d(t,{A:()=>oe});var i=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),o=Math.abs,r=String.fromCharCode,s=Object.assign;function a(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function d(e,t){return 0|e.charCodeAt(t)}function u(e,t,n){return e.slice(t,n)}function p(e){return e.length}function h(e){return e.length}function g(e,t){return t.push(e),e}var m=1,f=1,b=0,y=0,w=0,v="";function k(e,t,n,i,o,r,s){return{value:e,root:t,parent:n,type:i,props:o,children:r,line:m,column:f,length:s,return:""}}function _(e,t){return s(k("",null,null,"",null,null,0),e,{length:-e.length},t)}function x(){return w=y>0?d(v,--y):0,f--,10===w&&(f=1,m--),w}function A(){return w=y<b?d(v,y++):0,f++,10===w&&(f=1,m++),w}function C(){return d(v,y)}function S(){return y}function I(e,t){return u(v,e,t)}function T(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function E(e){return m=f=1,b=p(v=e),y=0,[]}function D(e){return v="",e}function M(e){return a(I(y-1,B(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(w=C())&&w<33;)A();return T(e)>2||T(w)>3?"":" "}function R(e,t){for(;--t&&A()&&!(w<48||w>102||w>57&&w<65||w>70&&w<97););return I(e,S()+(t<6&&32==C()&&32==A()))}function B(e){for(;A();)switch(w){case e:return y;case 34:case 39:34!==e&&39!==e&&B(w);break;case 40:41===e&&B(e);break;case 92:A()}return y}function j(e,t){for(;A()&&e+w!==57&&(e+w!==84||47!==C()););return"/*"+I(t,y-1)+"*"+r(47===e?e:A())}function L(e){for(;!T(C());)A();return I(e,y)}var z="-ms-",O="-moz-",N="-webkit-",F="comm",V="rule",H="decl",W="@keyframes";function U(e,t){for(var n="",i=h(e),o=0;o<i;o++)n+=t(e[o],o,e,t)||"";return n}function q(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case H:return e.return=e.return||e.value;case F:return"";case W:return e.return=e.value+"{"+U(e.children,i)+"}";case V:e.value=e.props.join(",")}return p(n=U(e.children,i))?e.return=e.value+"{"+n+"}":""}function $(e){return D(G("",null,null,null,[""],e=E(e),0,[0],e))}function G(e,t,n,i,o,s,a,u,h){for(var m=0,f=0,b=a,y=0,w=0,v=0,k=1,_=1,I=1,T=0,E="",D=o,B=s,z=i,O=E;_;)switch(v=T,T=A()){case 40:if(108!=v&&58==d(O,b-1)){-1!=c(O+=l(M(T),"&","&\f"),"&\f")&&(I=-1);break}case 34:case 39:case 91:O+=M(T);break;case 9:case 10:case 13:case 32:O+=P(v);break;case 92:O+=R(S()-1,7);continue;case 47:switch(C()){case 42:case 47:g(Y(j(A(),S()),t,n),h);break;default:O+="/"}break;case 123*k:u[m++]=p(O)*I;case 125*k:case 59:case 0:switch(T){case 0:case 125:_=0;case 59+f:-1==I&&(O=l(O,/\f/g,"")),w>0&&p(O)-b&&g(w>32?Q(O+";",i,n,b-1):Q(l(O," ","")+";",i,n,b-2),h);break;case 59:O+=";";default:if(g(z=K(O,t,n,m,f,o,u,E,D=[],B=[],b),s),123===T)if(0===f)G(O,t,z,z,D,s,b,u,B);else switch(99===y&&110===d(O,3)?100:y){case 100:case 108:case 109:case 115:G(e,z,z,i&&g(K(e,z,z,0,0,o,u,E,o,D=[],b),B),o,B,b,u,i?D:B);break;default:G(O,z,z,z,[""],B,0,u,B)}}m=f=w=0,k=I=1,E=O="",b=a;break;case 58:b=1+p(O),w=v;default:if(k<1)if(123==T)--k;else if(125==T&&0==k++&&125==x())continue;switch(O+=r(T),T*k){case 38:I=f>0?1:(O+="\f",-1);break;case 44:u[m++]=(p(O)-1)*I,I=1;break;case 64:45===C()&&(O+=M(A())),y=C(),f=b=p(E=O+=L(S())),T++;break;case 45:45===v&&2==p(O)&&(k=0)}}return s}function K(e,t,n,i,r,s,c,d,p,g,m){for(var f=r-1,b=0===r?s:[""],y=h(b),w=0,v=0,_=0;w<i;++w)for(var x=0,A=u(e,f+1,f=o(v=c[w])),C=e;x<y;++x)(C=a(v>0?b[x]+" "+A:l(A,/&\f/g,b[x])))&&(p[_++]=C);return k(e,t,n,0===r?V:d,p,g,m)}function Y(e,t,n){return k(e,t,n,F,r(w),u(e,2,-2),0)}function Q(e,t,n,i){return k(e,t,n,H,u(e,0,i),u(e,i+1,-1),i)}var Z=function(e,t,n){for(var i=0,o=0;i=o,o=C(),38===i&&12===o&&(t[n]=1),!T(o);)A();return I(e,y)},X=function(e,t){return D(function(e,t){var n=-1,i=44;do{switch(T(i)){case 0:38===i&&12===C()&&(t[n]=1),e[n]+=Z(y-1,t,n);break;case 2:e[n]+=M(i);break;case 4:if(44===i){e[++n]=58===C()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=r(i)}}while(i=A());return e}(E(e),t))},J=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||J.get(n))&&!i){J.set(e,!0);for(var o=[],r=X(t,o),s=n.props,a=0,l=0;a<r.length;a++)for(var c=0;c<s.length;c++,l++)e.props[l]=o[a]?r[a].replace(/&\f/g,s[c]):s[c]+" "+r[a]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^d(e,0)?(((t<<2^d(e,0))<<2^d(e,1))<<2^d(e,2))<<2^d(e,3):0}(e,t)){case 5103:return N+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return N+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return N+e+O+e+z+e+e;case 6828:case 4268:return N+e+z+e+e;case 6165:return N+e+z+"flex-"+e+e;case 5187:return N+e+l(e,/(\w+).+(:[^]+)/,N+"box-$1$2"+z+"flex-$1$2")+e;case 5443:return N+e+z+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return N+e+z+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return N+e+z+l(e,"shrink","negative")+e;case 5292:return N+e+z+l(e,"basis","preferred-size")+e;case 6060:return N+"box-"+l(e,"-grow","")+N+e+z+l(e,"grow","positive")+e;case 4554:return N+l(e,/([^-])(transform)/g,"$1"+N+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,N+"$1"),/(image-set)/,N+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,N+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,N+"box-pack:$3"+z+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+N+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,N+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(p(e)-1-t>6)switch(d(e,t+1)){case 109:if(45!==d(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+N+"$2-$3$1"+O+(108==d(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==d(e,t+1))break;case 6444:switch(d(e,p(e)-3-(~c(e,"!important")&&10))){case 107:return l(e,":",":"+N)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+N+(45===d(e,14)?"inline-":"")+"box$3$1"+N+"$2$3$1"+z+"$2box$3")+e}break;case 5936:switch(d(e,t+11)){case 114:return N+e+z+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return N+e+z+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return N+e+z+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return N+e+z+e+e}return e}var ie=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case H:e.return=ne(e.value,e.length);break;case W:return U([_(e,{value:l(e.value,"@","@"+N)})],i);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return U([_(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return U([_(e,{props:[l(t,/:(plac\w+)/,":"+N+"input-$1")]}),_(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),_(e,{props:[l(t,/:(plac\w+)/,z+"input-$1")]})],i)}return""}))}}],oe=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var o,r,s=e.stylisPlugins||ie,a={},l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;l.push(e)}));var c,d,u=[q,(d=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&d(e)})],p=function(e){var t=h(e);return function(n,i,o,r){for(var s="",a=0;a<t;a++)s+=e[a](n,i,o,r)||"";return s}}([ee,te].concat(s,u));r=function(e,t,n,i){c=n,U($(e?e+"{"+t.styles+"}":t.styles),p),i&&(g.inserted[t.name]=!0)};var g={key:t,sheet:new i({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:r};return g.sheet.hydrate(l),g}},3815:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(9172);const o=function(e,t){return t?(0,i.A)(e,t,{clone:!1}):e}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),h=Symbol.iterator;var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,f={};function b(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||g}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=f,this.updater=n||g}b.prototype.isReactComponent={},b.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},b.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=b.prototype;var v=w.prototype=new y;v.constructor=w,m(v,b.prototype),v.isPureReactComponent=!0;var k=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,i){var o,r={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)_.call(t,o)&&!A.hasOwnProperty(o)&&(r[o]=t[o]);var l=arguments.length-2;if(1===l)r.children=i;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];r.children=c}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===r[o]&&(r[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:r,_owner:x.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function E(e,t,o,r,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return s=s(l=e),e=""===r?"."+T(l,0):r,k(s)?(o="",null!=e&&(o=e.replace(I,"$&/")+"/"),E(s,t,o,"",(function(e){return e}))):null!=s&&(S(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=""===r?".":r+":",k(e))for(var c=0;c<e.length;c++){var d=r+T(a=e[c],c);l+=E(a,t,o,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(a=e.next()).done;)l+=E(a=a.value,t,o,d=r+T(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function D(e,t,n){if(null==e)return e;var i=[],o=0;return E(e,i,"","",(function(e){return t.call(n,e,o++)})),i}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},B={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};function j(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:D,forEach:function(e,t,n){D(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return D(e,(function(){t++})),t},toArray:function(e){return D(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=b,t.Fragment=o,t.Profiler=s,t.PureComponent=w,t.StrictMode=r,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=B,t.act=j,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),r=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=x.current),void 0!==t.key&&(r=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_.call(t,c)&&!A.hasOwnProperty(c)&&(o[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)o.children=i;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];o.children=l}return{$$typeof:n,type:e.type,key:r,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=j,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{"use strict";var i=n(7950);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},4634:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},4853:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var i=n(8587),o=n(8168);const r=["values","unit","step"],s=e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>(0,o.A)({},e,{[t.key]:t.val})),{})};function a(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:a=5}=e,l=(0,i.A)(e,r),c=s(t),d=Object.keys(c);function u(e){return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n})`}function p(e){return`@media (max-width:${("number"===typeof t[e]?t[e]:e)-a/100}${n})`}function h(e,i){const o=d.indexOf(i);return`@media (min-width:${"number"===typeof t[e]?t[e]:e}${n}) and (max-width:${(-1!==o&&"number"===typeof t[d[o]]?t[d[o]]:i)-a/100}${n})`}return(0,o.A)({keys:d,values:c,up:u,down:p,between:h,only:function(e){return d.indexOf(e)+1<d.length?h(e,d[d.indexOf(e)+1]):u(e)},not:function(e){const t=d.indexOf(e);return 0===t?u(d[1]):t===d.length-1?p(d[t]):h(e,d[d.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},l)}},4893:e=>{e.exports=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4983:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,d=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,g=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,f=n?Symbol.for("react.lazy"):60116,b=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,v=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case u:case r:case a:case s:case h:return e;default:switch(e=e&&e.$$typeof){case c:case p:case f:case m:case l:return e;default:return t}}case o:return t}}}function _(e){return k(e)===u}t.AsyncMode=d,t.ConcurrentMode=u,t.ContextConsumer=c,t.ContextProvider=l,t.Element=i,t.ForwardRef=p,t.Fragment=r,t.Lazy=f,t.Memo=m,t.Portal=o,t.Profiler=a,t.StrictMode=s,t.Suspense=h,t.isAsyncMode=function(e){return _(e)||k(e)===d},t.isConcurrentMode=_,t.isContextConsumer=function(e){return k(e)===c},t.isContextProvider=function(e){return k(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return k(e)===p},t.isFragment=function(e){return k(e)===r},t.isLazy=function(e){return k(e)===f},t.isMemo=function(e){return k(e)===m},t.isPortal=function(e){return k(e)===o},t.isProfiler=function(e){return k(e)===a},t.isStrictMode=function(e){return k(e)===s},t.isSuspense=function(e){return k(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===r||e===u||e===a||e===s||e===h||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===y||e.$$typeof===w||e.$$typeof===v||e.$$typeof===b)},t.typeOf=k},4989:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A,private_createBreakpoints:()=>o.A,unstable_applyStyles:()=>r.A});var i=n(8280),o=n(4853),r=n(9703)},4994:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},6531:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A});var i=n(1188)},6598:(e,t,n)=>{"use strict";n.d(t,{J:()=>f});var i={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},o=n(918),r=!1,s=/[A-Z]|^ms/g,a=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},d=(0,o.A)((function(e){return l(e)?e:e.replace(s,"-$&").toLowerCase()})),u=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(a,(function(e,t,n){return g={name:t,styles:n,next:g},t}))}return 1===i[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},p="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function h(e,t,n){if(null==n)return"";var i=n;if(void 0!==i.__emotion_styles)return i;switch(typeof n){case"boolean":return"";case"object":var o=n;if(1===o.anim)return g={name:o.name,styles:o.styles,next:g},o.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)g={name:a.name,styles:a.styles,next:g},a=a.next;return s.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var o=0;o<n.length;o++)i+=h(e,t,n[o])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var l=a;null!=t&&void 0!==t[l]?i+=s+"{"+t[l]+"}":c(l)&&(i+=d(s)+":"+u(s,l)+";")}else{if("NO_COMPONENT_SELECTOR"===s&&r)throw new Error(p);if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var g=h(e,t,a);switch(s){case"animation":case"animationName":i+=d(s)+":"+g+";";break;default:i+=s+"{"+g+"}"}}else for(var m=0;m<a.length;m++)c(a[m])&&(i+=d(s)+":"+u(s,a[m])+";")}}return i}(e,t,n);case"function":if(void 0!==e){var l=g,m=n(e);return g=l,h(e,t,m)}}var f=n;if(null==t)return f;var b=t[f];return void 0!==b?b:f}var g,m=/label:\s*([^\s;{]+)\s*(;|$)/g;function f(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,o="";g=void 0;var r=e[0];null==r||void 0===r.raw?(i=!1,o+=h(n,t,r)):o+=r[0];for(var s=1;s<e.length;s++){if(o+=h(n,t,e[s]),i)o+=r[s]}m.lastIndex=0;for(var a,l="";null!==(a=m.exec(o));)l+="-"+a[1];var c=function(e){for(var t,n=0,i=0,o=e.length;o>=4;++i,o-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l;return{name:c,styles:o,next:g}}},7162:(e,t,n)=>{"use strict";n.d(t,{Ay:()=>a,BO:()=>s,Yn:()=>r});var i=n(7598),o=n(9751);function r(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n=`vars.${t}`.split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function s(e,t,n){let i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return i="function"===typeof e?e(n):Array.isArray(e)?e[n]||o:r(e,n)||o,t&&(i=t(i,o,e)),i}const a=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:a,transform:l}=e,c=e=>{if(null==e[t])return null;const c=e[t],d=r(e.theme,a)||{};return(0,o.NI)(e,c,(e=>{let o=s(d,l,e);return e===o&&"string"===typeof e&&(o=s(d,l,`${t}${"default"===e?"":(0,i.A)(e)}`,e)),!1===n?o:{[n]:o}}))};return c.propTypes={},c.filterProps=[t],c}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,o=e[i];if(!(0<r(o,t)))break e;e[i]=t,e[n]=o,n=i}}function i(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,o=e.length,s=o>>>1;i<s;){var a=2*(i+1)-1,l=e[a],c=a+1,d=e[c];if(0>r(l,n))c<o&&0>r(d,l)?(e[i]=d,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<o&&0>r(d,n)))break e;e[i]=d,e[c]=n,i=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],u=1,p=null,h=3,g=!1,m=!1,f=!1,b="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function v(e){for(var t=i(d);null!==t;){if(null===t.callback)o(d);else{if(!(t.startTime<=e))break;o(d),t.sortIndex=t.expirationTime,n(c,t)}t=i(d)}}function k(e){if(f=!1,v(e),!m)if(null!==i(c))m=!0,R(_);else{var t=i(d);null!==t&&B(k,t.startTime-e)}}function _(e,n){m=!1,f&&(f=!1,y(S),S=-1),g=!0;var r=h;try{for(v(n),p=i(c);null!==p&&(!(p.expirationTime>n)||e&&!E());){var s=p.callback;if("function"===typeof s){p.callback=null,h=p.priorityLevel;var a=s(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?p.callback=a:p===i(c)&&o(c),v(n)}else o(c);p=i(c)}if(null!==p)var l=!0;else{var u=i(d);null!==u&&B(k,u.startTime-n),l=!1}return l}finally{p=null,h=r,g=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,A=!1,C=null,S=-1,I=5,T=-1;function E(){return!(t.unstable_now()-T<I)}function D(){if(null!==C){var e=t.unstable_now();T=e;var n=!0;try{n=C(!0,e)}finally{n?x():(A=!1,C=null)}}else A=!1}if("function"===typeof w)x=function(){w(D)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,P=M.port2;M.port1.onmessage=D,x=function(){P.postMessage(null)}}else x=function(){b(D,0)};function R(e){C=e,A||(A=!0,x())}function B(e,n){S=b((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||g||(m=!0,R(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return i(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,o,r){var s=t.unstable_now();switch("object"===typeof r&&null!==r?r="number"===typeof(r=r.delay)&&0<r?s+r:s:r=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:o,priorityLevel:e,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>s?(e.sortIndex=r,n(d,e),null===i(c)&&e===i(d)&&(f?(y(S),S=-1):f=!0,B(k,r-s))):(e.sortIndex=a,n(c,e),m||g||(m=!0,R(_))),e},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},7266:(e,t,n)=>{"use strict";var i=n(4994);t.X4=h,t.e$=g,t.tL=f,t.eM=function(e,t){const n=p(e),i=p(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},t.a=m;var o=i(n(457)),r=i(n(6531));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,r.default)(e,t,n)}function a(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(a(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,o.default)(9,e));let i,r=e.substring(t+1,e.length-1);if("color"===n){if(r=r.split(" "),i=r.shift(),4===r.length&&"/"===r[3].charAt(0)&&(r[3]=r[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,o.default)(10,i))}else r=r.split(",");return r=r.map((e=>parseFloat(e))),{type:n,values:r,colorSpace:i}}const c=e=>{const t=l(e);return t.values.slice(0,3).map(((e,n)=>-1!==t.type.indexOf("hsl")&&0!==n?`${e}%`:e)).join(" ")};function d(e){const{type:t,colorSpace:n}=e;let{values:i}=e;return-1!==t.indexOf("rgb")?i=i.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),i=-1!==t.indexOf("color")?`${n} ${i.join(" ")}`:`${i.join(", ")}`,`${t}(${i})`}function u(e){e=l(e);const{values:t}=e,n=t[0],i=t[1]/100,o=t[2]/100,r=i*Math.min(o,1-o),s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return o-r*Math.max(Math.min(t-3,9-t,1),-1)};let a="rgb";const c=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(a+="a",c.push(t[3])),d({type:a,values:c})}function p(e){let t="hsl"===(e=l(e)).type||"hsla"===e.type?l(u(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function h(e,t){return e=l(e),t=s(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,d(e)}function g(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return d(e)}function m(e,t){if(e=l(e),t=s(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return d(e)}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return p(e)>.5?g(e,t):m(e,t)}},7598:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var i=n(7868);function o(e){if("string"!==typeof e)throw new Error((0,i.A)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},7758:(e,t,n)=>{"use strict";n.d(t,{A:()=>B});var i=n(8604),o=n(7162),r=n(3815);const s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),o=e=>Object.keys(e).reduce(((t,n)=>i[n]?(0,r.A)(t,i[n](e)):t),{});return o.propTypes={},o.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),o};var a=n(9751);function l(e){return"number"!==typeof e?e:`${e}px solid`}function c(e,t){return(0,o.Ay)({prop:e,themeKey:"borders",transform:t})}const d=c("border",l),u=c("borderTop",l),p=c("borderRight",l),h=c("borderBottom",l),g=c("borderLeft",l),m=c("borderColor"),f=c("borderTopColor"),b=c("borderRightColor"),y=c("borderBottomColor"),w=c("borderLeftColor"),v=c("outline",l),k=c("outlineColor"),_=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=(0,i.MA)(e.theme,"shape.borderRadius",4,"borderRadius"),n=e=>({borderRadius:(0,i._W)(t,e)});return(0,a.NI)(e,e.borderRadius,n)}return null};_.propTypes={},_.filterProps=["borderRadius"];s(d,u,p,h,g,m,f,b,y,w,_,v,k);const x=e=>{if(void 0!==e.gap&&null!==e.gap){const t=(0,i.MA)(e.theme,"spacing",8,"gap"),n=e=>({gap:(0,i._W)(t,e)});return(0,a.NI)(e,e.gap,n)}return null};x.propTypes={},x.filterProps=["gap"];const A=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=(0,i.MA)(e.theme,"spacing",8,"columnGap"),n=e=>({columnGap:(0,i._W)(t,e)});return(0,a.NI)(e,e.columnGap,n)}return null};A.propTypes={},A.filterProps=["columnGap"];const C=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=(0,i.MA)(e.theme,"spacing",8,"rowGap"),n=e=>({rowGap:(0,i._W)(t,e)});return(0,a.NI)(e,e.rowGap,n)}return null};C.propTypes={},C.filterProps=["rowGap"];s(x,A,C,(0,o.Ay)({prop:"gridColumn"}),(0,o.Ay)({prop:"gridRow"}),(0,o.Ay)({prop:"gridAutoFlow"}),(0,o.Ay)({prop:"gridAutoColumns"}),(0,o.Ay)({prop:"gridAutoRows"}),(0,o.Ay)({prop:"gridTemplateColumns"}),(0,o.Ay)({prop:"gridTemplateRows"}),(0,o.Ay)({prop:"gridTemplateAreas"}),(0,o.Ay)({prop:"gridArea"}));function S(e,t){return"grey"===t?t:e}s((0,o.Ay)({prop:"color",themeKey:"palette",transform:S}),(0,o.Ay)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:S}),(0,o.Ay)({prop:"backgroundColor",themeKey:"palette",transform:S}));function I(e){return e<=1&&0!==e?100*e+"%":e}const T=(0,o.Ay)({prop:"width",transform:I}),E=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,i;const o=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||a.zu[t];return o?"px"!==(null==(i=e.theme)||null==(i=i.breakpoints)?void 0:i.unit)?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:I(t)}};return(0,a.NI)(e,e.maxWidth,t)}return null};E.filterProps=["maxWidth"];const D=(0,o.Ay)({prop:"minWidth",transform:I}),M=(0,o.Ay)({prop:"height",transform:I}),P=(0,o.Ay)({prop:"maxHeight",transform:I}),R=(0,o.Ay)({prop:"minHeight",transform:I}),B=((0,o.Ay)({prop:"size",cssProperty:"width",transform:I}),(0,o.Ay)({prop:"size",cssProperty:"height",transform:I}),s(T,E,D,M,P,R,(0,o.Ay)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:_},color:{themeKey:"palette",transform:S},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:S},backgroundColor:{themeKey:"palette",transform:S},p:{style:i.Ms},pt:{style:i.Ms},pr:{style:i.Ms},pb:{style:i.Ms},pl:{style:i.Ms},px:{style:i.Ms},py:{style:i.Ms},padding:{style:i.Ms},paddingTop:{style:i.Ms},paddingRight:{style:i.Ms},paddingBottom:{style:i.Ms},paddingLeft:{style:i.Ms},paddingX:{style:i.Ms},paddingY:{style:i.Ms},paddingInline:{style:i.Ms},paddingInlineStart:{style:i.Ms},paddingInlineEnd:{style:i.Ms},paddingBlock:{style:i.Ms},paddingBlockStart:{style:i.Ms},paddingBlockEnd:{style:i.Ms},m:{style:i.Lc},mt:{style:i.Lc},mr:{style:i.Lc},mb:{style:i.Lc},ml:{style:i.Lc},mx:{style:i.Lc},my:{style:i.Lc},margin:{style:i.Lc},marginTop:{style:i.Lc},marginRight:{style:i.Lc},marginBottom:{style:i.Lc},marginLeft:{style:i.Lc},marginX:{style:i.Lc},marginY:{style:i.Lc},marginInline:{style:i.Lc},marginInlineStart:{style:i.Lc},marginInlineEnd:{style:i.Lc},marginBlock:{style:i.Lc},marginBlockStart:{style:i.Lc},marginBlockEnd:{style:i.Lc},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:x},rowGap:{style:C},columnGap:{style:A},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:I},maxWidth:{style:E},minWidth:{transform:I},height:{transform:I},maxHeight:{transform:I},minHeight:{transform:I},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},7868:(e,t,n)=>{"use strict";function i(e){let t="https://mui.com/production-error/?code="+e;for(let n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{A:()=>i})},7918:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A});var i=n(7598)},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8052:(e,t,n)=>{"use strict";var i=n(4994);t.Ay=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=m,rootShouldForwardProp:i=g,slotShouldForwardProp:l=g}=e,d=e=>(0,c.default)((0,o.default)({},e,{theme:b((0,o.default)({},e,{defaultTheme:n,themeId:t}))}));return d.__mui_systemSx=!0,function(e){let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,s.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:u,slot:h,skipVariantsResolver:m,skipSx:v,overridesResolver:k=y(f(h))}=c,_=(0,r.default)(c,p),x=void 0!==m?m:h&&"Root"!==h&&"root"!==h||!1,A=v||!1;let C=g;"Root"===h||"root"===h?C=i:h?C=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(C=void 0);const S=(0,s.default)(e,(0,o.default)({shouldForwardProp:C,label:undefined},_)),I=e=>"function"===typeof e&&e.__emotion_real!==e||(0,a.isPlainObject)(e)?i=>w(e,(0,o.default)({},i,{theme:b({theme:i.theme,defaultTheme:n,themeId:t})})):e,T=function(i){let r=I(i);for(var s=arguments.length,a=new Array(s>1?s-1:0),l=1;l<s;l++)a[l-1]=arguments[l];const c=a?a.map(I):[];u&&k&&c.push((e=>{const i=b((0,o.default)({},e,{defaultTheme:n,themeId:t}));if(!i.components||!i.components[u]||!i.components[u].styleOverrides)return null;const r=i.components[u].styleOverrides,s={};return Object.entries(r).forEach((t=>{let[n,r]=t;s[n]=w(r,(0,o.default)({},e,{theme:i}))})),k(e,s)})),u&&!x&&c.push((e=>{var i;const r=b((0,o.default)({},e,{defaultTheme:n,themeId:t}));return w({variants:null==r||null==(i=r.components)||null==(i=i[u])?void 0:i.variants},(0,o.default)({},e,{theme:r}))})),A||c.push(d);const p=c.length-a.length;if(Array.isArray(i)&&p>0){const e=new Array(p).fill("");r=[...i,...e],r.raw=[...i.raw,...e]}const h=S(r,...c);return e.muiName&&(h.muiName=e.muiName),h};return S.withConfig&&(T.withConfig=S.withConfig),T}};var o=i(n(4634)),r=i(n(4893)),s=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=e[r]}return i.default=e,n&&n.set(e,i),i}(n(3174)),a=n(9482),l=(i(n(7918)),i(n(3382)),i(n(4989))),c=i(n(3234));const d=["ownerState"],u=["variants"],p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const m=(0,l.default)(),f=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function b(e){let{defaultTheme:t,theme:n,themeId:i}=e;return o=n,0===Object.keys(o).length?t:n[i]||n;var o}function y(e){return e?(t,n)=>n[e]:null}function w(e,t){let{ownerState:n}=t,i=(0,r.default)(t,d);const s="function"===typeof e?e((0,o.default)({ownerState:n},i)):e;if(Array.isArray(s))return s.flatMap((e=>w(e,(0,o.default)({ownerState:n},i))));if(s&&"object"===typeof s&&Array.isArray(s.variants)){const{variants:e=[]}=s;let t=(0,r.default)(s,u);return e.forEach((e=>{let r=!0;"function"===typeof e.props?r=e.props((0,o.default)({ownerState:n},i,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&i[t]!==e.props[t]&&(r=!1)})),r&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,o.default)({ownerState:n},i,n)):e.style))})),t}return s}},8168:(e,t,n)=>{"use strict";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(null,arguments)}n.d(t,{A:()=>i})},8280:(e,t,n)=>{"use strict";n.d(t,{A:()=>h});var i=n(8168),o=n(8587),r=n(9172),s=n(4853);const a={borderRadius:4};var l=n(8604);var c=n(8812),d=n(7758),u=n(9703);const p=["breakpoints","palette","spacing","shape"];const h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:h,shape:g={}}=e,m=(0,o.A)(e,p),f=(0,s.A)(t),b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;const t=(0,l.LX)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?`${n}px`:n})).join(" ")};return n.mui=!0,n}(h);let y=(0,r.A)({breakpoints:f,direction:"ltr",components:{},palette:(0,i.A)({mode:"light"},n),spacing:b,shape:(0,i.A)({},a,g)},m);y.applyStyles=u.A;for(var w=arguments.length,v=new Array(w>1?w-1:0),k=1;k<w;k++)v[k-1]=arguments[k];return y=v.reduce(((e,t)=>(0,r.A)(e,t)),y),y.unstable_sxConfig=(0,i.A)({},d.A,null==m?void 0:m.unstable_sxConfig),y.unstable_sx=function(e){return(0,c.A)({sx:e,theme:this})},y}},8587:(e,t,n)=>{"use strict";function i(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}n.d(t,{A:()=>i})},8604:(e,t,n)=>{"use strict";n.d(t,{LX:()=>g,MA:()=>h,_W:()=>m,Lc:()=>y,Ms:()=>w});var i=n(9751),o=n(7162),r=n(3815);const s={m:"margin",p:"padding"},a={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},l={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!l[e])return[e];e=l[e]}const[t,n]=e.split(""),i=s[t],o=a[n]||"";return Array.isArray(o)?o.map((e=>i+e)):[i+o]})),d=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],u=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],p=[...d,...u];function h(e,t,n,i){var r;const s=null!=(r=(0,o.Yn)(e,t,!1))?r:n;return"number"===typeof s?e=>"string"===typeof e?e:s*e:Array.isArray(s)?e=>"string"===typeof e?e:s[e]:"function"===typeof s?s:()=>{}}function g(e){return h(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;const n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:`-${n}`}function f(e,t,n,o){if(-1===t.indexOf(n))return null;const r=function(e,t){return n=>e.reduce(((e,i)=>(e[i]=m(t,n),e)),{})}(c(n),o),s=e[n];return(0,i.NI)(e,s,r)}function b(e,t){const n=g(e.theme);return Object.keys(e).map((i=>f(e,t,i,n))).reduce(r.A,{})}function y(e){return b(e,d)}function w(e){return b(e,u)}function v(e){return b(e,p)}y.propTypes={},y.filterProps=d,w.propTypes={},w.filterProps=u,v.propTypes={},v.filterProps=p},8698:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});var i=n(8168),o=n(8587),r=n(9172),s=n(7758);const a=["sx"],l=e=>{var t,n;const i={systemProps:{},otherProps:{}},o=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.A;return Object.keys(e).forEach((t=>{o[t]?i.systemProps[t]=e[t]:i.otherProps[t]=e[t]})),i};function c(e){const{sx:t}=e,n=(0,o.A)(e,a),{systemProps:s,otherProps:c}=l(n);let d;return d=Array.isArray(t)?[s,...t]:"function"===typeof t?function(){const e=t(...arguments);return(0,r.Q)(e)?(0,i.A)({},s,e):s}:(0,i.A)({},s,t),(0,i.A)({},c,{sx:d})}},8812:(e,t,n)=>{"use strict";n.d(t,{A:()=>d,k:()=>l});var i=n(7598),o=n(3815),r=n(7162),s=n(9751),a=n(7758);function l(){function e(e,t,n,o){const a={[e]:t,theme:n},l=o[e];if(!l)return{[e]:t};const{cssProperty:c=e,themeKey:d,transform:u,style:p}=l;if(null==t)return null;if("typography"===d&&"inherit"===t)return{[e]:t};const h=(0,r.Yn)(n,d)||{};if(p)return p(a);return(0,s.NI)(a,t,(t=>{let n=(0,r.BO)(h,u,t);return t===n&&"string"===typeof t&&(n=(0,r.BO)(h,u,`${e}${"default"===t?"":(0,i.A)(t)}`,t)),!1===c?n:{[c]:n}}))}return function t(n){var i;const{sx:r,theme:l={}}=n||{};if(!r)return null;const c=null!=(i=l.unstable_sxConfig)?i:a.A;function d(n){let i=n;if("function"===typeof n)i=n(l);else if("object"!==typeof n)return n;if(!i)return null;const r=(0,s.EU)(l.breakpoints),a=Object.keys(r);let d=r;return Object.keys(i).forEach((n=>{const r=(a=i[n],u=l,"function"===typeof a?a(u):a);var a,u;if(null!==r&&void 0!==r)if("object"===typeof r)if(c[n])d=(0,o.A)(d,e(n,r,l,c));else{const e=(0,s.NI)({theme:l},r,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),o=new Set(i);return t.every((e=>o.size===Object.keys(e).length))}(e,r)?d=(0,o.A)(d,e):d[n]=t({sx:r,theme:l})}else d=(0,o.A)(d,e(n,r,l,c))})),(0,s.vf)(a,d)}return Array.isArray(r)?r.map(d):d(r)}}const c=l();c.filterProps=["sx"];const d=c},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9172:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,Q:()=>r});var i=n(8168),o=n(5043);function r(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function s(e){if(o.isValidElement(e)||!r(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=s(e[n])})),t}function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const l=n.clone?(0,i.A)({},e):e;return r(e)&&r(t)&&Object.keys(t).forEach((i=>{o.isValidElement(t[i])?l[i]=t[i]:r(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&r(e[i])?l[i]=a(e[i],t[i],n):n.clone?l[i]=r(t[i])?s(t[i]):t[i]:l[i]=t[i]})),l}},9369:(e,t,n)=>{"use strict";n.d(t,{C:()=>c,E:()=>f,T:()=>u,c:()=>g,h:()=>p,w:()=>d});var i=n(5043),o=n(3803),r=n(1722),s=n(6598),a=n(9436),l=i.createContext("undefined"!==typeof HTMLElement?(0,o.A)({key:"css"}):null),c=l.Provider,d=function(e){return(0,i.forwardRef)((function(t,n){var o=(0,i.useContext)(l);return e(t,o,n)}))},u=i.createContext({});var p={}.hasOwnProperty,h="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",g=function(e,t){var n={};for(var i in t)p.call(t,i)&&(n[i]=t[i]);return n[h]=e,n},m=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return(0,r.SF)(t,n,i),(0,a.s)((function(){return(0,r.sk)(t,n,i)})),null},f=d((function(e,t,n){var o=e.css;"string"===typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var a=e[h],l=[o],c="";"string"===typeof e.className?c=(0,r.Rk)(t.registered,l,e.className):null!=e.className&&(c=e.className+" ");var d=(0,s.J)(l,void 0,i.useContext(u));c+=t.key+"-"+d.name;var g={};for(var f in e)p.call(e,f)&&"css"!==f&&f!==h&&(g[f]=e[f]);return g.className=c,n&&(g.ref=n),i.createElement(i.Fragment,null,i.createElement(m,{cache:t,serialized:d,isStringTag:"string"===typeof a}),i.createElement(a,g))}))},9436:(e,t,n)=>{"use strict";var i;n.d(t,{i:()=>a,s:()=>s});var o=n(5043),r=!!(i||(i=n.t(o,2))).useInsertionEffect&&(i||(i=n.t(o,2))).useInsertionEffect,s=r||function(e){return e()},a=r||o.useLayoutEffect},9482:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i.A,isPlainObject:()=>i.Q});var i=n(9172)},9703:(e,t,n)=>{"use strict";function i(e,t){const n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){const i=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return{[i]:t}}return n.palette.mode===e?t:{}}n.d(t,{A:()=>i})},9751:(e,t,n)=>{"use strict";n.d(t,{EU:()=>a,NI:()=>s,iZ:()=>c,kW:()=>d,vf:()=>l,zu:()=>o});var i=n(9172);const o={xs:0,sm:600,md:900,lg:1200,xl:1536},r={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${o[e]}px)`};function s(e,t,n){const i=e.theme||{};if(Array.isArray(t)){const e=i.breakpoints||r;return t.reduce(((i,o,r)=>(i[e.up(e.keys[r])]=n(t[r]),i)),{})}if("object"===typeof t){const e=i.breakpoints||r;return Object.keys(t).reduce(((i,r)=>{if(-1!==Object.keys(e.values||o).indexOf(r)){i[e.up(r)]=n(t[r],r)}else{const e=r;i[e]=t[e]}return i}),{})}return n(t)}function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t;return(null==(t=e.keys)?void 0:t.reduce(((t,n)=>(t[e.up(n)]={},t)),{}))||{}}function l(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function c(e){const t=a(e);for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];const s=[t,...o].reduce(((e,t)=>(0,i.A)(e,t)),{});return l(Object.keys(t),s)}function d(e){let{values:t,breakpoints:n,base:i}=e;const o=i||function(e,t){if("object"!==typeof e)return{};const n={},i=Object.keys(t);return Array.isArray(e)?i.forEach(((t,i)=>{i<e.length&&(n[t]=!0)})):i.forEach((t=>{null!=e[t]&&(n[t]=!0)})),n}(t,n),r=Object.keys(o);if(0===r.length)return t;let s;return r.reduce(((e,n,i)=>(Array.isArray(t)?(e[n]=null!=t[i]?t[i]:t[s],s=i):"object"===typeof t?(e[n]=null!=t[n]?t[n]:t[s],s=n):e[n]=t,e)),{})}}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={id:i,loaded:!1,exports:{}};return e[i](r,r.exports,n),r.loaded=!0,r.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(i,o){if(1&o&&(i=this(i)),8&o)return i;if("object"===typeof i&&i){if(4&o&&i.__esModule)return i;if(16&o&&"function"===typeof i.then)return i}var r=Object.create(null);n.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&i;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>i[e]));return s.default=()=>i,n.d(r,s),r}})(),n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,i)=>(n.f[i](e,t),t)),[])),n.u=e=>"static/js/"+e+".01958039.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="verilog-learning-platform-client:";n.l=(i,o,r,s)=>{if(e[i])e[i].push(o);else{var a,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+r){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+r),a.src=i),e[i]=[o];var p=(t,n)=>{a.onerror=a.onload=null,clearTimeout(h);var o=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(n))),t)return t(n)},h=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,i)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)i.push(o[2]);else{var r=new Promise(((n,i)=>o=e[t]=[n,i]));i.push(o[2]=r);var s=n.p+n.u(t),a=new Error;n.l(s,(i=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",a.name="ChunkLoadError",a.type=r,a.request=s,o[1](a)}}),"chunk-"+t,t)}};var t=(t,i)=>{var o,r,s=i[0],a=i[1],l=i[2],c=0;if(s.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)l(n)}for(t&&t(i);c<s.length;c++)r=s[c],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0},i=self.webpackChunkverilog_learning_platform_client=self.webpackChunkverilog_learning_platform_client||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>fb,hasStandardBrowserEnv:()=>yb,hasStandardBrowserWebWorkerEnv:()=>wb,navigator:()=>bb,origin:()=>vb});var t,i=n(5043),o=n.t(i,2),r=n(4391);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const a="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,i){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?h(t):t,{state:n,key:t&&t.key||i||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),i&&"#"!==i&&(t+="#"===i.charAt(0)?i:"#"+i),t}function h(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function g(e,n,i,o){void 0===o&&(o={});let{window:r=document.defaultView,v5Compat:c=!1}=o,h=r.history,g=t.Pop,m=null,f=b();function b(){return(h.state||{idx:null}).idx}function y(){g=t.Pop;let e=b(),n=null==e?null:e-f;f=e,m&&m({action:g,location:v.location,delta:n})}function w(e){let t="null"!==r.location.origin?r.location.origin:r.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==f&&(f=0,h.replaceState(s({},h.state,{idx:f}),""));let v={get action(){return g},get location(){return e(r,h)},listen(e){if(m)throw new Error("A history only accepts one active listener");return r.addEventListener(a,y),m=e,()=>{r.removeEventListener(a,y),m=null}},createHref:e=>n(r,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){g=t.Push;let o=u(v.location,e,n);i&&i(o,e),f=b()+1;let s=d(o,f),a=v.createHref(o);try{h.pushState(s,"",a)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;r.location.assign(a)}c&&m&&m({action:g,location:v.location,delta:1})},replace:function(e,n){g=t.Replace;let o=u(v.location,e,n);i&&i(o,e),f=b();let r=d(o,f),s=v.createHref(o);h.replaceState(r,"",s),c&&m&&m({action:g,location:v.location,delta:0})},go:e=>h.go(e)};return v}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function f(e,t,n){return void 0===n&&(n="/"),b(e,t,n,!1)}function b(e,t,n,i){let o=M(("string"===typeof t?h(t):t).pathname||"/",n);if(null==o)return null;let r=y(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(r);let s=null;for(let a=0;null==s&&a<r.length;++a){let e=D(o);s=T(r[a],e,i)}return s}function y(e,t,n,i){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===i&&(i="");let o=(e,o,r)=>{let s={relativePath:void 0===r?e.path||"":r,caseSensitive:!0===e.caseSensitive,childrenIndex:o,route:e};s.relativePath.startsWith("/")&&(l(s.relativePath.startsWith(i),'Absolute route path "'+s.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),s.relativePath=s.relativePath.slice(i.length));let a=L([i,s.relativePath]),c=n.concat(s);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),y(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:I(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let i of w(e.path))o(e,t,i);else o(e,t)})),t}function w(e){let t=e.split("/");if(0===t.length)return[];let[n,...i]=t,o=n.endsWith("?"),r=n.replace(/\?$/,"");if(0===i.length)return o?[r,""]:[r];let s=w(i.join("/")),a=[];return a.push(...s.map((e=>""===e?r:[r,e].join("/")))),o&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const v=/^:[\w-]+$/,k=3,_=2,x=1,A=10,C=-2,S=e=>"*"===e;function I(e,t){let n=e.split("/"),i=n.length;return n.some(S)&&(i+=C),t&&(i+=_),n.filter((e=>!S(e))).reduce(((e,t)=>e+(v.test(t)?k:""===t?x:A)),i)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:i}=e,o={},r="/",s=[];for(let a=0;a<i.length;++a){let e=i[a],l=a===i.length-1,c="/"===r?t:t.slice(r.length)||"/",d=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!i[i.length-1].route.index&&(d=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(o,d.params),s.push({params:o,pathname:L([r,d.pathname]),pathnameBase:z(L([r,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(r=L([r,d.pathnameBase]))}return s}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(i.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(i.push({paramName:"*"}),o+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":""!==e&&"/"!==e&&(o+="(?:(?=\\/|$))");let r=new RegExp(o,t?void 0:"i");return[r,i]}(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let r=o[0],s=r.replace(/(.)\/+$/,"$1"),a=o.slice(1),l=i.reduce(((e,t,n)=>{let{paramName:i,isOptional:o}=t;if("*"===i){let e=a[n]||"";s=r.slice(0,r.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[i]=o&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:r,pathnameBase:s,pattern:e}}function D(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&"/"!==i?null:e.slice(n)||"/"}function P(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function B(e,t){let n=R(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function j(e,t,n,i){let o;void 0===i&&(i=!1),"string"===typeof e?o=h(e):(o=s({},e),l(!o.pathname||!o.pathname.includes("?"),P("?","pathname","search",o)),l(!o.pathname||!o.pathname.includes("#"),P("#","pathname","hash",o)),l(!o.search||!o.search.includes("#"),P("#","search","hash",o)));let r,a=""===e||""===o.pathname,c=a?"/":o.pathname;if(null==c)r=n;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;o.pathname=t.join("/")}r=e>=0?t[e]:"/"}let d=function(e,t){void 0===t&&(t="/");let{pathname:n,search:i="",hash:o=""}="string"===typeof e?h(e):e,r=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:r,search:O(i),hash:N(o)}}(o,r),u=c&&"/"!==c&&c.endsWith("/"),p=(a||"."===c)&&n.endsWith("/");return d.pathname.endsWith("/")||!u&&!p||(d.pathname+="/"),d}const L=e=>e.join("/").replace(/\/\/+/g,"/"),z=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",N=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const V=["post","put","patch","delete"],H=(new Set(V),["get",...V]);new Set(H),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},W.apply(this,arguments)}const U=i.createContext(null);const q=i.createContext(null);const $=i.createContext(null);const G=i.createContext(null);const K=i.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=i.createContext(null);function Q(){return null!=i.useContext(G)}function Z(){return Q()||l(!1),i.useContext(G).location}function X(e){i.useContext($).static||i.useLayoutEffect(e)}function J(){let{isDataRoute:e}=i.useContext(K);return e?function(){let{router:e}=de(le.UseNavigateStable),t=pe(ce.UseNavigateStable),n=i.useRef(!1);return X((()=>{n.current=!0})),i.useCallback((function(i,o){void 0===o&&(o={}),n.current&&("number"===typeof i?e.navigate(i):e.navigate(i,W({fromRouteId:t},o)))}),[e,t])}():function(){Q()||l(!1);let e=i.useContext(U),{basename:t,future:n,navigator:o}=i.useContext($),{matches:r}=i.useContext(K),{pathname:s}=Z(),a=JSON.stringify(B(r,n.v7_relativeSplatPath)),c=i.useRef(!1);return X((()=>{c.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!c.current)return;if("number"===typeof n)return void o.go(n);let r=j(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(r.pathname="/"===r.pathname?t:L([t,r.pathname])),(i.replace?o.replace:o.push)(r,i.state,i)}),[t,o,a,s,e])}()}function ee(){let{matches:e}=i.useContext(K),t=e[e.length-1];return t?t.params:{}}function te(e,t){let{relative:n}=void 0===t?{}:t,{future:o}=i.useContext($),{matches:r}=i.useContext(K),{pathname:s}=Z(),a=JSON.stringify(B(r,o.v7_relativeSplatPath));return i.useMemo((()=>j(e,JSON.parse(a),s,"path"===n)),[e,a,s,n])}function ne(e,n,o,r){Q()||l(!1);let{navigator:s,static:a}=i.useContext($),{matches:c}=i.useContext(K),d=c[c.length-1],u=d?d.params:{},p=(d&&d.pathname,d?d.pathnameBase:"/");d&&d.route;let g,m=Z();if(n){var b;let e="string"===typeof n?h(n):n;"/"===p||(null==(b=e.pathname)?void 0:b.startsWith(p))||l(!1),g=e}else g=m;let y=g.pathname||"/",w=y;if("/"!==p){let e=p.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let v=!a&&o&&o.matches&&o.matches.length>0?o.matches:f(e,{pathname:w});let k=ae(v&&v.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([p,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?p:L([p,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,o,r);return n&&k?i.createElement(G.Provider,{value:{location:W({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:t.Pop}},k):k}function ie(){let e=function(){var e;let t=i.useContext(Y),n=ue(ce.UseRouteError),o=pe(ce.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[o]}(),t=F(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:o};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:r},n):null,null)}const oe=i.createElement(ie,null);class re extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(K.Provider,{value:this.props.routeContext},i.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:n,children:o}=e,r=i.useContext(U);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(K.Provider,{value:t},o)}function ae(e,t,n,o){var r;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===o&&(o=null),null==e){var s;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(s=o)&&s.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let a=e,c=null==(r=n)?void 0:r.errors;if(null!=c){let e=a.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||l(!1),a=a.slice(0,Math.min(a.length,e+1))}let d=!1,u=-1;if(n&&o&&o.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=i),e.route.id){let{loaderData:t,errors:i}=n,o=e.route.loader&&void 0===t[e.route.id]&&(!i||void 0===i[e.route.id]);if(e.route.lazy||o){d=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight(((e,o,r)=>{let s,l=!1,p=null,h=null;var g;n&&(s=c&&o.route.id?c[o.route.id]:void 0,p=o.route.errorElement||oe,d&&(u<0&&0===r?(g="route-fallback",!1||he[g]||(he[g]=!0),l=!0,h=null):u===r&&(l=!0,h=o.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,r+1)),f=()=>{let t;return t=s?p:l?h:o.route.Component?i.createElement(o.route.Component,null):o.route.element?o.route.element:e,i.createElement(se,{match:o,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(o.route.ErrorBoundary||o.route.errorElement||0===r)?i.createElement(re,{location:n.location,revalidation:n.revalidation,component:p,error:s,children:f(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):f()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ce=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ce||{});function de(e){let t=i.useContext(U);return t||l(!1),t}function ue(e){let t=i.useContext(q);return t||l(!1),t}function pe(e){let t=function(){let e=i.useContext(K);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const he={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}o.startTransition;function me(e){l(!1)}function fe(e){let{basename:n="/",children:o=null,location:r,navigationType:s=t.Pop,navigator:a,static:c=!1,future:d}=e;Q()&&l(!1);let u=n.replace(/^\/*/,"/"),p=i.useMemo((()=>({basename:u,navigator:a,static:c,future:W({v7_relativeSplatPath:!1},d)})),[u,d,a,c]);"string"===typeof r&&(r=h(r));let{pathname:g="/",search:m="",hash:f="",state:b=null,key:y="default"}=r,w=i.useMemo((()=>{let e=M(g,u);return null==e?null:{location:{pathname:e,search:m,hash:f,state:b,key:y},navigationType:s}}),[u,g,m,f,b,y,s]);return null==w?null:i.createElement($.Provider,{value:p},i.createElement(G.Provider,{children:o,value:w}))}function be(e){let{children:t,location:n}=e;return ne(ye(t),n)}new Promise((()=>{}));i.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,o)=>{if(!i.isValidElement(e))return;let r=[...t,o];if(e.type===i.Fragment)return void n.push.apply(n,ye(e.props.children,r));e.type!==me&&l(!1),e.props.index&&e.props.children&&l(!1);let s={id:e.props.id||r.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ye(e.props.children,r)),n.push(s)})),n}var we=n(8168);function ve(e,t){const n=(0,we.A)({},t);return Object.keys(e).forEach((i=>{if(i.toString().match(/^(components|slots)$/))n[i]=(0,we.A)({},e[i],n[i]);else if(i.toString().match(/^(componentsProps|slotProps)$/)){const o=e[i]||{},r=t[i];n[i]={},r&&Object.keys(r)?o&&Object.keys(o)?(n[i]=(0,we.A)({},r),Object.keys(o).forEach((e=>{n[i][e]=ve(o[e],r[e])}))):n[i]=r:n[i]=o}else void 0===n[i]&&(n[i]=e[i])})),n}var ke=n(579);const _e=i.createContext(void 0);function xe(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:i}=e;if(!t||!t.components||!t.components[n])return i;const o=t.components[n];return o.defaultProps?ve(o.defaultProps,i):o.styleOverrides||o.variants?i:ve(o,i)}({props:t,name:n,theme:{components:i.useContext(_e)}})}const Ae=function(e){let{value:t,children:n}=e;return(0,ke.jsx)(_e.Provider,{value:t,children:n})};function Ce(e){return xe(e)}var Se=n(869),Ie=n(8280),Te=n(9369);const Ee=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(Te.T);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},De=(0,Ie.A)();const Me=function(){return Ee(arguments.length>0&&void 0!==arguments[0]?arguments[0]:De)};const Pe=function(e){let{styles:t,themeId:n,defaultTheme:i={}}=e;const o=Me(i),r="function"===typeof t?t(n&&o[n]||o):t;return(0,ke.jsx)(Se.A,{styles:r})};var Re=n(8587),Be=n(7868),je=n(9172),Le=n(7758),ze=n(8812);function Oe(e,t){return(0,we.A)({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Ne=n(7266);const Fe={black:"#000",white:"#fff"},Ve={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},He={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},We={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Ue={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},qe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},$e={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Ge={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ke=["mode","contrastThreshold","tonalOffset"],Ye={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Fe.white,default:Fe.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Qe={text:{primary:Fe.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Fe.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Ze(e,t,n,i){const o=i.light||i,r=i.dark||1.5*i;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,Ne.a)(e.main,o):"dark"===t&&(e.dark=(0,Ne.e$)(e.main,r)))}function Xe(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:i=.2}=e,o=(0,Re.A)(e,Ke),r=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:qe[200],light:qe[50],dark:qe[400]}:{main:qe[700],light:qe[400],dark:qe[800]}}(t),s=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:He[200],light:He[50],dark:He[400]}:{main:He[500],light:He[300],dark:He[700]}}(t),a=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:We[500],light:We[300],dark:We[700]}:{main:We[700],light:We[400],dark:We[800]}}(t),l=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:$e[400],light:$e[300],dark:$e[700]}:{main:$e[700],light:$e[500],dark:$e[900]}}(t),c=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ge[400],light:Ge[300],dark:Ge[700]}:{main:Ge[800],light:Ge[500],dark:Ge[900]}}(t),d=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Ue[400],light:Ue[300],dark:Ue[700]}:{main:"#ed6c02",light:Ue[500],dark:Ue[900]}}(t);function u(e){return(0,Ne.eM)(e,Qe.text.primary)>=n?Qe.text.primary:Ye.text.primary}const p=e=>{let{color:t,name:n,mainShade:o=500,lightShade:r=300,darkShade:s=700}=e;if(t=(0,we.A)({},t),!t.main&&t[o]&&(t.main=t[o]),!t.hasOwnProperty("main"))throw new Error((0,Be.A)(11,n?` (${n})`:"",o));if("string"!==typeof t.main)throw new Error((0,Be.A)(12,n?` (${n})`:"",JSON.stringify(t.main)));return Ze(t,"light",r,i),Ze(t,"dark",s,i),t.contrastText||(t.contrastText=u(t.main)),t},h={dark:Qe,light:Ye};return(0,je.A)((0,we.A)({common:(0,we.A)({},Fe),mode:t,primary:p({color:r,name:"primary"}),secondary:p({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:Ve,contrastThreshold:n,getContrastText:u,augmentColor:p,tonalOffset:i},h[t]),o)}const Je=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const et={textTransform:"uppercase"},tt='"Roboto", "Helvetica", "Arial", sans-serif';function nt(e,t){const n="function"===typeof t?t(e):t,{fontFamily:i=tt,fontSize:o=14,fontWeightLight:r=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:u}=n,p=(0,Re.A)(n,Je);const h=o/14,g=u||(e=>e/c*h+"rem"),m=(e,t,n,o,r)=>{return(0,we.A)({fontFamily:i,fontWeight:e,fontSize:g(t),lineHeight:n},i===tt?{letterSpacing:(s=o/t,Math.round(1e5*s)/1e5)+"em"}:{},r,d);var s},f={h1:m(r,96,1.167,-1.5),h2:m(r,60,1.2,-.5),h3:m(s,48,1.167,0),h4:m(s,34,1.235,.25),h5:m(s,24,1.334,0),h6:m(a,20,1.6,.15),subtitle1:m(s,16,1.75,.15),subtitle2:m(a,14,1.57,.1),body1:m(s,16,1.5,.15),body2:m(s,14,1.43,.15),button:m(a,14,1.75,.4,et),caption:m(s,12,1.66,.4),overline:m(s,12,2.66,1,et),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,je.A)((0,we.A)({htmlFontSize:c,pxToRem:g,fontFamily:i,fontSize:o,fontWeightLight:r,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},f),p,{clone:!1})}function it(){return[`${arguments.length<=0?void 0:arguments[0]}px ${arguments.length<=1?void 0:arguments[1]}px ${arguments.length<=2?void 0:arguments[2]}px ${arguments.length<=3?void 0:arguments[3]}px rgba(0,0,0,0.2)`,`${arguments.length<=4?void 0:arguments[4]}px ${arguments.length<=5?void 0:arguments[5]}px ${arguments.length<=6?void 0:arguments[6]}px ${arguments.length<=7?void 0:arguments[7]}px rgba(0,0,0,0.14)`,`${arguments.length<=8?void 0:arguments[8]}px ${arguments.length<=9?void 0:arguments[9]}px ${arguments.length<=10?void 0:arguments[10]}px ${arguments.length<=11?void 0:arguments[11]}px rgba(0,0,0,0.12)`].join(",")}const ot=["none",it(0,2,1,-1,0,1,1,0,0,1,3,0),it(0,3,1,-2,0,2,2,0,0,1,5,0),it(0,3,3,-2,0,3,4,0,0,1,8,0),it(0,2,4,-1,0,4,5,0,0,1,10,0),it(0,3,5,-1,0,5,8,0,0,1,14,0),it(0,3,5,-1,0,6,10,0,0,1,18,0),it(0,4,5,-2,0,7,10,1,0,2,16,1),it(0,5,5,-3,0,8,10,1,0,3,14,2),it(0,5,6,-3,0,9,12,1,0,3,16,2),it(0,6,6,-3,0,10,14,1,0,4,18,3),it(0,6,7,-4,0,11,15,1,0,4,20,3),it(0,7,8,-4,0,12,17,2,0,5,22,4),it(0,7,8,-4,0,13,19,2,0,5,24,4),it(0,7,9,-4,0,14,21,2,0,5,26,4),it(0,8,9,-5,0,15,22,2,0,6,28,5),it(0,8,10,-5,0,16,24,2,0,6,30,5),it(0,8,11,-5,0,17,26,2,0,6,32,5),it(0,9,11,-5,0,18,28,2,0,7,34,6),it(0,9,12,-6,0,19,29,2,0,7,36,6),it(0,10,13,-6,0,20,31,3,0,8,38,7),it(0,10,13,-6,0,21,33,3,0,8,40,7),it(0,10,14,-6,0,22,35,3,0,8,42,7),it(0,11,14,-7,0,23,36,3,0,9,44,8),it(0,11,15,-7,0,24,38,3,0,9,46,8)],rt=["duration","easing","delay"],st={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},at={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function lt(e){return`${Math.round(e)}ms`}function ct(e){if(!e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}function dt(e){const t=(0,we.A)({},st,e.easing),n=(0,we.A)({},at,e.duration);return(0,we.A)({getAutoHeightDuration:ct,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:o=n.standard,easing:r=t.easeInOut,delay:s=0}=i;(0,Re.A)(i,rt);return(Array.isArray(e)?e:[e]).map((e=>`${e} ${"string"===typeof o?o:lt(o)} ${r} ${"string"===typeof s?s:lt(s)}`)).join(",")}},e,{easing:t,duration:n})}const ut={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},pt=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function ht(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{mixins:t={},palette:n={},transitions:i={},typography:o={}}=e,r=(0,Re.A)(e,pt);if(e.vars&&void 0===e.generateCssVars)throw new Error((0,Be.A)(18));const s=Xe(n),a=(0,Ie.A)(e);let l=(0,je.A)(a,{mixins:Oe(a.breakpoints,t),palette:s,shadows:ot.slice(),typography:nt(s,o),transitions:dt(i),zIndex:(0,we.A)({},ut)});l=(0,je.A)(l,r);for(var c=arguments.length,d=new Array(c>1?c-1:0),u=1;u<c;u++)d[u-1]=arguments[u];return l=d.reduce(((e,t)=>(0,je.A)(e,t)),l),l.unstable_sxConfig=(0,we.A)({},Le.A,null==r?void 0:r.unstable_sxConfig),l.unstable_sx=function(e){return(0,ze.A)({sx:e,theme:this})},l}const gt=ht,mt=gt(),ft="$$material";const bt=function(e){return(0,ke.jsx)(Pe,(0,we.A)({},e,{defaultTheme:mt,themeId:ft}))},yt=(e,t)=>(0,we.A)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),wt=e=>(0,we.A)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}});const vt=function(e){const t=Ce({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:o=!1}=t;return(0,ke.jsxs)(i.Fragment,{children:[(0,ke.jsx)(bt,{styles:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n;const i={};t&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[n,o]=t;var r;i[e.getColorSchemeSelector(n).replace(/\s*&/,"")]={colorScheme:null==(r=o.palette)?void 0:r.mode}}));let o=(0,we.A)({html:yt(e,t),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,we.A)({margin:0},wt(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},i);const r=null==(n=e.components)||null==(n=n.MuiCssBaseline)?void 0:n.styleOverrides;return r&&(o=[o,r]),o}(e,o)}),n]})};function kt(e){var t,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=kt(e[t]))&&(i&&(i+=" "),i+=n)}else for(n in e)e[n]&&(i&&(i+=" "),i+=n);return i}const _t=function(){for(var e,t,n=0,i="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=kt(e))&&(i&&(i+=" "),i+=t);return i};var xt=n(3174),At=n(8698);const Ct=["className","component"];const St=e=>e,It=(()=>{let e=St;return{configure(t){e=t},generate:t=>e(t),reset(){e=St}}})(),Tt={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Et(e,t){const n=Tt[t];return n?`${arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui"}-${n}`:`${It.generate(e)}-${t}`}function Dt(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const i={};return t.forEach((t=>{i[t]=Et(e,t,n)})),i}const Mt=Dt("MuiBox",["root"]),Pt=gt(),Rt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:o="MuiBox-root",generateClassName:r}=e,s=(0,xt.default)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(ze.A),a=i.forwardRef((function(e,i){const a=Me(n),l=(0,At.A)(e),{className:c,component:d="div"}=l,u=(0,Re.A)(l,Ct);return(0,ke.jsx)(s,(0,we.A)({as:d,ref:i,className:_t(c,r?r(o):o),theme:t&&a[t]||a},u))}));return a}({themeId:ft,defaultTheme:Pt,defaultClassName:Mt.root,generateClassName:It.generate}),Bt=Rt;const jt=i.createContext(null);function Lt(){return i.useContext(jt)}const zt="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";const Ot=function(e){const{children:t,theme:n}=e,o=Lt(),r=i.useMemo((()=>{const e=null===o?n:function(e,t){if("function"===typeof t)return t(e);return(0,we.A)({},e,t)}(o,n);return null!=e&&(e[zt]=null!==o),e}),[n,o]);return(0,ke.jsx)(jt.Provider,{value:r,children:t})},Nt=["value"],Ft=i.createContext();const Vt=()=>{const e=i.useContext(Ft);return null!=e&&e},Ht=function(e){let{value:t}=e,n=(0,Re.A)(e,Nt);return(0,ke.jsx)(Ft.Provider,(0,we.A)({value:null==t||t},n))},Wt={};function Ut(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return i.useMemo((()=>{const i=e&&t[e]||t;if("function"===typeof n){const r=n(i),s=e?(0,we.A)({},t,{[e]:r}):r;return o?()=>s:s}return e?(0,we.A)({},t,{[e]:n}):(0,we.A)({},t,n)}),[e,t,n,o])}const qt=function(e){const{children:t,theme:n,themeId:i}=e,o=Ee(Wt),r=Lt()||Wt,s=Ut(i,o,n),a=Ut(i,r,n,!0),l="rtl"===s.direction;return(0,ke.jsx)(Ot,{theme:a,children:(0,ke.jsx)(Te.T.Provider,{value:s,children:(0,ke.jsx)(Ht,{value:l,children:(0,ke.jsx)(Ae,{value:null==s?void 0:s.components,children:t})})})})},$t=["theme"];function Gt(e){let{theme:t}=e,n=(0,Re.A)(e,$t);const i=t[ft];let o=i||t;return"function"!==typeof t&&(i&&!i.vars?o=(0,we.A)({},i,{vars:null}):t&&!t.vars&&(o=(0,we.A)({},t,{vars:null}))),(0,ke.jsx)(qt,(0,we.A)({},n,{themeId:i?ft:void 0,theme:o}))}var Kt=n(7950),Yt=n.t(Kt,2);function Qt(){return Qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Qt.apply(this,arguments)}function Zt(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}function Xt(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,n)=>{let i=e[n];return t.concat(Array.isArray(i)?i.map((e=>[n,e])):[[n,i]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Jt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(FA){}new Map;const en=o.startTransition;Yt.flushSync,o.useId;function tn(e){let{basename:t,children:n,future:o,window:r}=e,s=i.useRef();var a;null==s.current&&(s.current=(void 0===(a={window:r,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n,search:i,hash:o}=e.location;return u("",{pathname:n,search:i,hash:o},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,a)));let l=s.current,[c,d]=i.useState({action:l.action,location:l.location}),{v7_startTransition:h}=o||{},m=i.useCallback((e=>{h&&en?en((()=>d(e))):d(e)}),[d,h]);return i.useLayoutEffect((()=>l.listen(m)),[l,m]),i.useEffect((()=>ge(o)),[o]),i.createElement(fe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:o})}const nn="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,on=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rn=i.forwardRef((function(e,t){let n,{onClick:o,relative:r,reloadDocument:s,replace:a,state:c,target:d,to:u,preventScrollReset:h,viewTransition:g}=e,m=Zt(e,Jt),{basename:f}=i.useContext($),b=!1;if("string"===typeof u&&on.test(u)&&(n=u,nn))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=M(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:b=!0}catch(FA){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Q()||l(!1);let{basename:o,navigator:r}=i.useContext($),{hash:s,pathname:a,search:c}=te(e,{relative:n}),d=a;return"/"!==o&&(d="/"===a?o:L([o,a])),r.createHref({pathname:d,search:c,hash:s})}(u,{relative:r}),w=function(e,t){let{target:n,replace:o,state:r,preventScrollReset:s,relative:a,viewTransition:l}=void 0===t?{}:t,c=J(),d=Z(),u=te(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==o?o:p(d)===p(u);c(e,{replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l})}}),[d,c,u,o,r,n,e,s,a,l])}(u,{replace:a,state:c,target:d,preventScrollReset:h,relative:r,viewTransition:g});return i.createElement("a",Qt({},m,{href:n||y,onClick:b||s?o:function(e){o&&o(e),e.defaultPrevented||w(e)},ref:t,target:d}))}));var sn,an;function ln(e){let t=i.useRef(Xt(e)),n=i.useRef(!1),o=Z(),r=i.useMemo((()=>function(e,t){let n=Xt(e);return t&&t.forEach(((e,i)=>{n.has(i)||t.getAll(i).forEach((e=>{n.append(i,e)}))})),n}(o.search,n.current?null:t.current)),[o.search]),s=J(),a=i.useCallback(((e,t)=>{const i=Xt("function"===typeof e?e(r):e);n.current=!0,s("?"+i,t)}),[s,r]);return[r,a]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(sn||(sn={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(an||(an={}));function cn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const i={};return Object.keys(e).forEach((o=>{i[o]=e[o].reduce(((e,i)=>{if(i){const o=t(i);""!==o&&e.push(o),n&&n[i]&&e.push(n[i])}return e}),[]).join(" ")})),i}var dn=n(8052);const un=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},pn=e=>un(e)&&"classes"!==e,hn=(0,dn.Ay)({themeId:ft,defaultTheme:mt,rootShouldForwardProp:pn});var gn=n(7598);const mn=gn.A;function fn(e){return Et("MuiTypography",e)}Dt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const bn=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],yn=hn("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t[`align${mn(n.align)}`],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),wn={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},vn={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},kn=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiTypography"}),i=(e=>vn[e]||e)(n.color),o=(0,At.A)((0,we.A)({},n,{color:i})),{align:r="inherit",className:s,component:a,gutterBottom:l=!1,noWrap:c=!1,paragraph:d=!1,variant:u="body1",variantMapping:p=wn}=o,h=(0,Re.A)(o,bn),g=(0,we.A)({},o,{align:r,color:i,className:s,component:a,gutterBottom:l,noWrap:c,paragraph:d,variant:u,variantMapping:p}),m=a||(d?"p":p[u]||wn[u])||"span",f=(e=>{const{align:t,gutterBottom:n,noWrap:i,paragraph:o,variant:r,classes:s}=e;return cn({root:["root",r,"inherit"!==e.align&&`align${mn(t)}`,n&&"gutterBottom",i&&"noWrap",o&&"paragraph"]},fn,s)})(g);return(0,ke.jsx)(yn,(0,we.A)({as:m,ref:t,ownerState:g,className:_t(f.root,s)},h))}));function _n(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function xn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{_n(t,e)}))}),t)}const An=xn,Cn="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;const Sn=function(e){const t=i.useRef(e);return Cn((()=>{t.current=e})),i.useRef((function(){return(0,t.current)(...arguments)})).current},In=Sn,Tn={};const En=[];class Dn{constructor(){this.currentId=null,this.clear=()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Dn}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function Mn(){const e=function(e,t){const n=i.useRef(Tn);return n.current===Tn&&(n.current=e(t)),n}(Dn.create).current;var t;return t=e.disposeEffect,i.useEffect(t,En),e}let Pn=!0,Rn=!1;const Bn=new Dn,jn={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Ln(e){e.metaKey||e.altKey||e.ctrlKey||(Pn=!0)}function zn(){Pn=!1}function On(){"hidden"===this.visibilityState&&Rn&&(Pn=!0)}function Nn(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch(n){}return Pn||function(e){const{type:t,tagName:n}=e;return!("INPUT"!==n||!jn[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}const Fn=function(){const e=i.useCallback((e=>{var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",Ln,!0),t.addEventListener("mousedown",zn,!0),t.addEventListener("pointerdown",zn,!0),t.addEventListener("touchstart",zn,!0),t.addEventListener("visibilitychange",On,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!Nn(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(Rn=!0,Bn.start(100,(()=>{Rn=!1})),t.current=!1,!0)},ref:e}};function Vn(e,t){return Vn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Vn(e,t)}function Hn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Vn(e,t)}const Wn=i.createContext(null);function Un(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function qn(e,t,n){return null!=n[t]?n[t]:e.props[t]}function $n(e,t,n){var o=Un(e.children),r=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,o=Object.create(null),r=[];for(var s in e)s in t?r.length&&(o[s]=r,r=[]):r.push(s);var a={};for(var l in t){if(o[l])for(i=0;i<o[l].length;i++){var c=o[l][i];a[o[l][i]]=n(c)}a[l]=n(l)}for(i=0;i<r.length;i++)a[r[i]]=n(r[i]);return a}(t,o);return Object.keys(r).forEach((function(s){var a=r[s];if((0,i.isValidElement)(a)){var l=s in t,c=s in o,d=t[s],u=(0,i.isValidElement)(d)&&!d.props.in;!c||l&&!u?c||!l||u?c&&l&&(0,i.isValidElement)(d)&&(r[s]=(0,i.cloneElement)(a,{onExited:n.bind(null,a),in:d.props.in,exit:qn(a,"exit",e),enter:qn(a,"enter",e)})):r[s]=(0,i.cloneElement)(a,{in:!1}):r[s]=(0,i.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:qn(a,"exit",e),enter:qn(a,"enter",e)})}})),r}var Gn=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},Kn=function(e){function t(t,n){var i,o=(i=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i));return i.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},i}Hn(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,o,r=t.children,s=t.handleExited;return{children:t.firstRender?(n=e,o=s,Un(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:o.bind(null,e),in:!0,appear:qn(e,"appear",n),enter:qn(e,"enter",n),exit:qn(e,"exit",n)})}))):$n(e,r,s),firstRender:!1}},n.handleExited=function(e,t){var n=Un(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,we.A)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,o=(0,Re.A)(e,["component","childFactory"]),r=this.state.contextValue,s=Gn(this.state.children).map(n);return delete o.appear,delete o.enter,delete o.exit,null===t?i.createElement(Wn.Provider,{value:r},s):i.createElement(Wn.Provider,{value:r},i.createElement(t,o,s))},t}(i.Component);Kn.propTypes={},Kn.defaultProps={component:"div",childFactory:function(e){return e}};const Yn=Kn;var Qn=n(3290);const Zn=function(e){const{className:t,classes:n,pulsate:o=!1,rippleX:r,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:d}=e,[u,p]=i.useState(!1),h=_t(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),g={width:a,height:a,top:-a/2+s,left:-a/2+r},m=_t(n.child,u&&n.childLeaving,o&&n.childPulsate);return l||u||p(!0),i.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,d);return()=>{clearTimeout(e)}}}),[c,l,d]),(0,ke.jsx)("span",{className:h,style:g,children:(0,ke.jsx)("span",{className:m})})};const Xn=Dt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Jn=["center","classes","className"];let ei,ti,ni,ii,oi=e=>e;const ri=(0,Qn.i7)(ei||(ei=oi`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),si=(0,Qn.i7)(ti||(ti=oi`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),ai=(0,Qn.i7)(ni||(ni=oi`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),li=hn("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),ci=hn(Zn,{name:"MuiTouchRipple",slot:"Ripple"})(ii||(ii=oi`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Xn.rippleVisible,ri,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Xn.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),Xn.child,Xn.childLeaving,si,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),Xn.childPulsate,ai,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),di=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiTouchRipple"}),{center:o=!1,classes:r={},className:s}=n,a=(0,Re.A)(n,Jn),[l,c]=i.useState([]),d=i.useRef(0),u=i.useRef(null);i.useEffect((()=>{u.current&&(u.current(),u.current=null)}),[l]);const p=i.useRef(!1),h=Mn(),g=i.useRef(null),m=i.useRef(null),f=i.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:i,rippleSize:o,cb:s}=e;c((e=>[...e,(0,ke.jsx)(ci,{classes:{ripple:_t(r.ripple,Xn.ripple),rippleVisible:_t(r.rippleVisible,Xn.rippleVisible),ripplePulsate:_t(r.ripplePulsate,Xn.ripplePulsate),child:_t(r.child,Xn.child),childLeaving:_t(r.childLeaving,Xn.childLeaving),childPulsate:_t(r.childPulsate,Xn.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:i,rippleSize:o},d.current)])),d.current+=1,u.current=s}),[r]),b=i.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:i=!1,center:r=o||t.pulsate,fakeElement:s=!1}=t;if("mousedown"===(null==e?void 0:e.type)&&p.current)return void(p.current=!1);"touchstart"===(null==e?void 0:e.type)&&(p.current=!0);const a=s?null:m.current,l=a?a.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,d,u;if(r||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),d=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),d=Math.round(n-l.top)}if(r)u=Math.sqrt((2*l.width**2+l.height**2)/3),u%2===0&&(u+=1);else{const e=2*Math.max(Math.abs((a?a.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((a?a.clientHeight:0)-d),d)+2;u=Math.sqrt(e**2+t**2)}null!=e&&e.touches?null===g.current&&(g.current=()=>{f({pulsate:i,rippleX:c,rippleY:d,rippleSize:u,cb:n})},h.start(80,(()=>{g.current&&(g.current(),g.current=null)}))):f({pulsate:i,rippleX:c,rippleY:d,rippleSize:u,cb:n})}),[o,f,h]),y=i.useCallback((()=>{b({},{pulsate:!0})}),[b]),w=i.useCallback(((e,t)=>{if(h.clear(),"touchend"===(null==e?void 0:e.type)&&g.current)return g.current(),g.current=null,void h.start(0,(()=>{w(e,t)}));g.current=null,c((e=>e.length>0?e.slice(1):e)),u.current=t}),[h]);return i.useImperativeHandle(t,(()=>({pulsate:y,start:b,stop:w})),[y,b,w]),(0,ke.jsx)(li,(0,we.A)({className:_t(Xn.root,r.root,s),ref:m},a,{children:(0,ke.jsx)(Yn,{component:null,exit:!0,children:l})}))})),ui=di;function pi(e){return Et("MuiButtonBase",e)}const hi=Dt("MuiButtonBase",["root","disabled","focusVisible"]),gi=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],mi=hn("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${hi.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),fi=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiButtonBase"}),{action:o,centerRipple:r=!1,children:s,className:a,component:l="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:u=!1,focusRipple:p=!1,LinkComponent:h="a",onBlur:g,onClick:m,onContextMenu:f,onDragLeave:b,onFocus:y,onFocusVisible:w,onKeyDown:v,onKeyUp:k,onMouseDown:_,onMouseLeave:x,onMouseUp:A,onTouchEnd:C,onTouchMove:S,onTouchStart:I,tabIndex:T=0,TouchRippleProps:E,touchRippleRef:D,type:M}=n,P=(0,Re.A)(n,gi),R=i.useRef(null),B=i.useRef(null),j=An(B,D),{isFocusVisibleRef:L,onFocus:z,onBlur:O,ref:N}=Fn(),[F,V]=i.useState(!1);c&&F&&V(!1),i.useImperativeHandle(o,(()=>({focusVisible:()=>{V(!0),R.current.focus()}})),[]);const[H,W]=i.useState(!1);i.useEffect((()=>{W(!0)}),[]);const U=H&&!d&&!c;function q(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u;return In((i=>{t&&t(i);return!n&&B.current&&B.current[e](i),!0}))}i.useEffect((()=>{F&&p&&!d&&H&&B.current.pulsate()}),[d,p,F,H]);const $=q("start",_),G=q("stop",f),K=q("stop",b),Y=q("stop",A),Q=q("stop",(e=>{F&&e.preventDefault(),x&&x(e)})),Z=q("start",I),X=q("stop",C),J=q("stop",S),ee=q("stop",(e=>{O(e),!1===L.current&&V(!1),g&&g(e)}),!1),te=In((e=>{R.current||(R.current=e.currentTarget),z(e),!0===L.current&&(V(!0),w&&w(e)),y&&y(e)})),ne=()=>{const e=R.current;return l&&"button"!==l&&!("A"===e.tagName&&e.href)},ie=i.useRef(!1),oe=In((e=>{p&&!ie.current&&F&&B.current&&" "===e.key&&(ie.current=!0,B.current.stop(e,(()=>{B.current.start(e)}))),e.target===e.currentTarget&&ne()&&" "===e.key&&e.preventDefault(),v&&v(e),e.target===e.currentTarget&&ne()&&"Enter"===e.key&&!c&&(e.preventDefault(),m&&m(e))})),re=In((e=>{p&&" "===e.key&&B.current&&F&&!e.defaultPrevented&&(ie.current=!1,B.current.stop(e,(()=>{B.current.pulsate(e)}))),k&&k(e),m&&e.target===e.currentTarget&&ne()&&" "===e.key&&!e.defaultPrevented&&m(e)}));let se=l;"button"===se&&(P.href||P.to)&&(se=h);const ae={};"button"===se?(ae.type=void 0===M?"button":M,ae.disabled=c):(P.href||P.to||(ae.role="button"),c&&(ae["aria-disabled"]=c));const le=An(t,N,R);const ce=(0,we.A)({},n,{centerRipple:r,component:l,disabled:c,disableRipple:d,disableTouchRipple:u,focusRipple:p,tabIndex:T,focusVisible:F}),de=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:i,classes:o}=e,r=cn({root:["root",t&&"disabled",n&&"focusVisible"]},pi,o);return n&&i&&(r.root+=` ${i}`),r})(ce);return(0,ke.jsxs)(mi,(0,we.A)({as:se,className:_t(de.root,a),ownerState:ce,onBlur:ee,onClick:m,onContextMenu:G,onFocus:te,onKeyDown:oe,onKeyUp:re,onMouseDown:$,onMouseLeave:Q,onMouseUp:Y,onDragLeave:K,onTouchEnd:X,onTouchMove:J,onTouchStart:Z,ref:le,tabIndex:c?-1:T,type:M},ae,P,{children:[s,U?(0,ke.jsx)(ui,(0,we.A)({ref:j,center:r},E)):null]}))})),bi=fi;function yi(e){return Et("MuiButton",e)}const wi=Dt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const vi=i.createContext({});const ki=i.createContext(void 0),_i=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],xi=e=>(0,we.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),Ai=hn(bi,{shouldForwardProp:e=>pn(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${mn(n.color)}`],t[`size${mn(n.size)}`],t[`${n.variant}Size${mn(n.size)}`],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:n}=e;var i,o;const r="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],s="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,we.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,we.A)({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Ne.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===n.variant&&"inherit"!==n.color&&{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Ne.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===n.variant&&"inherit"!==n.color&&{border:`1px solid ${(t.vars||t).palette[n.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Ne.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===n.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===n.variant&&"inherit"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}}),"&:active":(0,we.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${wi.focusVisible}`]:(0,we.A)({},"contained"===n.variant&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${wi.disabled}`]:(0,we.A)({color:(t.vars||t).palette.action.disabled},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},"contained"===n.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===n.variant&&{padding:"6px 8px"},"text"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main},"outlined"===n.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[n.color].mainChannel} / 0.5)`:`1px solid ${(0,Ne.X4)(t.palette[n.color].main,.5)}`},"contained"===n.variant&&{color:t.vars?t.vars.palette.text.primary:null==(i=(o=t.palette).getContrastText)?void 0:i.call(o,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:r,boxShadow:(t.vars||t).shadows[2]},"contained"===n.variant&&"inherit"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main},"inherit"===n.color&&{color:"inherit",borderColor:"currentColor"},"small"===n.size&&"text"===n.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"text"===n.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"outlined"===n.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"outlined"===n.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===n.size&&"contained"===n.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===n.size&&"contained"===n.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},n.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${wi.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${wi.disabled}`]:{boxShadow:"none"}}})),Ci=hn("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,t[`iconSize${mn(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,we.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},xi(t))})),Si=hn("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,t[`iconSize${mn(n.size)}`]]}})((e=>{let{ownerState:t}=e;return(0,we.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},xi(t))})),Ii=i.forwardRef((function(e,t){const n=i.useContext(vi),o=i.useContext(ki),r=Ce({props:ve(n,e),name:"MuiButton"}),{children:s,color:a="primary",component:l="button",className:c,disabled:d=!1,disableElevation:u=!1,disableFocusRipple:p=!1,endIcon:h,focusVisibleClassName:g,fullWidth:m=!1,size:f="medium",startIcon:b,type:y,variant:w="text"}=r,v=(0,Re.A)(r,_i),k=(0,we.A)({},r,{color:a,component:l,disabled:d,disableElevation:u,disableFocusRipple:p,fullWidth:m,size:f,type:y,variant:w}),_=(e=>{const{color:t,disableElevation:n,fullWidth:i,size:o,variant:r,classes:s}=e,a=cn({root:["root",r,`${r}${mn(t)}`,`size${mn(o)}`,`${r}Size${mn(o)}`,`color${mn(t)}`,n&&"disableElevation",i&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${mn(o)}`],endIcon:["icon","endIcon",`iconSize${mn(o)}`]},yi,s);return(0,we.A)({},s,a)})(k),x=b&&(0,ke.jsx)(Ci,{className:_.startIcon,ownerState:k,children:b}),A=h&&(0,ke.jsx)(Si,{className:_.endIcon,ownerState:k,children:h}),C=o||"";return(0,ke.jsxs)(Ai,(0,we.A)({ownerState:k,className:_t(n.className,_.root,c,C),component:l,disabled:d,focusRipple:!p,focusVisibleClassName:_t(_.focusVisible,g),ref:t,type:y},v,{classes:_,children:[x,s,A]}))}));var Ti=n(9751);function Ei(){const e=Me(mt);return e[ft]||e}const Di=i.createContext();function Mi(e){return Et("MuiGrid",e)}const Pi=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],Ri=Dt("MuiGrid",["root","container","item","zeroMinWidth",...[0,1,2,3,4,5,6,7,8,9,10].map((e=>`spacing-xs-${e}`)),...["column-reverse","column","row-reverse","row"].map((e=>`direction-xs-${e}`)),...["nowrap","wrap-reverse","wrap"].map((e=>`wrap-xs-${e}`)),...Pi.map((e=>`grid-xs-${e}`)),...Pi.map((e=>`grid-sm-${e}`)),...Pi.map((e=>`grid-md-${e}`)),...Pi.map((e=>`grid-lg-${e}`)),...Pi.map((e=>`grid-xl-${e}`))]),Bi=Ri,ji=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function Li(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function zi(e){let{breakpoints:t,values:n}=e,i="";Object.keys(n).forEach((e=>{""===i&&0!==n[e]&&(i=e)}));const o=Object.keys(t).sort(((e,n)=>t[e]-t[n]));return o.slice(0,o.indexOf(i))}const Oi=hn("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{container:i,direction:o,item:r,spacing:s,wrap:a,zeroMinWidth:l,breakpoints:c}=n;let d=[];i&&(d=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n[`spacing-xs-${String(e)}`]];const i=[];return t.forEach((t=>{const o=e[t];Number(o)>0&&i.push(n[`spacing-${t}-${String(o)}`])})),i}(s,c,t));const u=[];return c.forEach((e=>{const i=n[e];i&&u.push(t[`grid-${e}-${String(i)}`])})),[t.root,i&&t.container,r&&t.item,l&&t.zeroMinWidth,...d,"row"!==o&&t[`direction-xs-${String(o)}`],"wrap"!==a&&t[`wrap-xs-${String(a)}`],...u]}})((e=>{let{ownerState:t}=e;return(0,we.A)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){let{theme:t,ownerState:n}=e;const i=(0,Ti.kW)({values:n.direction,breakpoints:t.breakpoints.values});return(0,Ti.NI)({theme:t},i,(e=>{const t={flexDirection:e};return 0===e.indexOf("column")&&(t[`& > .${Bi.item}`]={maxWidth:"none"}),t}))}),(function(e){let{theme:t,ownerState:n}=e;const{container:i,rowSpacing:o}=n;let r={};if(i&&0!==o){const e=(0,Ti.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=zi({breakpoints:t.breakpoints.values,values:e})),r=(0,Ti.NI)({theme:t},e,((e,i)=>{var o;const r=t.spacing(e);return"0px"!==r?{marginTop:`-${Li(r)}`,[`& > .${Bi.item}`]:{paddingTop:Li(r)}}:null!=(o=n)&&o.includes(i)?{}:{marginTop:0,[`& > .${Bi.item}`]:{paddingTop:0}}}))}return r}),(function(e){let{theme:t,ownerState:n}=e;const{container:i,columnSpacing:o}=n;let r={};if(i&&0!==o){const e=(0,Ti.kW)({values:o,breakpoints:t.breakpoints.values});let n;"object"===typeof e&&(n=zi({breakpoints:t.breakpoints.values,values:e})),r=(0,Ti.NI)({theme:t},e,((e,i)=>{var o;const r=t.spacing(e);return"0px"!==r?{width:`calc(100% + ${Li(r)})`,marginLeft:`-${Li(r)}`,[`& > .${Bi.item}`]:{paddingLeft:Li(r)}}:null!=(o=n)&&o.includes(i)?{}:{width:"100%",marginLeft:0,[`& > .${Bi.item}`]:{paddingLeft:0}}}))}return r}),(function(e){let t,{theme:n,ownerState:i}=e;return n.breakpoints.keys.reduce(((e,o)=>{let r={};if(i[o]&&(t=i[o]),!t)return e;if(!0===t)r={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)r={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const s=(0,Ti.kW)({values:i.columns,breakpoints:n.breakpoints.values}),a="object"===typeof s?s[o]:s;if(void 0===a||null===a)return e;const l=Math.round(t/a*1e8)/1e6+"%";let c={};if(i.container&&i.item&&0!==i.columnSpacing){const e=n.spacing(i.columnSpacing);if("0px"!==e){const t=`calc(${l} + ${Li(e)})`;c={flexBasis:t,maxWidth:t}}}r=(0,we.A)({flexBasis:l,flexGrow:0,maxWidth:l},c)}return 0===n.breakpoints.values[o]?Object.assign(e,r):e[n.breakpoints.up(o)]=r,e}),{})}));const Ni=e=>{const{classes:t,container:n,direction:i,item:o,spacing:r,wrap:s,zeroMinWidth:a,breakpoints:l}=e;let c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[`spacing-xs-${String(e)}`];const n=[];return t.forEach((t=>{const i=e[t];if(Number(i)>0){const e=`spacing-${t}-${String(i)}`;n.push(e)}})),n}(r,l));const d=[];l.forEach((t=>{const n=e[t];n&&d.push(`grid-${t}-${String(n)}`)}));return cn({root:["root",n&&"container",o&&"item",a&&"zeroMinWidth",...c,"row"!==i&&`direction-xs-${String(i)}`,"wrap"!==s&&`wrap-xs-${String(s)}`,...d]},Mi,t)},Fi=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiGrid"}),{breakpoints:o}=Ei(),r=(0,At.A)(n),{className:s,columns:a,columnSpacing:l,component:c="div",container:d=!1,direction:u="row",item:p=!1,rowSpacing:h,spacing:g=0,wrap:m="wrap",zeroMinWidth:f=!1}=r,b=(0,Re.A)(r,ji),y=h||g,w=l||g,v=i.useContext(Di),k=d?a||12:v,_={},x=(0,we.A)({},b);o.keys.forEach((e=>{null!=b[e]&&(_[e]=b[e],delete x[e])}));const A=(0,we.A)({},r,{columns:k,container:d,direction:u,item:p,rowSpacing:y,columnSpacing:w,wrap:m,zeroMinWidth:f,spacing:g},_,{breakpoints:o.keys}),C=Ni(A);return(0,ke.jsx)(Di.Provider,{value:k,children:(0,ke.jsx)(Oi,(0,we.A)({ownerState:A,className:_t(C.root,s),as:c,ref:t},x))})}));const Vi=Fi,Hi=e=>{let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function Wi(e){return Et("MuiPaper",e)}Dt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const Ui=["className","component","elevation","square","variant"],qi=hn("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t[`elevation${n.elevation}`]]}})((e=>{let{theme:t,ownerState:n}=e;var i;return(0,we.A)({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!n.square&&{borderRadius:t.shape.borderRadius},"outlined"===n.variant&&{border:`1px solid ${(t.vars||t).palette.divider}`},"elevation"===n.variant&&(0,we.A)({boxShadow:(t.vars||t).shadows[n.elevation]},!t.vars&&"dark"===t.palette.mode&&{backgroundImage:`linear-gradient(${(0,Ne.X4)("#fff",Hi(n.elevation))}, ${(0,Ne.X4)("#fff",Hi(n.elevation))})`},t.vars&&{backgroundImage:null==(i=t.vars.overlays)?void 0:i[n.elevation]}))})),$i=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:r=1,square:s=!1,variant:a="elevation"}=n,l=(0,Re.A)(n,Ui),c=(0,we.A)({},n,{component:o,elevation:r,square:s,variant:a}),d=(e=>{const{square:t,elevation:n,variant:i,classes:o}=e;return cn({root:["root",i,!t&&"rounded","elevation"===i&&`elevation${n}`]},Wi,o)})(c);return(0,ke.jsx)(qi,(0,we.A)({as:o,ownerState:c,className:_t(d.root,i),ref:t},l))}));function Gi(e){return Et("MuiCard",e)}Dt("MuiCard",["root"]);const Ki=["className","raised"],Yi=hn($i,{name:"MuiCard",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({overflow:"hidden"}))),Qi=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiCard"}),{className:i,raised:o=!1}=n,r=(0,Re.A)(n,Ki),s=(0,we.A)({},n,{raised:o}),a=(e=>{const{classes:t}=e;return cn({root:["root"]},Gi,t)})(s);return(0,ke.jsx)(Yi,(0,we.A)({className:_t(a.root,i),elevation:o?8:void 0,ref:t,ownerState:s},r))}));function Zi(e){return Et("MuiCardActionArea",e)}const Xi=Dt("MuiCardActionArea",["root","focusVisible","focusHighlight"]),Ji=["children","className","focusVisibleClassName"],eo=hn(bi,{name:"MuiCardActionArea",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{display:"block",textAlign:"inherit",borderRadius:"inherit",width:"100%",[`&:hover .${Xi.focusHighlight}`]:{opacity:(t.vars||t).palette.action.hoverOpacity,"@media (hover: none)":{opacity:0}},[`&.${Xi.focusVisible} .${Xi.focusHighlight}`]:{opacity:(t.vars||t).palette.action.focusOpacity}}})),to=hn("span",{name:"MuiCardActionArea",slot:"FocusHighlight",overridesResolver:(e,t)=>t.focusHighlight})((e=>{let{theme:t}=e;return{overflow:"hidden",pointerEvents:"none",position:"absolute",top:0,right:0,bottom:0,left:0,borderRadius:"inherit",opacity:0,backgroundColor:"currentcolor",transition:t.transitions.create("opacity",{duration:t.transitions.duration.short})}})),no=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiCardActionArea"}),{children:i,className:o,focusVisibleClassName:r}=n,s=(0,Re.A)(n,Ji),a=n,l=(e=>{const{classes:t}=e;return cn({root:["root"],focusHighlight:["focusHighlight"]},Zi,t)})(a);return(0,ke.jsxs)(eo,(0,we.A)({className:_t(l.root,o),focusVisibleClassName:_t(r,l.focusVisible),ref:t,ownerState:a},s,{children:[i,(0,ke.jsx)(to,{className:l.focusHighlight,ownerState:a})]}))}));function io(e){return Et("MuiCardMedia",e)}Dt("MuiCardMedia",["root","media","img"]);const oo=["children","className","component","image","src","style"],ro=hn("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{isMediaComponent:i,isImageComponent:o}=n;return[t.root,i&&t.media,o&&t.img]}})((e=>{let{ownerState:t}=e;return(0,we.A)({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},t.isMediaComponent&&{width:"100%"},t.isImageComponent&&{objectFit:"cover"})})),so=["video","audio","picture","iframe","img"],ao=["picture","img"],lo=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiCardMedia"}),{children:i,className:o,component:r="div",image:s,src:a,style:l}=n,c=(0,Re.A)(n,oo),d=-1!==so.indexOf(r),u=!d&&s?(0,we.A)({backgroundImage:`url("${s}")`},l):l,p=(0,we.A)({},n,{component:r,isMediaComponent:d,isImageComponent:-1!==ao.indexOf(r)}),h=(e=>{const{classes:t,isMediaComponent:n,isImageComponent:i}=e;return cn({root:["root",n&&"media",i&&"img"]},io,t)})(p);return(0,ke.jsx)(ro,(0,we.A)({className:_t(h.root,o),as:r,role:!d&&s?"img":void 0,ref:t,style:u,ownerState:p,src:d?s||a:void 0},c,{children:i}))})),co=lo;function uo(e){return Et("MuiCardContent",e)}Dt("MuiCardContent",["root"]);const po=["className","component"],ho=hn("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(e,t)=>t.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}}))),go=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiCardContent"}),{className:i,component:o="div"}=n,r=(0,Re.A)(n,po),s=(0,we.A)({},n,{component:o}),a=(e=>{const{classes:t}=e;return cn({root:["root"]},uo,t)})(s);return(0,ke.jsx)(ho,(0,we.A)({as:o,className:_t(a.root,i),ownerState:s,ref:t},r))}));function mo(e){return Et("MuiSvgIcon",e)}Dt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const fo=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],bo=hn("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t[`color${mn(n.color)}`],t[`fontSize${mn(n.fontSize)}`]]}})((e=>{let{theme:t,ownerState:n}=e;var i,o,r,s,a,l,c,d,u,p,h,g,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:n.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(i=t.transitions)||null==(o=i.create)?void 0:o.call(i,"fill",{duration:null==(r=t.transitions)||null==(r=r.duration)?void 0:r.shorter}),fontSize:{inherit:"inherit",small:(null==(s=t.typography)||null==(a=s.pxToRem)?void 0:a.call(s,20))||"1.25rem",medium:(null==(l=t.typography)||null==(c=l.pxToRem)?void 0:c.call(l,24))||"1.5rem",large:(null==(d=t.typography)||null==(u=d.pxToRem)?void 0:u.call(d,35))||"2.1875rem"}[n.fontSize],color:null!=(p=null==(h=(t.vars||t).palette)||null==(h=h[n.color])?void 0:h.main)?p:{action:null==(g=(t.vars||t).palette)||null==(g=g.action)?void 0:g.active,disabled:null==(m=(t.vars||t).palette)||null==(m=m.action)?void 0:m.disabled,inherit:void 0}[n.color]}})),yo=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiSvgIcon"}),{children:o,className:r,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:u,viewBox:p="0 0 24 24"}=n,h=(0,Re.A)(n,fo),g=i.isValidElement(o)&&"svg"===o.type,m=(0,we.A)({},n,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:p,hasSvgAsChild:g}),f={};d||(f.viewBox=p);const b=(e=>{const{color:t,fontSize:n,classes:i}=e;return cn({root:["root","inherit"!==t&&`color${mn(t)}`,`fontSize${mn(n)}`]},mo,i)})(m);return(0,ke.jsxs)(bo,(0,we.A)({as:a,className:_t(b.root,r),focusable:"false",color:c,"aria-hidden":!u||void 0,role:u?"img":void 0,ref:t},f,h,g&&o.props,{ownerState:m,children:[g?o.props.children:o,u?(0,ke.jsx)("title",{children:u}):null]}))}));yo.muiName="SvgIcon";const wo=yo;function vo(e,t){function n(n,i){return(0,ke.jsx)(wo,(0,we.A)({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return n.muiName=wo.muiName,i.memo(i.forwardRef(n))}const ko=vo((0,ke.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function _o(e){return Et("MuiChip",e)}const xo=Dt("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),Ao=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],Co=hn("div",{name:"MuiChip",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e,{color:i,iconColor:o,clickable:r,onDelete:s,size:a,variant:l}=n;return[{[`& .${xo.avatar}`]:t.avatar},{[`& .${xo.avatar}`]:t[`avatar${mn(a)}`]},{[`& .${xo.avatar}`]:t[`avatarColor${mn(i)}`]},{[`& .${xo.icon}`]:t.icon},{[`& .${xo.icon}`]:t[`icon${mn(a)}`]},{[`& .${xo.icon}`]:t[`iconColor${mn(o)}`]},{[`& .${xo.deleteIcon}`]:t.deleteIcon},{[`& .${xo.deleteIcon}`]:t[`deleteIcon${mn(a)}`]},{[`& .${xo.deleteIcon}`]:t[`deleteIconColor${mn(i)}`]},{[`& .${xo.deleteIcon}`]:t[`deleteIcon${mn(l)}Color${mn(i)}`]},t.root,t[`size${mn(a)}`],t[`color${mn(i)}`],r&&t.clickable,r&&"default"!==i&&t[`clickableColor${mn(i)})`],s&&t.deletable,s&&"default"!==i&&t[`deletableColor${mn(i)}`],t[l],t[`${l}${mn(i)}`]]}})((e=>{let{theme:t,ownerState:n}=e;const i="light"===t.palette.mode?t.palette.grey[700]:t.palette.grey[300];return(0,we.A)({maxWidth:"100%",fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(t.vars||t).palette.text.primary,backgroundColor:(t.vars||t).palette.action.selected,borderRadius:16,whiteSpace:"nowrap",transition:t.transitions.create(["background-color","box-shadow"]),cursor:"unset",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${xo.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${xo.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:t.vars?t.vars.palette.Chip.defaultAvatarColor:i,fontSize:t.typography.pxToRem(12)},[`& .${xo.avatarColorPrimary}`]:{color:(t.vars||t).palette.primary.contrastText,backgroundColor:(t.vars||t).palette.primary.dark},[`& .${xo.avatarColorSecondary}`]:{color:(t.vars||t).palette.secondary.contrastText,backgroundColor:(t.vars||t).palette.secondary.dark},[`& .${xo.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:t.typography.pxToRem(10)},[`& .${xo.icon}`]:(0,we.A)({marginLeft:5,marginRight:-6},"small"===n.size&&{fontSize:18,marginLeft:4,marginRight:-4},n.iconColor===n.color&&(0,we.A)({color:t.vars?t.vars.palette.Chip.defaultIconColor:i},"default"!==n.color&&{color:"inherit"})),[`& .${xo.deleteIcon}`]:(0,we.A)({WebkitTapHighlightColor:"transparent",color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.26)`:(0,Ne.X4)(t.palette.text.primary,.26),fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / 0.4)`:(0,Ne.X4)(t.palette.text.primary,.4)}},"small"===n.size&&{fontSize:16,marginRight:4,marginLeft:-4},"default"!==n.color&&{color:t.vars?`rgba(${t.vars.palette[n.color].contrastTextChannel} / 0.7)`:(0,Ne.X4)(t.palette[n.color].contrastText,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].contrastText}})},"small"===n.size&&{height:24},"default"!==n.color&&{backgroundColor:(t.vars||t).palette[n.color].main,color:(t.vars||t).palette[n.color].contrastText},n.onDelete&&{[`&.${xo.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Ne.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},n.onDelete&&"default"!==n.color&&{[`&.${xo.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({},n.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Ne.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)},[`&.${xo.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Ne.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},"&:active":{boxShadow:(t.vars||t).shadows[1]}},n.clickable&&"default"!==n.color&&{[`&:hover, &.${xo.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({},"outlined"===n.variant&&{backgroundColor:"transparent",border:t.vars?`1px solid ${t.vars.palette.Chip.defaultBorder}`:`1px solid ${"light"===t.palette.mode?t.palette.grey[400]:t.palette.grey[700]}`,[`&.${xo.clickable}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${xo.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`& .${xo.avatar}`]:{marginLeft:4},[`& .${xo.avatarSmall}`]:{marginLeft:2},[`& .${xo.icon}`]:{marginLeft:4},[`& .${xo.iconSmall}`]:{marginLeft:2},[`& .${xo.deleteIcon}`]:{marginRight:5},[`& .${xo.deleteIconSmall}`]:{marginRight:3}},"outlined"===n.variant&&"default"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,Ne.X4)(t.palette[n.color].main,.7)}`,[`&.${xo.clickable}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Ne.X4)(t.palette[n.color].main,t.palette.action.hoverOpacity)},[`&.${xo.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.focusOpacity})`:(0,Ne.X4)(t.palette[n.color].main,t.palette.action.focusOpacity)},[`& .${xo.deleteIcon}`]:{color:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.7)`:(0,Ne.X4)(t.palette[n.color].main,.7),"&:hover, &:active":{color:(t.vars||t).palette[n.color].main}}})})),So=hn("span",{name:"MuiChip",slot:"Label",overridesResolver:(e,t)=>{const{ownerState:n}=e,{size:i}=n;return[t.label,t[`label${mn(i)}`]]}})((e=>{let{ownerState:t}=e;return(0,we.A)({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},"outlined"===t.variant&&{paddingLeft:11,paddingRight:11},"small"===t.size&&{paddingLeft:8,paddingRight:8},"small"===t.size&&"outlined"===t.variant&&{paddingLeft:7,paddingRight:7})}));function Io(e){return"Backspace"===e.key||"Delete"===e.key}const To=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiChip"}),{avatar:o,className:r,clickable:s,color:a="default",component:l,deleteIcon:c,disabled:d=!1,icon:u,label:p,onClick:h,onDelete:g,onKeyDown:m,onKeyUp:f,size:b="medium",variant:y="filled",tabIndex:w,skipFocusWhenDisabled:v=!1}=n,k=(0,Re.A)(n,Ao),_=i.useRef(null),x=An(_,t),A=e=>{e.stopPropagation(),g&&g(e)},C=!(!1===s||!h)||s,S=C||g?bi:l||"div",I=(0,we.A)({},n,{component:S,disabled:d,size:b,color:a,iconColor:i.isValidElement(u)&&u.props.color||a,onDelete:!!g,clickable:C,variant:y}),T=(e=>{const{classes:t,disabled:n,size:i,color:o,iconColor:r,onDelete:s,clickable:a,variant:l}=e;return cn({root:["root",l,n&&"disabled",`size${mn(i)}`,`color${mn(o)}`,a&&"clickable",a&&`clickableColor${mn(o)}`,s&&"deletable",s&&`deletableColor${mn(o)}`,`${l}${mn(o)}`],label:["label",`label${mn(i)}`],avatar:["avatar",`avatar${mn(i)}`,`avatarColor${mn(o)}`],icon:["icon",`icon${mn(i)}`,`iconColor${mn(r)}`],deleteIcon:["deleteIcon",`deleteIcon${mn(i)}`,`deleteIconColor${mn(o)}`,`deleteIcon${mn(l)}Color${mn(o)}`]},_o,t)})(I),E=S===bi?(0,we.A)({component:l||"div",focusVisibleClassName:T.focusVisible},g&&{disableRipple:!0}):{};let D=null;g&&(D=c&&i.isValidElement(c)?i.cloneElement(c,{className:_t(c.props.className,T.deleteIcon),onClick:A}):(0,ke.jsx)(ko,{className:_t(T.deleteIcon),onClick:A}));let M=null;o&&i.isValidElement(o)&&(M=i.cloneElement(o,{className:_t(T.avatar,o.props.className)}));let P=null;return u&&i.isValidElement(u)&&(P=i.cloneElement(u,{className:_t(T.icon,u.props.className)})),(0,ke.jsxs)(Co,(0,we.A)({as:S,className:_t(T.root,r),disabled:!(!C||!d)||void 0,onClick:h,onKeyDown:e=>{e.currentTarget===e.target&&Io(e)&&e.preventDefault(),m&&m(e)},onKeyUp:e=>{e.currentTarget===e.target&&(g&&Io(e)?g(e):"Escape"===e.key&&_.current&&_.current.blur()),f&&f(e)},ref:x,tabIndex:v&&d?-1:w,ownerState:I},E,k,{children:[M||P,(0,ke.jsx)(So,{className:_t(T.label),ownerState:I,children:p}),D]}))}));function Eo(e){return Et("MuiDivider",e)}const Do=Dt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),Mo=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],Po=hn("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:(0,Ne.X4)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(e=>{let{ownerState:t}=e;return(0,we.A)({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({},n.children&&"vertical"!==n.orientation&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`,borderTopStyle:"inherit"}})}),(e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`,borderLeftStyle:"inherit"}})}),(e=>{let{ownerState:t}=e;return(0,we.A)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),Ro=hn("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},"vertical"===n.orientation&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})})),Bo=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiDivider"}),{absolute:i=!1,children:o,className:r,component:s=(o?"div":"hr"),flexItem:a=!1,light:l=!1,orientation:c="horizontal",role:d=("hr"!==s?"separator":void 0),textAlign:u="center",variant:p="fullWidth"}=n,h=(0,Re.A)(n,Mo),g=(0,we.A)({},n,{absolute:i,component:s,flexItem:a,light:l,orientation:c,role:d,textAlign:u,variant:p}),m=(e=>{const{absolute:t,children:n,classes:i,flexItem:o,light:r,orientation:s,textAlign:a,variant:l}=e;return cn({root:["root",t&&"absolute",l,r&&"light","vertical"===s&&"vertical",o&&"flexItem",n&&"withChildren",n&&"vertical"===s&&"withChildrenVertical","right"===a&&"vertical"!==s&&"textAlignRight","left"===a&&"vertical"!==s&&"textAlignLeft"],wrapper:["wrapper","vertical"===s&&"wrapperVertical"]},Eo,i)})(g);return(0,ke.jsx)(Po,(0,we.A)({as:s,className:_t(m.root,r),role:d,ref:t,ownerState:g},h,{children:o?(0,ke.jsx)(Ro,{className:m.wrapper,ownerState:g,children:o}):null}))}));Bo.muiSkipListHighlight=!0;const jo=Bo,Lo=vo((0,ke.jsx)("path",{d:"M9 15c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4m13.1-8.16c.01-.11.02-.22.02-.34 0-.12-.01-.23-.03-.34l.74-.58c.07-.05.08-.15.04-.22l-.7-1.21c-.04-.08-.14-.1-.21-.08l-.86.35c-.18-.14-.38-.25-.59-.34l-.13-.93c-.02-.09-.09-.15-.18-.15h-1.4c-.09 0-.16.06-.17.15l-.13.93c-.21.09-.41.21-.59.34l-.87-.35c-.08-.03-.17 0-.21.08l-.7 1.21c-.04.08-.03.17.04.22l.74.58c-.02.11-.03.23-.03.34 0 .11.01.23.03.34l-.74.58c-.07.05-.08.15-.04.22l.7 1.21c.04.08.14.1.21.08l.87-.35c.18.14.38.25.59.34l.13.93c.01.09.08.15.17.15h1.4c.09 0 .16-.06.17-.15l.13-.93c.21-.09.41-.21.59-.34l.87.35c.08.03.17 0 .21-.08l.7-1.21c.04-.08.03-.17-.04-.22zm-2.6.91c-.69 0-1.25-.56-1.25-1.25s.56-1.25 1.25-1.25 1.25.56 1.25 1.25-.56 1.25-1.25 1.25m.42 3.93-.5-.87c-.03-.06-.1-.08-.15-.06l-.62.25c-.13-.1-.27-.18-.42-.24l-.09-.66c-.02-.06-.08-.1-.14-.1h-1c-.06 0-.11.04-.12.11l-.09.66c-.15.06-.29.15-.42.24l-.62-.25c-.06-.02-.12 0-.15.06l-.5.87c-.03.06-.02.12.03.16l.53.41c-.01.08-.02.16-.02.24 0 .08.01.17.02.24l-.53.41c-.05.04-.06.11-.03.16l.5.87c.03.06.1.08.15.06l.62-.25c.13.1.27.18.42.24l.09.66c.01.07.06.11.12.11h1c.06 0 .12-.04.12-.11l.09-.66c.15-.06.29-.15.42-.24l.62.25c.06.02.12 0 .15-.06l.5-.87c.03-.06.02-.12-.03-.16l-.52-.41c.01-.08.02-.16.02-.24 0-.08-.01-.17-.02-.24l.53-.41c.05-.04.06-.11.04-.17m-2.42 1.65c-.46 0-.83-.38-.83-.83 0-.46.38-.83.83-.83s.83.38.83.83c0 .46-.37.83-.83.83M4.74 9h8.53c.27 0 .49-.22.49-.49v-.02c0-.27-.22-.49-.49-.49H13c0-1.48-.81-2.75-2-3.45v.95c0 .28-.22.5-.5.5s-.5-.22-.5-.5V4.14C9.68 4.06 9.35 4 9 4s-.68.06-1 .14V5.5c0 .28-.22.5-.5.5S7 5.78 7 5.5v-.95C5.81 5.25 5 6.52 5 8h-.26c-.27 0-.49.22-.49.49v.03c0 .26.22.48.49.48M9 13c1.86 0 3.41-1.28 3.86-3H5.14c.45 1.72 2 3 3.86 3"}),"Engineering"),zo=vo((0,ke.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"}),"Assessment"),Oo=vo((0,ke.jsx)("path",{d:"M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1m-1 9h-4v-7h4z"}),"Devices"),No=vo((0,ke.jsx)("path",{d:"M15 9H9v6h6zm-2 4h-2v-2h2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2zm-4 6H7V7h10z"}),"Memory"),Fo=vo((0,ke.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward"),Vo=vo((0,ke.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17zM12 3 1 9l11 6 9-4.91V17h2V9z"}),"School"),Ho=vo((0,ke.jsx)("path",{d:"M9.4 16.6 4.8 12l4.6-4.6L8 6l-6 6 6 6zm5.2 0 4.6-4.6-4.6-4.6L16 6l6 6-6 6z"}),"Code"),Wo=vo((0,ke.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1m-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1"}),"Forum"),Uo=vo((0,ke.jsx)("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2m-6 0h-4V4h4z"}),"Work"),qo=vo([(0,ke.jsx)("path",{d:"M21 5c-1.11-.35-2.33-.5-3.5-.5-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5V6c-.6-.45-1.25-.75-2-1m0 13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"},"0"),(0,ke.jsx)("path",{d:"M17.5 10.5c.88 0 1.73.09 2.5.26V9.24c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99M13 12.49v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26V11.9c-.79-.15-1.64-.24-2.5-.24-1.7 0-3.24.3-4.5.83m4.5 1.84c-1.7 0-3.24.29-4.5.83v1.66c1.13-.64 2.7-.99 4.5-.99.88 0 1.73.09 2.5.26v-1.52c-.79-.16-1.64-.24-2.5-.24"},"1")],"MenuBook"),$o=()=>{const e=[{title:"RTL Design Engineer",description:"Design digital circuits using HDLs like Verilog and VHDL",skills:["Verilog/VHDL","Digital Design","Timing Analysis","Low Power Techniques"],salary:"$110,000 - $150,000",demand:"High",icon:(0,ke.jsx)(Lo,{})},{title:"Verification Engineer",description:"Create and execute test plans to verify hardware designs",skills:["SystemVerilog","UVM","Assertions","Code Coverage","Functional Verification"],salary:"$115,000 - $160,000",demand:"Very High",icon:(0,ke.jsx)(zo,{})},{title:"Physical Design Engineer",description:"Transform RTL code into optimized physical layouts",skills:["Floorplanning","Placement","Routing","Timing Closure","DRC/LVS"],salary:"$120,000 - $165,000",demand:"High",icon:(0,ke.jsx)(Oo,{})},{title:"FPGA Engineer",description:"Implement and optimize designs for FPGA platforms",skills:["Verilog/VHDL","FPGA Architecture","Synthesis","Timing Constraints"],salary:"$100,000 - $140,000",demand:"Steady",icon:(0,ke.jsx)(No,{})}];return(0,ke.jsxs)(Bt,{className:"container page-container",children:[(0,ke.jsxs)(Bt,{sx:{textAlign:"center",py:8,background:"linear-gradient(to right, #8e44ad, #6a0dad)",color:"white",borderRadius:2,mb:6},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",mb:2},children:[(0,ke.jsx)(Bt,{component:"img",src:"/images/BACKGROUNDLESS_LOGO.png",alt:"VeriGeek Logo",sx:{height:60,mr:2}}),(0,ke.jsx)(kn,{variant:"h2",component:"h1",gutterBottom:!0,fontWeight:"bold",sx:{mb:0},children:"VeriGeek"})]}),(0,ke.jsx)(kn,{variant:"h5",sx:{fontStyle:"italic",mb:3},children:"Empower Your Logic, Code Your Circuit!"}),(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,sx:{maxWidth:"800px",mx:"auto",mb:4},children:"Master digital design with comprehensive Verilog modules, hands-on exercises, and industry-relevant skills"}),(0,ke.jsx)(Ii,{component:rn,to:"/modules",variant:"contained",size:"large",endIcon:(0,ke.jsx)(Fo,{}),sx:{backgroundColor:"white",color:"#6a0dad","&:hover":{backgroundColor:"#f0f0f0"}},children:"Start Learning"})]}),(0,ke.jsx)(kn,{variant:"h4",component:"h2",gutterBottom:!0,color:"primary",sx:{mb:4},children:"What We Offer"}),(0,ke.jsxs)(Vi,{container:!0,spacing:4,sx:{mb:6},children:[(0,ke.jsx)(Vi,{item:!0,xs:12,md:3,children:(0,ke.jsxs)($i,{elevation:3,sx:{p:3,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[(0,ke.jsx)(Vo,{sx:{fontSize:60,color:"#6a0dad",mb:2}}),(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,children:"Industry-Relevant Modules"}),(0,ke.jsx)(kn,{children:"Comprehensive curriculum covering beginner to expert topics, aligned with current industry needs and practices."})]})}),(0,ke.jsx)(Vi,{item:!0,xs:12,md:3,children:(0,ke.jsxs)($i,{elevation:3,sx:{p:3,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[(0,ke.jsx)(Ho,{sx:{fontSize:60,color:"#6a0dad",mb:2}}),(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,children:"Interactive Code Editor"}),(0,ke.jsx)(kn,{children:"Simulate and debug Verilog code with our browser-based editor featuring real-time syntax checking and waveform visualization."})]})}),(0,ke.jsx)(Vi,{item:!0,xs:12,md:3,children:(0,ke.jsxs)($i,{elevation:3,sx:{p:3,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[(0,ke.jsx)(Wo,{sx:{fontSize:60,color:"#6a0dad",mb:2}}),(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,children:"Expert Community"}),(0,ke.jsx)(kn,{children:"Connect with industry professionals, ask questions, and participate in discussions on advanced VLSI topics."})]})}),(0,ke.jsx)(Vi,{item:!0,xs:12,md:3,children:(0,ke.jsxs)($i,{elevation:3,sx:{p:3,height:"100%",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[(0,ke.jsx)(Uo,{sx:{fontSize:60,color:"#6a0dad",mb:2}}),(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,children:"Career Resources"}),(0,ke.jsx)(kn,{children:"Gain insights into VLSI career paths, industry trends, and the specific skills needed to excel in hardware design roles."})]})})]}),(0,ke.jsx)(kn,{variant:"h4",component:"h2",gutterBottom:!0,color:"primary",sx:{mb:4},children:"Featured Modules"}),(0,ke.jsxs)(Vi,{container:!0,spacing:4,sx:{mb:6},children:[[{id:1,title:"Verilog Fundamentals",description:"Master the basics of Verilog HDL and get started with digital design concepts",image:"https://tse1.mm.bing.net/th?id=OIP.jz0YXGGr51-sLiHhII4g5wHaEM&pid=Api&P=0&h=180",level:"Beginner"},{id:23,title:"RISC-V Processor Design",description:"Design a complete RISC-V processor from scratch with pipelining and hazard resolution",image:"https://tse1.mm.bing.net/th?id=OIP.T5X7UbWZedVZMHdzB9YPCQHaE8&pid=Api&P=0&h=180",level:"Expert"},{id:14,title:"UVM Verification",description:"Master Universal Verification Methodology for SystemVerilog testbenches",image:"https://tse1.mm.bing.net/th?id=OIP.xTfbaCirE3pvtPMZwDHJRgHaHa&pid=Api&P=0&h=180",level:"Expert"}].map((e=>(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,md:4,children:(0,ke.jsx)(Qi,{sx:{height:"100%",transition:"transform 0.3s","&:hover":{transform:"translateY(-8px)"}},children:(0,ke.jsxs)(no,{component:rn,to:`/modules/${e.id}`,children:[(0,ke.jsx)(co,{component:"img",height:"160",image:e.image,alt:e.title}),(0,ke.jsxs)(go,{children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1},children:[(0,ke.jsx)(kn,{variant:"h6",component:"h3",noWrap:!0,children:e.title}),(0,ke.jsx)(To,{label:e.level,size:"small",sx:{backgroundColor:"Beginner"===e.level?"#e3f2fd":"Intermediate"===e.level?"#fff8e1":"#fbe9e7",color:"Beginner"===e.level?"#0277bd":"Intermediate"===e.level?"#ff8f00":"#e64a19",fontWeight:500}})]}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:e.description})]})]})})},e.id))),(0,ke.jsx)(Vi,{item:!0,xs:12,textAlign:"center",children:(0,ke.jsx)(Ii,{component:rn,to:"/modules",variant:"outlined",color:"primary",endIcon:(0,ke.jsx)(Fo,{}),children:"Explore All Modules"})})]}),(0,ke.jsx)(kn,{variant:"h4",component:"h2",gutterBottom:!0,color:"primary",sx:{mb:4},children:"VLSI Career Paths"}),(0,ke.jsx)(Vi,{container:!0,spacing:4,sx:{mb:6},children:e.map(((e,t)=>(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,md:3,children:(0,ke.jsxs)($i,{elevation:3,sx:{p:3,height:"100%",display:"flex",flexDirection:"column"},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,ke.jsx)(Bt,{sx:{backgroundColor:"rgba(106, 13, 173, 0.1)",borderRadius:"50%",p:1,mr:2,color:"#6a0dad"},children:e.icon}),(0,ke.jsx)(kn,{variant:"h6",component:"h3",children:e.title})]}),(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,children:e.description}),(0,ke.jsxs)(Bt,{sx:{mb:2},children:[(0,ke.jsx)(kn,{variant:"subtitle2",gutterBottom:!0,children:"Key Skills:"}),(0,ke.jsx)(Bt,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.skills.map(((e,t)=>(0,ke.jsx)(To,{label:e,size:"small",sx:{backgroundColor:"rgba(106, 13, 173, 0.08)",fontSize:"0.7rem"}},t)))})]}),(0,ke.jsxs)(Bt,{sx:{mt:"auto"},children:[(0,ke.jsx)(jo,{sx:{my:1}}),(0,ke.jsxs)(Vi,{container:!0,spacing:1,children:[(0,ke.jsxs)(Vi,{item:!0,xs:6,children:[(0,ke.jsx)(kn,{variant:"caption",color:"text.secondary",children:"Salary Range:"}),(0,ke.jsx)(kn,{variant:"body2",fontWeight:"medium",children:e.salary})]}),(0,ke.jsxs)(Vi,{item:!0,xs:6,children:[(0,ke.jsx)(kn,{variant:"caption",color:"text.secondary",children:"Market Demand:"}),(0,ke.jsx)(kn,{variant:"body2",fontWeight:"medium",children:e.demand})]})]})]})]})},t)))}),(0,ke.jsx)(kn,{variant:"h4",component:"h2",gutterBottom:!0,color:"primary",sx:{mb:4},children:"Current VLSI Industry Trends"}),(0,ke.jsx)(Vi,{container:!0,spacing:4,sx:{mb:6},children:[{title:"AI Hardware Acceleration",description:"Growing demand for specialized hardware to accelerate machine learning and AI workloads",impact:"High",timeframe:"Now - 5 years"},{title:"RISC-V Adoption",description:"The open-source RISC-V architecture is gaining momentum as an alternative to proprietary instruction sets",impact:"Medium-High",timeframe:"Now - 3 years"},{title:"Chiplet-Based Design",description:"Moving from monolithic chips to smaller, specialized chiplets integrated together",impact:"Medium-High",timeframe:"1-4 years"},{title:"Hardware Security",description:"Increasing focus on security features built directly into hardware designs",impact:"High",timeframe:"Now - Ongoing"}].map(((e,t)=>(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,children:(0,ke.jsxs)($i,{elevation:2,sx:{p:3,borderLeft:"4px solid #6a0dad"},children:[(0,ke.jsx)(kn,{variant:"h6",gutterBottom:!0,children:e.title}),(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,children:e.description}),(0,ke.jsxs)(Vi,{container:!0,spacing:2,children:[(0,ke.jsxs)(Vi,{item:!0,xs:6,children:[(0,ke.jsx)(kn,{variant:"caption",color:"text.secondary",children:"Industry Impact:"}),(0,ke.jsx)(kn,{variant:"body2",fontWeight:"medium",children:e.impact})]}),(0,ke.jsxs)(Vi,{item:!0,xs:6,children:[(0,ke.jsx)(kn,{variant:"caption",color:"text.secondary",children:"Timeframe:"}),(0,ke.jsx)(kn,{variant:"body2",fontWeight:"medium",children:e.timeframe})]})]})]})},t)))}),(0,ke.jsx)(kn,{variant:"h4",component:"h2",gutterBottom:!0,color:"primary",sx:{mb:4},children:"Try It Yourself"}),(0,ke.jsxs)(Vi,{container:!0,spacing:4,sx:{mb:6},children:[(0,ke.jsxs)(Vi,{item:!0,xs:12,md:6,children:[(0,ke.jsx)(kn,{variant:"h6",gutterBottom:!0,children:"4-bit ALU Implementation"}),(0,ke.jsx)(kn,{paragraph:!0,children:"This example demonstrates a 4-bit ALU implementation in Verilog that supports addition, subtraction, AND, and OR operations."}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",paragraph:!0,children:"The ALU is a fundamental building block in processor design. This implementation provides the core arithmetic and logic operations used in CPU execution units."}),(0,ke.jsx)(Ii,{component:rn,to:"/editor",variant:"contained",color:"primary",endIcon:(0,ke.jsx)(Ho,{}),sx:{mr:2},children:"Open in Editor"}),(0,ke.jsx)(Ii,{component:rn,to:"/modules/7",variant:"outlined",color:"primary",children:"Learn More About ALUs"})]}),(0,ke.jsx)(Vi,{item:!0,xs:12,md:6,children:(0,ke.jsx)($i,{elevation:3,sx:{p:2,backgroundColor:"#f8f8f8",fontFamily:"monospace",overflow:"auto",maxHeight:"300px"},children:(0,ke.jsx)("pre",{children:"module alu_4bit(\n  input [3:0] a, b,\n  input [1:0] op,\n  output reg [3:0] result\n);\n  \n  always @(*) begin\n    case(op)\n      2'b00: result = a + b;    // Addition\n      2'b01: result = a - b;    // Subtraction\n      2'b10: result = a & b;    // Bitwise AND\n      2'b11: result = a | b;    // Bitwise OR\n    endcase\n  end\nendmodule"})})})]}),(0,ke.jsxs)(Bt,{sx:{textAlign:"center",py:6,backgroundColor:"#f5f5f5",borderRadius:2},children:[(0,ke.jsx)(kn,{variant:"h4",gutterBottom:!0,children:"Ready to advance your VLSI career?"}),(0,ke.jsx)(kn,{paragraph:!0,sx:{maxWidth:"800px",mx:"auto",mb:3},children:"Join thousands of professionals mastering Verilog and advanced VLSI design concepts with VeriGeek. Our platform provides the industry-relevant skills you need to excel in hardware design roles."}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(Ii,{component:rn,to:"/register",variant:"contained",color:"primary",size:"large",sx:{mr:2},children:"Sign Up Free"}),(0,ke.jsx)(Ii,{component:rn,to:"/modules",variant:"outlined",color:"primary",size:"large",endIcon:(0,ke.jsx)(qo,{}),children:"Browse Modules"})]})]})]})};let Go=0;const Ko=o["useId".toString()];function Yo(e){if(void 0!==Ko){const t=Ko();return null!=e?e:t}return function(e){const[t,n]=i.useState(e),o=e||t;return i.useEffect((()=>{null==t&&(Go+=1,n(`mui-${Go}`))}),[t]),o}(e)}const Qo=function(e){return"string"===typeof e};function Zo(e){return e&&e.ownerDocument||document}function Xo(e){return Zo(e).defaultView||window}function Jo(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function i(){for(var i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];clearTimeout(t),t=setTimeout((()=>{e.apply(this,o)}),n)}return i.clear=()=>{clearTimeout(t)},i}const er=["onChange","maxRows","minRows","style","value"];function tr(e){return parseInt(e,10)||0}const nr={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function ir(e){return function(e){for(const t in e)return!1;return!0}(e)||0===e.outerHeightStyle&&!e.overflowing}const or=i.forwardRef((function(e,t){const{onChange:n,maxRows:o,minRows:r=1,style:s,value:a}=e,l=(0,Re.A)(e,er),{current:c}=i.useRef(null!=a),d=i.useRef(null),u=xn(t,d),p=i.useRef(null),h=i.useRef(null),g=i.useCallback((()=>{const t=d.current,n=h.current;if(!t||!n)return;const i=Xo(t).getComputedStyle(t);if("0px"===i.width)return{outerHeightStyle:0,overflowing:!1};n.style.width=i.width,n.value=t.value||e.placeholder||"x","\n"===n.value.slice(-1)&&(n.value+=" ");const s=i.boxSizing,a=tr(i.paddingBottom)+tr(i.paddingTop),l=tr(i.borderBottomWidth)+tr(i.borderTopWidth),c=n.scrollHeight;n.value="x";const u=n.scrollHeight;let p=c;r&&(p=Math.max(Number(r)*u,p)),o&&(p=Math.min(Number(o)*u,p)),p=Math.max(p,u);return{outerHeightStyle:p+("border-box"===s?a+l:0),overflowing:Math.abs(p-c)<=1}}),[o,r,e.placeholder]),m=Sn((()=>{const e=d.current,t=g();if(!e||!t||ir(t))return!1;const n=t.outerHeightStyle;return null!=p.current&&p.current!==n})),f=i.useCallback((()=>{const e=d.current,t=g();if(!e||!t||ir(t))return;const n=t.outerHeightStyle;p.current!==n&&(p.current=n,e.style.height=`${n}px`),e.style.overflow=t.overflowing?"hidden":""}),[g]),b=i.useRef(-1);Cn((()=>{const e=Jo(f),t=null==d?void 0:d.current;if(!t)return;const n=Xo(t);let i;return n.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(i=new ResizeObserver((()=>{m()&&(i.unobserve(t),cancelAnimationFrame(b.current),f(),b.current=requestAnimationFrame((()=>{i.observe(t)})))})),i.observe(t)),()=>{e.clear(),cancelAnimationFrame(b.current),n.removeEventListener("resize",e),i&&i.disconnect()}}),[g,f,m]),Cn((()=>{f()}));return(0,ke.jsxs)(i.Fragment,{children:[(0,ke.jsx)("textarea",(0,we.A)({value:a,onChange:e=>{c||f(),n&&n(e)},ref:u,rows:r,style:s},l)),(0,ke.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:(0,we.A)({},nr,s,{paddingTop:0,paddingBottom:0})})]})})),rr=or;function sr(e){let{props:t,states:n,muiFormControl:i}=e;return n.reduce(((e,n)=>(e[n]=t[n],i&&"undefined"===typeof t[n]&&(e[n]=i[n]),e)),{})}const ar=i.createContext(void 0);function lr(){return i.useContext(ar)}const cr=Cn;function dr(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function ur(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(dr(e.value)&&""!==e.value||t&&dr(e.defaultValue)&&""!==e.defaultValue)}function pr(e){return Et("MuiInputBase",e)}const hr=Dt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),gr=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],mr=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${mn(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},fr=(e,t)=>{const{ownerState:n}=e;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},br=hn("div",{name:"MuiInputBase",slot:"Root",overridesResolver:mr})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${hr.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},n.multiline&&(0,we.A)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),yr=hn("input",{name:"MuiInputBase",slot:"Input",overridesResolver:fr})((e=>{let{theme:t,ownerState:n}=e;const i="light"===t.palette.mode,o=(0,we.A)({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),r={opacity:"0 !important"},s=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return(0,we.A)({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${hr.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s},[`&.${hr.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},"small"===n.size&&{paddingTop:1},n.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===n.type&&{MozAppearance:"textfield"})})),wr=(0,ke.jsx)(bt,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),vr=i.forwardRef((function(e,t){var n;const o=Ce({props:e,name:"MuiInputBase"}),{"aria-describedby":r,autoComplete:s,autoFocus:a,className:l,components:c={},componentsProps:d={},defaultValue:u,disabled:p,disableInjectingGlobalStyles:h,endAdornment:g,fullWidth:m=!1,id:f,inputComponent:b="input",inputProps:y={},inputRef:w,maxRows:v,minRows:k,multiline:_=!1,name:x,onBlur:A,onChange:C,onClick:S,onFocus:I,onKeyDown:T,onKeyUp:E,placeholder:D,readOnly:M,renderSuffix:P,rows:R,slotProps:B={},slots:j={},startAdornment:L,type:z="text",value:O}=o,N=(0,Re.A)(o,gr),F=null!=y.value?y.value:O,{current:V}=i.useRef(null!=F),H=i.useRef(),W=i.useCallback((e=>{0}),[]),U=An(H,w,y.ref,W),[q,$]=i.useState(!1),G=lr();const K=sr({props:o,muiFormControl:G,states:["color","disabled","error","hiddenLabel","size","required","filled"]});K.focused=G?G.focused:q,i.useEffect((()=>{!G&&p&&q&&($(!1),A&&A())}),[G,p,q,A]);const Y=G&&G.onFilled,Q=G&&G.onEmpty,Z=i.useCallback((e=>{ur(e)?Y&&Y():Q&&Q()}),[Y,Q]);cr((()=>{V&&Z({value:F})}),[F,Z,V]);i.useEffect((()=>{Z(H.current)}),[]);let X=b,J=y;_&&"input"===X&&(J=R?(0,we.A)({type:void 0,minRows:R,maxRows:R},J):(0,we.A)({type:void 0,maxRows:v,minRows:k},J),X=rr);i.useEffect((()=>{G&&G.setAdornedStart(Boolean(L))}),[G,L]);const ee=(0,we.A)({},o,{color:K.color||"primary",disabled:K.disabled,endAdornment:g,error:K.error,focused:K.focused,formControl:G,fullWidth:m,hiddenLabel:K.hiddenLabel,multiline:_,size:K.size,startAdornment:L,type:z}),te=(e=>{const{classes:t,color:n,disabled:i,error:o,endAdornment:r,focused:s,formControl:a,fullWidth:l,hiddenLabel:c,multiline:d,readOnly:u,size:p,startAdornment:h,type:g}=e;return cn({root:["root",`color${mn(n)}`,i&&"disabled",o&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",p&&"medium"!==p&&`size${mn(p)}`,d&&"multiline",h&&"adornedStart",r&&"adornedEnd",c&&"hiddenLabel",u&&"readOnly"],input:["input",i&&"disabled","search"===g&&"inputTypeSearch",d&&"inputMultiline","small"===p&&"inputSizeSmall",c&&"inputHiddenLabel",h&&"inputAdornedStart",r&&"inputAdornedEnd",u&&"readOnly"]},pr,t)})(ee),ne=j.root||c.Root||br,ie=B.root||d.root||{},oe=j.input||c.Input||yr;return J=(0,we.A)({},J,null!=(n=B.input)?n:d.input),(0,ke.jsxs)(i.Fragment,{children:[!h&&wr,(0,ke.jsxs)(ne,(0,we.A)({},ie,!Qo(ne)&&{ownerState:(0,we.A)({},ee,ie.ownerState)},{ref:t,onClick:e=>{H.current&&e.currentTarget===e.target&&H.current.focus(),S&&S(e)}},N,{className:_t(te.root,ie.className,l,M&&"MuiInputBase-readOnly"),children:[L,(0,ke.jsx)(ar.Provider,{value:null,children:(0,ke.jsx)(oe,(0,we.A)({ownerState:ee,"aria-invalid":K.error,"aria-describedby":r,autoComplete:s,autoFocus:a,defaultValue:u,disabled:K.disabled,id:f,onAnimationStart:e=>{Z("mui-auto-fill-cancel"===e.animationName?H.current:{value:"x"})},name:x,placeholder:D,readOnly:M,required:K.required,rows:R,value:F,onKeyDown:T,onKeyUp:E,type:z},J,!Qo(oe)&&{as:X,ownerState:(0,we.A)({},ee,J.ownerState)},{ref:U,className:_t(te.input,J.className,M&&"MuiInputBase-readOnly"),onBlur:e=>{A&&A(e),y.onBlur&&y.onBlur(e),G&&G.onBlur?G.onBlur(e):$(!1)},onChange:function(e){if(!V){const t=e.target||H.current;if(null==t)throw new Error((0,Be.A)(1));Z({value:t.value})}for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];y.onChange&&y.onChange(e,...n),C&&C(e,...n)},onFocus:e=>{K.disabled?e.stopPropagation():(I&&I(e),y.onFocus&&y.onFocus(e),G&&G.onFocus?G.onFocus(e):$(!0))}}))}),g,P?P((0,we.A)({},K,{startAdornment:L})):null]}))]})})),kr=vr;function _r(e){return Et("MuiInput",e)}const xr=(0,we.A)({},hr,Dt("MuiInput",["root","underline","input"])),Ar=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],Cr=hn(br,{shouldForwardProp:e=>pn(e)||"classes"===e,name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...mr(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;let i="light"===t.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(i=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),(0,we.A)({position:"relative"},n.formControl&&{"label + &":{marginTop:16}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[n.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${xr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${xr.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${xr.disabled}, .${xr.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${i}`}},[`&.${xr.disabled}:before`]:{borderBottomStyle:"dotted"}})})),Sr=hn(yr,{name:"MuiInput",slot:"Input",overridesResolver:fr})({}),Ir=i.forwardRef((function(e,t){var n,i,o,r;const s=Ce({props:e,name:"MuiInput"}),{disableUnderline:a,components:l={},componentsProps:c,fullWidth:d=!1,inputComponent:u="input",multiline:p=!1,slotProps:h,slots:g={},type:m="text"}=s,f=(0,Re.A)(s,Ar),b=(e=>{const{classes:t,disableUnderline:n}=e,i=cn({root:["root",!n&&"underline"],input:["input"]},_r,t);return(0,we.A)({},t,i)})(s),y={root:{ownerState:{disableUnderline:a}}},w=(null!=h?h:c)?(0,je.A)(null!=h?h:c,y):y,v=null!=(n=null!=(i=g.root)?i:l.Root)?n:Cr,k=null!=(o=null!=(r=g.input)?r:l.Input)?o:Sr;return(0,ke.jsx)(kr,(0,we.A)({slots:{root:v,input:k},slotProps:w,fullWidth:d,inputComponent:u,multiline:p,ref:t,type:m},f,{classes:b}))}));Ir.muiName="Input";const Tr=Ir;function Er(e){return Et("MuiFilledInput",e)}const Dr=(0,we.A)({},hr,Dt("MuiFilledInput",["root","underline","input"])),Mr=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Pr=hn(br,{shouldForwardProp:e=>pn(e)||"classes"===e,name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...mr(e,t),!n.disableUnderline&&t.underline]}})((e=>{let{theme:t,ownerState:n}=e;var i;const o="light"===t.palette.mode,r=o?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",s=o?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",a=o?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",l=o?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,we.A)({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:a,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s}},[`&.${Dr.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:s},[`&.${Dr.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:l}},!n.disableUnderline&&{"&::after":{borderBottom:`2px solid ${null==(i=(t.vars||t).palette[n.color||"primary"])?void 0:i.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Dr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Dr.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Dr.disabled}, .${Dr.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${Dr.disabled}:before`]:{borderBottomStyle:"dotted"}},n.startAdornment&&{paddingLeft:12},n.endAdornment&&{paddingRight:12},n.multiline&&(0,we.A)({padding:"25px 12px 8px"},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9}))})),Rr=hn(yr,{name:"MuiFilledInput",slot:"Input",overridesResolver:fr})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),Br=i.forwardRef((function(e,t){var n,i,o,r;const s=Ce({props:e,name:"MuiFilledInput"}),{components:a={},componentsProps:l,fullWidth:c=!1,inputComponent:d="input",multiline:u=!1,slotProps:p,slots:h={},type:g="text"}=s,m=(0,Re.A)(s,Mr),f=(0,we.A)({},s,{fullWidth:c,inputComponent:d,multiline:u,type:g}),b=(e=>{const{classes:t,disableUnderline:n}=e,i=cn({root:["root",!n&&"underline"],input:["input"]},Er,t);return(0,we.A)({},t,i)})(s),y={root:{ownerState:f},input:{ownerState:f}},w=(null!=p?p:l)?(0,je.A)(y,null!=p?p:l):y,v=null!=(n=null!=(i=h.root)?i:a.Root)?n:Pr,k=null!=(o=null!=(r=h.input)?r:a.Input)?o:Rr;return(0,ke.jsx)(kr,(0,we.A)({slots:{root:v,input:k},componentsProps:w,fullWidth:c,inputComponent:d,multiline:u,ref:t,type:g},m,{classes:b}))}));Br.muiName="Input";const jr=Br;var Lr;const zr=["children","classes","className","label","notched"],Or=hn("fieldset",{shouldForwardProp:pn})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Nr=hn("legend",{shouldForwardProp:pn})((e=>{let{ownerState:t,theme:n}=e;return(0,we.A)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,we.A)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Fr(e){return Et("MuiOutlinedInput",e)}const Vr=(0,we.A)({},hr,Dt("MuiOutlinedInput",["root","notchedOutline","input"])),Hr=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],Wr=hn(br,{shouldForwardProp:e=>pn(e)||"classes"===e,name:"MuiOutlinedInput",slot:"Root",overridesResolver:mr})((e=>{let{theme:t,ownerState:n}=e;const i="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,we.A)({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Vr.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Vr.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:i}},[`&.${Vr.focused} .${Vr.notchedOutline}`]:{borderColor:(t.vars||t).palette[n.color].main,borderWidth:2},[`&.${Vr.error} .${Vr.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Vr.disabled} .${Vr.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},n.startAdornment&&{paddingLeft:14},n.endAdornment&&{paddingRight:14},n.multiline&&(0,we.A)({padding:"16.5px 14px"},"small"===n.size&&{padding:"8.5px 14px"}))})),Ur=hn((function(e){const{className:t,label:n,notched:i}=e,o=(0,Re.A)(e,zr),r=null!=n&&""!==n,s=(0,we.A)({},e,{notched:i,withLabel:r});return(0,ke.jsx)(Or,(0,we.A)({"aria-hidden":!0,className:t,ownerState:s},o,{children:(0,ke.jsx)(Nr,{ownerState:s,children:r?(0,ke.jsx)("span",{children:n}):Lr||(Lr=(0,ke.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}})),qr=hn(yr,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:fr})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),$r=i.forwardRef((function(e,t){var n,o,r,s,a;const l=Ce({props:e,name:"MuiOutlinedInput"}),{components:c={},fullWidth:d=!1,inputComponent:u="input",label:p,multiline:h=!1,notched:g,slots:m={},type:f="text"}=l,b=(0,Re.A)(l,Hr),y=(e=>{const{classes:t}=e,n=cn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Fr,t);return(0,we.A)({},t,n)})(l),w=lr(),v=sr({props:l,muiFormControl:w,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),k=(0,we.A)({},l,{color:v.color||"primary",disabled:v.disabled,error:v.error,focused:v.focused,formControl:w,fullWidth:d,hiddenLabel:v.hiddenLabel,multiline:h,size:v.size,type:f}),_=null!=(n=null!=(o=m.root)?o:c.Root)?n:Wr,x=null!=(r=null!=(s=m.input)?s:c.Input)?r:qr;return(0,ke.jsx)(kr,(0,we.A)({slots:{root:_,input:x},renderSuffix:e=>(0,ke.jsx)(Ur,{ownerState:k,className:y.notchedOutline,label:null!=p&&""!==p&&v.required?a||(a=(0,ke.jsxs)(i.Fragment,{children:[p,"\u2009","*"]})):p,notched:"undefined"!==typeof g?g:Boolean(e.startAdornment||e.filled||e.focused)}),fullWidth:d,inputComponent:u,multiline:h,ref:t,type:f},b,{classes:(0,we.A)({},y,{notchedOutline:null})}))}));$r.muiName="Input";const Gr=$r;function Kr(e){return Et("MuiFormLabel",e)}const Yr=Dt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Qr=["children","className","color","component","disabled","error","filled","focused","required"],Zr=hn("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,we.A)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${Yr.focused}`]:{color:(t.vars||t).palette[n.color].main},[`&.${Yr.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${Yr.error}`]:{color:(t.vars||t).palette.error.main}})})),Xr=hn("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${Yr.error}`]:{color:(t.vars||t).palette.error.main}}})),Jr=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:r="label"}=n,s=(0,Re.A)(n,Qr),a=sr({props:n,muiFormControl:lr(),states:["color","required","focused","disabled","error","filled"]}),l=(0,we.A)({},n,{color:a.color||"primary",component:r,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,color:n,focused:i,disabled:o,error:r,filled:s,required:a}=e;return cn({root:["root",`color${mn(n)}`,o&&"disabled",r&&"error",s&&"filled",i&&"focused",a&&"required"],asterisk:["asterisk",r&&"error"]},Kr,t)})(l);return(0,ke.jsxs)(Zr,(0,we.A)({as:r,ownerState:l,className:_t(c.root,o),ref:t},s,{children:[i,a.required&&(0,ke.jsxs)(Xr,{ownerState:l,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))}));function es(e){return Et("MuiInputLabel",e)}Dt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const ts=["disableAnimation","margin","shrink","variant","className"],ns=hn(Jr,{shouldForwardProp:e=>pn(e)||"classes"===e,name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Yr.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,we.A)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,we.A)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,we.A)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),is=i.forwardRef((function(e,t){const n=Ce({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:r}=n,s=(0,Re.A)(n,ts),a=lr();let l=o;"undefined"===typeof l&&a&&(l=a.filled||a.focused||a.adornedStart);const c=sr({props:n,muiFormControl:a,states:["size","variant","required","focused"]}),d=(0,we.A)({},n,{disableAnimation:i,formControl:a,shrink:l,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),u=(e=>{const{classes:t,formControl:n,size:i,shrink:o,disableAnimation:r,variant:s,required:a}=e,l=cn({root:["root",n&&"formControl",!r&&"animated",o&&"shrink",i&&"normal"!==i&&`size${mn(i)}`,s],asterisk:[a&&"asterisk"]},es,t);return(0,we.A)({},t,l)})(d);return(0,ke.jsx)(ns,(0,we.A)({"data-shrink":l,ownerState:d,ref:t,className:_t(u.root,r)},s,{classes:u}))}));const os=function(e,t){var n,o;return i.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(o=e.type)||null==(o=o._payload)||null==(o=o.value)?void 0:o.muiName)};function rs(e){return Et("MuiFormControl",e)}Dt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const ss=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],as=hn("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return(0,we.A)({},t.root,t[`margin${mn(n.margin)}`],n.fullWidth&&t.fullWidth)}})((e=>{let{ownerState:t}=e;return(0,we.A)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),ls=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiFormControl"}),{children:o,className:r,color:s="primary",component:a="div",disabled:l=!1,error:c=!1,focused:d,fullWidth:u=!1,hiddenLabel:p=!1,margin:h="none",required:g=!1,size:m="medium",variant:f="outlined"}=n,b=(0,Re.A)(n,ss),y=(0,we.A)({},n,{color:s,component:a,disabled:l,error:c,fullWidth:u,hiddenLabel:p,margin:h,required:g,size:m,variant:f}),w=(e=>{const{classes:t,margin:n,fullWidth:i}=e;return cn({root:["root","none"!==n&&`margin${mn(n)}`,i&&"fullWidth"]},rs,t)})(y),[v,k]=i.useState((()=>{let e=!1;return o&&i.Children.forEach(o,(t=>{if(!os(t,["Input","Select"]))return;const n=os(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)})),e})),[_,x]=i.useState((()=>{let e=!1;return o&&i.Children.forEach(o,(t=>{os(t,["Input","Select"])&&(ur(t.props,!0)||ur(t.props.inputProps,!0))&&(e=!0)})),e})),[A,C]=i.useState(!1);l&&A&&C(!1);const S=void 0===d||l?A:d;let I;const T=i.useMemo((()=>({adornedStart:v,setAdornedStart:k,color:s,disabled:l,error:c,filled:_,focused:S,fullWidth:u,hiddenLabel:p,size:m,onBlur:()=>{C(!1)},onEmpty:()=>{x(!1)},onFilled:()=>{x(!0)},onFocus:()=>{C(!0)},registerEffect:I,required:g,variant:f})),[v,s,l,c,_,S,u,p,I,g,m,f]);return(0,ke.jsx)(ar.Provider,{value:T,children:(0,ke.jsx)(as,(0,we.A)({as:a,ownerState:y,className:_t(w.root,r),ref:t},b,{children:o}))})}));function cs(e){return Et("MuiFormHelperText",e)}const ds=Dt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var us;const ps=["children","className","component","disabled","error","filled","focused","margin","required","variant"],hs=hn("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${mn(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${ds.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${ds.error}`]:{color:(t.vars||t).palette.error.main}},"small"===n.size&&{marginTop:4},n.contained&&{marginLeft:14,marginRight:14})})),gs=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:r="p"}=n,s=(0,Re.A)(n,ps),a=sr({props:n,muiFormControl:lr(),states:["variant","size","disabled","error","filled","focused","required"]}),l=(0,we.A)({},n,{component:r,contained:"filled"===a.variant||"outlined"===a.variant,variant:a.variant,size:a.size,disabled:a.disabled,error:a.error,filled:a.filled,focused:a.focused,required:a.required}),c=(e=>{const{classes:t,contained:n,size:i,disabled:o,error:r,filled:s,focused:a,required:l}=e;return cn({root:["root",o&&"disabled",r&&"error",i&&`size${mn(i)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]},cs,t)})(l);return(0,ke.jsx)(hs,(0,we.A)({as:r,ownerState:l,className:_t(c.root,o),ref:t},s,{children:" "===i?us||(us=(0,ke.jsx)("span",{className:"notranslate",children:"\u200b"})):i}))}));function ms(e){var t;return parseInt(i.version,10)>=19?(null==e||null==(t=e.props)?void 0:t.ref)||null:(null==e?void 0:e.ref)||null}const fs=Zo;const bs=function(e,t,n){return void 0===e||Qo(e)?t:(0,we.A)({},t,{ownerState:(0,we.A)({},t.ownerState,n)})};const ys=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const ws=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const vs=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:i,externalForwardedProps:o,className:r}=e;if(!t){const e=_t(null==n?void 0:n.className,r,null==o?void 0:o.className,null==i?void 0:i.className),t=(0,we.A)({},null==n?void 0:n.style,null==o?void 0:o.style,null==i?void 0:i.style),s=(0,we.A)({},n,o,i);return e.length>0&&(s.className=e),Object.keys(t).length>0&&(s.style=t),{props:s,internalRef:void 0}}const s=ys((0,we.A)({},o,i)),a=ws(i),l=ws(o),c=t(s),d=_t(null==c?void 0:c.className,null==n?void 0:n.className,r,null==o?void 0:o.className,null==i?void 0:i.className),u=(0,we.A)({},null==c?void 0:c.style,null==n?void 0:n.style,null==o?void 0:o.style,null==i?void 0:i.style),p=(0,we.A)({},c,n,l,a);return d.length>0&&(p.className=d),Object.keys(u).length>0&&(p.style=u),{props:p,internalRef:c.ref}};const ks=function(e,t,n){return"function"===typeof e?e(t,n):e},_s=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];const xs=function(e){var t;const{elementType:n,externalSlotProps:i,ownerState:o,skipResolvingSlotProps:r=!1}=e,s=(0,Re.A)(e,_s),a=r?{}:ks(i,o),{props:l,internalRef:c}=vs((0,we.A)({},s,{externalSlotProps:a})),d=xn(c,null==a?void 0:a.ref,null==(t=e.additionalProps)?void 0:t.ref);return bs(n,(0,we.A)({},l,{ref:d}),o)};const As=i.createContext({});function Cs(e){return Et("MuiList",e)}Dt("MuiList",["root","padding","dense","subheader"]);const Ss=["children","className","component","dense","disablePadding","subheader"],Is=hn("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((e=>{let{ownerState:t}=e;return(0,we.A)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),Ts=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiList"}),{children:o,className:r,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=n,d=(0,Re.A)(n,Ss),u=i.useMemo((()=>({dense:a})),[a]),p=(0,we.A)({},n,{component:s,dense:a,disablePadding:l}),h=(e=>{const{classes:t,disablePadding:n,dense:i,subheader:o}=e;return cn({root:["root",!n&&"padding",i&&"dense",o&&"subheader"]},Cs,t)})(p);return(0,ke.jsx)(As.Provider,{value:u,children:(0,ke.jsxs)(Is,(0,we.A)({as:s,className:_t(h.root,r),ref:t,ownerState:p},d,{children:[c,o]}))})}));function Es(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}const Ds=Es,Ms=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Ps(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Rs(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Bs(e,t){if(void 0===t)return!0;let n=e.innerText;return void 0===n&&(n=e.textContent),n=n.trim().toLowerCase(),0!==n.length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function js(e,t,n,i,o,r){let s=!1,a=o(e,t,!!t&&n);for(;a;){if(a===e.firstChild){if(s)return!1;s=!0}const t=!i&&(a.disabled||"true"===a.getAttribute("aria-disabled"));if(a.hasAttribute("tabindex")&&Bs(a,r)&&!t)return a.focus(),!0;a=o(e,a,n)}return!1}const Ls=i.forwardRef((function(e,t){const{actions:n,autoFocus:o=!1,autoFocusItem:r=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:c=!1,onKeyDown:d,variant:u="selectedMenu"}=e,p=(0,Re.A)(e,Ms),h=i.useRef(null),g=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});cr((()=>{o&&h.current.focus()}),[o]),i.useImperativeHandle(n,(()=>({adjustStyleForScrollbar:(e,t)=>{let{direction:n}=t;const i=!h.current.style.width;if(e.clientHeight<h.current.clientHeight&&i){const t=`${Ds(fs(e))}px`;h.current.style["rtl"===n?"paddingLeft":"paddingRight"]=t,h.current.style.width=`calc(100% + ${t})`}return h.current}})),[]);const m=An(h,t);let f=-1;i.Children.forEach(s,((e,t)=>{i.isValidElement(e)?(e.props.disabled||("selectedMenu"===u&&e.props.selected||-1===f)&&(f=t),f===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(f+=1,f>=s.length&&(f=-1))):f===t&&(f+=1,f>=s.length&&(f=-1))}));const b=i.Children.map(s,((e,t)=>{if(t===f){const t={};return r&&(t.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===u&&(t.tabIndex=0),i.cloneElement(e,t)}return e}));return(0,ke.jsx)(Ts,(0,we.A)({role:"menu",ref:m,className:a,onKeyDown:e=>{const t=h.current,n=e.key,i=fs(t).activeElement;if("ArrowDown"===n)e.preventDefault(),js(t,i,c,l,Ps);else if("ArrowUp"===n)e.preventDefault(),js(t,i,c,l,Rs);else if("Home"===n)e.preventDefault(),js(t,null,c,l,Ps);else if("End"===n)e.preventDefault(),js(t,null,c,l,Rs);else if(1===n.length){const o=g.current,r=n.toLowerCase(),s=performance.now();o.keys.length>0&&(s-o.lastTime>500?(o.keys=[],o.repeating=!0,o.previousKeyMatched=!0):o.repeating&&r!==o.keys[0]&&(o.repeating=!1)),o.lastTime=s,o.keys.push(r);const a=i&&!o.repeating&&Bs(i,o);o.previousKeyMatched&&(a||js(t,i,!1,l,Ps,o))?e.preventDefault():o.previousKeyMatched=!1}d&&d(e)},tabIndex:o?0:-1},p,{children:b}))})),zs=Ls,Os=Jo,Ns=Xo,Fs=!1;var Vs="unmounted",Hs="exited",Ws="entering",Us="entered",qs="exiting",$s=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var o,r=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?r?(o=Hs,i.appearStatus=Ws):o=Us:o=t.unmountOnExit||t.mountOnEnter?Vs:Hs,i.state={status:o},i.nextCallback=null,i}Hn(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Vs?{status:Hs}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ws&&n!==Us&&(t=Ws):n!==Ws&&n!==Us||(t=qs)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Ws){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Kt.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Hs&&this.setState({status:Vs})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,o=this.props.nodeRef?[i]:[Kt.findDOMNode(this),i],r=o[0],s=o[1],a=this.getTimeouts(),l=i?a.appear:a.enter;!e&&!n||Fs?this.safeSetState({status:Us},(function(){t.props.onEntered(r)})):(this.props.onEnter(r,s),this.safeSetState({status:Ws},(function(){t.props.onEntering(r,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:Us},(function(){t.props.onEntered(r,s)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:Kt.findDOMNode(this);t&&!Fs?(this.props.onExit(i),this.safeSetState({status:qs},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Hs},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Hs},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Kt.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],r=o[0],s=o[1];this.props.addEndListener(r,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Vs)return null;var t=this.props,n=t.children,o=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,Re.A)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(Wn.Provider,{value:null},"function"===typeof n?n(e,o):i.cloneElement(i.Children.only(n),o))},t}(i.Component);function Gs(){}$s.contextType=Wn,$s.propTypes={},$s.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Gs,onEntering:Gs,onEntered:Gs,onExit:Gs,onExiting:Gs,onExited:Gs},$s.UNMOUNTED=Vs,$s.EXITED=Hs,$s.ENTERING=Ws,$s.ENTERED=Us,$s.EXITING=qs;const Ks=$s,Ys=e=>e.scrollTop;function Qs(e,t){var n,i;const{timeout:o,easing:r,style:s={}}=e;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof o?o:o[t.mode]||0,easing:null!=(i=s.transitionTimingFunction)?i:"object"===typeof r?r[t.mode]:r,delay:s.transitionDelay}}const Zs=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Xs(e){return`scale(${e}, ${e**2})`}const Js={entering:{opacity:1,transform:Xs(1)},entered:{opacity:1,transform:"none"}},ea="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),ta=i.forwardRef((function(e,t){const{addEndListener:n,appear:o=!0,children:r,easing:s,in:a,onEnter:l,onEntered:c,onEntering:d,onExit:u,onExited:p,onExiting:h,style:g,timeout:m="auto",TransitionComponent:f=Ks}=e,b=(0,Re.A)(e,Zs),y=Mn(),w=i.useRef(),v=Ei(),k=i.useRef(null),_=An(k,ms(r),t),x=e=>t=>{if(e){const n=k.current;void 0===t?e(n):e(n,t)}},A=x(d),C=x(((e,t)=>{Ys(e);const{duration:n,delay:i,easing:o}=Qs({style:g,timeout:m,easing:s},{mode:"enter"});let r;"auto"===m?(r=v.transitions.getAutoHeightDuration(e.clientHeight),w.current=r):r=n,e.style.transition=[v.transitions.create("opacity",{duration:r,delay:i}),v.transitions.create("transform",{duration:ea?r:.666*r,delay:i,easing:o})].join(","),l&&l(e,t)})),S=x(c),I=x(h),T=x((e=>{const{duration:t,delay:n,easing:i}=Qs({style:g,timeout:m,easing:s},{mode:"exit"});let o;"auto"===m?(o=v.transitions.getAutoHeightDuration(e.clientHeight),w.current=o):o=t,e.style.transition=[v.transitions.create("opacity",{duration:o,delay:n}),v.transitions.create("transform",{duration:ea?o:.666*o,delay:ea?n:n||.333*o,easing:i})].join(","),e.style.opacity=0,e.style.transform=Xs(.75),u&&u(e)})),E=x(p);return(0,ke.jsx)(f,(0,we.A)({appear:o,in:a,nodeRef:k,onEnter:C,onEntered:S,onEntering:A,onExit:T,onExited:E,onExiting:I,addEndListener:e=>{"auto"===m&&y.start(w.current||0,e),n&&n(k.current,e)},timeout:"auto"===m?null:m},b,{children:(e,t)=>i.cloneElement(r,(0,we.A)({style:(0,we.A)({opacity:0,transform:Xs(.75),visibility:"exited"!==e||a?void 0:"hidden"},Js[e],g,r.props.style),ref:_},t))}))}));ta.muiSupportAuto=!0;const na=ta,ia=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function oa(e){const t=[],n=[];return Array.from(e.querySelectorAll(ia)).forEach(((e,i)=>{const o=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==o&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector(`input[type="radio"]${t}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}(e))}(e)&&(0===o?t.push(e):n.push({documentOrder:i,tabIndex:o,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function ra(){return!0}const sa=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:o=!1,disableRestoreFocus:r=!1,getTabbable:s=oa,isEnabled:a=ra,open:l}=e,c=i.useRef(!1),d=i.useRef(null),u=i.useRef(null),p=i.useRef(null),h=i.useRef(null),g=i.useRef(!1),m=i.useRef(null),f=xn(ms(t),m),b=i.useRef(null);i.useEffect((()=>{l&&m.current&&(g.current=!n)}),[n,l]),i.useEffect((()=>{if(!l||!m.current)return;const e=Zo(m.current);return m.current.contains(e.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),g.current&&m.current.focus()),()=>{r||(p.current&&p.current.focus&&(c.current=!0,p.current.focus()),p.current=null)}}),[l]),i.useEffect((()=>{if(!l||!m.current)return;const e=Zo(m.current),t=t=>{b.current=t,!o&&a()&&"Tab"===t.key&&e.activeElement===m.current&&t.shiftKey&&(c.current=!0,u.current&&u.current.focus())},n=()=>{const t=m.current;if(null===t)return;if(!e.hasFocus()||!a()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(o&&e.activeElement!==d.current&&e.activeElement!==u.current)return;if(e.activeElement!==h.current)h.current=null;else if(null!==h.current)return;if(!g.current)return;let n=[];if(e.activeElement!==d.current&&e.activeElement!==u.current||(n=s(m.current)),n.length>0){var i,r;const e=Boolean((null==(i=b.current)?void 0:i.shiftKey)&&"Tab"===(null==(r=b.current)?void 0:r.key)),t=n[0],o=n[n.length-1];"string"!==typeof t&&"string"!==typeof o&&(e?o.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,o,r,a,l,s]);const y=e=>{null===p.current&&(p.current=e.relatedTarget),g.current=!0};return(0,ke.jsxs)(i.Fragment,{children:[(0,ke.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:d,"data-testid":"sentinelStart"}),i.cloneElement(t,{ref:f,onFocus:e=>{null===p.current&&(p.current=e.relatedTarget),g.current=!0,h.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,ke.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelEnd"})]})};const aa=i.forwardRef((function(e,t){const{children:n,container:o,disablePortal:r=!1}=e,[s,a]=i.useState(null),l=xn(i.isValidElement(n)?ms(n):null,t);if(Cn((()=>{r||a(function(e){return"function"===typeof e?e():e}(o)||document.body)}),[o,r]),Cn((()=>{if(s&&!r)return _n(t,s),()=>{_n(t,null)}}),[t,s,r]),r){if(i.isValidElement(n)){const e={ref:l};return i.cloneElement(n,e)}return(0,ke.jsx)(i.Fragment,{children:n})}return(0,ke.jsx)(i.Fragment,{children:s?Kt.createPortal(n,s):s})})),la=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ca={entering:{opacity:1},entered:{opacity:1}},da=i.forwardRef((function(e,t){const n=Ei(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:r,appear:s=!0,children:a,easing:l,in:c,onEnter:d,onEntered:u,onEntering:p,onExit:h,onExited:g,onExiting:m,style:f,timeout:b=o,TransitionComponent:y=Ks}=e,w=(0,Re.A)(e,la),v=i.useRef(null),k=An(v,ms(a),t),_=e=>t=>{if(e){const n=v.current;void 0===t?e(n):e(n,t)}},x=_(p),A=_(((e,t)=>{Ys(e);const i=Qs({style:f,timeout:b,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",i),e.style.transition=n.transitions.create("opacity",i),d&&d(e,t)})),C=_(u),S=_(m),I=_((e=>{const t=Qs({style:f,timeout:b,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),h&&h(e)})),T=_(g);return(0,ke.jsx)(y,(0,we.A)({appear:s,in:c,nodeRef:v,onEnter:A,onEntered:C,onEntering:x,onExit:I,onExited:T,onExiting:S,addEndListener:e=>{r&&r(v.current,e)},timeout:b},w,{children:(e,t)=>i.cloneElement(a,(0,we.A)({style:(0,we.A)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},ca[e],f,a.props.style),ref:k},t))}))})),ua=da;function pa(e){return Et("MuiBackdrop",e)}Dt("MuiBackdrop",["root","invisible"]);const ha=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],ga=hn("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})((e=>{let{ownerState:t}=e;return(0,we.A)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),ma=i.forwardRef((function(e,t){var n,i,o;const r=Ce({props:e,name:"MuiBackdrop"}),{children:s,className:a,component:l="div",components:c={},componentsProps:d={},invisible:u=!1,open:p,slotProps:h={},slots:g={},TransitionComponent:m=ua,transitionDuration:f}=r,b=(0,Re.A)(r,ha),y=(0,we.A)({},r,{component:l,invisible:u}),w=(e=>{const{classes:t,invisible:n}=e;return cn({root:["root",n&&"invisible"]},pa,t)})(y),v=null!=(n=h.root)?n:d.root;return(0,ke.jsx)(m,(0,we.A)({in:p,timeout:f},b,{children:(0,ke.jsx)(ga,(0,we.A)({"aria-hidden":!0},v,{as:null!=(i=null!=(o=g.root)?o:c.Root)?i:l,className:_t(w.root,a,null==v?void 0:v.className),ownerState:(0,we.A)({},y,null==v?void 0:v.ownerState),classes:w,ref:t,children:s}))}))}));function fa(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];e.apply(this,i),t.apply(this,i)}),(()=>{}))}function ba(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function ya(e){return parseInt(Xo(e).getComputedStyle(e).paddingRight,10)||0}function wa(e,t,n,i,o){const r=[t,n,...i];[].forEach.call(e.children,(e=>{const t=-1===r.indexOf(e),n=!function(e){const t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&ba(e,o)}))}function va(e,t){let n=-1;return e.some(((e,i)=>!!t(e)&&(n=i,!0))),n}function ka(e,t){const n=[],i=e.container;if(!t.disableScrollLock){if(function(e){const t=Zo(e);return t.body===e?Xo(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(i)){const e=Es(Zo(i));n.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight=`${ya(i)+e}px`;const t=Zo(i).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight=`${ya(t)+e}px`}))}let e;if(i.parentNode instanceof DocumentFragment)e=Zo(i).body;else{const t=i.parentElement,n=Xo(i);e="HTML"===(null==t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:i}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:i}=e;t?n.style.setProperty(i,t):n.style.removeProperty(i)}))}}const _a=new class{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&ba(e.modalRef,!1);const i=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);wa(t,e.mount,e.modalRef,i,!0);const o=va(this.containers,(e=>e.container===t));return-1!==o?(this.containers[o].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),n)}mount(e,t){const n=va(this.containers,(t=>-1!==t.modals.indexOf(e))),i=this.containers[n];i.restore||(i.restore=ka(i,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const i=va(this.containers,(t=>-1!==t.modals.indexOf(e))),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(n,1),0===o.modals.length)o.restore&&o.restore(),e.modalRef&&ba(e.modalRef,t),wa(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const e=o.modals[o.modals.length-1];e.modalRef&&ba(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const xa=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:o=!1,manager:r=_a,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:l,children:c,onClose:d,open:u,rootRef:p}=e,h=i.useRef({}),g=i.useRef(null),m=i.useRef(null),f=xn(m,p),[b,y]=i.useState(!u),w=function(e){return!!e&&e.props.hasOwnProperty("in")}(c);let v=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(v=!1);const k=()=>(h.current.modalRef=m.current,h.current.mount=g.current,h.current),_=()=>{r.mount(k(),{disableScrollLock:o}),m.current&&(m.current.scrollTop=0)},x=Sn((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||Zo(g.current).body;r.add(k(),e),m.current&&_()})),A=i.useCallback((()=>r.isTopModal(k())),[r]),C=Sn((e=>{g.current=e,e&&(u&&A()?_():m.current&&ba(m.current,v))})),S=i.useCallback((()=>{r.remove(k(),v)}),[v,r]);i.useEffect((()=>()=>{S()}),[S]),i.useEffect((()=>{u?x():w&&s||S()}),[u,S,w,s,x]);const I=e=>t=>{var i;null==(i=e.onKeyDown)||i.call(e,t),"Escape"===t.key&&229!==t.which&&A()&&(n||(t.stopPropagation(),d&&d(t,"escapeKeyDown")))},T=e=>t=>{var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&d&&d(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=ys(e);delete n.onTransitionEnter,delete n.onTransitionExited;const i=(0,we.A)({},n,t);return(0,we.A)({role:"presentation"},i,{onKeyDown:I(i),ref:f})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,we.A)({"aria-hidden":!0},e,{onClick:T(e),open:u})},getTransitionProps:()=>({onEnter:fa((()=>{y(!1),a&&a()}),null==c?void 0:c.props.onEnter),onExited:fa((()=>{y(!0),l&&l(),s&&S()}),null==c?void 0:c.props.onExited)}),rootRef:f,portalRef:C,isTopModal:A,exited:b,hasTransition:w}};function Aa(e){return Et("MuiModal",e)}Dt("MuiModal",["root","hidden","backdrop"]);const Ca=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Sa=hn("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Ia=hn(ma,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Ta=i.forwardRef((function(e,t){var n,o,r,s,a,l;const c=Ce({name:"MuiModal",props:e}),{BackdropComponent:d=Ia,BackdropProps:u,className:p,closeAfterTransition:h=!1,children:g,container:m,component:f,components:b={},componentsProps:y={},disableAutoFocus:w=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:k=!1,disablePortal:_=!1,disableRestoreFocus:x=!1,disableScrollLock:A=!1,hideBackdrop:C=!1,keepMounted:S=!1,onBackdropClick:I,open:T,slotProps:E,slots:D}=c,M=(0,Re.A)(c,Ca),P=(0,we.A)({},c,{closeAfterTransition:h,disableAutoFocus:w,disableEnforceFocus:v,disableEscapeKeyDown:k,disablePortal:_,disableRestoreFocus:x,disableScrollLock:A,hideBackdrop:C,keepMounted:S}),{getRootProps:R,getBackdropProps:B,getTransitionProps:j,portalRef:L,isTopModal:z,exited:O,hasTransition:N}=xa((0,we.A)({},P,{rootRef:t})),F=(0,we.A)({},P,{exited:O}),V=(e=>{const{open:t,exited:n,classes:i}=e;return cn({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Aa,i)})(F),H={};if(void 0===g.props.tabIndex&&(H.tabIndex="-1"),N){const{onEnter:e,onExited:t}=j();H.onEnter=e,H.onExited=t}const W=null!=(n=null!=(o=null==D?void 0:D.root)?o:b.Root)?n:Sa,U=null!=(r=null!=(s=null==D?void 0:D.backdrop)?s:b.Backdrop)?r:d,q=null!=(a=null==E?void 0:E.root)?a:y.root,$=null!=(l=null==E?void 0:E.backdrop)?l:y.backdrop,G=xs({elementType:W,externalSlotProps:q,externalForwardedProps:M,getSlotProps:R,additionalProps:{ref:t,as:f},ownerState:F,className:_t(p,null==q?void 0:q.className,null==V?void 0:V.root,!F.open&&F.exited&&(null==V?void 0:V.hidden))}),K=xs({elementType:U,externalSlotProps:$,additionalProps:u,getSlotProps:e=>B((0,we.A)({},e,{onClick:t=>{I&&I(t),null!=e&&e.onClick&&e.onClick(t)}})),className:_t(null==$?void 0:$.className,null==u?void 0:u.className,null==V?void 0:V.backdrop),ownerState:F});return S||T||N&&!O?(0,ke.jsx)(aa,{ref:L,container:m,disablePortal:_,children:(0,ke.jsxs)(W,(0,we.A)({},G,{children:[!C&&d?(0,ke.jsx)(U,(0,we.A)({},K)):null,(0,ke.jsx)(sa,{disableEnforceFocus:v,disableAutoFocus:w,disableRestoreFocus:x,isEnabled:z,open:T,children:i.cloneElement(g,H)})]}))}):null})),Ea=Ta;function Da(e){return Et("MuiPopover",e)}Dt("MuiPopover",["root","paper"]);const Ma=["onEntering"],Pa=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Ra=["slotProps"];function Ba(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function ja(e,t){let n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function La(e){return[e.horizontal,e.vertical].map((e=>"number"===typeof e?`${e}px`:e)).join(" ")}function za(e){return"function"===typeof e?e():e}const Oa=hn(Ea,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Na=hn($i,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Fa=i.forwardRef((function(e,t){var n,o,r;const s=Ce({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:c={vertical:"top",horizontal:"left"},anchorPosition:d,anchorReference:u="anchorEl",children:p,className:h,container:g,elevation:m=8,marginThreshold:f=16,open:b,PaperProps:y={},slots:w,slotProps:v,transformOrigin:k={vertical:"top",horizontal:"left"},TransitionComponent:_=na,transitionDuration:x="auto",TransitionProps:{onEntering:A}={},disableScrollLock:C=!1}=s,S=(0,Re.A)(s.TransitionProps,Ma),I=(0,Re.A)(s,Pa),T=null!=(n=null==v?void 0:v.paper)?n:y,E=i.useRef(),D=An(E,T.ref),M=(0,we.A)({},s,{anchorOrigin:c,anchorReference:u,elevation:m,marginThreshold:f,externalPaperSlotProps:T,transformOrigin:k,TransitionComponent:_,transitionDuration:x,TransitionProps:S}),P=(e=>{const{classes:t}=e;return cn({root:["root"],paper:["paper"]},Da,t)})(M),R=i.useCallback((()=>{if("anchorPosition"===u)return d;const e=za(l),t=(e&&1===e.nodeType?e:fs(E.current).body).getBoundingClientRect();return{top:t.top+Ba(t,c.vertical),left:t.left+ja(t,c.horizontal)}}),[l,c.horizontal,c.vertical,d,u]),B=i.useCallback((e=>({vertical:Ba(e,k.vertical),horizontal:ja(e,k.horizontal)})),[k.horizontal,k.vertical]),j=i.useCallback((e=>{const t={width:e.offsetWidth,height:e.offsetHeight},n=B(t);if("none"===u)return{top:null,left:null,transformOrigin:La(n)};const i=R();let o=i.top-n.vertical,r=i.left-n.horizontal;const s=o+t.height,a=r+t.width,c=Ns(za(l)),d=c.innerHeight-f,p=c.innerWidth-f;if(null!==f&&o<f){const e=o-f;o-=e,n.vertical+=e}else if(null!==f&&s>d){const e=s-d;o-=e,n.vertical+=e}if(null!==f&&r<f){const e=r-f;r-=e,n.horizontal+=e}else if(a>p){const e=a-p;r-=e,n.horizontal+=e}return{top:`${Math.round(o)}px`,left:`${Math.round(r)}px`,transformOrigin:La(n)}}),[l,u,R,B,f]),[L,z]=i.useState(b),O=i.useCallback((()=>{const e=E.current;if(!e)return;const t=j(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,z(!0)}),[j]);i.useEffect((()=>(C&&window.addEventListener("scroll",O),()=>window.removeEventListener("scroll",O))),[l,C,O]);i.useEffect((()=>{b&&O()})),i.useImperativeHandle(a,(()=>b?{updatePosition:()=>{O()}}:null),[b,O]),i.useEffect((()=>{if(!b)return;const e=Os((()=>{O()})),t=Ns(l);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[l,b,O]);let N=x;"auto"!==x||_.muiSupportAuto||(N=void 0);const F=g||(l?fs(za(l)).body:void 0),V=null!=(o=null==w?void 0:w.root)?o:Oa,H=null!=(r=null==w?void 0:w.paper)?r:Na,W=xs({elementType:H,externalSlotProps:(0,we.A)({},T,{style:L?T.style:(0,we.A)({},T.style,{opacity:0})}),additionalProps:{elevation:m,ref:D},ownerState:M,className:_t(P.paper,null==T?void 0:T.className)}),U=xs({elementType:V,externalSlotProps:(null==v?void 0:v.root)||{},externalForwardedProps:I,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:F,open:b},ownerState:M,className:_t(P.root,h)}),{slotProps:q}=U,$=(0,Re.A)(U,Ra);return(0,ke.jsx)(V,(0,we.A)({},$,!Qo(V)&&{slotProps:q,disableScrollLock:C},{children:(0,ke.jsx)(_,(0,we.A)({appear:!0,in:b,onEntering:(e,t)=>{A&&A(e,t),O()},onExited:()=>{z(!1)},timeout:N},S,{children:(0,ke.jsx)(H,(0,we.A)({},W,{children:p}))}))}))})),Va=Fa;function Ha(e){return Et("MuiMenu",e)}Dt("MuiMenu",["root","paper","list"]);const Wa=["onEntering"],Ua=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],qa={vertical:"top",horizontal:"right"},$a={vertical:"top",horizontal:"left"},Ga=hn(Va,{shouldForwardProp:e=>pn(e)||"classes"===e,name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Ka=hn(Na,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Ya=hn(zs,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),Qa=i.forwardRef((function(e,t){var n,o;const r=Ce({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:c=!1,MenuListProps:d={},onClose:u,open:p,PaperProps:h={},PopoverClasses:g,transitionDuration:m="auto",TransitionProps:{onEntering:f}={},variant:b="selectedMenu",slots:y={},slotProps:w={}}=r,v=(0,Re.A)(r.TransitionProps,Wa),k=(0,Re.A)(r,Ua),_=Vt(),x=(0,we.A)({},r,{autoFocus:s,disableAutoFocusItem:c,MenuListProps:d,onEntering:f,PaperProps:h,transitionDuration:m,TransitionProps:v,variant:b}),A=(e=>{const{classes:t}=e;return cn({root:["root"],paper:["paper"],list:["list"]},Ha,t)})(x),C=s&&!c&&p,S=i.useRef(null);let I=-1;i.Children.map(a,((e,t)=>{i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===b&&e.props.selected||-1===I)&&(I=t))}));const T=null!=(n=y.paper)?n:Ka,E=null!=(o=w.paper)?o:h,D=xs({elementType:y.root,externalSlotProps:w.root,ownerState:x,className:[A.root,l]}),M=xs({elementType:T,externalSlotProps:E,ownerState:x,className:A.paper});return(0,ke.jsx)(Ga,(0,we.A)({onClose:u,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?qa:$a,slots:{paper:T,root:y.root},slotProps:{root:D,paper:M},open:p,ref:t,transitionDuration:m,TransitionProps:(0,we.A)({onEntering:(e,t)=>{S.current&&S.current.adjustStyleForScrollbar(e,{direction:_?"rtl":"ltr"}),f&&f(e,t)}},v),ownerState:x},k,{classes:g,children:(0,ke.jsx)(Ya,(0,we.A)({onKeyDown:e=>{"Tab"===e.key&&(e.preventDefault(),u&&u(e,"tabKeyDown"))},actions:S,autoFocus:s&&(-1===I||c),autoFocusItem:C,variant:b},d,{className:_t(A.list,d.className),children:a}))}))})),Za=Qa;function Xa(e){return Et("MuiNativeSelect",e)}const Ja=Dt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),el=["className","disabled","error","IconComponent","inputRef","variant"],tl=e=>{let{ownerState:t,theme:n}=e;return(0,we.A)({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,we.A)({},n.vars?{backgroundColor:`rgba(${n.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:"light"===n.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${Ja.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(n.vars||n).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},"filled"===t.variant&&{"&&&":{paddingRight:32}},"outlined"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius,"&:focus":{borderRadius:(n.vars||n).shape.borderRadius},"&&&":{paddingRight:32}})},nl=hn("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:pn,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${Ja.multiple}`]:t.multiple}]}})(tl),il=e=>{let{ownerState:t,theme:n}=e;return(0,we.A)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active,[`&.${Ja.disabled}`]:{color:(n.vars||n).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},ol=hn("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${mn(n.variant)}`],n.open&&t.iconOpen]}})(il),rl=i.forwardRef((function(e,t){const{className:n,disabled:o,error:r,IconComponent:s,inputRef:a,variant:l="standard"}=e,c=(0,Re.A)(e,el),d=(0,we.A)({},e,{disabled:o,variant:l,error:r}),u=(e=>{const{classes:t,variant:n,disabled:i,multiple:o,open:r,error:s}=e;return cn({select:["select",n,i&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${mn(n)}`,r&&"iconOpen",i&&"disabled"]},Xa,t)})(d);return(0,ke.jsxs)(i.Fragment,{children:[(0,ke.jsx)(nl,(0,we.A)({ownerState:d,className:_t(u.select,n),disabled:o,ref:a||t},c)),e.multiple?null:(0,ke.jsx)(ol,{as:s,ownerState:d,className:u.icon})]})}));function sl(e){let{controlled:t,default:n,name:o,state:r="value"}=e;const{current:s}=i.useRef(void 0!==t),[a,l]=i.useState(n);return[s?t:a,i.useCallback((e=>{s||l(e)}),[])]}const al=sl;function ll(e){return Et("MuiSelect",e)}const cl=Dt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var dl;const ul=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],pl=hn("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${cl.select}`]:t.select},{[`&.${cl.select}`]:t[n.variant]},{[`&.${cl.error}`]:t.error},{[`&.${cl.multiple}`]:t.multiple}]}})(tl,{[`&.${cl.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),hl=hn("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${mn(n.variant)}`],n.open&&t.iconOpen]}})(il),gl=hn("input",{shouldForwardProp:e=>un(e)&&"classes"!==e,name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ml(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function fl(e){return null==e||"string"===typeof e&&!e.trim()}const bl=i.forwardRef((function(e,t){var n;const{"aria-describedby":o,"aria-label":r,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:d,defaultValue:u,disabled:p,displayEmpty:h,error:g=!1,IconComponent:m,inputRef:f,labelId:b,MenuProps:y={},multiple:w,name:v,onBlur:k,onChange:_,onClose:x,onFocus:A,onOpen:C,open:S,readOnly:I,renderValue:T,SelectDisplayProps:E={},tabIndex:D,value:M,variant:P="standard"}=e,R=(0,Re.A)(e,ul),[B,j]=al({controlled:M,default:u,name:"Select"}),[L,z]=al({controlled:S,default:d,name:"Select"}),O=i.useRef(null),N=i.useRef(null),[F,V]=i.useState(null),{current:H}=i.useRef(null!=S),[W,U]=i.useState(),q=An(t,f),$=i.useCallback((e=>{N.current=e,e&&V(e)}),[]),G=null==F?void 0:F.parentNode;i.useImperativeHandle(q,(()=>({focus:()=>{N.current.focus()},node:O.current,value:B})),[B]),i.useEffect((()=>{d&&L&&F&&!H&&(U(a?null:G.clientWidth),N.current.focus())}),[F,a]),i.useEffect((()=>{s&&N.current.focus()}),[s]),i.useEffect((()=>{if(!b)return;const e=fs(N.current).getElementById(b);if(e){const t=()=>{getSelection().isCollapsed&&N.current.focus()};return e.addEventListener("click",t),()=>{e.removeEventListener("click",t)}}}),[b]);const K=(e,t)=>{e?C&&C(t):x&&x(t),H||(U(a?null:G.clientWidth),z(e))},Y=i.Children.toArray(l),Q=e=>t=>{let n;if(t.currentTarget.hasAttribute("tabindex")){if(w){n=Array.isArray(B)?B.slice():[];const t=B.indexOf(e.props.value);-1===t?n.push(e.props.value):n.splice(t,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),B!==n&&(j(n),_)){const i=t.nativeEvent||t,o=new i.constructor(i.type,i);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:v}}),_(o,e)}w||K(!1,t)}},Z=null!==F&&L;let X,J;delete R["aria-invalid"];const ee=[];let te=!1,ne=!1;(ur({value:B})||h)&&(T?X=T(B):te=!0);const ie=Y.map((e=>{if(!i.isValidElement(e))return null;let t;if(w){if(!Array.isArray(B))throw new Error((0,Be.A)(2));t=B.some((t=>ml(t,e.props.value))),t&&te&&ee.push(e.props.children)}else t=ml(B,e.props.value),t&&te&&(J=e.props.children);return t&&(ne=!0),i.cloneElement(e,{"aria-selected":t?"true":"false",onClick:Q(e),onKeyUp:t=>{" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));te&&(X=w?0===ee.length?null:ee.reduce(((e,t,n)=>(e.push(t),n<ee.length-1&&e.push(", "),e)),[]):J);let oe,re=W;!a&&H&&F&&(re=G.clientWidth),oe="undefined"!==typeof D?D:p?null:0;const se=E.id||(v?`mui-component-select-${v}`:void 0),ae=(0,we.A)({},e,{variant:P,value:B,open:Z,error:g}),le=(e=>{const{classes:t,variant:n,disabled:i,multiple:o,open:r,error:s}=e;return cn({select:["select",n,i&&"disabled",o&&"multiple",s&&"error"],icon:["icon",`icon${mn(n)}`,r&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]},ll,t)})(ae),ce=(0,we.A)({},y.PaperProps,null==(n=y.slotProps)?void 0:n.paper),de=Yo();return(0,ke.jsxs)(i.Fragment,{children:[(0,ke.jsx)(pl,(0,we.A)({ref:$,tabIndex:oe,role:"combobox","aria-controls":de,"aria-disabled":p?"true":void 0,"aria-expanded":Z?"true":"false","aria-haspopup":"listbox","aria-label":r,"aria-labelledby":[b,se].filter(Boolean).join(" ")||void 0,"aria-describedby":o,onKeyDown:e=>{if(!I){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),K(!0,e))}},onMouseDown:p||I?null:e=>{0===e.button&&(e.preventDefault(),N.current.focus(),K(!0,e))},onBlur:e=>{!Z&&k&&(Object.defineProperty(e,"target",{writable:!0,value:{value:B,name:v}}),k(e))},onFocus:A},E,{ownerState:ae,className:_t(E.className,le.select,c),id:se,children:fl(X)?dl||(dl=(0,ke.jsx)("span",{className:"notranslate",children:"\u200b"})):X})),(0,ke.jsx)(gl,(0,we.A)({"aria-invalid":g,value:Array.isArray(B)?B.join(","):B,name:v,ref:O,"aria-hidden":!0,onChange:e=>{const t=Y.find((t=>t.props.value===e.target.value));void 0!==t&&(j(t.props.value),_&&_(e,t))},tabIndex:-1,disabled:p,className:le.nativeInput,autoFocus:s,ownerState:ae},R)),(0,ke.jsx)(hl,{as:m,className:le.icon,ownerState:ae}),(0,ke.jsx)(Za,(0,we.A)({id:`menu-${v||""}`,anchorEl:G,open:Z,onClose:e=>{K(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},y,{MenuListProps:(0,we.A)({"aria-labelledby":b,role:"listbox","aria-multiselectable":w?"true":void 0,disableListWrap:!0,id:de},y.MenuListProps),slotProps:(0,we.A)({},y.slotProps,{paper:(0,we.A)({},ce,{style:(0,we.A)({minWidth:re},null!=ce?ce.style:null)})}),children:ie}))]})})),yl=bl,wl=vo((0,ke.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),vl=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],kl=["root"],_l={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>pn(e)&&"variant"!==e,slot:"Root"},xl=hn(Tr,_l)(""),Al=hn(Gr,_l)(""),Cl=hn(jr,_l)(""),Sl=i.forwardRef((function(e,t){const n=Ce({name:"MuiSelect",props:e}),{autoWidth:o=!1,children:r,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:c=!1,IconComponent:d=wl,id:u,input:p,inputProps:h,label:g,labelId:m,MenuProps:f,multiple:b=!1,native:y=!1,onClose:w,onOpen:v,open:k,renderValue:_,SelectDisplayProps:x,variant:A="outlined"}=n,C=(0,Re.A)(n,vl),S=y?rl:yl,I=sr({props:n,muiFormControl:lr(),states:["variant","error"]}),T=I.variant||A,E=(0,we.A)({},n,{variant:T,classes:s}),D=(e=>{const{classes:t}=e;return t})(E),M=(0,Re.A)(D,kl),P=p||{standard:(0,ke.jsx)(xl,{ownerState:E}),outlined:(0,ke.jsx)(Al,{label:g,ownerState:E}),filled:(0,ke.jsx)(Cl,{ownerState:E})}[T],R=An(t,ms(P));return(0,ke.jsx)(i.Fragment,{children:i.cloneElement(P,(0,we.A)({inputComponent:S,inputProps:(0,we.A)({children:r,error:I.error,IconComponent:d,variant:T,type:void 0,multiple:b},y?{id:u}:{autoWidth:o,defaultOpen:l,displayEmpty:c,labelId:m,MenuProps:f,onClose:w,onOpen:v,open:k,renderValue:_,SelectDisplayProps:(0,we.A)({id:u},x)},h,{classes:h?(0,je.A)(M,h.classes):M},p?p.props.inputProps:{})},(b&&y||c)&&"outlined"===T?{notched:!0}:{},{ref:R,className:_t(P.props.className,a,D.root)},!p&&{variant:T},C))})}));Sl.muiName="Select";const Il=Sl;function Tl(e){return Et("MuiTextField",e)}Dt("MuiTextField",["root"]);const El=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Dl={standard:Tr,filled:jr,outlined:Gr},Ml=hn(ls,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Pl=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:r,className:s,color:a="primary",defaultValue:l,disabled:c=!1,error:d=!1,FormHelperTextProps:u,fullWidth:p=!1,helperText:h,id:g,InputLabelProps:m,inputProps:f,InputProps:b,inputRef:y,label:w,maxRows:v,minRows:k,multiline:_=!1,name:x,onBlur:A,onChange:C,onFocus:S,placeholder:I,required:T=!1,rows:E,select:D=!1,SelectProps:M,type:P,value:R,variant:B="outlined"}=n,j=(0,Re.A)(n,El),L=(0,we.A)({},n,{autoFocus:o,color:a,disabled:c,error:d,fullWidth:p,multiline:_,required:T,select:D,variant:B}),z=(e=>{const{classes:t}=e;return cn({root:["root"]},Tl,t)})(L);const O={};"outlined"===B&&(m&&"undefined"!==typeof m.shrink&&(O.notched=m.shrink),O.label=w),D&&(M&&M.native||(O.id=void 0),O["aria-describedby"]=void 0);const N=Yo(g),F=h&&N?`${N}-helper-text`:void 0,V=w&&N?`${N}-label`:void 0,H=Dl[B],W=(0,ke.jsx)(H,(0,we.A)({"aria-describedby":F,autoComplete:i,autoFocus:o,defaultValue:l,fullWidth:p,multiline:_,name:x,rows:E,maxRows:v,minRows:k,type:P,value:R,id:N,inputRef:y,onBlur:A,onChange:C,onFocus:S,placeholder:I,inputProps:f},O,b));return(0,ke.jsxs)(Ml,(0,we.A)({className:_t(z.root,s),disabled:c,error:d,fullWidth:p,ref:t,required:T,color:a,variant:B,ownerState:L},j,{children:[null!=w&&""!==w&&(0,ke.jsx)(is,(0,we.A)({htmlFor:N,id:V},m,{children:w})),D?(0,ke.jsx)(Il,(0,we.A)({"aria-describedby":F,id:N,labelId:V,value:R,input:W},M,{children:r})):W,h&&(0,ke.jsx)(gs,(0,we.A)({id:F},u,{children:h}))]}))}));function Rl(e){return Et("MuiInputAdornment",e)}const Bl=Dt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var jl;const Ll=["children","className","component","disablePointerEvents","disableTypography","position","variant"],zl=hn("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${mn(n.position)}`],!0===n.disablePointerEvents&&t.disablePointerEvents,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},"filled"===n.variant&&{[`&.${Bl.positionStart}&:not(.${Bl.hiddenLabel})`]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),Ol=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiInputAdornment"}),{children:o,className:r,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:c,variant:d}=n,u=(0,Re.A)(n,Ll),p=lr()||{};let h=d;d&&p.variant,p&&!h&&(h=p.variant);const g=(0,we.A)({},n,{hiddenLabel:p.hiddenLabel,size:p.size,disablePointerEvents:a,position:c,variant:h}),m=(e=>{const{classes:t,disablePointerEvents:n,hiddenLabel:i,position:o,size:r,variant:s}=e;return cn({root:["root",n&&"disablePointerEvents",o&&`position${mn(o)}`,s,i&&"hiddenLabel",r&&`size${mn(r)}`]},Rl,t)})(g);return(0,ke.jsx)(ar.Provider,{value:null,children:(0,ke.jsx)(zl,(0,we.A)({as:s,ownerState:g,className:_t(m.root,r),ref:t},u,{children:"string"!==typeof o||l?(0,ke.jsxs)(i.Fragment,{children:["start"===c?jl||(jl=(0,ke.jsx)("span",{className:"notranslate",children:"\u200b"})):null,o]}):(0,ke.jsx)(kn,{color:"text.secondary",children:o})}))})}));function Nl(e){return Et("MuiListItemIcon",e)}const Fl=Dt("MuiListItemIcon",["root","alignItemsFlexStart"]);function Vl(e){return Et("MuiListItemText",e)}const Hl=Dt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function Wl(e){return Et("MuiMenuItem",e)}const Ul=Dt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),ql=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],$l=hn(bi,{shouldForwardProp:e=>pn(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ul.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Ne.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Ul.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Ne.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Ul.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Ne.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Ne.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${Ul.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Ul.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${Do.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${Do.inset}`]:{marginLeft:52},[`& .${Hl.root}`]:{marginTop:0,marginBottom:0},[`& .${Hl.inset}`]:{paddingLeft:36},[`& .${Fl.root}`]:{minWidth:36}},!n.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},n.dense&&(0,we.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${Fl.root} svg`]:{fontSize:"1.25rem"}}))})),Gl=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiMenuItem"}),{autoFocus:o=!1,component:r="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:c,role:d="menuitem",tabIndex:u,className:p}=n,h=(0,Re.A)(n,ql),g=i.useContext(As),m=i.useMemo((()=>({dense:s||g.dense||!1,disableGutters:l})),[g.dense,s,l]),f=i.useRef(null);cr((()=>{o&&f.current&&f.current.focus()}),[o]);const b=(0,we.A)({},n,{dense:m.dense,divider:a,disableGutters:l}),y=(e=>{const{disabled:t,dense:n,divider:i,disableGutters:o,selected:r,classes:s}=e,a=cn({root:["root",n&&"dense",t&&"disabled",!o&&"gutters",i&&"divider",r&&"selected"]},Wl,s);return(0,we.A)({},s,a)})(n),w=An(f,t);let v;return n.disabled||(v=void 0!==u?u:-1),(0,ke.jsx)(As.Provider,{value:m,children:(0,ke.jsx)($l,(0,we.A)({ref:w,role:d,tabIndex:v,component:r,focusVisibleClassName:_t(y.focusVisible,c),className:_t(y.root,p)},h,{ownerState:b,classes:y}))})}));function Kl(e){return Et("MuiPagination",e)}Dt("MuiPagination",["root","ul","outlined","text"]);const Yl=["boundaryCount","componentName","count","defaultPage","disabled","hideNextButton","hidePrevButton","onChange","page","showFirstButton","showLastButton","siblingCount"];function Ql(e){return Et("MuiPaginationItem",e)}const Zl=Dt("MuiPaginationItem",["root","page","sizeSmall","sizeLarge","text","textPrimary","textSecondary","outlined","outlinedPrimary","outlinedSecondary","rounded","ellipsis","firstLast","previousNext","focusVisible","disabled","selected","icon","colorPrimary","colorSecondary"]),Xl=vo((0,ke.jsx)("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),Jl=vo((0,ke.jsx)("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage"),ec=vo((0,ke.jsx)("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),tc=vo((0,ke.jsx)("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext"),nc=["className","color","component","components","disabled","page","selected","shape","size","slots","type","variant"],ic=(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${mn(n.size)}`],"text"===n.variant&&t[`text${mn(n.color)}`],"outlined"===n.variant&&t[`outlined${mn(n.color)}`],"rounded"===n.shape&&t.rounded,"page"===n.type&&t.page,("start-ellipsis"===n.type||"end-ellipsis"===n.type)&&t.ellipsis,("previous"===n.type||"next"===n.type)&&t.previousNext,("first"===n.type||"last"===n.type)&&t.firstLast]},oc=hn("div",{name:"MuiPaginationItem",slot:"Root",overridesResolver:ic})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({},t.typography.body2,{borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,height:"auto",[`&.${Zl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"small"===n.size&&{minWidth:26,borderRadius:13,margin:"0 1px",padding:"0 4px"},"large"===n.size&&{minWidth:40,borderRadius:20,padding:"0 10px",fontSize:t.typography.pxToRem(15)})})),rc=hn(bi,{name:"MuiPaginationItem",slot:"Root",overridesResolver:ic})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({},t.typography.body2,{borderRadius:16,textAlign:"center",boxSizing:"border-box",minWidth:32,height:32,padding:"0 6px",margin:"0 3px",color:(t.vars||t).palette.text.primary,[`&.${Zl.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Zl.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},transition:t.transitions.create(["color","background-color"],{duration:t.transitions.duration.short}),"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Zl.selected}`]:{backgroundColor:(t.vars||t).palette.action.selected,"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Ne.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},[`&.${Zl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.action.selectedChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Ne.X4)(t.palette.action.selected,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)},[`&.${Zl.disabled}`]:{opacity:1,color:(t.vars||t).palette.action.disabled,backgroundColor:(t.vars||t).palette.action.selected}}},"small"===n.size&&{minWidth:26,height:26,borderRadius:13,margin:"0 1px",padding:"0 4px"},"large"===n.size&&{minWidth:40,height:40,borderRadius:20,padding:"0 10px",fontSize:t.typography.pxToRem(15)},"rounded"===n.shape&&{borderRadius:(t.vars||t).shape.borderRadius})}),(e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({},"text"===n.variant&&{[`&.${Zl.selected}`]:(0,we.A)({},"standard"!==n.color&&{color:(t.vars||t).palette[n.color].contrastText,backgroundColor:(t.vars||t).palette[n.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[n.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[n.color].main}},[`&.${Zl.focusVisible}`]:{backgroundColor:(t.vars||t).palette[n.color].dark}},{[`&.${Zl.disabled}`]:{color:(t.vars||t).palette.action.disabled}})},"outlined"===n.variant&&{border:t.vars?`1px solid rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${Zl.selected}`]:(0,we.A)({},"standard"!==n.color&&{color:(t.vars||t).palette[n.color].main,border:`1px solid ${t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / 0.5)`:(0,Ne.X4)(t.palette[n.color].main,.5)}`,backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.activatedOpacity})`:(0,Ne.X4)(t.palette[n.color].main,t.palette.action.activatedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / calc(${t.vars.palette.action.activatedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Ne.X4)(t.palette[n.color].main,t.palette.action.activatedOpacity+t.palette.action.focusOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Zl.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette[n.color].mainChannel} / calc(${t.vars.palette.action.activatedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Ne.X4)(t.palette[n.color].main,t.palette.action.activatedOpacity+t.palette.action.focusOpacity)}},{[`&.${Zl.disabled}`]:{borderColor:(t.vars||t).palette.action.disabledBackground,color:(t.vars||t).palette.action.disabled}})})})),sc=hn("div",{name:"MuiPaginationItem",slot:"Icon",overridesResolver:(e,t)=>t.icon})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({fontSize:t.typography.pxToRem(20),margin:"0 -8px"},"small"===n.size&&{fontSize:t.typography.pxToRem(18)},"large"===n.size&&{fontSize:t.typography.pxToRem(22)})})),ac=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiPaginationItem"}),{className:i,color:o="standard",component:r,components:s={},disabled:a=!1,page:l,selected:c=!1,shape:d="circular",size:u="medium",slots:p={},type:h="page",variant:g="text"}=n,m=(0,Re.A)(n,nc),f=(0,we.A)({},n,{color:o,disabled:a,selected:c,shape:d,size:u,type:h,variant:g}),b=Vt(),y=(e=>{const{classes:t,color:n,disabled:i,selected:o,size:r,shape:s,type:a,variant:l}=e;return cn({root:["root",`size${mn(r)}`,l,s,"standard"!==n&&`color${mn(n)}`,"standard"!==n&&`${l}${mn(n)}`,i&&"disabled",o&&"selected",{page:"page",first:"firstLast",last:"firstLast","start-ellipsis":"ellipsis","end-ellipsis":"ellipsis",previous:"previousNext",next:"previousNext"}[a]],icon:["icon"]},Ql,t)})(f),w=(b?{previous:p.next||s.next||tc,next:p.previous||s.previous||ec,last:p.first||s.first||Xl,first:p.last||s.last||Jl}:{previous:p.previous||s.previous||ec,next:p.next||s.next||tc,first:p.first||s.first||Xl,last:p.last||s.last||Jl})[h];return"start-ellipsis"===h||"end-ellipsis"===h?(0,ke.jsx)(oc,{ref:t,ownerState:f,className:_t(y.root,i),children:"\u2026"}):(0,ke.jsxs)(rc,(0,we.A)({ref:t,ownerState:f,component:r,disabled:a,className:_t(y.root,i)},m,{children:["page"===h&&l,w?(0,ke.jsx)(sc,{as:w,ownerState:f,className:y.icon}):null]}))})),lc=ac,cc=["boundaryCount","className","color","count","defaultPage","disabled","getItemAriaLabel","hideNextButton","hidePrevButton","onChange","page","renderItem","shape","showFirstButton","showLastButton","siblingCount","size","variant"],dc=hn("nav",{name:"MuiPagination",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant]]}})({}),uc=hn("ul",{name:"MuiPagination",slot:"Ul",overridesResolver:(e,t)=>t.ul})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"});function pc(e,t,n){return"page"===e?`${n?"":"Go to "}page ${t}`:`Go to ${e} page`}const hc=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiPagination"}),{boundaryCount:i=1,className:o,color:r="standard",count:s=1,defaultPage:a=1,disabled:l=!1,getItemAriaLabel:c=pc,hideNextButton:d=!1,hidePrevButton:u=!1,renderItem:p=e=>(0,ke.jsx)(lc,(0,we.A)({},e)),shape:h="circular",showFirstButton:g=!1,showLastButton:m=!1,siblingCount:f=1,size:b="medium",variant:y="text"}=n,w=(0,Re.A)(n,cc),{items:v}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{boundaryCount:t=1,componentName:n="usePagination",count:i=1,defaultPage:o=1,disabled:r=!1,hideNextButton:s=!1,hidePrevButton:a=!1,onChange:l,page:c,showFirstButton:d=!1,showLastButton:u=!1,siblingCount:p=1}=e,h=(0,Re.A)(e,Yl),[g,m]=sl({controlled:c,default:o,name:n,state:"page"}),f=(e,t)=>{c||m(t),l&&l(e,t)},b=(e,t)=>{const n=t-e+1;return Array.from({length:n},((t,n)=>e+n))},y=b(1,Math.min(t,i)),w=b(Math.max(i-t+1,t+1),i),v=Math.max(Math.min(g-p,i-t-2*p-1),t+2),k=Math.min(Math.max(g+p,t+2*p+2),w.length>0?w[0]-2:i-1),_=[...d?["first"]:[],...a?[]:["previous"],...y,...v>t+2?["start-ellipsis"]:t+1<i-t?[t+1]:[],...b(v,k),...k<i-t-1?["end-ellipsis"]:i-t>t?[i-t]:[],...w,...s?[]:["next"],...u?["last"]:[]],x=e=>{switch(e){case"first":return 1;case"previous":return g-1;case"next":return g+1;case"last":return i;default:return null}},A=_.map((e=>"number"===typeof e?{onClick:t=>{f(t,e)},type:"page",page:e,selected:e===g,disabled:r,"aria-current":e===g?"true":void 0}:{onClick:t=>{f(t,x(e))},type:e,page:x(e),selected:!1,disabled:r||-1===e.indexOf("ellipsis")&&("next"===e||"last"===e?g>=i:g<=1)}));return(0,we.A)({items:A},h)}((0,we.A)({},n,{componentName:"Pagination"})),k=(0,we.A)({},n,{boundaryCount:i,color:r,count:s,defaultPage:a,disabled:l,getItemAriaLabel:c,hideNextButton:d,hidePrevButton:u,renderItem:p,shape:h,showFirstButton:g,showLastButton:m,siblingCount:f,size:b,variant:y}),_=(e=>{const{classes:t,variant:n}=e;return cn({root:["root",n],ul:["ul"]},Kl,t)})(k);return(0,ke.jsx)(dc,(0,we.A)({"aria-label":"pagination navigation",className:_t(_.root,o),ownerState:k,ref:t},w,{children:(0,ke.jsx)(uc,{className:_.ul,ownerState:k,children:v.map(((e,t)=>(0,ke.jsx)("li",{children:p((0,we.A)({},e,{color:r,"aria-label":c(e.type,e.page,e.selected),shape:h,size:b,variant:y}))},t)))})}))})),gc=hc,mc=vo((0,ke.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"}),"Search"),fc=vo((0,ke.jsx)("path",{d:"M10 18h4v-2h-4zM3 6v2h18V6zm3 7h12v-2H6z"}),"FilterList"),bc={id:"verilog-fundamentals",title:"Verilog Fundamentals",description:"Master the basics of Verilog HDL and start your journey in digital design with industry-relevant skills and knowledge for FPGA/ASIC careers",image:"https://images.unsplash.com/photo-1517420704952-d9f39e95b43e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80",level:"Beginner",duration:"2 weeks",rating:4.8,studentsCount:22,completed:1,totalChapters:16,progress:6.25,updatedAt:"2025-04-05",topics:["Verilog HDL Programming","Digital Circuit Design","RTL Coding","Combinational Logic","Sequential Logic","FPGA Implementation"],lessons:16,exercises:8,students:8750,overview:"Welcome to the Verilog Fundamentals course! Verilog is one of the most widely used Hardware Description Languages (HDLs) in the industry for designing digital systems. This comprehensive course takes you from the very basics of Verilog to advanced topics, preparing you for real-world hardware design challenges and FPGA/ASIC industry positions. Whether you're interested in FPGA development, ASIC design, verification engineering, or hardware architecture roles, this course will provide you with the knowledge and practical skills you need to excel in technical interviews and on-the-job tasks. Through a combination of theoretical explanations, practical examples, and hands-on projects, you'll gain confidence in writing efficient and synthesizable Verilog code that meets industry standards and best practices.",careerResources:{jobProfiles:[{title:"FPGA Engineer",description:"Design and implement digital circuits on FPGAs using Verilog/VHDL",averageSalary:"$110,000 - $140,000",requiredSkills:["Verilog/VHDL","FPGA Implementation","Timing Analysis","High-Speed Design"],companies:["Intel","Xilinx/AMD","Altera","Microchip"]},{title:"ASIC Design Engineer",description:"Design application-specific integrated circuits for high-performance applications",averageSalary:"$120,000 - $160,000",requiredSkills:["Verilog/VHDL","Digital Design","ASIC Flow","Synthesis","Low Power Design"],companies:["NVIDIA","Broadcom","Qualcomm","Apple"]},{title:"Verification Engineer",description:"Verify functionality of digital designs using simulation and formal methods",averageSalary:"$115,000 - $150,000",requiredSkills:["Verilog","SystemVerilog","UVM","Assertions","Testbench Development"],companies:["Intel","Samsung","Synopsys","Cadence"]},{title:"Hardware Description Language (HDL) Programmer",description:"Develop and maintain Verilog/VHDL code for various digital systems",averageSalary:"$95,000 - $130,000",requiredSkills:["Verilog","VHDL","Digital Logic","Scripting"],companies:["IBM","Cisco","Juniper Networks","Lockheed Martin"]}],interviewPrep:{technicalTopics:["Digital Logic Fundamentals","Verilog Syntax and Semantics","Sequential vs. Combinational Logic","Finite State Machines","Timing Analysis","Clock Domain Crossing","Low Power Design Techniques","FPGA Architecture","Testbench Development"],commonQuestions:["Explain the differences between blocking and non-blocking assignments in Verilog.","How would you implement a clock divider in Verilog?","Describe the process of designing a finite state machine in Verilog.","What are the key differences between simulation and synthesis?","How would you handle metastability in your designs?","What techniques can you use to optimize FPGA resource usage?","How would you handle clock domain crossing in your designs?","Explain how you would create a testbench for a sequential circuit."],codeExercises:["Implement a parameterized FIFO buffer with configurable depth and width","Design a UART transmitter and receiver with configurable baud rate","Create a memory controller that interfaces with external SRAM","Implement a pipelined ALU with forwarding logic","Design a synchronous AXI-Lite slave interface"]},portfolioProjects:[{title:"Digital Clock with Multiple Time Zones",description:"Implement a digital clock with configurable time zones, alarm features, and display controller",complexity:"Medium",estimatedTime:"2-3 weeks",skillsGained:["FSM Design","Display Interfacing","Real-time Clock Logic"]},{title:"RISC-V Processor Core",description:"Create a basic RISC-V processor core with pipelining and hazard detection",complexity:"High",estimatedTime:"4-8 weeks",skillsGained:["Processor Architecture","Pipelining","Instruction Set Implementation"]},{title:"Audio Signal Processor",description:"Design an FPGA-based audio effects processor with filtering and modulation capabilities",complexity:"Medium-High",estimatedTime:"3-4 weeks",skillsGained:["DSP Implementation","Audio Processing","I/O Interfacing"]}],industryTrends:[{trend:"High-Level Synthesis (HLS)",description:"Designing hardware using C/C++ abstraction for faster development cycles",impact:"Reducing time-to-market and enabling software engineers to contribute to hardware design"},{trend:"Chiplet Architecture",description:"Modular chip design approach that integrates multiple dies in a package",impact:"Improved yield, reduced costs, and flexible design options"},{trend:"RISC-V Adoption",description:"Open standard instruction set architecture gaining popularity",impact:"Increased demand for RISC-V implementation skills in FPGA and ASIC design"},{trend:"AI Accelerator Design",description:"Specialized hardware for machine learning and AI applications",impact:"Growing market for hardware engineers skilled in designing efficient compute architectures"}]},prerequisites:["Basic understanding of digital logic (AND, OR, NOT gates)","Familiarity with binary number system","Basic programming knowledge in any language is helpful but not required"],skills:["Verilog HDL Programming","Digital Circuit Design","RTL Coding","Combinational Logic","Sequential Logic","FSM Design","Testbench Development","Simulation Techniques","FPGA Implementation","Hardware Debugging","Timing Analysis","Clock Domain Crossing","Low Power Design","Design Verification","ASIC Design Flow"],chapters:[{...{id:1,title:"Introduction to Hardware Description Languages (HDLs)",description:"Understand the fundamentals of HDLs and their role in digital design",estimatedTime:"1 hours",completed:!1,sections:[{id:"1.1",title:"Motivation & Background",content:'\n        <h3>Why HDLs Exist</h3>\n        <p>Hardware Description Languages (HDLs) emerged from the need to design and verify increasingly complex digital circuits efficiently. Before HDLs, digital designs were created using schematic capture, which became impractical as circuit complexity increased.</p>\n        \n        <p>HDLs provide several key advantages over traditional design methods:</p>\n        <ul>\n          <li><strong>Abstraction</strong>: HDLs allow designers to work at different levels of abstraction, from high-level behavioral descriptions to low-level gate-level implementations.</li>\n          <li><strong>Scalability</strong>: Complex systems with millions of gates can be described concisely.</li>\n          <li><strong>Simulation</strong>: Designs can be thoroughly verified before committing to hardware.</li>\n          <li><strong>Reusability</strong>: Code can be parameterized and reused across projects.</li>\n          <li><strong>Documentation</strong>: HDL code serves as living documentation of the design.</li>\n        </ul>\n        \n        <h3>How HDLs Differ from Traditional Programming Languages</h3>\n        <p>While HDLs may appear syntactically similar to languages like C or Java, they operate on fundamentally different principles:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Aspect</th>\n            <th>Software Programming (e.g., C/C++)</th>\n            <th>Hardware Description (Verilog)</th>\n          </tr>\n          <tr>\n            <td><strong>Execution Model</strong></td>\n            <td>Sequential execution of instructions</td>\n            <td>Parallel operation of hardware components</td>\n          </tr>\n          <tr>\n            <td><strong>Time Concept</strong></td>\n            <td>Implicit, based on instruction sequence</td>\n            <td>Explicit timing controls (#, @) representing real hardware delays</td>\n          </tr>\n          <tr>\n            <td><strong>Variables</strong></td>\n            <td>Represent memory locations</td>\n            <td>Represent actual wires (nets) or storage elements (reg)</td>\n          </tr>\n          <tr>\n            <td><strong>Physical Realization</strong></td>\n            <td>Compiled to machine code</td>\n            <td>Translated to physical gates, flip-flops, and interconnects</td>\n          </tr>\n          <tr>\n            <td><strong>Resource Usage</strong></td>\n            <td>Dynamic memory allocation</td>\n            <td>Fixed hardware resources</td>\n          </tr>\n        </table>\n        \n        <p>This fundamental difference requires a shift in thinking from algorithmic programming to hardware design.</p>\n      '},{id:"1.2",title:"Evolution of Verilog",content:'\n        <h3>Historical Perspective</h3>\n        <p>Verilog has a rich history in the electronic design industry, evolving significantly since its inception:</p>\n        \n        <ul>\n          <li><strong>1984</strong>: Verilog was created by Phil Moorby at Gateway Design Automation as a simulation language.</li>\n          <li><strong>1989</strong>: Cadence Design Systems acquired Gateway Design Automation and, with it, Verilog.</li>\n          <li><strong>1990</strong>: Cadence made Verilog available in the public domain to compete with VHDL.</li>\n          <li><strong>1995</strong>: IEEE standardized Verilog as IEEE 1364-1995 (Verilog-95).</li>\n          <li><strong>2001</strong>: Major update to IEEE 1364-2001 (Verilog-2001) adding features like generate statements and multi-dimensional arrays.</li>\n          <li><strong>2005</strong>: Minor update to IEEE 1364-2005, the last standalone Verilog standard.</li>\n          <li><strong>2009</strong>: SystemVerilog (IEEE 1800-2009) incorporated Verilog and added object-oriented programming features for verification.</li>\n          <li><strong>2012-present</strong>: SystemVerilog continues to evolve with updates, while base Verilog remains widely used for RTL design.</li>\n        </ul>\n        \n        <h3>From Verilog to SystemVerilog</h3>\n        <p>While SystemVerilog has extended Verilog with advanced features, core Verilog remains the foundation for hardware description:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Verilog Focus</th>\n            <th>SystemVerilog Extensions</th>\n          </tr>\n          <tr>\n            <td>\n              <ul>\n                <li>RTL design</li>\n                <li>Behavioral modeling</li>\n                <li>Gate-level modeling</li>\n                <li>Basic testbench capabilities</li>\n                <li>Synthesizable constructs</li>\n              </ul>\n            </td>\n            <td>\n              <ul>\n                <li>Object-oriented programming</li>\n                <li>Advanced verification methodologies</li>\n                <li>Constrained random testing</li>\n                <li>Assertions and functional coverage</li>\n                <li>Enhanced type system</li>\n              </ul>\n            </td>\n          </tr>\n        </table>\n        \n        <p>In industry practice:</p>\n        <ul>\n          <li>RTL design often uses the Verilog subset of SystemVerilog</li>\n          <li>Verification increasingly uses the full capabilities of SystemVerilog</li>\n          <li>Understanding Verilog is a prerequisite for working with SystemVerilog</li>\n        </ul>\n        \n        <h3>Where Verilog is Still Used</h3>\n        <p>Despite the emergence of newer languages, Verilog remains vital in several domains:</p>\n        \n        <ul>\n          <li><strong>FPGA Design</strong>: Most FPGA designs still use Verilog for RTL implementation</li>\n          <li><strong>ASIC Design</strong>: Core RTL design in many ASIC flows</li>\n          <li><strong>IP Cores</strong>: Reusable intellectual property blocks</li>\n          <li><strong>Legacy Designs</strong>: Maintaining and updating existing hardware</li>\n          <li><strong>Education</strong>: Teaching hardware design concepts</li>\n        </ul>\n      '},{id:"1.3",title:"Typical Design Flow",content:'\n        <h3>The Digital Design Flow</h3>\n        <p>Modern digital design follows a structured process from concept to implementation:</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://www.fpgakey.com/wp-content/uploads/2020/02/digital-design-flow.png" alt="Digital Design Flow" style="max-width: 700px; width: 100%;">\n        </div>\n        \n        <h4>1. High-Level Design</h4>\n        <p>The process begins with system architecture and specifications:</p>\n        <ul>\n          <li><strong>Requirements Analysis</strong>: Defining what the system must do</li>\n          <li><strong>System Architecture</strong>: Breaking down into manageable blocks</li>\n          <li><strong>Algorithms</strong>: Determining how functions will be implemented</li>\n          <li><strong>Interface Definition</strong>: Specifying how blocks communicate</li>\n        </ul>\n        \n        <h4>2. RTL Coding</h4>\n        <p>Register Transfer Level (RTL) code describes the behavior of the digital circuit:</p>\n        <ul>\n          <li><strong>Module Design</strong>: Creating individual functional blocks</li>\n          <li><strong>Parameterization</strong>: Making designs flexible and reusable</li>\n          <li><strong>Clock Domain Planning</strong>: Managing timing relationships</li>\n          <li><strong>Reset Strategy</strong>: Determining initialization behavior</li>\n        </ul>\n        \n        <h4>3. Simulation</h4>\n        <p>Verification ensures the design functions correctly:</p>\n        <ul>\n          <li><strong>Testbench Development</strong>: Creating stimuli and checking mechanisms</li>\n          <li><strong>Behavioral Simulation</strong>: Testing functionality without timing</li>\n          <li><strong>Debugging</strong>: Finding and fixing logical errors</li>\n          <li><strong>Code Coverage</strong>: Ensuring thorough testing</li>\n        </ul>\n        \n        <h4>4. Synthesis</h4>\n        <p>Converting RTL to a netlist of gates and flip-flops:</p>\n        <ul>\n          <li><strong>Logic Synthesis</strong>: Translating RTL to gates</li>\n          <li><strong>Optimization</strong>: Area, power, and timing improvements</li>\n          <li><strong>Constraint Definition</strong>: Specifying timing requirements</li>\n          <li><strong>Gate-Level Simulation</strong>: Verifying logic with realistic timing</li>\n        </ul>\n        \n        <h4>5. Place-and-Route</h4>\n        <p>Physical implementation on target technology:</p>\n        <ul>\n          <li><strong>Floorplanning</strong>: Allocating chip area</li>\n          <li><strong>Placement</strong>: Positioning logic cells</li>\n          <li><strong>Clock Tree Synthesis</strong>: Creating balanced clock distribution</li>\n          <li><strong>Routing</strong>: Connecting cells with wires</li>\n          <li><strong>Timing Analysis</strong>: Ensuring design meets speed requirements</li>\n        </ul>\n        \n        <h4>6. Final Implementation</h4>\n        <p>Preparing for production:</p>\n        <ul>\n          <li><strong>Design Rule Checking</strong>: Verifying manufacturability</li>\n          <li><strong>FPGA Bitstream Generation</strong>: For FPGA targets</li>\n          <li><strong>Tape-out</strong>: For ASIC manufacturing</li>\n          <li><strong>Post-Silicon Validation</strong>: Testing actual hardware</li>\n        </ul>\n        \n        <p>Throughout this flow, Verilog plays a critical role in the RTL coding, simulation, and sometimes even in the testbench development stages. The quality of Verilog code directly impacts the success of subsequent steps in the flow.</p>\n      '},{id:"1.4",title:"Key Takeaways",content:"\n        <h3>Summary: Understanding Verilog's Role in Digital Design</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>Hardware Description Languages (HDLs) like Verilog enable the design and verification of complex digital circuits.</li>\n            <li>Verilog differs fundamentally from software programming languages in that it models concurrent hardware rather than sequential instructions.</li>\n            <li>Despite the evolution to SystemVerilog, core Verilog remains essential for RTL design in both FPGA and ASIC workflows.</li>\n            <li>The digital design flow progresses from high-level concepts through RTL coding, simulation, synthesis, and physical implementation.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>Now that you understand what Verilog is and its role in the design process, you're ready to dive into the language itself. In the next chapter, we'll explore Verilog's fundamental syntax and structure\u2014the building blocks you'll use to create digital designs.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>How does the parallel nature of hardware affect how you might approach a design problem compared to software?</li>\n          <li>What advantages does using an HDL like Verilog provide over schematic-based design?</li>\n          <li>Consider a digital system you use daily (smartphone, computer, etc.). What hardware components might be designed using Verilog?</li>\n        </ol>\n      "}],examples:[{id:"example1_1",title:"First Verilog Module",description:"A simple AND gate implementation showing basic module structure",code:"module and_gate(\n  input a,    // First input\n  input b,    // Second input\n  output y    // Output\n);\n  \n  // Continuous assignment - always active\n  assign y = a & b;\n  \nendmodule",explanation:"This example shows the basic structure of a Verilog module. It defines an AND gate with two inputs (a and b) and one output (y). The 'assign' statement creates a continuous assignment that connects the output to the AND operation of the inputs. This is a simple example of dataflow modeling in Verilog."},{id:"example1_2",title:"Simulation vs. Synthesis Example",description:"Code showing the difference between simulation-only and synthesizable constructs",code:'module example(\n  input clk,\n  input reset,\n  input data_in,\n  output reg data_out\n);\n  \n  // Synthesizable - sequential logic\n  always @(posedge clk or posedge reset) begin\n    if (reset)\n      data_out <= 1\'b0;\n    else\n      data_out <= data_in;\n  end\n  \n  // NON-synthesizable - simulation only\n  initial begin\n    $display("Simulation starting...");\n    $monitor("At time %t: data_out = %b", $time, data_out);\n  end\n  \nendmodule',explanation:"This example demonstrates both synthesizable and non-synthesizable constructs. The 'always' block with clock and reset is synthesizable and will be converted to a flip-flop. The 'initial' block with $display and $monitor is for simulation only and will be ignored during synthesis. This highlights the distinction between code for testing (simulation) and code for actual hardware implementation (synthesis)."}],videos:[{id:"video1_1",title:"Introduction to Verilog and Digital Design",description:"An overview of Verilog and its role in modern digital design",duration:"12:34",url:"https://www.youtube.com/watch?v=vHLBO05TeyU&list=PLwdnzlV3ogoVlY7iVqr-FhWUQEX7JDdiP",thumbnail:"https://i.ytimg.com/vi/vHLBO05TeyU/hqdefault.jpg?sqp=-oaymwEmCKgBEF5IWvKriqkDGQgBFQAAiEIYAdgBAeIBCggYEAIYBjgBQAE=&rs=AOn4CLBX65nFoHIG5s6afFRGO0OnCDrHXQ"},{id:"video1_2",title:"Setting Up Your Verilog Development Environment",description:"Step-by-step guide to installing and configuring ModelSim for Verilog development",duration:"18:21",url:"https://youtu.be/MqObcLxrwDY?si=N1oHECbBZtQcKFDf",thumbnail:"https://tse2.mm.bing.net/th?id=OIP.VNmQbg9yyQ9KEt0ngzP67AHaGD&pid=Api&P=0&h=180"}],quiz:{title:"Introduction to Verilog Quiz",description:"Test your understanding of Verilog basics, history, and development tools",questions:[{id:"q1_1",question:"When was Verilog first developed?",options:[{id:"a",text:"1974"},{id:"b",text:"1984"},{id:"c",text:"1991"},{id:"d",text:"2001"}],correctAnswer:"b",explanation:"Verilog was first developed in 1984 by Phil Moorby at Gateway Design Automation."},{id:"q1_2",question:"Which of the following is NOT a characteristic of Hardware Description Languages?",options:[{id:"a",text:"Describes hardware behavior"},{id:"b",text:"Sequential execution model"},{id:"c",text:"Supports concurrency"},{id:"d",text:"Can be synthesized to actual hardware"}],correctAnswer:"b",explanation:"HDLs like Verilog have a concurrent execution model, not sequential like software programming languages. This reflects the parallel nature of hardware."},{id:"q1_3",question:"Which of these constructs is NOT synthesizable?",options:[{id:"a",text:"always @(posedge clk)"},{id:"b",text:"assign y = a & b;"},{id:"c",text:"initial begin ... end"},{id:"d",text:"if-else statements"}],correctAnswer:"c",explanation:"The 'initial' block is used for simulation only and is not synthesizable to hardware. It's commonly used in testbenches."},{id:"q1_4",question:"What is the primary difference between simulation and synthesis in Verilog?",options:[{id:"a",text:"Simulation is faster than synthesis"},{id:"b",text:"Synthesis checks for syntax errors, simulation checks for logical errors"},{id:"c",text:"Simulation verifies functionality in a virtual environment, synthesis translates code to hardware"},{id:"d",text:"Synthesis is used for FPGA designs, simulation is used for ASIC designs"}],correctAnswer:"c",explanation:"Simulation runs code in a virtual environment to verify functionality, while synthesis translates Verilog code into actual hardware components like gates and flip-flops."},{id:"q1_5",question:"Which of these tools is an open-source Verilog simulator?",options:[{id:"a",text:"Vivado"},{id:"b",text:"ModelSim"},{id:"c",text:"Quartus Prime"},{id:"d",text:"Icarus Verilog"}],correctAnswer:"d",explanation:"Icarus Verilog is an open-source Verilog simulator. Vivado and Quartus Prime are FPGA development suites, while ModelSim is a commercial simulator (although it has a free student edition)."}]}},completed:!0},{...{id:2,title:"Verilog Fundamentals",description:"Learn the basic building blocks and syntax of Verilog HDL",estimatedTime:"1 hours",completed:!1,sections:[{id:"2.1",title:"Lexical Conventions",content:'\n        <h3>Identifiers, Keywords, and Comments</h3>\n        <p>Like any language, Verilog has specific rules for how code is written and structured. Understanding these conventions is essential for writing valid Verilog code.</p>\n        \n        <h4>Identifiers</h4>\n        <p>Identifiers are names given to modules, variables, signals, and other objects in Verilog:</p>\n        <ul>\n          <li>Must begin with a letter or underscore</li>\n          <li>Can contain letters, digits, underscores, and dollar signs</li>\n          <li>Cannot be a reserved keyword</li>\n          <li>Are case-sensitive</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;">\n          <h4>Valid Identifiers</h4>\n          <code>counter</code>, <code>data_bus</code>, <code>_temp</code>, <code>addr32</code>, <code>RST_N</code>\n          \n          <h4>Invalid Identifiers</h4>\n          <code>2counter</code> (starts with a digit)<br>\n          <code>data-bus</code> (contains hyphen)<br>\n          <code>module</code> (reserved keyword)\n        </div>\n        \n        <h4>Keywords</h4>\n        <p>Verilog has reserved keywords with special meanings that cannot be used as identifiers:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse; font-size: 0.9em;">\n          <tr style="background-color:#f0f0f0">\n            <th colspan="5">Common Verilog Keywords</th>\n          </tr>\n          <tr>\n            <td>module</td>\n            <td>endmodule</td>\n            <td>input</td>\n            <td>output</td>\n            <td>inout</td>\n          </tr>\n          <tr>\n            <td>wire</td>\n            <td>reg</td>\n            <td>always</td>\n            <td>assign</td>\n            <td>initial</td>\n          </tr>\n          <tr>\n            <td>begin</td>\n            <td>end</td>\n            <td>if</td>\n            <td>else</td>\n            <td>case</td>\n          </tr>\n          <tr>\n            <td>endcase</td>\n            <td>for</td>\n            <td>while</td>\n            <td>parameter</td>\n            <td>localparam</td>\n          </tr>\n        </table>\n        \n        <h4>Comments</h4>\n        <p>Comments are non-executable text included for documentation:</p>\n        <ul>\n          <li><strong>Single-line comments</strong>: Start with <code>//</code> and continue to the end of the line</li>\n          <li><strong>Multi-line comments</strong>: Start with <code>/*</code> and end with <code>*/</code></li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // This is a single-line comment<br><br>\n          \n          /* This is a<br>\n             multi-line comment<br>\n             that spans several lines */<br><br>\n          \n          module example(); // Comments can appear after code<br>\n          // ...<br>\n          endmodule\n        </div>\n        \n        <h4>Case Sensitivity</h4>\n        <p>Verilog is case-sensitive, meaning that identifiers with different capitalization are treated as different entities:</p>\n        <ul>\n          <li><code>Data</code>, <code>DATA</code>, and <code>data</code> are three different identifiers</li>\n          <li>Keywords must be lowercase (<code>module</code>, not <code>MODULE</code>)</li>\n          <li>Consistent capitalization conventions improve readability</li>\n        </ul>\n        \n        <p>Common conventions include:</p>\n        <ul>\n          <li>All lowercase for module names and signals: <code>alu</code>, <code>counter</code></li>\n          <li>Uppercase for parameters and constants: <code>DATA_WIDTH</code>, <code>IDLE</code></li>\n          <li>Camel case for complex names: <code>addrDecoder</code>, <code>dataValid</code></li>\n        </ul>\n      '},{id:"2.2",title:"Data Types & Nets",content:'\n        <h3>Verilog Data Types and Nets</h3>\n        <p>Data types in Verilog represent different kinds of hardware elements. Understanding the appropriate type for each signal is crucial for creating synthesizable designs.</p>\n        \n        <h4>Primary Data Types</h4>\n        <p>Verilog has two main categories of data types:</p>\n        <ol>\n          <li><strong>Net types</strong>: Represent physical connections (wires) between hardware elements</li>\n          <li><strong>Variable types</strong>: Represent storage elements (registers, memory)</li>\n        </ol>\n        \n        <h4>Net Types</h4>\n        <p>Net types model physical connections in hardware:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Net Type</th>\n            <th>Description</th>\n            <th>Common Use</th>\n          </tr>\n          <tr>\n            <td><code>wire</code></td>\n            <td>Basic connection with no signal storage</td>\n            <td>Connects module ports and combinational logic</td>\n          </tr>\n          <tr>\n            <td><code>tri</code></td>\n            <td>Same as wire, used for tri-state nets</td>\n            <td>Multiple drivers with enable controls</td>\n          </tr>\n          <tr>\n            <td><code>wand</code>, <code>triand</code></td>\n            <td>Wired-AND connection</td>\n            <td>Logic where multiple drivers must all be high</td>\n          </tr>\n          <tr>\n            <td><code>wor</code>, <code>trior</code></td>\n            <td>Wired-OR connection</td>\n            <td>Logic where any driver can pull high</td>\n          </tr>\n          <tr>\n            <td><code>supply0</code>, <code>supply1</code></td>\n            <td>Logical connections to power (1) or ground (0)</td>\n            <td>Permanent voltage connections</td>\n          </tr>\n        </table>\n        \n        <p><code>wire</code> is by far the most common net type used in Verilog designs.</p>\n        \n        <h4>Variable Types</h4>\n        <p>Variable types represent storage elements:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Variable Type</th>\n            <th>Description</th>\n            <th>Common Use</th>\n          </tr>\n          <tr>\n            <td><code>reg</code></td>\n            <td>Storage element that holds value until changed</td>\n            <td>Flip-flops, latches, or procedural variables</td>\n          </tr>\n          <tr>\n            <td><code>integer</code></td>\n            <td>32-bit signed general-purpose variable</td>\n            <td>Loop counters, procedural calculations</td>\n          </tr>\n          <tr>\n            <td><code>real</code></td>\n            <td>Floating-point value</td>\n            <td>Testbench calculations (not synthesizable)</td>\n          </tr>\n          <tr>\n            <td><code>time</code></td>\n            <td>64-bit unsigned for simulation time</td>\n            <td>Timing measurements in testbenches</td>\n          </tr>\n        </table>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Important Note on "reg"</h4>\n          <p>Despite its name, a <code>reg</code> does not necessarily represent a hardware register or flip-flop. It\'s simply a variable that retains its value in procedural blocks:</p>\n          <ul>\n            <li>A <code>reg</code> in an <code>always @(posedge clk)</code> block typically becomes a flip-flop</li>\n            <li>A <code>reg</code> in an <code>always @*</code> block typically becomes combinational logic</li>\n          </ul>\n          <p>The name "reg" is somewhat misleading and has led to confusion for many Verilog beginners.</p>\n        </div>\n        \n        <h4>Bit-Width Declarations</h4>\n        <p>Verilog allows you to specify the number of bits in a data type:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Single-bit signals<br>\n          wire enable;<br>\n          reg reset;<br><br>\n          \n          // Multi-bit vectors<br>\n          wire [7:0] data_bus; // 8-bit bus (bits 7 down to 0)<br>\n          reg [31:0] register; // 32-bit register<br><br>\n          \n          // Part select and bit select<br>\n          assign lower_byte = register[7:0]; // Select bits 7 through 0<br>\n          assign parity_bit = data_bus[0]; // Select just bit 0\n        </div>\n        \n        <h4>Signed vs. Unsigned Types</h4>\n        <p>By default, Verilog treats all nets and variables as unsigned. For signed arithmetic, use the <code>signed</code> keyword:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Unsigned (default)<br>\n          reg [7:0] unsigned_value; // Range: 0 to 255<br><br>\n          \n          // Signed<br>\n          reg signed [7:0] signed_value; // Range: -128 to 127\n        </div>\n        \n        <p>This distinction is important for operations like division, comparison, and right-shifting, where the behavior differs for signed and unsigned values.</p>\n      '},{id:"2.3",title:"Basic Syntax & Structure",content:'\n        <h3>Module Definition and Port Declarations</h3>\n        <p>Modules are the fundamental building blocks in Verilog. They encapsulate functionality and can be instantiated multiple times in a design.</p>\n        \n        <h4>Module Structure</h4>\n        <p>A basic Verilog module has the following structure:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module module_name(<br>\n          &nbsp;&nbsp;// Port declarations<br>\n          &nbsp;&nbsp;input wire in1,<br>\n          &nbsp;&nbsp;input wire [7:0] in_vector,<br>\n          &nbsp;&nbsp;output wire out1,<br>\n          &nbsp;&nbsp;output reg [15:0] out_vector,<br>\n          &nbsp;&nbsp;inout wire bidirectional<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Internal declarations<br>\n          &nbsp;&nbsp;wire internal_connection;<br>\n          &nbsp;&nbsp;reg [3:0] internal_register;<br>\n          <br>\n          &nbsp;&nbsp;// Implementation (assignments, always blocks, etc.)<br>\n          &nbsp;&nbsp;assign out1 = in1 & internal_connection;<br>\n          <br>\n          &nbsp;&nbsp;// More implementation...<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Port Declarations</h4>\n        <p>Ports define the interface of a module, specifying what signals go in and out:</p>\n        <ul>\n          <li><strong>input</strong>: Data flowing into the module</li>\n          <li><strong>output</strong>: Data flowing out of the module</li>\n          <li><strong>inout</strong>: Bidirectional data (both in and out)</li>\n        </ul>\n        \n        <p>Ports can be declared in two styles:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // ANSI C-style port declarations (Verilog-2001, preferred)<br>\n          module counter(<br>\n          &nbsp;&nbsp;input wire clock,<br>\n          &nbsp;&nbsp;input wire reset,<br>\n          &nbsp;&nbsp;input wire enable,<br>\n          &nbsp;&nbsp;output reg [7:0] count<br>\n          );<br>\n          &nbsp;&nbsp;// Module body...<br>\n          endmodule<br>\n          <br>\n          // Older style (Verilog-1995)<br>\n          module counter(clock, reset, enable, count);<br>\n          &nbsp;&nbsp;input clock, reset, enable;<br>\n          &nbsp;&nbsp;output [7:0] count;<br>\n          &nbsp;&nbsp;reg [7:0] count;<br>\n          &nbsp;&nbsp;// Module body...<br>\n          endmodule\n        </div>\n        \n        <p>The ANSI C-style (Verilog-2001) is more concise and is the recommended approach for new designs.</p>\n        \n        <h4>Structural Hierarchy</h4>\n        <p>Verilog designs typically have a hierarchical structure, with modules instantiating other modules:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module top_module(<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire rst,<br>\n          &nbsp;&nbsp;input wire [7:0] data_in,<br>\n          &nbsp;&nbsp;output wire [7:0] data_out<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Internal connections<br>\n          &nbsp;&nbsp;wire [7:0] intermediate_data;<br>\n          &nbsp;&nbsp;wire valid_signal;<br>\n          <br>\n          &nbsp;&nbsp;// Instantiate sub-modules<br>\n          &nbsp;&nbsp;data_processor processor_inst (<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.clock(clk),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.reset(rst),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.data_in(data_in),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.processed_data(intermediate_data),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.data_valid(valid_signal)<br>\n          &nbsp;&nbsp;);<br>\n          <br>\n          &nbsp;&nbsp;output_controller controller_inst (<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.clock(clk),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.reset(rst),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.data_in(intermediate_data),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.valid_in(valid_signal),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.data_out(data_out)<br>\n          &nbsp;&nbsp;);<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Module Instantiation Styles</h4>\n        <p>There are two ways to connect ports when instantiating a module:</p>\n        \n        <ol>\n          <li><strong>Positional port connections</strong>: Connections are made based on the order of ports in the module definition</li>\n          <li><strong>Named port connections</strong>: Connections explicitly name which port they connect to</li>\n        </ol>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Positional port connections<br>\n          counter count1(clock, reset, enable, count_value);<br>\n          <br>\n          // Named port connections (preferred)<br>\n          counter count2(<br>\n          &nbsp;&nbsp;.clock(clock),<br>\n          &nbsp;&nbsp;.reset(reset),<br>\n          &nbsp;&nbsp;.enable(enable),<br>\n          &nbsp;&nbsp;.count(count_value)<br>\n          );\n        </div>\n        \n        <p>Named port connections are strongly recommended because they:</p>\n        <ul>\n          <li>Make code more readable and self-documenting</li>\n          <li>Allow ports to be connected in any order</li>\n          <li>Reduce errors when module port definitions change</li>\n          <li>Make it easier to leave optional ports unconnected</li>\n        </ul>\n      '},{id:"2.4",title:"Key Takeaways",content:"\n        <h3>Summary: Verilog Fundamentals</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>Verilog has specific lexical conventions, including rules for identifiers, keywords, and comments.</li>\n            <li>Data types in Verilog represent hardware elements: net types for connections and variable types for storage.</li>\n            <li>The <code>module</code> is the fundamental building block in Verilog, with input, output, and inout ports defining its interface.</li>\n            <li>Verilog designs are typically hierarchical, with modules instantiating other modules.</li>\n            <li>Named port connections are preferred over positional connections for clarity and maintainability.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>Now that you've learned the fundamental building blocks of Verilog, we'll explore different modeling styles in the next chapter. You'll learn about gate-level modeling, dataflow (RTL) modeling, and behavioral modeling\u2014each offering different levels of abstraction for your designs.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>Why is it important to choose the correct data type (net vs. variable) for signals in your design?</li>\n          <li>How does hierarchical design with modules help manage complexity in larger designs?</li>\n          <li>Consider a simple digital circuit you're familiar with (e.g., a counter or adder). How would you break it down into modules and connections?</li>\n        </ol>\n      "}],quiz:{title:"Verilog Language Fundamentals Quiz",description:"Test your understanding of Verilog syntax, modules, and data types",questions:[{id:"q2_1",question:"Which of the following is NOT a valid identifier in Verilog?",options:[{id:"a",text:"count_1"},{id:"b",text:"_data"},{id:"c",text:"2counter"},{id:"d",text:"input_value$"}],correctAnswer:"c",explanation:"Identifiers in Verilog must begin with a letter or underscore, followed by letters, digits, underscores, or dollar signs. '2counter' is invalid because it starts with a digit."},{id:"q2_2",question:"Which data type would be appropriate for representing a wire connection between gates?",options:[{id:"a",text:"reg"},{id:"b",text:"wire"},{id:"c",text:"integer"},{id:"d",text:"time"}],correctAnswer:"b",explanation:"The 'wire' data type is used to represent physical connections between hardware elements. It cannot store values and must be continuously driven."},{id:"q2_3",question:"Which port direction is used for signals that can be both read from and written to by a module?",options:[{id:"a",text:"input"},{id:"b",text:"output"},{id:"c",text:"inout"},{id:"d",text:"buffer"}],correctAnswer:"c",explanation:"The 'inout' port direction is used for bidirectional signals that can be both read from and written to by a module, such as tri-state bus connections."},{id:"q2_4",question:"Which of the following correctly declares an 8-bit wide bus named 'data'?",options:[{id:"a",text:"wire data[7:0];"},{id:"b",text:"wire [7:0] data;"},{id:"c",text:"wire data[0:7];"},{id:"d",text:"bus [7:0] data;"}],correctAnswer:"b",explanation:"The correct syntax for declaring an 8-bit bus is 'wire [7:0] data;'. The notation [7:0] indicates the bus spans from bit 7 (MSB) to bit 0 (LSB)."},{id:"q2_5",question:'What is the output of the following line of code: $display("%b", 4\'b1010);',options:[{id:"a",text:"1010"},{id:"b",text:"10"},{id:"c",text:"0101"},{id:"d",text:"4'b1010"}],correctAnswer:"a",explanation:"The $display system task with the %b format specifier outputs the binary value. In this case, 4'b1010 will be printed as '1010'."},{id:"q2_6",question:"Which of the following is the correct way to instantiate a module named 'counter' with parameters?",options:[{id:"a",text:"counter #(.WIDTH(8), .MAX(255)) c1 (clk, rst, enable, count);"},{id:"b",text:"counter c1 (WIDTH=8, MAX=255) (clk, rst, enable, count);"},{id:"c",text:"counter c1 (parameters: WIDTH=8, MAX=255) (clk, rst, enable, count);"},{id:"d",text:"counter c1 (clk, rst, enable, count) #(WIDTH=8, MAX=255);"}],correctAnswer:"a",explanation:"The correct syntax for module instantiation with parameters is: module_name #(.PARAM1(value1), .PARAM2(value2)) instance_name (port_connections);"},{id:"q2_7",question:"What is the size (in bits) of the following declaration: reg [3:0] memory [0:7];",options:[{id:"a",text:"4 bits"},{id:"b",text:"8 bits"},{id:"c",text:"32 bits"},{id:"d",text:"11 bits"}],correctAnswer:"c",explanation:"This declares an array of 8 registers (indexed 0 to 7), each 4 bits wide. The total size is 8 * 4 = 32 bits."},{id:"q2_8",question:"What is the difference between these two port connection styles?",options:[{id:"a",text:"Named connections are more verbose but less error-prone"},{id:"b",text:"Positional connections are only allowed for modules with fewer than 8 ports"},{id:"c",text:"Named connections allow connecting ports in any order"},{id:"d",text:"There is no functional difference, it's just coding style"}],correctAnswer:"c",explanation:"With named port connections (.port_name(signal)), you can connect ports in any order. With positional connections, the order must match the port declaration order in the module definition."}]}},completed:!1},{...{id:3,title:"Modeling Styles in Verilog",description:"Explore the three main modeling approaches in Verilog: gate-level, dataflow, and behavioral modeling",estimatedTime:"2 hours",completed:!1,sections:[{id:"3.1",title:"Gate-Level Modeling",content:'\n        <h3>Primitive Logic Gates</h3>\n        <p>Gate-level modeling is the lowest level of abstraction in Verilog, representing individual logic gates directly in your code. This approach mirrors the actual hardware structure of digital circuits.</p>\n        \n        <h4>Built-in Gate Primitives</h4>\n        <p>Verilog includes built-in primitives for common logic gates:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Gate Primitive</th>\n            <th>Operation</th>\n            <th>Symbol</th>\n          </tr>\n          <tr>\n            <td><code>and</code></td>\n            <td>Logical AND</td>\n            <td>Y = A & B</td>\n          </tr>\n          <tr>\n            <td><code>or</code></td>\n            <td>Logical OR</td>\n            <td>Y = A | B</td>\n          </tr>\n          <tr>\n            <td><code>not</code></td>\n            <td>Logical NOT</td>\n            <td>Y = ~A</td>\n          </tr>\n          <tr>\n            <td><code>nand</code></td>\n            <td>Logical NAND</td>\n            <td>Y = ~(A & B)</td>\n          </tr>\n          <tr>\n            <td><code>nor</code></td>\n            <td>Logical NOR</td>\n            <td>Y = ~(A | B)</td>\n          </tr>\n          <tr>\n            <td><code>xor</code></td>\n            <td>Logical XOR</td>\n            <td>Y = A ^ B</td>\n          </tr>\n          <tr>\n            <td><code>xnor</code></td>\n            <td>Logical XNOR</td>\n            <td>Y = ~(A ^ B)</td>\n          </tr>\n          <tr>\n            <td><code>buf</code></td>\n            <td>Buffer</td>\n            <td>Y = A</td>\n          </tr>\n        </table>\n        \n        <h4>Gate Instantiation Syntax</h4>\n        <p>Gates are instantiated with the following syntax:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          gate_type instance_name(output_port, input_port1, input_port2, ...);\n        </div>\n        \n        <p>Note that for gate primitives, the first port is always the output, followed by inputs.</p>\n        \n        <h4>Example: Building a Half Adder</h4>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module half_adder_gate(<br>\n          &nbsp;&nbsp;input a, b,<br>\n          &nbsp;&nbsp;output sum, carry<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Sum is XOR of inputs<br>\n          &nbsp;&nbsp;xor xor1(sum, a, b);<br>\n          <br>\n          &nbsp;&nbsp;// Carry is AND of inputs<br>\n          &nbsp;&nbsp;and and1(carry, a, b);<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Example: Building a Full Adder</h4>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module full_adder_gate(<br>\n          &nbsp;&nbsp;input a, b, cin,<br>\n          &nbsp;&nbsp;output sum, cout<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Internal connections<br>\n          &nbsp;&nbsp;wire s1, c1, c2;<br>\n          <br>\n          &nbsp;&nbsp;// First half adder<br>\n          &nbsp;&nbsp;xor xor1(s1, a, b);<br>\n          &nbsp;&nbsp;and and1(c1, a, b);<br>\n          <br>\n          &nbsp;&nbsp;// Second half adder<br>\n          &nbsp;&nbsp;xor xor2(sum, s1, cin);<br>\n          &nbsp;&nbsp;and and2(c2, s1, cin);<br>\n          <br>\n          &nbsp;&nbsp;// Final carry<br>\n          &nbsp;&nbsp;or or1(cout, c1, c2);<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Limitations and Use Cases</h4>\n        <p>Gate-level modeling has several important limitations:</p>\n        <ul>\n          <li>Verbose for complex designs</li>\n          <li>Difficult to modify and maintain</li>\n          <li>Directly maps to specific technology primitives</li>\n          <li>Lacks higher-level abstraction capabilities</li>\n        </ul>\n        \n        <p>However, gate-level modeling is useful in specific scenarios:</p>\n        <ul>\n          <li>Working with legacy designs</li>\n          <li>Implementing small, critical components where fine-grained control is needed</li>\n          <li>Educational purposes to understand hardware fundamentals</li>\n          <li>Post-synthesis verification when comparing with RTL models</li>\n        </ul>\n      '},{id:"3.2",title:"Dataflow (RTL) Modeling",content:'\n        <h3>Continuous Assignments with assign</h3>\n        <p>Dataflow modeling, also known as Register Transfer Level (RTL) modeling, describes hardware in terms of data flow between registers and the logical operations performed on signals.</p>\n        \n        <h4>The assign Statement</h4>\n        <p>The primary construct in dataflow modeling is the <code>assign</code> statement, which creates a continuous assignment:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          assign output_signal = expression;\n        </div>\n        \n        <p>Key characteristics of the <code>assign</code> statement:</p>\n        <ul>\n          <li>Creates a continuous connection that is always active</li>\n          <li>The right-hand side is re-evaluated whenever any input changes</li>\n          <li>Maps directly to combinational logic in hardware</li>\n          <li>Cannot be used for sequential logic (registers/flip-flops)</li>\n        </ul>\n        \n        <h4>Example: Half Adder in Dataflow Style</h4>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module half_adder_dataflow(<br>\n          &nbsp;&nbsp;input a, b,<br>\n          &nbsp;&nbsp;output sum, carry<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Sum is XOR of inputs<br>\n          &nbsp;&nbsp;assign sum = a ^ b;<br>\n          <br>\n          &nbsp;&nbsp;// Carry is AND of inputs<br>\n          &nbsp;&nbsp;assign carry = a & b;<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Example: Full Adder in Dataflow Style</h4>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module full_adder_dataflow(<br>\n          &nbsp;&nbsp;input a, b, cin,<br>\n          &nbsp;&nbsp;output sum, cout<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Sum is XOR of all three inputs<br>\n          &nbsp;&nbsp;assign sum = a ^ b ^ cin;<br>\n          <br>\n          &nbsp;&nbsp;// Carry out is generated if any two or all inputs are 1<br>\n          &nbsp;&nbsp;assign cout = (a & b) | (b & cin) | (a & cin);<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Operators in Expressions</h4>\n        <p>Dataflow modeling uses a rich set of operators to create expressions:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Operator Type</th>\n            <th>Operators</th>\n            <th>Example</th>\n          </tr>\n          <tr>\n            <td>Arithmetic</td>\n            <td><code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>, <code>%</code></td>\n            <td><code>assign sum = a + b;</code></td>\n          </tr>\n          <tr>\n            <td>Logical</td>\n            <td><code>&&</code> (AND), <code>||</code> (OR), <code>!</code> (NOT)</td>\n            <td><code>assign valid = ready && !busy;</code></td>\n          </tr>\n          <tr>\n            <td>Bitwise</td>\n            <td><code>&</code>, <code>|</code>, <code>^</code>, <code>~</code></td>\n            <td><code>assign mask = data & 8\'hF0;</code></td>\n          </tr>\n          <tr>\n            <td>Reduction</td>\n            <td><code>&</code>, <code>|</code>, <code>^</code>, <code>~&</code>, <code>~|</code>, <code>~^</code></td>\n            <td><code>assign all_bits = &data;</code></td>\n          </tr>\n          <tr>\n            <td>Shift</td>\n            <td><code><<</code>, <code>>></code></td>\n            <td><code>assign shifted = value << 2;</code></td>\n          </tr>\n          <tr>\n            <td>Conditional</td>\n            <td><code>?:</code></td>\n            <td><code>assign out = sel ? a : b;</code></td>\n          </tr>\n        </table>\n        \n        <h4>Example: 4-to-1 Multiplexer</h4>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module mux_4to1(<br>\n          &nbsp;&nbsp;input [1:0] sel,<br>\n          &nbsp;&nbsp;input [7:0] a, b, c, d,<br>\n          &nbsp;&nbsp;output [7:0] out<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Using conditional operator<br>\n          &nbsp;&nbsp;assign out = (sel == 2\'b00) ? a :<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sel == 2\'b01) ? b :<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sel == 2\'b10) ? c : d;<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Advantages of Dataflow Modeling</h4>\n        <ul>\n          <li>More concise and readable than gate-level modeling</li>\n          <li>Directly expresses the designer\'s intent</li>\n          <li>Easier to modify and maintain</li>\n          <li>Synthesizes to optimized logic</li>\n          <li>Hardware-independent (synthesizer determines optimal gates)</li>\n        </ul>\n        \n        <p>Dataflow modeling is the preferred style for most combinational logic in modern FPGA and ASIC designs.</p>\n      '},{id:"3.3",title:"Behavioral Modeling",content:'\n        <h3>always Blocks, Procedural Statements</h3>\n        <p>Behavioral modeling is the highest level of abstraction in Verilog, describing what the circuit does rather than how it\'s implemented. This allows for complex algorithms and state machines to be expressed concisely.</p>\n        \n        <h4>The always Block</h4>\n        <p>The primary construct in behavioral modeling is the <code>always</code> block:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          always @(sensitivity_list) begin<br>\n          &nbsp;&nbsp;// Procedural statements<br>\n          end\n        </div>\n        \n        <p>The sensitivity list determines when the block executes:</p>\n        <ul>\n          <li><code>always @(posedge clk)</code> - Executes on rising edge of clock (sequential logic)</li>\n          <li><code>always @(negedge clk)</code> - Executes on falling edge of clock (sequential logic)</li>\n          <li><code>always @(a or b or c)</code> - Executes when any signal changes (combinational logic)</li>\n          <li><code>always @*</code> - Executes when any signal on the right side of assignments changes (Verilog-2001 shorthand for combinational logic)</li>\n        </ul>\n        \n        <h4>Blocking vs. Non-blocking Assignments</h4>\n        <p>Behavioral modeling uses two types of assignments:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Assignment Type</th>\n            <th>Syntax</th>\n            <th>Execution</th>\n            <th>Typical Use</th>\n          </tr>\n          <tr>\n            <td>Blocking</td>\n            <td><code>a = b;</code></td>\n            <td>Immediate, sequential execution</td>\n            <td>Combinational logic</td>\n          </tr>\n          <tr>\n            <td>Non-blocking</td>\n            <td><code>a <= b;</code></td>\n            <td>All right sides evaluate first, then all assignments happen simultaneously</td>\n            <td>Sequential logic (flip-flops)</td>\n          </tr>\n        </table>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Important Guideline</h4>\n          <p>A good rule of thumb for synthesizable code:</p>\n          <ul>\n            <li>Use blocking assignments (<code>=</code>) in combinational <code>always</code> blocks</li>\n            <li>Use non-blocking assignments (<code><=</code>) in sequential <code>always</code> blocks</li>\n          </ul>\n          <p>Mixing assignment types in the same always block often leads to simulation-synthesis mismatches.</p>\n        </div>\n        \n        <h4>Example: Combinational Logic (Multiplexer)</h4>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module mux_4to1_behavioral(<br>\n          &nbsp;&nbsp;input [1:0] sel,<br>\n          &nbsp;&nbsp;input [7:0] a, b, c, d,<br>\n          &nbsp;&nbsp;output reg [7:0] out<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Combinational logic with blocking assignments<br>\n          &nbsp;&nbsp;always @* begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;case(sel)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2\'b00: out = a;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2\'b01: out = b;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2\'b10: out = c;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2\'b11: out = d;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default: out = 8\'h00; // Good practice to include default<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;endcase<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Example: Sequential Logic (D Flip-Flop)</h4>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module d_ff(<br>\n          &nbsp;&nbsp;input clk, reset,<br>\n          &nbsp;&nbsp;input [7:0] d,<br>\n          &nbsp;&nbsp;output reg [7:0] q<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Sequential logic with non-blocking assignments<br>\n          &nbsp;&nbsp;always @(posedge clk or posedge reset) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (reset)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q <= 8\'h00; // Reset to zero<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q <= d; // Store input value<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Control Flow Statements</h4>\n        <p>Behavioral modeling supports standard control flow statements:</p>\n        <ul>\n          <li><code>if-else</code> - Conditional execution</li>\n          <li><code>case</code> - Multi-way branching</li>\n          <li><code>for</code>, <code>while</code>, <code>repeat</code> - Loops (mostly for testbenches, use with care in synthesizable code)</li>\n        </ul>\n        \n        <h4>Example: Up/Down Counter</h4>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module counter(<br>\n          &nbsp;&nbsp;input clk, reset, up_down,<br>\n          &nbsp;&nbsp;output reg [7:0] count<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Sequential counter with direction control<br>\n          &nbsp;&nbsp;always @(posedge clk or posedge reset) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (reset)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count <= 8\'h00;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;else begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (up_down) // Count up when up_down is 1<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count <= count + 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else // Count down when up_down is 0<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count <= count - 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Synthesizable Behavioral Code Guidelines</h4>\n        <p>Not all behavioral code is synthesizable. Follow these guidelines:</p>\n        <ul>\n          <li>Always specify a complete sensitivity list (or use <code>@*</code>)</li>\n          <li>Ensure every possible condition is covered to avoid latches</li>\n          <li>Use blocking assignments for combinational logic</li>\n          <li>Use non-blocking assignments for sequential logic</li>\n          <li>Avoid time delays and level-sensitive triggers in synthesizable code</li>\n          <li>Use for loops only with constant bounds for synthesis</li>\n        </ul>\n      '},{id:"3.4",title:"Key Takeaways",content:'\n        <h3>Summary: Modeling Styles in Verilog</h3>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;">\n          <h4>Key Points</h4>\n          <ul>\n            <li>Verilog offers three main modeling styles, each with different levels of abstraction and use cases.</li>\n            <li>Gate-level modeling uses primitive gates directly, offering low-level control but verbose for complex designs.</li>\n            <li>Dataflow modeling with <code>assign</code> statements provides a clear representation of combinational logic.</li>\n            <li>Behavioral modeling with <code>always</code> blocks offers the highest abstraction and flexibility for both combinational and sequential logic.</li>\n            <li>Use the right modeling style for each part of your design based on requirements and maintainability needs.</li>\n          </ul>\n        </div>\n        \n        <h3>Comparison of Modeling Styles</h3>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Feature</th>\n            <th>Gate-Level</th>\n            <th>Dataflow (RTL)</th>\n            <th>Behavioral</th>\n          </tr>\n          <tr>\n            <td>Abstraction Level</td>\n            <td>Low</td>\n            <td>Medium</td>\n            <td>High</td>\n          </tr>\n          <tr>\n            <td>Typical Constructs</td>\n            <td>Primitive gates</td>\n            <td><code>assign</code> statements</td>\n            <td><code>always</code> blocks</td>\n          </tr>\n          <tr>\n            <td>Code Conciseness</td>\n            <td>Verbose</td>\n            <td>Moderate</td>\n            <td>Concise</td>\n          </tr>\n          <tr>\n            <td>Combinational Logic</td>\n            <td>Yes</td>\n            <td>Yes</td>\n            <td>Yes</td>\n          </tr>\n          <tr>\n            <td>Sequential Logic</td>\n            <td>No</td>\n            <td>No</td>\n            <td>Yes</td>\n          </tr>\n          <tr>\n            <td>Best For</td>\n            <td>Small, critical circuits</td>\n            <td>Most combinational logic</td>\n            <td>Complex logic, state machines</td>\n          </tr>\n        </table>\n        \n        <h3>What\'s Next?</h3>\n        <p>With an understanding of the different modeling styles in Verilog, you\'re now ready to dive deeper into the operators and expressions that form the building blocks of these models. In the next chapter, we\'ll explore Verilog\'s rich set of operators and expressions, data types in more detail, and how to use them effectively in your designs.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>For a simple arithmetic circuit, which modeling style would you choose, and why?</li>\n          <li>How do blocking and non-blocking assignments differ in their execution, and why is this important when modeling hardware?</li>\n          <li>Consider a traffic light controller. Which parts might be best modeled using behavioral style, and which might use dataflow?</li>\n        </ol>\n      '}],quiz:{title:"Modeling Styles in Verilog Quiz",description:"Test your understanding of gate-level, dataflow, and behavioral modeling in Verilog",questions:[{id:"q3_1",question:"Which modeling style typically uses the 'assign' statement?",options:[{id:"a",text:"Gate-level modeling"},{id:"b",text:"Dataflow modeling"},{id:"c",text:"Behavioral modeling"},{id:"d",text:"Structural modeling"}],correctAnswer:"b",explanation:"Dataflow modeling typically uses the 'assign' statement to create continuous assignments that represent combinational logic."},{id:"q3_2",question:"In gate-level modeling, what is the correct way to instantiate an AND gate?",options:[{id:"a",text:"and #(delay) instance_name(output, input1, input2);"},{id:"b",text:"and instance_name(input1, input2, output);"},{id:"c",text:"AND(input1, input2, output);"},{id:"d",text:"gate and(input1 & input2, output);"}],correctAnswer:"a",explanation:"For gate primitives, the first port is always the output, followed by inputs. The correct syntax is: and [instance_name] (output, input1, input2, ...);"},{id:"q3_3",question:"Which modeling style provides the highest level of abstraction?",options:[{id:"a",text:"Gate-level modeling"},{id:"b",text:"Dataflow modeling"},{id:"c",text:"Behavioral modeling"},{id:"d",text:"Switch-level modeling"}],correctAnswer:"c",explanation:"Behavioral modeling provides the highest level of abstraction, allowing you to describe what the circuit does without specifying how it's implemented. It uses procedural blocks like 'always' and 'initial'."},{id:"q3_4",question:"What is the main drawback of gate-level modeling?",options:[{id:"a",text:"It consumes more simulation resources"},{id:"b",text:"It is not supported by all simulators"},{id:"c",text:"It is verbose and difficult to modify for complex designs"},{id:"d",text:"It cannot be synthesized to hardware"}],correctAnswer:"c",explanation:"Gate-level modeling becomes extremely verbose for complex designs, making it difficult to write, read, and maintain. It directly maps to gates, which requires many lines of code even for simple functions."},{id:"q3_5",question:"In the following code, which modeling style is being used? \nassign sum = a ^ b ^ cin; \nassign cout = (a & b) | (b & cin) | (a & cin);",options:[{id:"a",text:"Gate-level modeling"},{id:"b",text:"Dataflow modeling"},{id:"c",text:"Behavioral modeling"},{id:"d",text:"Mixed modeling"}],correctAnswer:"b",explanation:"This is dataflow modeling, characterized by the use of 'assign' statements and expressions. It describes the relationships between signals using operators rather than explicit gates or procedural code."},{id:"q3_6",question:"Which of the following operators can be used in dataflow modeling but NOT in gate-level modeling?",options:[{id:"a",text:"Logical AND (&)"},{id:"b",text:"Logical OR (|)"},{id:"c",text:"Conditional operator (?:)"},{id:"d",text:"Logical XOR (^)"}],correctAnswer:"c",explanation:"The conditional operator (?:) can be used in dataflow modeling with assign statements, but has no direct equivalent in gate-level modeling using primitive gates. The other operators have direct gate equivalents."},{id:"q3_7",question:"In behavioral modeling, which construct is used to describe a 4-to-1 multiplexer?",options:[{id:"a",text:"assign statements with conditional operators"},{id:"b",text:"Multiple instantiations of 2-to-1 multiplexers"},{id:"c",text:"case statement inside an always block"},{id:"d",text:"function declaration with a return statement"}],correctAnswer:"c",explanation:"In behavioral modeling, a 4-to-1 multiplexer would typically be implemented using a case statement inside an always block, selecting the output based on the select lines."},{id:"q3_8",question:"Which modeling style is most appropriate for a testbench?",options:[{id:"a",text:"Gate-level modeling"},{id:"b",text:"Dataflow modeling"},{id:"c",text:"Behavioral modeling"},{id:"d",text:"Mixed modeling"}],correctAnswer:"c",explanation:"Behavioral modeling is most appropriate for testbenches because it allows for high-level abstractions, sequential execution of test scenarios, and use of non-synthesizable constructs like 'initial' blocks, delays, and system tasks for verification."}]}},completed:!1},{...{id:4,title:"Operators, Expressions, and Data Types in Depth",description:"Master Verilog's operators, expressions, and advanced data type usage",estimatedTime:"2 hours",completed:!1,sections:[{id:"4.1",title:"Operators",content:'\n        <h3>Arithmetic Operators</h3>\n        <p>Verilog provides a rich set of operators for manipulating data. Understanding these operators is essential for writing effective and efficient code.</p>\n        \n        <h4>Arithmetic Operators</h4>\n        <p>These operators perform mathematical calculations:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Operator</th>\n            <th>Description</th>\n            <th>Example</th>\n            <th>Notes</th>\n          </tr>\n          <tr>\n            <td><code>+</code></td>\n            <td>Addition</td>\n            <td><code>a = b + c;</code></td>\n            <td>Wraps around on overflow</td>\n          </tr>\n          <tr>\n            <td><code>-</code></td>\n            <td>Subtraction</td>\n            <td><code>a = b - c;</code></td>\n            <td>Wraps around on underflow</td>\n          </tr>\n          <tr>\n            <td><code>*</code></td>\n            <td>Multiplication</td>\n            <td><code>a = b * c;</code></td>\n            <td>Result width is the sum of operand widths</td>\n          </tr>\n          <tr>\n            <td><code>/</code></td>\n            <td>Division</td>\n            <td><code>a = b / c;</code></td>\n            <td>Integer division (truncates fractional part)</td>\n          </tr>\n          <tr>\n            <td><code>%</code></td>\n            <td>Modulo</td>\n            <td><code>a = b % c;</code></td>\n            <td>Remainder after division</td>\n          </tr>\n          <tr>\n            <td><code>**</code></td>\n            <td>Exponentiation</td>\n            <td><code>a = 2 ** 3;</code> (8)</td>\n            <td>Exponent must be a constant</td>\n          </tr>\n        </table>\n        \n        <p>Example of arithmetic operations:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module arithmetic_example;<br>\n          &nbsp;&nbsp;reg [7:0] a, b, c, d, e, f;<br>\n          <br>\n          &nbsp;&nbsp;initial begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;a = 8\'d10;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;b = 8\'d3;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;c = a + b; // c = 13<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;d = a - b; // d = 7<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;e = a * b; // e = 30<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;f = a / b; // f = 3 (integer division)<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("a = %d, b = %d", a, b);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("a + b = %d", c);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("a - b = %d", d);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("a * b = %d", e);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("a / b = %d", f);<br>\n          &nbsp;&nbsp;end<br>\n          endmodule\n        </div>\n        \n        <h4>Logical and Relational Operators</h4>\n        <p>These operators perform comparisons and logical operations:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Operator</th>\n            <th>Description</th>\n            <th>Example</th>\n            <th>Result</th>\n          </tr>\n          <tr>\n            <td><code>==</code></td>\n            <td>Equality</td>\n            <td><code>a == b</code></td>\n            <td>1 if equal, 0 if not</td>\n          </tr>\n          <tr>\n            <td><code>!=</code></td>\n            <td>Inequality</td>\n            <td><code>a != b</code></td>\n            <td>1 if not equal, 0 if equal</td>\n          </tr>\n          <tr>\n            <td><code><</code></td>\n            <td>Less than</td>\n            <td><code>a < b</code></td>\n            <td>1 if a less than b, 0 otherwise</td>\n          </tr>\n          <tr>\n            <td><code>></code></td>\n            <td>Greater than</td>\n            <td><code>a > b</code></td>\n            <td>1 if a greater than b, 0 otherwise</td>\n          </tr>\n          <tr>\n            <td><code><=</code></td>\n            <td>Less than or equal</td>\n            <td><code>a <= b</code></td>\n            <td>1 if a less than or equal to b, 0 otherwise</td>\n          </tr>\n          <tr>\n            <td><code>>=</code></td>\n            <td>Greater than or equal</td>\n            <td><code>a >= b</code></td>\n            <td>1 if a greater than or equal to b, 0 otherwise</td>\n          </tr>\n          <tr>\n            <td><code>&&</code></td>\n            <td>Logical AND</td>\n            <td><code>a && b</code></td>\n            <td>1 if both a and b are nonzero, 0 otherwise</td>\n          </tr>\n          <tr>\n            <td><code>||</code></td>\n            <td>Logical OR</td>\n            <td><code>a || b</code></td>\n            <td>1 if either a or b is nonzero, 0 otherwise</td>\n          </tr>\n          <tr>\n            <td><code>!</code></td>\n            <td>Logical NOT</td>\n            <td><code>!a</code></td>\n            <td>1 if a is zero, 0 otherwise</td>\n          </tr>\n        </table>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Important Note</h4>\n          <p>Don\'t confuse logical operators (<code>&&</code>, <code>||</code>, <code>!</code>) with bitwise operators (<code>&</code>, <code>|</code>, <code>~</code>):</p>\n          <ul>\n            <li>Logical operators work on expressions as a whole and produce a 1-bit result</li>\n            <li>Bitwise operators work on each bit position independently</li>\n          </ul>\n        </div>\n        \n        <h4>Bitwise Operators</h4>\n        <p>These operators perform bit-by-bit operations:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Operator</th>\n            <th>Description</th>\n            <th>Example</th>\n            <th>Example Result</th>\n          </tr>\n          <tr>\n            <td><code>&</code></td>\n            <td>Bitwise AND</td>\n            <td><code>8\'b1010_1100 & 8\'b0011_1101</code></td>\n            <td><code>8\'b0010_1100</code></td>\n          </tr>\n          <tr>\n            <td><code>|</code></td>\n            <td>Bitwise OR</td>\n            <td><code>8\'b1010_1100 | 8\'b0011_1101</code></td>\n            <td><code>8\'b1011_1101</code></td>\n          </tr>\n          <tr>\n            <td><code>^</code></td>\n            <td>Bitwise XOR</td>\n            <td><code>8\'b1010_1100 ^ 8\'b0011_1101</code></td>\n            <td><code>8\'b1001_0001</code></td>\n          </tr>\n          <tr>\n            <td><code>~</code></td>\n            <td>Bitwise NOT</td>\n            <td><code>~8\'b1010_1100</code></td>\n            <td><code>8\'b0101_0011</code></td>\n          </tr>\n        </table>\n        \n        <h4>Reduction Operators</h4>\n        <p>These operators reduce a multi-bit value to a single bit:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Operator</th>\n            <th>Description</th>\n            <th>Example</th>\n            <th>Equivalent To</th>\n          </tr>\n          <tr>\n            <td><code>&</code></td>\n            <td>AND reduction</td>\n            <td><code>&4\'b1111</code> = 1</td>\n            <td>All bits are 1</td>\n          </tr>\n          <tr>\n            <td><code>|</code></td>\n            <td>OR reduction</td>\n            <td><code>|4\'b0001</code> = 1</td>\n            <td>Any bit is 1</td>\n          </tr>\n          <tr>\n            <td><code>^</code></td>\n            <td>XOR reduction</td>\n            <td><code>^4\'b1010</code> = 0</td>\n            <td>Odd number of 1s?</td>\n          </tr>\n          <tr>\n            <td><code>~&</code></td>\n            <td>NAND reduction</td>\n            <td><code>~&4\'b1111</code> = 0</td>\n            <td>Not all bits are 1</td>\n          </tr>\n          <tr>\n            <td><code>~|</code></td>\n            <td>NOR reduction</td>\n            <td><code>~|4\'b0000</code> = 1</td>\n            <td>No bits are 1</td>\n          </tr>\n          <tr>\n            <td><code>~^</code> or <code>^~</code></td>\n            <td>XNOR reduction</td>\n            <td><code>~^4\'b1010</code> = 1</td>\n            <td>Even number of 1s?</td>\n          </tr>\n        </table>\n        \n        <p>Reduction operators are particularly useful for parity checking and for determining if any/all bits meet a condition.</p>\n        \n        <h4>Shift Operators</h4>\n        <p>These operators shift bits left or right:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Operator</th>\n            <th>Description</th>\n            <th>Example</th>\n            <th>Example Result</th>\n          </tr>\n          <tr>\n            <td><code><<</code></td>\n            <td>Left shift</td>\n            <td><code>8\'b00001111 << 2</code></td>\n            <td><code>8\'b00111100</code></td>\n          </tr>\n          <tr>\n            <td><code>>></code></td>\n            <td>Right shift</td>\n            <td><code>8\'b11110000 >> 2</code></td>\n            <td><code>8\'b00111100</code></td>\n          </tr>\n        </table>\n        \n        <p>Shift operations:</p>\n        <ul>\n          <li>Left shift (<code><<</code>) shifts bits to the left, filling with 0s on the right</li>\n          <li>Right shift (<code>>></code>) behavior depends on whether the value is signed:\n            <ul>\n              <li>For unsigned values, it shifts right and fills with 0s on the left</li>\n              <li>For signed values, it performs an arithmetic shift, preserving the sign bit</li>\n            </ul>\n          </li>\n        </ul>\n        \n        <h4>Concatenation and Replication</h4>\n        <p>These operators combine signals or replicate bit patterns:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Operator</th>\n            <th>Description</th>\n            <th>Example</th>\n            <th>Result</th>\n          </tr>\n          <tr>\n            <td><code>{}</code></td>\n            <td>Concatenation</td>\n            <td><code>{4\'b1010, 4\'b0101}</code></td>\n            <td><code>8\'b10100101</code></td>\n          </tr>\n          <tr>\n            <td><code>{{n{}}}</code></td>\n            <td>Replication</td>\n            <td><code>{3{2\'b01}}</code></td>\n            <td><code>6\'b010101</code></td>\n          </tr>\n        </table>\n        \n        <p>Example of concatenation and replication:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module concat_example;<br>\n          &nbsp;&nbsp;reg [3:0] a, b;<br>\n          &nbsp;&nbsp;reg [7:0] c;<br>\n          &nbsp;&nbsp;reg [11:0] d;<br>\n          <br>\n          &nbsp;&nbsp;initial begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;a = 4\'b1010;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;b = 4\'b0011;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Concatenation<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;c = {a, b}; // c = 8\'b10100011<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Replication<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;d = {3{4\'b1001}}; // d = 12\'b100110011001<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("a = %b, b = %b", a, b);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("Concatenation {a, b} = %b", c);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("Replication {3{4\'b1001}} = %b", d);<br>\n          &nbsp;&nbsp;end<br>\n          endmodule\n        </div>\n      '},{id:"4.2",title:"Signed vs. Unsigned",content:'\n        <h3>Effects on Arithmetic Operations</h3>\n        <p>Understanding the difference between signed and unsigned values is crucial for correct arithmetic operations in Verilog.</p>\n        \n        <h4>Declaring Signed Values</h4>\n        <p>By default, all Verilog nets and variables are unsigned. To work with signed values, use the <code>signed</code> keyword:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Unsigned (default)<br>\n          reg [7:0] unsigned_value; // Range: 0 to 255<br>\n          <br>\n          // Signed<br>\n          reg signed [7:0] signed_value; // Range: -128 to 127\n        </div>\n        \n        <h4>How Signed Values are Represented</h4>\n        <p>Verilog uses two\'s complement representation for signed values:</p>\n        <ul>\n          <li>The most significant bit (MSB) serves as the sign bit</li>\n          <li>A 0 in the sign bit indicates a positive number</li>\n          <li>A 1 in the sign bit indicates a negative number</li>\n        </ul>\n        \n        <p>For example, in an 8-bit signed value:</p>\n        <ul>\n          <li><code>8\'b00000101</code> = +5 (positive, sign bit is 0)</li>\n          <li><code>8\'b11111011</code> = -5 (negative, sign bit is 1)</li>\n        </ul>\n        \n        <h4>Impact on Arithmetic Operations</h4>\n        <p>The signed keyword affects how operators interpret and process values:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Operation</th>\n            <th>Unsigned Behavior</th>\n            <th>Signed Behavior</th>\n          </tr>\n          <tr>\n            <td>Addition <code>+</code></td>\n            <td>Standard binary addition</td>\n            <td>Two\'s complement addition</td>\n          </tr>\n          <tr>\n            <td>Subtraction <code>-</code></td>\n            <td>Standard binary subtraction</td>\n            <td>Two\'s complement subtraction</td>\n          </tr>\n          <tr>\n            <td>Multiplication <code>*</code></td>\n            <td>Unsigned multiplication</td>\n            <td>Signed multiplication</td>\n          </tr>\n          <tr>\n            <td>Division <code>/</code></td>\n            <td>Unsigned division</td>\n            <td>Signed division</td>\n          </tr>\n          <tr>\n            <td>Comparison <code><</code>, <code>></code></td>\n            <td>Compares as magnitudes</td>\n            <td>Considers sign bit</td>\n          </tr>\n          <tr>\n            <td>Right shift <code>>></code></td>\n            <td>Logical shift (zeros fill)</td>\n            <td>Arithmetic shift (sign bit extends)</td>\n          </tr>\n        </table>\n        \n        <p>Example showing the difference:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module signed_example;<br>\n          &nbsp;&nbsp;reg [7:0] a, b, c;<br>\n          &nbsp;&nbsp;reg signed [7:0] d, e, f;<br>\n          <br>\n          &nbsp;&nbsp;initial begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Unsigned comparison<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;a = 8\'h80; // 128<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;b = 8\'h01; // 1<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;c = a > b; // c = 1 (128 > 1)<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Signed comparison<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;d = 8\'h80; // -128 in signed representation<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;e = 8\'h01; // 1 in signed representation<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;f = d > e; // f = 0 (-128 < 1)<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("Unsigned: a = %d, b = %d, a > b = %b", a, b, c);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("Signed: d = %d, e = %d, d > e = %b", d, e, f);<br>\n          &nbsp;&nbsp;end<br>\n          endmodule\n        </div>\n        \n        <h4>Signed Right Shift Example</h4>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module shift_example;<br>\n          &nbsp;&nbsp;reg [7:0] a, b;<br>\n          &nbsp;&nbsp;reg signed [7:0] c, d;<br>\n          <br>\n          &nbsp;&nbsp;initial begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Unsigned right shift<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;a = 8\'b10000000; // 128<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;b = a >> 1; // b = 8\'b01000000 (64)<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Signed right shift<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;c = 8\'b10000000; // -128 in signed<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;d = c >> 1; // d = 8\'b11000000 (-64)<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("Unsigned: a = %b (%d), a >> 1 = %b (%d)", a, a, b, b);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("Signed: c = %b (%d), c >> 1 = %b (%d)", c, c, d, d);<br>\n          &nbsp;&nbsp;end<br>\n          endmodule\n        </div>\n        \n        <h4>Type Casting</h4>\n        <p>You can explicitly convert between signed and unsigned values:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          reg [7:0] unsigned_value;<br>\n          reg signed [7:0] signed_value;<br>\n          <br>\n          // Casting unsigned to signed<br>\n          signed_value = $signed(unsigned_value);<br>\n          <br>\n          // Casting signed to unsigned<br>\n          unsigned_value = $unsigned(signed_value);\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Common Gotchas</h4>\n          <ul>\n            <li>Mixed expressions: If an operation involves both signed and unsigned operands, the unsigned operand is converted to signed</li>\n            <li>Context matters: The same bit pattern can be interpreted differently depending on whether it\'s declared as signed or unsigned</li>\n            <li>Bit width mismatches: When combining operands of different widths, the narrower operand is zero-extended (unsigned) or sign-extended (signed)</li>\n          </ul>\n        </div>\n      '},{id:"4.3",title:"Constants and Parameters",content:"\n        <h3>Defining and Using Constants</h3>\n        <p>Constants and parameters allow you to define fixed values in your design, making code more readable, maintainable, and configurable.</p>\n        \n        <h4>Numeric Constants</h4>\n        <p>Verilog supports several formats for specifying numeric constants:</p>\n        \n        <table border=\"1\" cellpadding=\"8\" cellspacing=\"0\" style=\"width:100%; border-collapse: collapse;\">\n          <tr style=\"background-color:#f0f0f0\">\n            <th>Format</th>\n            <th>Syntax</th>\n            <th>Example</th>\n            <th>Description</th>\n          </tr>\n          <tr>\n            <td>Decimal</td>\n            <td><code>[size]'d[value]</code></td>\n            <td><code>8'd42</code></td>\n            <td>Decimal format (base 10)</td>\n          </tr>\n          <tr>\n            <td>Hexadecimal</td>\n            <td><code>[size]'h[value]</code></td>\n            <td><code>8'h2A</code></td>\n            <td>Hex format (base 16)</td>\n          </tr>\n          <tr>\n            <td>Binary</td>\n            <td><code>[size]'b[value]</code></td>\n            <td><code>8'b00101010</code></td>\n            <td>Binary format (base 2)</td>\n          </tr>\n          <tr>\n            <td>Octal</td>\n            <td><code>[size]'o[value]</code></td>\n            <td><code>8'o52</code></td>\n            <td>Octal format (base 8)</td>\n          </tr>\n        </table>\n        \n        <p>The size specifier is optional but recommended for clarity:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;\">\n          // With size specifier (recommended)<br>\n          wire [7:0] a = 8'hFF;<br>\n          <br>\n          // Without size specifier (will be at least 32 bits)<br>\n          wire [7:0] b = 'hFF; // Implicitly sized<br>\n          <br>\n          // Underscore for readability<br>\n          wire [31:0] c = 32'h1234_5678;\n        </div>\n        \n        <h4>The parameter Keyword</h4>\n        <p>The <code>parameter</code> keyword defines constants within a module:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;\">\n          module counter #(<br>\n          &nbsp;&nbsp;parameter WIDTH = 8,<br>\n          &nbsp;&nbsp;parameter MAX_COUNT = 255<br>\n          )(<br>\n          &nbsp;&nbsp;input clk, reset,<br>\n          &nbsp;&nbsp;output reg [WIDTH-1:0] count<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;always @(posedge clk or posedge reset) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (reset)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count <= {WIDTH{1'b0}};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;else if (count == MAX_COUNT)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count <= {WIDTH{1'b0}};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count <= count + 1'b1;<br>\n          &nbsp;&nbsp;end<br>\n          endmodule\n        </div>\n        \n        <p>Benefits of parameters:</p>\n        <ul>\n          <li>Improve code readability by giving meaningful names to constants</li>\n          <li>Enable parameterized design, making modules reusable for different specifications</li>\n          <li>Centralize constants, making changes easier and less error-prone</li>\n          <li>Allow module instantiations with different parameter values</li>\n        </ul>\n        \n        <h4>Parameter Overrides During Instantiation</h4>\n        <p>Parameters can be overridden when instantiating a module:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;\">\n          // Method 1: Named parameter assignment (Verilog-2001, preferred)<br>\n          counter #(<br>\n          &nbsp;&nbsp;.WIDTH(16),<br>\n          &nbsp;&nbsp;.MAX_COUNT(65535)<br>\n          ) counter_inst (<br>\n          &nbsp;&nbsp;.clk(clk),<br>\n          &nbsp;&nbsp;.reset(reset),<br>\n          &nbsp;&nbsp;.count(count)<br>\n          );<br>\n          <br>\n          // Method 2: Positional parameter assignment<br>\n          counter #(16, 65535) counter_inst (<br>\n          &nbsp;&nbsp;.clk(clk),<br>\n          &nbsp;&nbsp;.reset(reset),<br>\n          &nbsp;&nbsp;.count(count)<br>\n          );<br>\n          <br>\n          // Using default parameters (no override)<br>\n          counter counter_inst (<br>\n          &nbsp;&nbsp;.clk(clk),<br>\n          &nbsp;&nbsp;.reset(reset),<br>\n          &nbsp;&nbsp;.count(count)<br>\n          );\n        </div>\n        \n        <h4>The localparam Keyword</h4>\n        <p>The <code>localparam</code> keyword defines constants that cannot be overridden during instantiation:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;\">\n          module state_machine (<br>\n          &nbsp;&nbsp;input clk, reset,<br>\n          &nbsp;&nbsp;input [1:0] command,<br>\n          &nbsp;&nbsp;output reg [1:0] state<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// These cannot be changed from outside<br>\n          &nbsp;&nbsp;localparam IDLE = 2'b00;<br>\n          &nbsp;&nbsp;localparam ACTIVE = 2'b01;<br>\n          &nbsp;&nbsp;localparam BUSY = 2'b10;<br>\n          &nbsp;&nbsp;localparam ERROR = 2'b11;<br>\n          <br>\n          &nbsp;&nbsp;always @(posedge clk or posedge reset) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (reset)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state <= IDLE;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case (state)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDLE: state <= (command == 2'b01) ? ACTIVE : IDLE;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ACTIVE: state <= (command == 2'b10) ? BUSY : ACTIVE;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;BUSY: state <= (command == 2'b11) ? ERROR : BUSY;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ERROR: state <= (command == 2'b00) ? IDLE : ERROR;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endcase<br>\n          &nbsp;&nbsp;end<br>\n          endmodule\n        </div>\n        \n        <p>Use <code>localparam</code> for internal constants that should never be changed externally.</p>\n        \n        <h4>Using defparam (Deprecated)</h4>\n        <p>The <code>defparam</code> statement allows parameter values to be modified from outside a module, but it's now considered deprecated:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;\">\n          module top_module;<br>\n          &nbsp;&nbsp;// Instantiate counter with default parameters<br>\n          &nbsp;&nbsp;counter counter_inst(...);<br>\n          <br>\n          &nbsp;&nbsp;// Override parameters after instantiation (NOT recommended)<br>\n          &nbsp;&nbsp;defparam counter_inst.WIDTH = 16;<br>\n          &nbsp;&nbsp;defparam counter_inst.MAX_COUNT = 65535;<br>\n          endmodule\n        </div>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;\">\n          <h4>Best Practices for Constants and Parameters</h4>\n          <ul>\n            <li>Use <code>parameter</code> for module-level constants that might need to be changed during instantiation</li>\n            <li>Use <code>localparam</code> for internal constants that should never be changed externally</li>\n            <li>Use named parameter assignment for clarity</li>\n            <li>Avoid <code>defparam</code> as it's less maintainable and harder to trace</li>\n            <li>Use uppercase for parameter names to distinguish them from variables</li>\n            <li>Document the purpose and units of parameters</li>\n          </ul>\n        </div>\n      "},{id:"4.4",title:"Key Takeaways",content:"\n        <h3>Summary: Verilog Operators, Expressions, and Data Types</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>Verilog provides a rich set of operators for data manipulation, including arithmetic, logical, bitwise, reduction, and shift operators.</li>\n            <li>The <code>signed</code> keyword affects how operators interpret and process values, especially important for arithmetic operations and comparisons.</li>\n            <li>Constants and parameters make code more readable, maintainable, and configurable, with <code>parameter</code> allowing override during instantiation and <code>localparam</code> for fixed internal constants.</li>\n            <li>Understanding operator precedence and type conversion is critical for writing correct and efficient code.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>Now that you understand Verilog's operators, expressions, and data types in depth, we'll explore procedural blocks and control flow in the next chapter. You'll learn how to use <code>always</code> blocks, conditional statements, loops, and other control structures to create more complex and dynamic hardware behavior.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>How would you determine if a 16-bit word has an odd number of '1' bits? Which operators would be most useful?</li>\n          <li>What are the potential issues when mixing signed and unsigned values in arithmetic operations?</li>\n          <li>How would you design a parameterized module that works with different data widths? What parameters would you include?</li>\n        </ol>\n      "}],quiz:{title:"Operators, Expressions, and Data Types Quiz",description:"Test your understanding of Verilog's operators, expressions, and data type concepts",questions:[{id:"q4_1",question:"What is the value of the expression: 4'b1010 & 4'b1100",options:[{id:"a",text:"4'b1110"},{id:"b",text:"4'b1000"},{id:"c",text:"4'b0010"},{id:"d",text:"4'b1111"}],correctAnswer:"b",explanation:"The bitwise AND operation (&) performs a bit-by-bit AND. 1010 AND 1100 = 1000, since only the leftmost bit is 1 in both operands."},{id:"q4_2",question:"What is the difference between '&' and '&&' operators in Verilog?",options:[{id:"a",text:"No difference, they are interchangeable"},{id:"b",text:"'&' is a bitwise AND, '&&' is a logical AND"},{id:"c",text:"'&' is a reduction operator, '&&' is a bitwise operator"},{id:"d",text:"'&' is used for integer values, '&&' is used for real values"}],correctAnswer:"b",explanation:"The '&' operator is a bitwise AND that operates on each bit position, while '&&' is a logical AND that treats non-zero values as true and returns either 1 or 0."},{id:"q4_3",question:"What does the reduction operator '|' do when applied to a 4-bit value?",options:[{id:"a",text:"Returns the OR of each bit with its adjacent bit"},{id:"b",text:"Returns logical 1 if any bit in the operand is 1"},{id:"c",text:"Returns a 4-bit value with all bits set to the same value"},{id:"d",text:"Returns the OR of the 4-bit value with 1"}],correctAnswer:"b",explanation:"The reduction OR operator '|' performs an OR operation across all bits of its operand. It returns 1 if any bit is 1, otherwise it returns 0."},{id:"q4_4",question:"What is the value of the expression: 3'b101 << 2",options:[{id:"a",text:"3'b100"},{id:"b",text:"5'b10100"},{id:"c",text:"3'b000"},{id:"d",text:"3'b010"}],correctAnswer:"c",explanation:"The left shift operator (<<) shifts bits to the left. 3'b101 shifted left by 2 would be 3'b10100, but since the result is constrained to 3 bits, the overflow bits are lost, resulting in 3'b000."},{id:"q4_5",question:"What is the result of the following operation in Verilog: 4'sb1000 >>> 1",options:[{id:"a",text:"4'b0100"},{id:"b",text:"4'b1100"},{id:"c",text:"4'b0000"},{id:"d",text:"4'b1110"}],correctAnswer:"b",explanation:"The arithmetic right shift (>>>) preserves the sign bit. When 4'sb1000 (-8 in decimal) is shifted right by 1, the sign bit (1) is duplicated, resulting in 4'b1100 (-4 in decimal)."},{id:"q4_6",question:"What's the difference between 'parameter' and 'localparam' in Verilog?",options:[{id:"a",text:"'parameter' is for global constants, 'localparam' is for module-specific constants"},{id:"b",text:"'parameter' values can be overridden during module instantiation, 'localparam' values cannot"},{id:"c",text:"'parameter' is available in all Verilog versions, 'localparam' was introduced in Verilog-2001"},{id:"d",text:"'parameter' is used with integers, 'localparam' is used with strings and arrays"}],correctAnswer:"b",explanation:"The key difference is that 'parameter' values can be overridden when instantiating a module, whereas 'localparam' values are fixed and cannot be changed from outside the module."},{id:"q4_7",question:"What is the result of the expression: -8'd5 / 3",options:[{id:"a",text:"-1"},{id:"b",text:"-2"},{id:"c",text:"-1.67"},{id:"d",text:"-1.5"}],correctAnswer:"a",explanation:"In Verilog, division of integers results in an integer. -5 divided by 3 equals -1.67, but the fractional part is truncated, resulting in -1."},{id:"q4_8",question:"What is the value of {3'b101, 2'b10}?",options:[{id:"a",text:"5'b10110"},{id:"b",text:"6'b000101"},{id:"c",text:"5'b10101"},{id:"d",text:"5'b10110"}],correctAnswer:"d",explanation:"The concatenation operator {} combines bit vectors. 3'b101 concatenated with 2'b10 creates a 5-bit vector 5'b10110."}]}},completed:!1},{...{id:5,title:"Procedural Blocks and Control Flow",description:"Learn how to use procedural blocks and control structures in Verilog",estimatedTime:"2 hours",completed:!1,sections:[{id:"5.1",title:"always Blocks",content:'\n        <h3>Understanding Procedural Blocks</h3>\n        <p>Procedural blocks are the primary way to describe sequential behavior in Verilog. The most common procedural block is the <code>always</code> block, which allows you to specify behavior that executes in response to specific events.</p>\n        \n        <h4>Basic Structure of an always Block</h4>\n        <p>An <code>always</code> block has the following general structure:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          always @(sensitivity_list) begin<br>\n          &nbsp;&nbsp;// Procedural statements<br>\n          end\n        </div>\n        \n        <p>The sensitivity list specifies the events or signals that trigger the execution of the block.</p>\n        \n        <h4>Types of Sensitivity Lists</h4>\n        <p>There are several ways to specify when an <code>always</code> block should execute:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Sensitivity Type</th>\n            <th>Syntax</th>\n            <th>Description</th>\n            <th>Common Use</th>\n          </tr>\n          <tr>\n            <td>Edge-sensitive</td>\n            <td><code>@(posedge clock)</code><br><code>@(negedge clock)</code></td>\n            <td>Executes on rising or falling edge of the specified signal</td>\n            <td>Sequential logic (flip-flops, registers)</td>\n          </tr>\n          <tr>\n            <td>Level-sensitive</td>\n            <td><code>@(a or b or c)</code><br><code>@*</code> or <code>@(*)</code></td>\n            <td>Executes when any of the listed signals change or any signal in RHS of the block changes</td>\n            <td>Combinational logic</td>\n          </tr>\n          <tr>\n            <td>Mixed edge-sensitive</td>\n            <td><code>@(posedge clk or posedge rst)</code></td>\n            <td>Executes on rising edge of clock or rising edge of reset</td>\n            <td>Synchronous logic with asynchronous reset</td>\n          </tr>\n        </table>\n        \n        <h4>Examples of always Blocks</h4>\n        \n        <p><strong>Edge-sensitive (Sequential Logic):</strong></p>\n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // D flip-flop with synchronous reset<br>\n          always @(posedge clk) begin<br>\n          &nbsp;&nbsp;if (rst)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;q <= 1\'b0;<br>\n          &nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;q <= d;<br>\n          end\n        </div>\n        \n        <p><strong>Level-sensitive (Combinational Logic):</strong></p>\n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // 2-to-1 multiplexer<br>\n          always @(sel or a or b) begin<br>\n          &nbsp;&nbsp;if (sel)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;y = b;<br>\n          &nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;y = a;<br>\n          end<br>\n          <br>\n          // Same multiplexer using automatic sensitivity<br>\n          always @(*) begin<br>\n          &nbsp;&nbsp;if (sel)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;y = b;<br>\n          &nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;y = a;<br>\n          end\n        </div>\n        \n        <p><strong>Mixed edge-sensitive (Sequential with Asynchronous Reset):</strong></p>\n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // D flip-flop with asynchronous reset<br>\n          always @(posedge clk or posedge rst) begin<br>\n          &nbsp;&nbsp;if (rst)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;q <= 1\'b0;<br>\n          &nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;q <= d;<br>\n          end\n        </div>\n        \n        <h4>Common Patterns for always Blocks</h4>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Type of Logic</th>\n            <th>Pattern</th>\n            <th>Assignment Type</th>\n            <th>Variable Type</th>\n          </tr>\n          <tr>\n            <td>Combinational Logic</td>\n            <td><code>always @(*)</code></td>\n            <td>Blocking (<code>=</code>)</td>\n            <td><code>reg</code></td>\n          </tr>\n          <tr>\n            <td>Sequential Logic</td>\n            <td><code>always @(posedge clk)</code></td>\n            <td>Non-blocking (<code><=</code>)</td>\n            <td><code>reg</code></td>\n          </tr>\n        </table>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Important Rules</h4>\n          <ul>\n            <li>Variables assigned within an <code>always</code> block must be declared as <code>reg</code> type</li>\n            <li>Use blocking assignments (<code>=</code>) for combinational logic</li>\n            <li>Use non-blocking assignments (<code><=</code>) for sequential logic</li>\n            <li>Mixing blocking and non-blocking assignments in the same <code>always</code> block can lead to confusing behavior</li>\n            <li>Make sure the sensitivity list includes all signals read within the block (or use <code>@(*)</code> for auto-sensitivity)</li>\n          </ul>\n        </div>\n        \n        <h4>Blocking vs. Non-blocking Assignments</h4>\n        <p>Understanding the difference between blocking and non-blocking assignments is crucial:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Blocking (=)</th>\n            <th>Non-blocking (<=)</th>\n          </tr>\n          <tr>\n            <td>Executes immediately</td>\n            <td>Schedules the assignment for the end of the current time step</td>\n          </tr>\n          <tr>\n            <td>Sequential execution within the block</td>\n            <td>Parallel execution</td>\n          </tr>\n          <tr>\n            <td>Later statements can see the effect of earlier assignments</td>\n            <td>All RHS expressions evaluated before any LHS updates</td>\n          </tr>\n          <tr>\n            <td>Used for combinational logic</td>\n            <td>Used for sequential logic</td>\n          </tr>\n        </table>\n        \n        <p><strong>Example showing the difference:</strong></p>\n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // With blocking assignments<br>\n          always @(*) begin<br>\n          &nbsp;&nbsp;a = b + c; // Executes first<br>\n          &nbsp;&nbsp;d = a + 1; // Uses updated value of a<br>\n          end<br>\n          <br>\n          // With non-blocking assignments<br>\n          always @(posedge clk) begin<br>\n          &nbsp;&nbsp;a <= b + c; // RHS evaluated but a not updated yet<br>\n          &nbsp;&nbsp;d <= a + 1; // Uses previous value of a, not the b+c value<br>\n          end\n        </div>\n      '},{id:"5.2",title:"if-else, case Statements",content:'\n        <h3>Conditional Statements in Verilog</h3>\n        <p>Conditional statements allow for decision-making in your Verilog code, creating different behaviors based on specified conditions.</p>\n        \n        <h4>if-else Statement</h4>\n        <p>The <code>if-else</code> statement evaluates a condition and executes a block of code depending on whether the condition is true or false.</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Basic if-else structure<br>\n          if (condition) begin<br>\n          &nbsp;&nbsp;// Statements executed if condition is true<br>\n          end<br>\n          else begin<br>\n          &nbsp;&nbsp;// Statements executed if condition is false<br>\n          end<br>\n          <br>\n          // Example: 2-to-1 multiplexer<br>\n          always @(*) begin<br>\n          &nbsp;&nbsp;if (sel == 1\'b1) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;y = b;<br>\n          &nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;else begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;y = a;<br>\n          &nbsp;&nbsp;end<br>\n          end\n        </div>\n        \n        <p>Multiple conditions can be checked using <code>else if</code>:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // 4-to-1 multiplexer using if-else if-else<br>\n          always @(*) begin<br>\n          &nbsp;&nbsp;if (sel == 2\'b00) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;y = a;<br>\n          &nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;else if (sel == 2\'b01) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;y = b;<br>\n          &nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;else if (sel == 2\'b10) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;y = c;<br>\n          &nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;else begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;y = d;<br>\n          &nbsp;&nbsp;end<br>\n          end\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Important Note</h4>\n          <p>For single-statement blocks, the <code>begin</code>/<code>end</code> keywords are optional but recommended for clarity and easier code maintenance:</p>\n          <div style="font-family: monospace; margin-top: 10px;">\n            // Without begin/end (allowed but less clear)<br>\n            if (sel)<br>\n            &nbsp;&nbsp;y = b;<br>\n            else<br>\n            &nbsp;&nbsp;y = a;<br>\n            <br>\n            // With begin/end (recommended)<br>\n            if (sel) begin<br>\n            &nbsp;&nbsp;y = b;<br>\n            end<br>\n            else begin<br>\n            &nbsp;&nbsp;y = a;<br>\n            end\n          </div>\n        </div>\n        \n        <h4>Nested if Statements</h4>\n        <p>An <code>if</code> statement can be nested within another <code>if</code> or <code>else</code> block:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          always @(*) begin<br>\n          &nbsp;&nbsp;if (enable) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (sel == 2\'b00) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = a;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;else begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y = b;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;else begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;y = 1\'b0; // Default output when disabled<br>\n          &nbsp;&nbsp;end<br>\n          end\n        </div>\n        \n        <h4>case Statement</h4>\n        <p>The <code>case</code> statement provides a cleaner way to handle multiple conditions based on a single expression:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Basic case structure<br>\n          case (expression)<br>\n          &nbsp;&nbsp;value1: statement1;<br>\n          &nbsp;&nbsp;value2: statement2;<br>\n          &nbsp;&nbsp;value3: statement3;<br>\n          &nbsp;&nbsp;default: default_statement;<br>\n          endcase<br>\n          <br>\n          // Example: 4-to-1 multiplexer using case<br>\n          always @(*) begin<br>\n          &nbsp;&nbsp;case (sel)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;2\'b00: y = a;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;2\'b01: y = b;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;2\'b10: y = c;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;2\'b11: y = d;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;default: y = 1\'bx; // Undefined for unknown sel values<br>\n          &nbsp;&nbsp;endcase<br>\n          end\n        </div>\n        \n        <p>For multiple statements in a <code>case</code> branch, use <code>begin</code>/<code>end</code>:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          always @(posedge clk or posedge rst) begin<br>\n          &nbsp;&nbsp;if (rst) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;state <= IDLE;<br>\n          &nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;else begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;case (state)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDLE: begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count <= 0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (start)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state <= ACTIVE;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ACTIVE: begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count <= count + 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (count == MAX)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state <= DONE;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DONE: begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;done_flag <= 1\'b1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state <= IDLE;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default: state <= IDLE;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;endcase<br>\n          &nbsp;&nbsp;end<br>\n          end\n        </div>\n        \n        <h4>Variants of case Statement</h4>\n        <p>Verilog provides special forms of the <code>case</code> statement for different matching behaviors:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Variant</th>\n            <th>Description</th>\n            <th>Example Use Case</th>\n          </tr>\n          <tr>\n            <td><code>case</code></td>\n            <td>Standard exact matching</td>\n            <td>Regular state machine or selector</td>\n          </tr>\n          <tr>\n            <td><code>casez</code></td>\n            <td>Treats <code>?</code> or <code>z</code> as don\'t-care bits in comparison</td>\n            <td>Priority encoders, where some bits don\'t matter</td>\n          </tr>\n          <tr>\n            <td><code>casex</code></td>\n            <td>Treats <code>?</code>, <code>z</code>, or <code>x</code> as don\'t-care bits</td>\n            <td>Similar to casez but less commonly used</td>\n          </tr>\n        </table>\n        \n        <p><strong>Example using casez for a priority encoder:</strong></p>\n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          always @(*) begin<br>\n          &nbsp;&nbsp;casez (req)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;4\'b1???: grant = 4\'b1000; // Highest priority<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;4\'b01??: grant = 4\'b0100;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;4\'b001?: grant = 4\'b0010;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;4\'b0001: grant = 4\'b0001; // Lowest priority<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;default: grant = 4\'b0000; // No requests<br>\n          &nbsp;&nbsp;endcase<br>\n          end\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Best Practices</h4>\n          <ul>\n            <li>Always include a <code>default</code> case to handle unexpected values</li>\n            <li>Use <code>case</code> rather than multiple <code>if-else</code> statements when checking multiple values of a single expression</li>\n            <li>Be careful with <code>casex</code> as it can mask design errors by ignoring <code>x</code> values</li>\n            <li>Use <code>casez</code> when you need don\'t-care conditions</li>\n            <li>Ensure all possible cases are covered to avoid unintentional latches in synthesis</li>\n          </ul>\n        </div>\n      '},{id:"5.3",title:"Loops and Iteration",content:'\n        <h3>Iterative Constructs in Verilog</h3>\n        <p>Verilog provides several looping constructs that allow for repetitive operations, both for simulation and synthesis.</p>\n        \n        <h4>for Loop</h4>\n        <p>The <code>for</code> loop is the most commonly used loop in Verilog, especially for repetitive operations with a known number of iterations.</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Basic for loop structure<br>\n          for (initial_statement; condition; step_statement) begin<br>\n          &nbsp;&nbsp;// Loop body<br>\n          end<br>\n          <br>\n          // Example: Shift register initialization<br>\n          reg [7:0] shift_reg;<br>\n          integer i;<br>\n          <br>\n          initial begin<br>\n          &nbsp;&nbsp;// Initialize all bits to 0<br>\n          &nbsp;&nbsp;for (i = 0; i < 8; i = i + 1) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;shift_reg[i] = 1\'b0;<br>\n          &nbsp;&nbsp;end<br>\n          end\n        </div>\n        \n        <p><strong>For loop for bit reversal:</strong></p>\n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module bit_reversal (<br>\n          &nbsp;&nbsp;input [7:0] data_in,<br>\n          &nbsp;&nbsp;output reg [7:0] data_out<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;integer i;<br>\n          <br>\n          &nbsp;&nbsp;always @(*) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;for (i = 0; i < 8; i = i + 1) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_out[i] = data_in[7-i];<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;end<br>\n          endmodule\n        </div>\n        \n        <h4>repeat Loop</h4>\n        <p>The <code>repeat</code> loop executes a block of code a specific number of times:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Basic repeat loop structure<br>\n          repeat (count) begin<br>\n          &nbsp;&nbsp;// Statements to repeat<br>\n          end<br>\n          <br>\n          // Example: Generate 10 clock cycles<br>\n          initial begin<br>\n          &nbsp;&nbsp;clk = 0;<br>\n          &nbsp;&nbsp;repeat (20) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;#5 clk = ~clk; // Toggle clock every 5 time units<br>\n          &nbsp;&nbsp;end<br>\n          end\n        </div>\n        \n        <h4>while Loop</h4>\n        <p>The <code>while</code> loop executes a block of code as long as a condition is true:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Basic while loop structure<br>\n          while (condition) begin<br>\n          &nbsp;&nbsp;// Loop body<br>\n          end<br>\n          <br>\n          // Example: Wait until a signal is asserted<br>\n          initial begin<br>\n          &nbsp;&nbsp;while (ready == 1\'b0) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;@(posedge clk); // Wait for clock edge<br>\n          &nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;$display("Ready asserted at time %t", $time);<br>\n          end\n        </div>\n        \n        <h4>forever Loop</h4>\n        <p>The <code>forever</code> loop executes a block of code indefinitely. It\'s commonly used in testbenches:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Basic forever loop structure<br>\n          forever begin<br>\n          &nbsp;&nbsp;// Statements to repeat indefinitely<br>\n          end<br>\n          <br>\n          // Example: Generate a continuous clock<br>\n          initial begin<br>\n          &nbsp;&nbsp;clk = 0;<br>\n          &nbsp;&nbsp;forever begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;#10 clk = ~clk; // Toggle clock every 10 time units<br>\n          &nbsp;&nbsp;end<br>\n          end\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Important Note</h4>\n          <p>The <code>forever</code> loop requires a way to exit, typically:</p>\n          <ul>\n            <li>Use with <code>$finish</code> or <code>$stop</code> in testbenches</li>\n            <li>Include in an <code>initial</code> block, not an <code>always</code> block for synthesis</li>\n          </ul>\n        </div>\n        \n        <h4>Loop Control Statements</h4>\n        <p>Verilog provides statements to control the flow within loops:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Statement</th>\n            <th>Description</th>\n            <th>Example</th>\n          </tr>\n          <tr>\n            <td><code>break</code></td>\n            <td>Exits the loop immediately</td>\n            <td>\n              <code>\n                for (i = 0; i < 10; i = i + 1) begin<br>\n                &nbsp;&nbsp;if (data[i] == 1\'b1)<br>\n                &nbsp;&nbsp;&nbsp;&nbsp;break; // Exit loop when 1 is found<br>\n                end\n              </code>\n            </td>\n          </tr>\n          <tr>\n            <td><code>continue</code></td>\n            <td>Skips the rest of the current iteration</td>\n            <td>\n              <code>\n                for (i = 0; i < 10; i = i + 1) begin<br>\n                &nbsp;&nbsp;if (data[i] == 1\'bx)<br>\n                &nbsp;&nbsp;&nbsp;&nbsp;continue; // Skip unknown values<br>\n                &nbsp;&nbsp;process(data[i]);<br>\n                end\n              </code>\n            </td>\n          </tr>\n        </table>\n        \n        <h4>Generate Blocks for Structural Replication</h4>\n        <p>While not a traditional loop, <code>generate</code> blocks with <code>for</code> loops provide a powerful way to create repetitive hardware structures:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Example: 8-bit ripple carry adder using generate<br>\n          module ripple_adder #(<br>\n          &nbsp;&nbsp;parameter WIDTH = 8<br>\n          )(<br>\n          &nbsp;&nbsp;input [WIDTH-1:0] a, b,<br>\n          &nbsp;&nbsp;input cin,<br>\n          &nbsp;&nbsp;output [WIDTH-1:0] sum,<br>\n          &nbsp;&nbsp;output cout<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;wire [WIDTH:0] carry;<br>\n          &nbsp;&nbsp;assign carry[0] = cin;<br>\n          &nbsp;&nbsp;assign cout = carry[WIDTH];<br>\n          <br>\n          &nbsp;&nbsp;genvar i;<br>\n          &nbsp;&nbsp;generate<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;for (i = 0; i < WIDTH; i = i + 1) begin: adder_loop<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_adder fa (<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.a(a[i]),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.b(b[i]),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.cin(carry[i]),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.sum(sum[i]),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.cout(carry[i+1])<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;endgenerate<br>\n          endmodule\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Synthesis Considerations</h4>\n          <ul>\n            <li>For synthesis, loops must have constant bounds that can be determined at compile time</li>\n            <li>Use <code>genvar</code> instead of <code>integer</code> for loop counters in <code>generate</code> blocks</li>\n            <li>Not all loop constructs are synthesizable; <code>for</code> loops are most commonly supported</li>\n            <li><code>while</code> and <code>forever</code> loops are typically only used in simulation</li>\n            <li>For hardware generation, prefer <code>generate</code> blocks with <code>for</code> loops</li>\n          </ul>\n        </div>\n      '},{id:"5.4",title:"Key Takeaways",content:"\n        <h3>Summary: Procedural Blocks and Control Flow</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>Procedural blocks (<code>always</code> blocks) are the primary way to describe behavioral logic in Verilog.</li>\n            <li>The sensitivity list in an <code>always</code> block determines when the block executes (edge-sensitive for sequential logic, level-sensitive for combinational logic).</li>\n            <li>Use blocking assignments (<code>=</code>) for combinational logic and non-blocking assignments (<code><=</code>) for sequential logic.</li>\n            <li>Control structures like <code>if-else</code> and <code>case</code> enable conditional execution, while loops facilitate repetitive operations.</li>\n            <li><code>generate</code> blocks provide a powerful way to create repetitive hardware structures during synthesis.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>Now that you understand procedural blocks and control flow in Verilog, we'll explore hierarchical design and module instantiation in the next chapter. You'll learn how to create modular designs, reuse components, and build complex systems from simpler building blocks.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>What are the potential issues with using blocking assignments in a sequential circuit or non-blocking assignments in a combinational circuit?</li>\n          <li>How would you design a priority encoder using <code>if-else</code> statements versus using a <code>casez</code> statement? What are the trade-offs?</li>\n          <li>How could you use a <code>generate</code> block to create a parameterized barrel shifter with a variable bit width?</li>\n        </ol>\n      "}],quiz:{title:"Procedural Blocks and Control Flow Quiz",description:"Test your understanding of always blocks, blocking vs. non-blocking assignments, and control structures in Verilog",questions:[{id:"q5_1",question:"Which sensitivity list is appropriate for modeling a D flip-flop with asynchronous reset?",options:[{id:"a",text:"@(posedge clk)"},{id:"b",text:"@(posedge clk or negedge rst_n)"},{id:"c",text:"@(clk or rst_n)"},{id:"d",text:"@(*)"}],correctAnswer:"b",explanation:"A D flip-flop with asynchronous reset should trigger on the positive edge of the clock or the negative edge of an active-low reset (rst_n). This ensures the reset can take effect immediately, regardless of the clock state."},{id:"q5_2",question:"What type of assignment should be used in an always block that models combinational logic?",options:[{id:"a",text:"Blocking (=)"},{id:"b",text:"Non-blocking (<=)"},{id:"c",text:"Either can be used interchangeably"},{id:"d",text:"Neither; use assign statements instead"}],correctAnswer:"a",explanation:"Blocking assignments (=) are recommended for combinational logic in always blocks. They execute sequentially, which matches the behavior expected in combinational circuits where each statement depends on the result of previous statements."},{id:"q5_3",question:"What is the key difference between blocking and non-blocking assignments?",options:[{id:"a",text:"Blocking assignments use '=' while non-blocking use '<='."},{id:"b",text:"Blocking assignments execute immediately, while non-blocking assignments are scheduled and update simultaneously."},{id:"c",text:"Blocking can only be used in initial blocks, non-blocking only in always blocks."},{id:"d",text:"Blocking assignments can only assign to reg variables, non-blocking can assign to wire variables."}],correctAnswer:"b",explanation:"The key difference is that blocking assignments (=) execute immediately and sequentially, affecting subsequent statements in the same procedural block. Non-blocking assignments (<=) are scheduled and all updates happen simultaneously at the end of the time step."},{id:"q5_4",question:"What will happen if a variable is assigned in multiple always blocks?",options:[{id:"a",text:"The variable will get the value from the last always block in the code."},{id:"b",text:"The simulator will report a compilation error."},{id:"c",text:"The variable's value will be unpredictable due to race conditions."},{id:"d",text:"The synthesis tool will automatically prioritize the assignments."}],correctAnswer:"c",explanation:"Assigning to the same variable in multiple always blocks creates a race condition. The final value will be unpredictable because it depends on the order in which the blocks execute, which is not defined in the language specification."},{id:"q5_5",question:"What is the proper sensitivity list for an always block implementing combinational logic?",options:[{id:"a",text:"@(posedge clk)"},{id:"b",text:"@(*)"},{id:"c",text:"@(a, b, c) // where a, b, c are the inputs"},{id:"d",text:"Both B and C are correct"}],correctAnswer:"d",explanation:"For combinational logic, either @(*) (which automatically includes all signals read within the block) or an explicit list of all inputs @(a, b, c) is correct. Both ensure the block executes whenever any input changes."},{id:"q5_6",question:"Which control structure is most appropriate for implementing a state machine in Verilog?",options:[{id:"a",text:"if-else statements"},{id:"b",text:"case statements"},{id:"c",text:"while loops"},{id:"d",text:"for loops"}],correctAnswer:"b",explanation:"Case statements are most appropriate for implementing state machines as they clearly show all possible states and transitions. Each case represents a state, and the code within each case defines the outputs and next state logic."},{id:"q5_7",question:"What happens in a case statement if none of the cases match and there is no default case?",options:[{id:"a",text:"The outputs retain their previous values"},{id:"b",text:"The outputs become 'x' (unknown)"},{id:"c",text:"The simulator generates a runtime error"},{id:"d",text:"The synthesis tool will automatically add a default case"}],correctAnswer:"a",explanation:"If none of the cases match and there is no default case, the outputs maintain their previous values. This is known as 'implicit latching' and can lead to unexpected behavior, which is why including a default case is considered good practice."},{id:"q5_8",question:"What is a casez statement used for?",options:[{id:"a",text:"To handle case statements with zero matches"},{id:"b",text:"To treat high-impedance values (z) as don't cares"},{id:"c",text:"To compare only non-zero bits in the case expressions"},{id:"d",text:"To implement zero-delay case statements"}],correctAnswer:"b",explanation:"The casez statement treats high-impedance values (z) as don't care conditions. It's commonly used in scenarios where certain bits should be ignored during comparison, such as in priority encoders or pattern matching."}]}},completed:!1},{...{id:6,title:"Hierarchical Design and Module Instantiation",description:"Learn to create complex designs through modular design principles and hierarchical composition",estimatedTime:"3 hours",completed:!1,sections:[{id:"6.1",title:"Hierarchical Design Principles",content:'\n        <h3>Why Design Hierarchically?</h3>\n        <p>Hierarchical design is a fundamental approach to managing complexity in digital systems. By breaking down a complex system into smaller, more manageable modules, designers can create sophisticated hardware that would otherwise be unmanageable.</p>\n        \n        <h4>Benefits of Hierarchical Design</h4>\n        <ul>\n          <li><strong>Reduced Complexity</strong>: Complex systems become easier to understand when broken down into smaller, focused modules.</li>\n          <li><strong>Reusability</strong>: Well-designed modules can be reused across multiple projects or multiple times within the same project.</li>\n          <li><strong>Team Collaboration</strong>: Different team members can work on different modules simultaneously.</li>\n          <li><strong>Easier Testing</strong>: Individual modules can be verified independently before integration.</li>\n          <li><strong>Maintainability</strong>: Changes to one module don\'t necessitate changes to the entire design.</li>\n          <li><strong>Scalability</strong>: A hierarchical approach makes it easier to extend functionality over time.</li>\n        </ul>\n        \n        <h4>Design Hierarchy Example</h4>\n        <p>Consider a simple CPU design with the following hierarchical structure:</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://www.researchgate.net/publication/334397596/figure/fig1/AS:780440294703105@1563364629135/CPU-Design-Hierarchy.png" alt="CPU Design Hierarchy" style="max-width: 700px; width: 100%;">\n        </div>\n        \n        <p>In this hierarchy:</p>\n        <ul>\n          <li>Each block represents a Verilog module</li>\n          <li>Higher-level modules instantiate lower-level modules</li>\n          <li>Each module has a specific, well-defined function</li>\n          <li>Signal flow between modules is clearly defined through module interfaces</li>\n        </ul>\n        \n        <h4>Planning a Hierarchical Design</h4>\n        <p>When planning a hierarchical design, consider the following steps:</p>\n        \n        <ol>\n          <li><strong>System Architecture</strong>: Define the overall structure and main functional blocks</li>\n          <li><strong>Module Boundaries</strong>: Determine where to divide functionality between modules</li>\n          <li><strong>Interface Definition</strong>: Define how modules will communicate (ports, protocols)</li>\n          <li><strong>Module Granularity</strong>: Balance between too many small modules and too few large ones</li>\n          <li><strong>Reuse Opportunities</strong>: Identify modules that can be reused multiple times</li>\n        </ol>\n      '},{id:"6.2",title:"Module Port Declarations",content:'\n        <h3>Defining Module Interfaces</h3>\n        <p>A module\'s interface consists of its ports, which define how it communicates with other modules. Well-designed ports make modules easier to instantiate, understand, and reuse.</p>\n        \n        <h4>Port Declaration Styles</h4>\n        <p>Verilog offers two styles for port declarations:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // ANSI C-style (Verilog-2001, recommended)<br>\n          module counter #(<br>\n          &nbsp;&nbsp;parameter WIDTH = 8<br>\n          )(<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire rst_n,<br>\n          &nbsp;&nbsp;input wire enable,<br>\n          &nbsp;&nbsp;output reg [WIDTH-1:0] count<br>\n          );<br>\n          &nbsp;&nbsp;// Module body...<br>\n          endmodule<br>\n          <br>\n          // Non-ANSI style (Verilog-1995)<br>\n          module counter(clk, rst_n, enable, count);<br>\n          &nbsp;&nbsp;parameter WIDTH = 8;<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;input clk;<br>\n          &nbsp;&nbsp;input rst_n;<br>\n          &nbsp;&nbsp;input enable;<br>\n          &nbsp;&nbsp;output [WIDTH-1:0] count;<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;reg [WIDTH-1:0] count;<br>\n          &nbsp;&nbsp;// Module body...<br>\n          endmodule\n        </div>\n        \n        <p>The ANSI C-style (Verilog-2001) is more concise and is the preferred approach for modern designs.</p>\n        \n        <h4>Port Types and Directions</h4>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Port Direction</th>\n            <th>Description</th>\n            <th>Valid Data Types</th>\n          </tr>\n          <tr>\n            <td><code>input</code></td>\n            <td>Data flows into the module</td>\n            <td><code>wire</code>, <code>reg</code> (as an input type only)</td>\n          </tr>\n          <tr>\n            <td><code>output</code></td>\n            <td>Data flows out of the module</td>\n            <td><code>wire</code>, <code>reg</code></td>\n          </tr>\n          <tr>\n            <td><code>inout</code></td>\n            <td>Bidirectional data flow</td>\n            <td><code>wire</code></td>\n          </tr>\n        </table>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Port Type Guidance</h4>\n          <ul>\n            <li>Always use <code>input wire</code> for input ports (the <code>wire</code> is optional but improves clarity)</li>\n            <li>Use <code>output wire</code> for outputs that are driven by continuous assignments (<code>assign</code>)</li>\n            <li>Use <code>output reg</code> for outputs that are assigned within procedural blocks (<code>always</code>)</li>\n            <li>Use <code>inout wire</code> for bidirectional ports (like tristate buses)</li>\n          </ul>\n        </div>\n        \n        <h4>Interface Best Practices</h4>\n        <ol>\n          <li><strong>Group Related Signals</strong>: Organize ports logically, keeping related signals together</li>\n          <li><strong>Consistent Naming</strong>: Use consistent naming conventions for similar ports across modules</li>\n          <li><strong>Include Clock & Reset</strong>: For sequential modules, include clock and reset as the first ports</li>\n          <li><strong>Descriptive Names</strong>: Use clear, descriptive port names that indicate function</li>\n          <li><strong>Parameterization</strong>: Use parameters for configurable aspects like bit widths</li>\n          <li><strong>Comments</strong>: Add comments to explain non-obvious ports</li>\n        </ol>\n        \n        <h4>Example: Well-Designed Module Interface</h4>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module fifo #(<br>\n          &nbsp;&nbsp;parameter DATA_WIDTH = 8,<br>\n          &nbsp;&nbsp;parameter DEPTH = 16,<br>\n          &nbsp;&nbsp;parameter ALMOST_FULL_THRESHOLD = DEPTH-2,<br>\n          &nbsp;&nbsp;parameter ALMOST_EMPTY_THRESHOLD = 2<br>\n          )(<br>\n          &nbsp;&nbsp;// Clock and reset<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire rst_n,<br>\n          <br>\n          &nbsp;&nbsp;// Write interface<br>\n          &nbsp;&nbsp;input wire wr_en,<br>\n          &nbsp;&nbsp;input wire [DATA_WIDTH-1:0] wr_data,<br>\n          &nbsp;&nbsp;output wire full,<br>\n          &nbsp;&nbsp;output wire almost_full,<br>\n          <br>\n          &nbsp;&nbsp;// Read interface<br>\n          &nbsp;&nbsp;input wire rd_en,<br>\n          &nbsp;&nbsp;output wire [DATA_WIDTH-1:0] rd_data,<br>\n          &nbsp;&nbsp;output wire empty,<br>\n          &nbsp;&nbsp;output wire almost_empty,<br>\n          <br>\n          &nbsp;&nbsp;// Status<br>\n          &nbsp;&nbsp;output wire [$clog2(DEPTH):0] fill_level<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Module implementation...<br>\n          <br>\n          endmodule\n        </div>\n        \n        <p>This interface design has several strengths:</p>\n        <ul>\n          <li>Parameterized for flexibility</li>\n          <li>Logically organized groups of signals</li>\n          <li>Clear, descriptive port names</li>\n          <li>Appropriate port types (wire/reg)</li>\n          <li>Includes comments to explain the purpose of each group</li>\n        </ul>\n      '},{id:"6.3",title:"Module Instantiation",content:'\n        <h3>Using Modules in Your Design</h3>\n        <p>Module instantiation is how you create instances of modules and connect them together to form a hierarchical design.</p>\n        \n        <h4>Basic Instantiation Syntax</h4>\n        <p>The basic syntax for instantiating a module is:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module_name instance_name (<br>\n          &nbsp;&nbsp;// Port connections<br>\n          );\n        </div>\n        \n        <h4>Port Connection Methods</h4>\n        <p>There are three methods for connecting ports when instantiating a module:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Connection Method</th>\n            <th>Syntax</th>\n            <th>Description</th>\n          </tr>\n          <tr>\n            <td>Positional</td>\n            <td><code>module_name instance_name(signal1, signal2, ...);</code></td>\n            <td>Connections made based on port order in module definition</td>\n          </tr>\n          <tr>\n            <td>Named (explicit)</td>\n            <td><code>module_name instance_name(.port1(signal1), .port2(signal2), ...);</code></td>\n            <td>Connections explicitly named, order doesn\'t matter</td>\n          </tr>\n          <tr>\n            <td>Named (implicit)</td>\n            <td><code>module_name instance_name(.port1, .port2, ...);</code></td>\n            <td>Verilog-2001 feature where port and signal have the same name</td>\n          </tr>\n        </table>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Best Practice</h4>\n          <p>Always use named port connections (.port_name(signal_name)) for clarity and maintainability. Positional connections are prone to errors when port lists change.</p>\n        </div>\n        \n        <h4>Examples of Module Instantiation</h4>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Module definition<br>\n          module counter #(<br>\n          &nbsp;&nbsp;parameter WIDTH = 8<br>\n          )(<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire rst_n,<br>\n          &nbsp;&nbsp;input wire enable,<br>\n          &nbsp;&nbsp;output reg [WIDTH-1:0] count<br>\n          );<br>\n          &nbsp;&nbsp;// Module implementation...<br>\n          endmodule<br>\n          <br>\n          // Using the counter module in another module<br>\n          module top_module(<br>\n          &nbsp;&nbsp;input wire system_clk,<br>\n          &nbsp;&nbsp;input wire system_rst_n,<br>\n          &nbsp;&nbsp;input wire [1:0] mode,<br>\n          &nbsp;&nbsp;output wire [15:0] count_value<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Internal signals<br>\n          &nbsp;&nbsp;wire counter_enable;<br>\n          <br>\n          &nbsp;&nbsp;// Generate enable signal based on mode<br>\n          &nbsp;&nbsp;assign counter_enable = (mode != 2\'b00);<br>\n          <br>\n          &nbsp;&nbsp;// Instantiate counter with positional connections (NOT recommended)<br>\n          &nbsp;&nbsp;counter #(16) counter_inst1(system_clk, system_rst_n, counter_enable, count_value);<br>\n          <br>\n          &nbsp;&nbsp;// Better: Instantiate with named connections (recommended)<br>\n          &nbsp;&nbsp;counter #(<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.WIDTH(16)<br>\n          &nbsp;&nbsp;) counter_inst2 (<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.clk(system_clk),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.rst_n(system_rst_n),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.enable(counter_enable),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.count(count_value)<br>\n          &nbsp;&nbsp;);<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Parameter Overriding</h4>\n        <p>Parameters allow modules to be configurable. There are several ways to override parameters:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Method 1: Parameter value override (older style)<br>\n          counter #(16) counter_inst1(...); // Sets WIDTH to 16<br>\n          <br>\n          // Method 2: Named parameter override (preferred)<br>\n          counter #(<br>\n          &nbsp;&nbsp;.WIDTH(16)<br>\n          ) counter_inst2 (...);<br>\n          <br>\n          // Method 3: Multiple parameters<br>\n          memory #(<br>\n          &nbsp;&nbsp;.DATA_WIDTH(32),<br>\n          &nbsp;&nbsp;.ADDR_WIDTH(10),<br>\n          &nbsp;&nbsp;.DEPTH(1024)<br>\n          ) memory_inst (...);<br>\n          <br>\n          // Using default parameters (no override)<br>\n          counter counter_inst3(...); // Uses default WIDTH=8\n        </div>\n        \n        <h4>Multiple Instantiations</h4>\n        <p>You can create multiple instances of the same module, each with its own configuration:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module multi_counter(<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire rst_n,<br>\n          &nbsp;&nbsp;output wire [7:0] count_8bit,<br>\n          &nbsp;&nbsp;output wire [15:0] count_16bit,<br>\n          &nbsp;&nbsp;output wire [31:0] count_32bit<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// 8-bit counter instance<br>\n          &nbsp;&nbsp;counter #(<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.WIDTH(8)<br>\n          &nbsp;&nbsp;) counter_8 (<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.clk(clk),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.rst_n(rst_n),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.enable(1\'b1),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.count(count_8bit)<br>\n          &nbsp;&nbsp;);<br>\n          <br>\n          &nbsp;&nbsp;// 16-bit counter instance<br>\n          &nbsp;&nbsp;counter #(<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.WIDTH(16)<br>\n          &nbsp;&nbsp;) counter_16 (<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.clk(clk),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.rst_n(rst_n),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.enable(1\'b1),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.count(count_16bit)<br>\n          &nbsp;&nbsp;);<br>\n          <br>\n          &nbsp;&nbsp;// 32-bit counter instance<br>\n          &nbsp;&nbsp;counter #(<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.WIDTH(32)<br>\n          &nbsp;&nbsp;) counter_32 (<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.clk(clk),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.rst_n(rst_n),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.enable(1\'b1),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.count(count_32bit)<br>\n          &nbsp;&nbsp;);<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Common Instantiation Errors</h4>\n        <ul>\n          <li><strong>Port Mismatch</strong>: Connecting a signal to a non-existent port</li>\n          <li><strong>Data Type Mismatch</strong>: Connecting signals of incompatible types</li>\n          <li><strong>Width Mismatch</strong>: Connecting signals of different bit widths</li>\n          <li><strong>Directional Mismatch</strong>: Connecting an output to an output</li>\n          <li><strong>Missing Connections</strong>: Not connecting all required ports</li>\n        </ul>\n      '},{id:"6.4",title:"Design Reuse and Parameterization",content:'\n        <h3>Creating Reusable Modules</h3>\n        <p>Design reuse is a critical strategy for efficient hardware development. Well-designed, parameterized modules can be used across multiple projects or multiple times within a project.</p>\n        \n        <h4>Parameterization Techniques</h4>\n        <p>Parameters make modules flexible and reusable by allowing configuration without changing the code:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module generic_shift_register #(<br>\n          &nbsp;&nbsp;parameter WIDTH = 8,              // Data width<br>\n          &nbsp;&nbsp;parameter STAGES = 4,             // Number of register stages<br>\n          &nbsp;&nbsp;parameter RESET_VALUE = {WIDTH{1\'b0}} // Reset value (default all 0s)<br>\n          )(<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire rst_n,<br>\n          &nbsp;&nbsp;input wire enable,<br>\n          &nbsp;&nbsp;input wire [WIDTH-1:0] data_in,<br>\n          &nbsp;&nbsp;output wire [WIDTH-1:0] data_out<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Internal registers - creates an array of registers<br>\n          &nbsp;&nbsp;reg [WIDTH-1:0] shift_reg [0:STAGES-1];<br>\n          &nbsp;&nbsp;integer i;<br>\n          <br>\n          &nbsp;&nbsp;// Shift register logic<br>\n          &nbsp;&nbsp;always @(posedge clk or negedge rst_n) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (!rst_n) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Reset all registers to the reset value<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (i = 0; i < STAGES; i = i + 1) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shift_reg[i] <= RESET_VALUE;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end else if (enable) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Shift data through the registers<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shift_reg[0] <= data_in;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for (i = 1; i < STAGES; i = i + 1) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shift_reg[i] <= shift_reg[i-1];<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;// Output is the last stage<br>\n          &nbsp;&nbsp;assign data_out = shift_reg[STAGES-1];<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Local Parameters</h4>\n        <p>Unlike regular parameters which can be overridden during instantiation, local parameters (<code>localparam</code>) are fixed within the module:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module ram #(<br>\n          &nbsp;&nbsp;parameter ADDR_WIDTH = 10,<br>\n          &nbsp;&nbsp;parameter DATA_WIDTH = 32<br>\n          )(<br>\n          &nbsp;&nbsp;// Ports...<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Local parameter - cannot be overridden<br>\n          &nbsp;&nbsp;localparam DEPTH = 1 << ADDR_WIDTH;<br>\n          &nbsp;&nbsp;localparam BYTES_PER_WORD = DATA_WIDTH / 8;<br>\n          <br>\n          &nbsp;&nbsp;// Memory array<br>\n          &nbsp;&nbsp;reg [DATA_WIDTH-1:0] mem [0:DEPTH-1];<br>\n          <br>\n          &nbsp;&nbsp;// Rest of implementation...<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Parameter Dependencies</h4>\n        <p>Parameters can depend on other parameters to create more flexible modules:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module fifo #(<br>\n          &nbsp;&nbsp;parameter DEPTH = 16,<br>\n          &nbsp;&nbsp;parameter DATA_WIDTH = 8,<br>\n          &nbsp;&nbsp;// Derived parameters<br>\n          &nbsp;&nbsp;parameter ADDR_WIDTH = $clog2(DEPTH)<br>\n          )(<br>\n          &nbsp;&nbsp;// Ports...<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Implementation...<br>\n          <br>\n          endmodule\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>The $clog2 Function</h4>\n          <p>The $clog2 function computes the ceiling of the base-2 logarithm, which is useful for calculating address widths. For example, $clog2(16) = 4, because 2^4 = 16.</p>\n        </div>\n        \n        <h4>Reuse Guidelines</h4>\n        <p>To create truly reusable modules, follow these guidelines:</p>\n        \n        <ol>\n          <li><strong>Parameterize Wisely</strong>: Make configurable anything that might need to change, but don\'t over-parameterize</li>\n          <li><strong>Clear Documentation</strong>: Document parameters, ports, and behavior thoroughly</li>\n          <li><strong>Input Validation</strong>: Add assertions or parameter checks to catch invalid configurations</li>\n          <li><strong>Clean Interfaces</strong>: Create consistent, logical port interfaces</li>\n          <li><strong>Standard Reset Behavior</strong>: Use consistent reset polarity and behavior</li>\n          <li><strong>Minimize Dependencies</strong>: Avoid depending on specific external behavior</li>\n        </ol>\n        \n        <h4>Complex Module Example: Parameterized FIFO</h4>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module fifo #(<br>\n          &nbsp;&nbsp;parameter DATA_WIDTH = 8,<br>\n          &nbsp;&nbsp;parameter DEPTH = 16,<br>\n          &nbsp;&nbsp;parameter ALMOST_FULL_THRESHOLD = DEPTH-2,<br>\n          &nbsp;&nbsp;parameter ALMOST_EMPTY_THRESHOLD = 2,<br>\n          &nbsp;&nbsp;// Derived parameter - do not override<br>\n          &nbsp;&nbsp;parameter ADDR_WIDTH = $clog2(DEPTH)<br>\n          )(<br>\n          &nbsp;&nbsp;// Clock and reset<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire rst_n,<br>\n          <br>\n          &nbsp;&nbsp;// Write interface<br>\n          &nbsp;&nbsp;input wire wr_en,<br>\n          &nbsp;&nbsp;input wire [DATA_WIDTH-1:0] wr_data,<br>\n          &nbsp;&nbsp;output reg full,<br>\n          &nbsp;&nbsp;output reg almost_full,<br>\n          <br>\n          &nbsp;&nbsp;// Read interface<br>\n          &nbsp;&nbsp;input wire rd_en,<br>\n          &nbsp;&nbsp;output reg [DATA_WIDTH-1:0] rd_data,<br>\n          &nbsp;&nbsp;output reg empty,<br>\n          &nbsp;&nbsp;output reg almost_empty,<br>\n          <br>\n          &nbsp;&nbsp;// Status<br>\n          &nbsp;&nbsp;output reg [ADDR_WIDTH:0] fill_level<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Memory array<br>\n          &nbsp;&nbsp;reg [DATA_WIDTH-1:0] mem [0:DEPTH-1];<br>\n          <br>\n          &nbsp;&nbsp;// Pointers and counters<br>\n          &nbsp;&nbsp;reg [ADDR_WIDTH-1:0] wr_ptr, rd_ptr;<br>\n          &nbsp;&nbsp;reg [ADDR_WIDTH:0] count; // Extra bit for full/empty detection<br>\n          <br>\n          &nbsp;&nbsp;// Update fill level<br>\n          &nbsp;&nbsp;always @* begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;fill_level = count;<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;// Update status flags<br>\n          &nbsp;&nbsp;always @* begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;empty = (count == 0);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;almost_empty = (count > 0) && (count <= ALMOST_EMPTY_THRESHOLD);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;full = (count == DEPTH);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;almost_full = (count >= ALMOST_FULL_THRESHOLD);<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;// Read and write logic<br>\n          &nbsp;&nbsp;always @(posedge clk or negedge rst_n) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (!rst_n) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rd_ptr <= 0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr_ptr <= 0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count <= 0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end else begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Handle writes<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (wr_en && !full) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mem[wr_ptr] <= wr_data;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr_ptr <= (wr_ptr == DEPTH-1) ? 0 : wr_ptr + 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Handle reads<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (rd_en && !empty) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rd_data <= mem[rd_ptr];<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rd_ptr <= (rd_ptr == DEPTH-1) ? 0 : rd_ptr + 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Update count<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (wr_en && !full && (!rd_en || empty))<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count <= count + 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if (rd_en && !empty && (!wr_en || full))<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count <= count - 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          endmodule\n        </div>\n        \n        <p>This FIFO module demonstrates several good design reuse principles:</p>\n        <ul>\n          <li>Well-parameterized for different data widths and depths</li>\n          <li>Derived parameters automatically calculated</li>\n          <li>Clean interface with separate read and write ports</li>\n          <li>Status signals for monitoring FIFO state</li>\n          <li>Standard reset behavior</li>\n        </ul>\n      '},{id:"6.5",title:"Key Takeaways",content:"\n        <h3>Summary: Hierarchical Design and Module Instantiation</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>Hierarchical design is essential for managing complexity in large digital systems.</li>\n            <li>Well-defined module interfaces with clear port declarations make designs more maintainable.</li>\n            <li>Use named port connections when instantiating modules to improve readability and reduce errors.</li>\n            <li>Parameterized modules promote design reuse and flexibility without code duplication.</li>\n            <li>Local parameters (<code>localparam</code>) are useful for internal constants derived from module parameters.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>Now that you understand how to create modular, hierarchical designs, we'll move on to testbenches and verification. Testing is a critical part of the hardware design process, and Verilog provides powerful constructs for creating testbenches to verify your designs before implementation.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>Consider a digital system you're familiar with (e.g., a calculator, a game console, or a traffic light controller). How would you break it down into a hierarchical structure of modules?</li>\n          <li>What are the trade-offs between making a module highly parameterized versus creating multiple specialized modules?</li>\n          <li>How might the choice of port types (input/output/inout, wire/reg) affect the reusability of a module?</li>\n        </ol>\n      "}],quiz:{title:"Hierarchical Design and Module Instantiation Quiz",description:"Test your understanding of modular design principles and module instantiation in Verilog",questions:[{id:"q6_1",question:"Which port connection method is considered the best practice for module instantiation?",options:[{id:"a",text:"Positional connection"},{id:"b",text:"Named (explicit) connection"},{id:"c",text:"Named (implicit) connection"},{id:"d",text:"Either positional or named connections are equally good"}],correctAnswer:"b",explanation:"Named (explicit) connections (.port_name(signal_name)) are considered best practice because they clearly show which port connects to which signal, are less prone to errors when port lists change, and allow connections in any order."},{id:"q6_2",question:"What is the correct syntax for a parameterized module instantiation?",options:[{id:"a",text:"counter #WIDTH=16 c1(.clk(clk), .rst_n(rst_n), .enable(en), .count(cnt));"},{id:"b",text:"counter c1(.clk(clk), .rst_n(rst_n), .enable(en), .count(cnt), #WIDTH=16);"},{id:"c",text:"counter #(WIDTH=16) c1(.clk(clk), .rst_n(rst_n), .enable(en), .count(cnt));"},{id:"d",text:"counter #(.WIDTH=16) c1(.clk(clk), .rst_n(rst_n), .enable(en), .count(cnt));"}],correctAnswer:"d",explanation:"The correct syntax is counter #(.WIDTH=16) c1(...);. The # symbol indicates parameter overriding, and using .PARAM_NAME format makes it clear which parameter is being overridden."},{id:"q6_3",question:"Which of the following is NOT a benefit of hierarchical design?",options:[{id:"a",text:"Reduced complexity"},{id:"b",text:"Improved reusability"},{id:"c",text:"Faster simulation speed"},{id:"d",text:"Easier team collaboration"}],correctAnswer:"c",explanation:"Hierarchical design does not necessarily improve simulation speed and can sometimes slow it down due to the overhead of module boundaries. The benefits include reduced complexity, improved reusability, and easier team collaboration."},{id:"q6_4",question:"What happens when you connect a 4-bit signal to an 8-bit input port?",options:[{id:"a",text:"Synthesis error"},{id:"b",text:"The 4-bit signal is zero-extended to 8 bits"},{id:"c",text:"The 4-bit signal is sign-extended to 8 bits"},{id:"d",text:"Only the lower 4 bits of the input port are connected"}],correctAnswer:"b",explanation:"When connecting a narrower signal to a wider port, the signal is zero-extended by default. For example, connecting a 4-bit signal to an 8-bit port will add zeros to the most significant bits."},{id:"q6_5",question:"What is the purpose of the $clog2 function in a module parameter declaration?",options:[{id:"a",text:"To calculate logarithms during simulation"},{id:"b",text:"To determine the minimum number of bits needed to represent a value"},{id:"c",text:"To convert between different number bases"},{id:"d",text:"To round up to the nearest power of 2"}],correctAnswer:"b",explanation:"The $clog2 function calculates the ceiling of the base-2 logarithm, which gives the minimum number of bits needed to represent a value. For example, $clog2(8) = 3, meaning you need at least 3 bits to represent 8 different values."},{id:"q6_6",question:"What is the correct port type for an output that will be assigned a value in an always block?",options:[{id:"a",text:"output wire"},{id:"b",text:"output reg"},{id:"c",text:"output logic"},{id:"d",text:"output var"}],correctAnswer:"b",explanation:"Output ports that are assigned values within procedural blocks (always blocks) should be declared as 'output reg'. This indicates that the port behaves like a register and can store values assigned in the procedural block."},{id:"q6_7",question:"How can you leave a port unconnected when using named port connections?",options:[{id:"a",text:"Omit the port entirely from the connection list"},{id:"b",text:"Use .port_name() with nothing inside the parentheses"},{id:"c",text:"Connect the port to a special 'unconnected' keyword"},{id:"d",text:"Connect the port to a 'z' value"}],correctAnswer:"a",explanation:"When using named port connections, you can simply omit the port from the connection list to leave it unconnected. If the port has a default value in the module definition, that value will be used."},{id:"q6_8",question:"What is the most appropriate granularity for modules in a hierarchical design?",options:[{id:"a",text:"Always create the smallest possible modules for maximum reusability"},{id:"b",text:"Use only a few large modules to minimize simulation overhead"},{id:"c",text:"Balance module size based on functionality, reusability, and maintainability"},{id:"d",text:"Follow industry standard guidelines that specify exactly how large modules should be"}],correctAnswer:"c",explanation:"The appropriate module granularity involves balancing several factors: functionality (modules should perform cohesive functions), reusability (modules should be general enough to reuse), and maintainability (modules should be simple enough to understand but not so small that the hierarchy becomes unwieldy)."}]}},completed:!1},{...{id:7,title:"Testbenches and Verification",description:"Learn how to create testbenches to verify your Verilog designs before implementation",estimatedTime:"3 hours",completed:!1,sections:[{id:"7.1",title:"Introduction to Verification",content:'\n        <h3>Why Verification is Essential</h3>\n        <p>Verification is a critical part of digital design. It ensures that your hardware design functions correctly before it\'s manufactured or programmed into an FPGA, saving time, money, and preventing potentially costly errors.</p>\n        \n        <h4>The Verification Challenge</h4>\n        <p>Hardware verification presents unique challenges compared to software testing:</p>\n        <ul>\n          <li><strong>Costly Errors</strong>: Hardware bugs that make it to silicon are extremely expensive to fix</li>\n          <li><strong>Parallel Execution</strong>: Hardware operates in parallel, making it harder to debug than sequential software</li>\n          <li><strong>Limited Visibility</strong>: Internal signals may be difficult or impossible to observe in actual hardware</li>\n          <li><strong>Limited Control</strong>: Setting up specific test scenarios can be challenging in real hardware</li>\n        </ul>\n        \n        <h4>Verification Methodologies</h4>\n        <p>Several methodologies are used for hardware verification:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Methodology</th>\n            <th>Description</th>\n            <th>Advantages</th>\n            <th>Limitations</th>\n          </tr>\n          <tr>\n            <td>Simulation</td>\n            <td>Using testbenches to simulate design behavior in software</td>\n            <td>Complete visibility and control, fast iteration</td>\n            <td>Slower than real hardware, may miss timing issues</td>\n          </tr>\n          <tr>\n            <td>Formal Verification</td>\n            <td>Mathematically proving design properties</td>\n            <td>Can find corner cases, exhaustive</td>\n            <td>Complex setup, limited to certain properties</td>\n          </tr>\n          <tr>\n            <td>Emulation</td>\n            <td>Running design on specialized hardware</td>\n            <td>Faster than simulation, closer to real hardware</td>\n            <td>Expensive equipment, less control than simulation</td>\n          </tr>\n          <tr>\n            <td>FPGA Prototyping</td>\n            <td>Implementing the design on an FPGA for testing</td>\n            <td>Real hardware speed, realistic environment</td>\n            <td>Limited debug visibility, longer iteration time</td>\n          </tr>\n        </table>\n        \n        <p>In this chapter, we\'ll focus on simulation-based verification using Verilog testbenches, which is the most common approach for initial design verification.</p>\n        \n        <h4>Levels of Verification</h4>\n        <p>Verification typically occurs at multiple levels:</p>\n        \n        <ol>\n          <li><strong>Unit Testing</strong>: Verifying individual modules in isolation</li>\n          <li><strong>Integration Testing</strong>: Verifying that interconnected modules work together</li>\n          <li><strong>System Testing</strong>: Verifying the complete system functionality</li>\n          <li><strong>Regression Testing</strong>: Re-running tests after changes to ensure nothing broke</li>\n        </ol>\n        \n        <p>Each level requires a different approach to testbench creation and verification strategy.</p>\n      '},{id:"7.2",title:"Testbench Basics",content:'\n        <h3>Creating a Simple Testbench</h3>\n        <p>A testbench is a Verilog module with no inputs or outputs that instantiates the design under test (DUT) and provides stimulus to verify its operation.</p>\n        \n        <h4>Testbench Structure</h4>\n        <p>A basic testbench typically includes:</p>\n        \n        <ul>\n          <li>Signal declarations for connecting to the DUT</li>\n          <li>DUT instantiation</li>\n          <li>Initial blocks for test stimulus generation</li>\n          <li>Clock generation (for sequential circuits)</li>\n          <li>Monitoring and checking mechanisms</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module example_tb; // Testbench has no ports<br>\n          <br>\n          &nbsp;&nbsp;// Signal declarations<br>\n          &nbsp;&nbsp;reg a, b;<br>\n          &nbsp;&nbsp;wire y;<br>\n          <br>\n          &nbsp;&nbsp;// Instantiate the DUT (Design Under Test)<br>\n          &nbsp;&nbsp;and_gate dut (<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.a(a),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.b(b),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.y(y)<br>\n          &nbsp;&nbsp;);<br>\n          <br>\n          &nbsp;&nbsp;// Test stimulus<br>\n          &nbsp;&nbsp;initial begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Initialize inputs<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;a = 0; b = 0;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Apply each test vector and display results<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;#10; // Wait 10 time units<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;a = 0; b = 0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;#10; $display("a=%b, b=%b, y=%b", a, b, y);<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;a = 0; b = 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;#10; $display("a=%b, b=%b, y=%b", a, b, y);<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;a = 1; b = 0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;#10; $display("a=%b, b=%b, y=%b", a, b, y);<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;a = 1; b = 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;#10; $display("a=%b, b=%b, y=%b", a, b, y);<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// End simulation<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$finish;<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Clock Generation</h4>\n        <p>For sequential circuits, you need to generate a clock signal:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          reg clk;<br>\n          <br>\n          // Clock generation<br>\n          initial begin<br>\n          &nbsp;&nbsp;clk = 0;<br>\n          &nbsp;&nbsp;forever #5 clk = ~clk; // Toggle every 5 time units (10 unit period)<br>\n          end\n        </div>\n        \n        <h4>Simulation System Tasks</h4>\n        <p>Verilog provides system tasks for controlling and monitoring simulation:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Task</th>\n            <th>Description</th>\n            <th>Example</th>\n          </tr>\n          <tr>\n            <td><code>$display</code></td>\n            <td>Print formatted text to the simulation console</td>\n            <td><code>$display("Value of y is %b", y);</code></td>\n          </tr>\n          <tr>\n            <td><code>$monitor</code></td>\n            <td>Print whenever specified signals change</td>\n            <td><code>$monitor("At time %t: a=%b, b=%b, y=%b", $time, a, b, y);</code></td>\n          </tr>\n          <tr>\n            <td><code>$time</code></td>\n            <td>Return current simulation time</td>\n            <td><code>$display("Current time: %t", $time);</code></td>\n          </tr>\n          <tr>\n            <td><code>$finish</code></td>\n            <td>End simulation</td>\n            <td><code>$finish;</code></td>\n          </tr>\n          <tr>\n            <td><code>$stop</code></td>\n            <td>Pause simulation</td>\n            <td><code>$stop;</code></td>\n          </tr>\n          <tr>\n            <td><code>$dumpfile</code>, <code>$dumpvars</code></td>\n            <td>Create waveform dumps for visualization</td>\n            <td><code>$dumpfile("test.vcd");<br>$dumpvars(0, testbench);</code></td>\n          </tr>\n        </table>\n      '},{id:"7.3",title:"Test Stimulus Generation",content:'\n        <h3>Creating Effective Test Scenarios</h3>\n        <p>Generating comprehensive test stimuli is critical for thorough verification. The goal is to exercise all relevant behaviors of the design.</p>\n        \n        <h4>Manual Stimulus Generation</h4>\n        <p>The most basic approach is to manually specify each test vector:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          initial begin<br>\n          &nbsp;&nbsp;// Test case 1: Reset behavior<br>\n          &nbsp;&nbsp;rst_n = 0; data_in = 8\'h00;<br>\n          &nbsp;&nbsp;@(posedge clk);<br>\n          &nbsp;&nbsp;@(posedge clk);<br>\n          <br>\n          &nbsp;&nbsp;// Test case 2: Normal operation<br>\n          &nbsp;&nbsp;rst_n = 1;<br>\n          &nbsp;&nbsp;@(posedge clk);<br>\n          &nbsp;&nbsp;data_in = 8\'hA5;<br>\n          &nbsp;&nbsp;@(posedge clk);<br>\n          &nbsp;&nbsp;data_in = 8\'h3C;<br>\n          &nbsp;&nbsp;@(posedge clk);<br>\n          <br>\n          &nbsp;&nbsp;// More test cases...<br>\n          end\n        </div>\n        \n        <h4>Systematic Test Pattern Generation</h4>\n        <p>For more thorough testing, use loops to generate systematic patterns:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          integer i;<br>\n          <br>\n          initial begin<br>\n          &nbsp;&nbsp;// Test all possible input combinations (for small input widths)<br>\n          &nbsp;&nbsp;for (i = 0; i < 16; i = i + 1) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;{sel, data} = i; // Concatenation assigns bits to multiple signals<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;#10; // Wait for outputs to stabilize<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("sel=%b, data=%b, out=%b", sel, data, out);<br>\n          &nbsp;&nbsp;end<br>\n          end\n        </div>\n        \n        <h4>Random Stimulus Generation</h4>\n        <p>Random testing can find unexpected bugs and corner cases:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          integer i;<br>\n          <br>\n          initial begin<br>\n          &nbsp;&nbsp;// Run 100 random test cases<br>\n          &nbsp;&nbsp;for (i = 0; i < 100; i = i + 1) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;addr = $random; // Generate random value<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;data_in = $random;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;wr_en = $random % 2; // Random 0 or 1<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;@(posedge clk);<br>\n          &nbsp;&nbsp;end<br>\n          end\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Important Note</h4>\n          <p>The <code>$random</code> function returns a 32-bit signed value. To generate random values with specific characteristics:</p>\n          <ul>\n            <li>Use modulo for specific ranges: <code>$random % 10</code> (0 to 9)</li>\n            <li>Use masking for specific bit widths: <code>$random & 8\'hFF</code> (8-bit value)</li>\n            <li>Seed the random generator for repeatable tests: <code>initial $random(seed);</code></li>\n          </ul>\n        </div>\n        \n        <h4>Creating Specialized Test Scenarios</h4>\n        <p>Beyond basic patterns, you should create tests for:</p>\n        \n        <ul>\n          <li><strong>Corner Cases</strong>: Test extreme values (all 0s, all 1s, alternating patterns)</li>\n          <li><strong>Edge Cases</strong>: Test boundary conditions (empty/full FIFOs, counter rollovers)</li>\n          <li><strong>Error Conditions</strong>: Test how the design handles invalid inputs or states</li>\n          <li><strong>Timing Corner Cases</strong>: Test signals changing near clock edges (for sequential circuits)</li>\n        </ul>\n        \n        <h4>Using Tasks for Test Organization</h4>\n        <p>Tasks help organize test sequences and make testbenches more readable:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Task to reset the DUT<br>\n          task reset_dut;<br>\n          &nbsp;&nbsp;begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;rst_n = 0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;@(posedge clk);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;@(posedge clk);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;rst_n = 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;@(posedge clk);<br>\n          &nbsp;&nbsp;end<br>\n          endtask<br>\n          <br>\n          // Task to write data to the DUT<br>\n          task write_data;<br>\n          &nbsp;&nbsp;input [7:0] data;<br>\n          &nbsp;&nbsp;begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;wr_en = 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;data_in = data;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;@(posedge clk);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;wr_en = 0;<br>\n          &nbsp;&nbsp;end<br>\n          endtask<br>\n          <br>\n          // Main test sequence<br>\n          initial begin<br>\n          &nbsp;&nbsp;// Initialize<br>\n          &nbsp;&nbsp;wr_en = 0;<br>\n          &nbsp;&nbsp;data_in = 0;<br>\n          <br>\n          &nbsp;&nbsp;// Reset the DUT<br>\n          &nbsp;&nbsp;reset_dut;<br>\n          <br>\n          &nbsp;&nbsp;// Write some data<br>\n          &nbsp;&nbsp;write_data(8\'hA5);<br>\n          &nbsp;&nbsp;write_data(8\'h3C);<br>\n          &nbsp;&nbsp;write_data(8\'hF0);<br>\n          <br>\n          &nbsp;&nbsp;// More tests...<br>\n          end\n        </div>\n      '},{id:"7.4",title:"Self-Checking Testbenches",content:'\n        <h3>Automated Verification</h3>\n        <p>A self-checking testbench automatically verifies the correctness of the design rather than requiring manual inspection of results.</p>\n        \n        <h4>Basic Self-Checking Approach</h4>\n        <p>Compare expected outputs with actual outputs and report any discrepancies:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Test adder<br>\n          initial begin<br>\n          &nbsp;&nbsp;integer i, j;<br>\n          &nbsp;&nbsp;reg [7:0] expected_sum;<br>\n          &nbsp;&nbsp;integer error_count = 0;<br>\n          <br>\n          &nbsp;&nbsp;// Test 100 random combinations<br>\n          &nbsp;&nbsp;for (i = 0; i < 100; i = i + 1) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Generate random inputs<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;a = $random & 8\'hFF;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;b = $random & 8\'hFF;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;cin = $random & 1\'b1;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Wait for output to stabilize<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;#10;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Calculate expected result<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;expected_sum = a + b + cin;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Check result<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if ({cout, sum} !== expected_sum) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$display("ERROR: a=%h, b=%h, cin=%b, expected=%h, got=%h%h",<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a, b, cin, expected_sum, cout, sum);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error_count = error_count + 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;// Report test results<br>\n          &nbsp;&nbsp;if (error_count == 0)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("TEST PASSED: All 100 test vectors passed");<br>\n          &nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("TEST FAILED: %d out of 100 test vectors failed", error_count);<br>\n          <br>\n          &nbsp;&nbsp;$finish;<br>\n          end\n        </div>\n        \n        <h4>Reference Models</h4>\n        <p>For complex designs, create a reference model to generate expected outputs:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Reference model for FIR filter (behavioral model)<br>\n          function [15:0] fir_reference;<br>\n          &nbsp;&nbsp;input [7:0] sample;<br>\n          &nbsp;&nbsp;reg [15:0] result;<br>\n          &nbsp;&nbsp;integer i;<br>\n          &nbsp;&nbsp;begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Shift in new sample<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;for (i = TAPS-1; i > 0; i = i - 1)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;samples[i] = samples[i-1];<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;samples[0] = sample;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Calculate result using coefficients<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;result = 0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;for (i = 0; i < TAPS; i = i + 1)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result = result + samples[i] * coeffs[i];<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;fir_reference = result;<br>\n          &nbsp;&nbsp;end<br>\n          endfunction\n        </div>\n        \n        <h4>Creating Automated Test Checkers</h4>\n        <p>Functions and tasks can encapsulate checking logic:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Task to check a single test vector<br>\n          task check_vector;<br>\n          &nbsp;&nbsp;input [3:0] a, b;<br>\n          &nbsp;&nbsp;input cin;<br>\n          &nbsp;&nbsp;begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Apply inputs<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;adder_a = a;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;adder_b = b;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;adder_cin = cin;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Wait for outputs to stabilize<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;#10;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Calculate expected result<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;expected = a + b + cin;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Check<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if ({adder_cout, adder_sum} !== expected) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$display("ERROR at time %t: a=%h, b=%h, cin=%b", $time, a, b, cin);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$display("  Expected: %h, Got: %h%h", expected, adder_cout, adder_sum);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error_count = error_count + 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;end<br>\n          endtask\n        </div>\n        \n        <h4>Using Assertions</h4>\n        <p>Assertions provide a powerful way to specify and check design properties:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Immediate assertion (procedural)<br>\n          always @(posedge clk) begin<br>\n          &nbsp;&nbsp;if (rst_n) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Check that count never skips values<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (count !== prev_count + 1 && count !== 0)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$error("Count value skipped: %d to %d", prev_count, count);<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;prev_count = count;<br>\n          &nbsp;&nbsp;end else begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;prev_count = 0;<br>\n          &nbsp;&nbsp;end<br>\n          end\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Testing Guidelines</h4>\n          <ul>\n            <li>Test corner cases and typical operation patterns</li>\n            <li>Use randomization to explore the design space</li>\n            <li>Create self-checking mechanisms to detect errors automatically</li>\n            <li>Track test coverage to ensure thoroughness</li>\n            <li>Make tests repeatable for regression testing</li>\n            <li>Separate stimulus generation from checking for cleaner testbenches</li>\n          </ul>\n        </div>\n      '},{id:"7.5",title:"Advanced Testbench Techniques",content:'\n        <h3>Beyond Basic Testbenches</h3>\n        <p>As designs grow more complex, more sophisticated verification approaches are needed.</p>\n        \n        <h4>File I/O in Testbenches</h4>\n        <p>Reading test vectors from files and writing results to files can be very useful:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Reading test vectors from a file<br>\n          integer file_handle, status;<br>\n          <br>\n          initial begin<br>\n          &nbsp;&nbsp;// Open file for reading<br>\n          &nbsp;&nbsp;file_handle = $fopen("test_vectors.txt", "r");<br>\n          &nbsp;&nbsp;if (file_handle == 0) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$display("Error: Could not open test_vectors.txt");<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;$finish;<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;// Read until end of file<br>\n          &nbsp;&nbsp;while (!$feof(file_handle)) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;status = $fscanf(file_handle, "%h %h %b", a, b, cin);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (status == 3) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Valid vector read, apply it<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#10;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Check results...<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;// Close file<br>\n          &nbsp;&nbsp;$fclose(file_handle);<br>\n          end\n        </div>\n        \n        <h4>Bus Functional Models</h4>\n        <p>Bus functional models (BFMs) abstract the communication protocol, making test creation easier:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // AXI4-Lite master BFM (simplified example)<br>\n          task axi_write;<br>\n          &nbsp;&nbsp;input [31:0] addr, data;<br>\n          &nbsp;&nbsp;begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Address phase<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;@(posedge clk);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;awvalid = 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;awaddr = addr;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;wvalid = 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;wdata = data;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;wstrb = 4\'hF; // All byte lanes active<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Wait for handshake<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;wait(awready && wready);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;@(posedge clk);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;awvalid = 0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;wvalid = 0;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Response phase<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;bready = 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;wait(bvalid);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;@(posedge clk);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;bready = 0;<br>\n          &nbsp;&nbsp;end<br>\n          endtask\n        </div>\n        \n        <h4>Coverage-Driven Verification</h4>\n        <p>Tracking test coverage helps ensure all aspects of the design are verified:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Define coverage points<br>\n          reg [1:0] mode_coverage [0:3];<br>\n          reg [7:0] data_coverage [0:3]; // Track values in different ranges<br>\n          <br>\n          // Track coverage<br>\n          always @(mode) begin<br>\n          &nbsp;&nbsp;mode_coverage[mode] = 1; // Mark this mode as covered<br>\n          end<br>\n          <br>\n          always @(data_in) begin<br>\n          &nbsp;&nbsp;if (data_in < 64)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;data_coverage[0] = 1;<br>\n          &nbsp;&nbsp;else if (data_in < 128)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;data_coverage[1] = 1;<br>\n          &nbsp;&nbsp;else if (data_in < 192)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;data_coverage[2] = 1;<br>\n          &nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;data_coverage[3] = 1;<br>\n          end<br>\n          <br>\n          // Report coverage at the end<br>\n          final begin<br>\n          &nbsp;&nbsp;integer i, mode_cov, data_cov;<br>\n          &nbsp;&nbsp;mode_cov = 0;<br>\n          &nbsp;&nbsp;data_cov = 0;<br>\n          <br>\n          &nbsp;&nbsp;for (i = 0; i < 4; i = i + 1) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;mode_cov = mode_cov + mode_coverage[i];<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;data_cov = data_cov + data_coverage[i];<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;$display("Mode coverage: %0d%%", (mode_cov * 100) / 4);<br>\n          &nbsp;&nbsp;$display("Data coverage: %0d%%", (data_cov * 100) / 4);<br>\n          end\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Coverage Metrics</h4>\n          <p>Consider tracking these types of coverage:</p>\n          <ul>\n            <li><strong>Code Coverage</strong>: Which lines of code were executed</li>\n            <li><strong>Functional Coverage</strong>: Which features or scenarios were tested</li>\n            <li><strong>Toggle Coverage</strong>: Which signals toggled between 0 and 1</li>\n            <li><strong>FSM Coverage</strong>: Which states and transitions were reached</li>\n            <li><strong>Branch Coverage</strong>: Which conditional branches were taken</li>\n          </ul>\n        </div>\n        \n        <h4>Creating a Verification Plan</h4>\n        <p>A good verification plan ensures thorough testing:</p>\n        \n        <ol>\n          <li><strong>Identify Requirements</strong>: What functionality must be verified?</li>\n          <li><strong>Define Test Cases</strong>: What scenarios will test each requirement?</li>\n          <li><strong>Establish Coverage Goals</strong>: What metrics indicate sufficient testing?</li>\n          <li><strong>Create Testbenches</strong>: Implement the tests with appropriate checking</li>\n          <li><strong>Measure Results</strong>: Track and report verification progress</li>\n        </ol>\n      '},{id:"7.6",title:"Key Takeaways",content:"\n        <h3>Summary: Testbenches and Verification</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>Verification is essential to ensure correct functionality before hardware implementation.</li>\n            <li>Testbenches provide a controlled environment to simulate and verify designs.</li>\n            <li>Create comprehensive test stimuli to exercise all aspects of your design.</li>\n            <li>Self-checking testbenches automatically verify correct operation without manual inspection.</li>\n            <li>Advanced techniques like coverage analysis ensure thorough verification.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>Having learned how to verify your designs, we'll next move on to timing considerations and constraints. Understanding timing is critical for ensuring that your designs will work reliably in actual hardware, where signals take time to propagate and setup/hold times must be respected.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>What aspects of your design would be most challenging to verify? How would you approach creating test cases for those aspects?</li>\n          <li>How would you structure a testbench for a complex sequential circuit like a state machine?</li>\n          <li>What are the trade-offs between exhaustive testing and randomized testing? When would you choose one over the other?</li>\n        </ol>\n      "}],quiz:{title:"Testbenches and Verification Quiz",description:"Test your understanding of testbench creation and verification techniques in Verilog",questions:[{id:"q7_1",question:"Which of the following is NOT typically found in a testbench?",options:[{id:"a",text:"Clock generation"},{id:"b",text:"Test stimulus application"},{id:"c",text:"Synthesizable logic"},{id:"d",text:"Response monitoring"}],correctAnswer:"c",explanation:"Testbenches typically contain non-synthesizable constructs like initial blocks, delays, and system tasks that are used for simulation only. Synthesizable logic (logic that can be converted to actual hardware) is found in the design under test, not in the testbench itself."},{id:"q7_2",question:"What is the purpose of the $display system task in a testbench?",options:[{id:"a",text:"To display the waveform of signals"},{id:"b",text:"To print text messages and signal values to the simulation console"},{id:"c",text:"To display the synthesis results"},{id:"d",text:"To show timing diagrams"}],correctAnswer:"b",explanation:"The $display system task prints text messages and signal values to the simulation console. It's commonly used in testbenches to report simulation results, show the progress of tests, and display errors or warnings."},{id:"q7_3",question:"Which block in Verilog is most commonly used to start a testbench?",options:[{id:"a",text:"always block"},{id:"b",text:"generate block"},{id:"c",text:"initial block"},{id:"d",text:"begin/end block"}],correctAnswer:"c",explanation:"The initial block is most commonly used to start a testbench. It executes once at the beginning of simulation and is ideal for setting up test stimulus, applying reset, and monitoring results. Unlike the always block, it doesn't repeat."},{id:"q7_4",question:"What is the difference between $monitor and $display?",options:[{id:"a",text:"$monitor shows waveforms while $display shows text"},{id:"b",text:"$monitor is automatically triggered whenever a monitored signal changes, while $display is executed only when explicitly called"},{id:"c",text:"$monitor is for inputs, $display is for outputs"},{id:"d",text:"$monitor can only be used once in a testbench, $display can be used multiple times"}],correctAnswer:"b",explanation:"$monitor continuously monitors the signals listed in its arguments and automatically prints when any of them change. In contrast, $display only prints once each time it is executed in the code. This makes $monitor useful for tracking signal changes without adding multiple $display statements."},{id:"q7_5",question:"What is the purpose of code coverage in Verilog verification?",options:[{id:"a",text:"To measure how fast the code executes"},{id:"b",text:"To ensure that all lines and branches of code are exercised by tests"},{id:"c",text:"To check if the code can be synthesized"},{id:"d",text:"To calculate the number of lines in the code"}],correctAnswer:"b",explanation:"Code coverage measures how thoroughly the tests exercise the design. It tracks which lines, branches, conditions, and other elements of the code have been executed during simulation. High coverage indicates that the test suite is comprehensive and more likely to find bugs."},{id:"q7_6",question:"In a self-checking testbench, what is the primary advantage over a non-self-checking testbench?",options:[{id:"a",text:"It simulates faster"},{id:"b",text:"It uses less memory"},{id:"c",text:"It automatically verifies the correctness of outputs without manual inspection"},{id:"d",text:"It generates more detailed waveforms"}],correctAnswer:"c",explanation:"The primary advantage of a self-checking testbench is that it automatically verifies the correctness of the design's outputs by comparing them with expected values. This eliminates the need for manual inspection of waveforms or log files, makes testing more reliable, and enables automated regression testing."},{id:"q7_7",question:"What is the purpose of the $finish system task in a testbench?",options:[{id:"a",text:"To terminate the simulation"},{id:"b",text:"To finalize the synthesis process"},{id:"c",text:"To write final results to a file"},{id:"d",text:"To indicate the design is working correctly"}],correctAnswer:"a",explanation:"The $finish system task terminates the simulation. It's typically used at the end of a testbench to stop the simulation once all test cases have been completed, or when a critical error is detected that makes continuing the simulation pointless."},{id:"q7_8",question:"What is a testbench clock's typical structure in Verilog?",options:[{id:"a",text:"An always block with a delay that toggles the clock signal"},{id:"b",text:"An initial block that generates a single clock pulse"},{id:"c",text:"A continuous assignment that alternates the clock value"},{id:"d",text:"A combinational function that computes the clock value"}],correctAnswer:"a",explanation:"A typical testbench clock is generated using an always block with a delay that toggles the clock signal. For example: always #10 clk = ~clk; This creates a clock with a period of 20 time units (10 units high, 10 units low). The always block ensures the clock continues toggling throughout the simulation."}]}},completed:!1},{...{id:8,title:"Timing Considerations and Constraints",description:"Understand digital timing concepts and how to ensure your designs meet timing requirements",estimatedTime:"4 hours",completed:!1,sections:[{id:"8.1",title:"Digital Timing Fundamentals",content:'\n        <h3>Understanding Digital Timing</h3>\n        <p>Timing is a critical aspect of digital design that determines whether a circuit will function reliably in the real world. Even if a design\'s logic is correct, timing issues can cause it to fail when implemented in hardware.</p>\n        \n        <h4>Signal Propagation Delays</h4>\n        <p>In real hardware, signals don\'t change instantaneously but take time to propagate through gates and interconnects:</p>\n        \n        <ul>\n          <li><strong>Gate Delay</strong>: Time for a signal to propagate through a single logic gate</li>\n          <li><strong>Net Delay</strong>: Time for a signal to travel along interconnect wires</li>\n          <li><strong>Path Delay</strong>: Total delay from one register to another through combinational logic</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://www.fpga4student.com/wp-content/uploads/2017/08/Gate-delay-model.png" alt="Signal Propagation Delays" style="max-width: 700px; width: 100%;">\n        </div>\n        \n        <h4>Clock Domains and Synchronization</h4>\n        <p>Modern designs often have multiple clock domains:</p>\n        \n        <ul>\n          <li><strong>Clock Domain</strong>: Collection of logic driven by the same clock signal</li>\n          <li><strong>Clock Domain Crossing (CDC)</strong>: When signals pass between different clock domains</li>\n          <li><strong>Synchronization</strong>: Techniques to safely transfer signals between clock domains</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Double-flop synchronizer for crossing clock domains<br>\n          module synchronizer (<br>\n          &nbsp;&nbsp;input wire clk_dest,    // Destination clock<br>\n          &nbsp;&nbsp;input wire rst_n,       // Active-low reset<br>\n          &nbsp;&nbsp;input wire signal_in,   // Input from source domain<br>\n          &nbsp;&nbsp;output wire signal_out  // Synchronized output<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Synchronizer flip-flops<br>\n          &nbsp;&nbsp;reg sync_ff1, sync_ff2;<br>\n          <br>\n          &nbsp;&nbsp;always @(posedge clk_dest or negedge rst_n) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (!rst_n) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sync_ff1 <= 1\'b0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sync_ff2 <= 1\'b0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end else begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sync_ff1 <= signal_in;    // First stage<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sync_ff2 <= sync_ff1;     // Second stage<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;// Output is the fully synchronized signal<br>\n          &nbsp;&nbsp;assign signal_out = sync_ff2;<br>\n          <br>\n          endmodule\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Metastability</h4>\n          <p>When a flip-flop\'s setup or hold time is violated, it can enter a metastable state where the output oscillates or settles to an unpredictable value. Synchronizers help manage metastability by providing time for the signal to resolve to a stable value before being used by destination logic.</p>\n        </div>\n        \n        <h4>Setup and Hold Times</h4>\n        <p>Sequential elements like flip-flops have timing requirements for their inputs:</p>\n        \n        <ul>\n          <li><strong>Setup Time (Tsu)</strong>: How long before the clock edge input data must be stable</li>\n          <li><strong>Hold Time (Th)</strong>: How long after the clock edge input data must remain stable</li>\n          <li><strong>Clock-to-Q Delay (Tcq)</strong>: Delay from clock edge to output change</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://www.fpga4student.com/wp-content/uploads/2017/08/setup-time-and-hold-time-flip-flop.png" alt="Setup and Hold Times" style="max-width: 700px; width: 100%;">\n        </div>\n        \n        <h4>Critical Path</h4>\n        <p>The critical path is the longest delay path between registers and determines the maximum operating frequency:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <p><strong>Maximum Clock Frequency:</strong></p>\n          <p style="text-align:center; font-size:1.2em;">f<sub>max</sub> = 1 / (T<sub>cq</sub> + T<sub>logic</sub> + T<sub>routing</sub> + T<sub>su</sub>)</p>\n        </div>\n        \n        <p>Where:</p>\n        <ul>\n          <li>T<sub>cq</sub> = Clock-to-Q delay of the source register</li>\n          <li>T<sub>logic</sub> = Propagation delay through combinational logic</li>\n          <li>T<sub>routing</sub> = Delay due to interconnect wires</li>\n          <li>T<sub>su</sub> = Setup time of the destination register</li>\n        </ul>\n      '},{id:"8.2",title:"Verilog Timing Models",content:'\n        <h3>Modeling Timing in Verilog</h3>\n        <p>Verilog provides several ways to represent timing in your designs and simulations.</p>\n        \n        <h4>Delay Specification in Verilog</h4>\n        <p>Delays can be added to both continuous assignments and procedural statements:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Continuous assignment delays<br>\n          assign #10 y = a & b;  // 10 time unit delay<br>\n          <br>\n          // Intra-assignment delays<br>\n          assign y = #10 a & b;  // Evaluate immediately, delay assignment by 10 units<br>\n          <br>\n          // Net declarations with delays<br>\n          wire #5 delayed_net;<br>\n          <br>\n          // Procedural delays<br>\n          always @(a or b) begin<br>\n          &nbsp;&nbsp;#10 y = a & b;  // Wait 10 time units, then assign<br>\n          end<br>\n          <br>\n          // Gate-level delays<br>\n          and #5 and_gate(y, a, b);  // AND gate with 5 time unit delay\n        </div>\n        \n        <h4>Delay Types</h4>\n        <p>Verilog supports different delay specifications for rise, fall, and turn-off times:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Single delay (same for all transitions)<br>\n          assign #10 y = a & b;<br>\n          <br>\n          // Rise/fall delays (different for rising and falling edges)<br>\n          assign #(8, 12) y = a & b;  // 8 units for rise, 12 for fall<br>\n          <br>\n          // Rise/fall/turn-off delays (for three-state outputs)<br>\n          assign #(8, 12, 10) tristate_out = enable ? data : 1\'bz;\n        </div>\n        \n        <h4>Min/Typ/Max Delays</h4>\n        <p>For more accurate modeling, specify delay ranges:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Min, typical, and max delays<br>\n          // Syntax in Verilog: assign #(min:typ:max) y = a & b;<br>\n          // Example with values 5, 8, 11<br>\n          <br>\n          // Combined with rise/fall delays<br>\n          // Syntax: assign #(min_r:typ_r:max_r, min_f:typ_f:max_f)<br>\n          // Example with values (5,8,11) for rise and (6,9,12) for fall<br>\n          <br>\n          // Select which delay value to use during simulation<br>\n          `timescale 1ns/100ps<br>\n          <br>\n          // Use compiler directives to select delay model<br>\n          // `define TIMING_MIN<br>\n          `define TIMING_TYP<br>\n          // `define TIMING_MAX\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Simulation vs. Synthesis</h4>\n          <p><strong>Important</strong>: Delays specified in Verilog are only used for simulation. For synthesis to actual hardware, timing is determined by the technology library and physical layout, not by these delay values.</p>\n        </div>\n        \n        <h4>Timing Verification in Simulation</h4>\n        <p>In simulation, you can check for timing violations:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Timing check example in testbench<br>\n          module timing_check;<br>\n          &nbsp;&nbsp;parameter SETUP_TIME = 5;<br>\n          &nbsp;&nbsp;reg clk, data, last_data_change;<br>\n          &nbsp;&nbsp;time last_change_time;<br>\n          <br>\n          &nbsp;&nbsp;// Monitor data changes<br>\n          &nbsp;&nbsp;always @(data) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;last_change_time = $time;<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;// Check setup time at each clock edge<br>\n          &nbsp;&nbsp;always @(posedge clk) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (($time - last_change_time) < SETUP_TIME)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$display("Setup violation at time %t", $time);<br>\n          &nbsp;&nbsp;end<br>\n          endmodule\n        </div>\n      '},{id:"8.3",title:"Timing Analysis and Constraints",content:'\n        <h3>Understanding Timing Analysis</h3>\n        <p>Real-world digital designs require formal timing analysis tools to verify that timing requirements are met.</p>\n        \n        <h4>Static Timing Analysis (STA)</h4>\n        <p>STA is the primary method for verifying timing in digital designs:</p>\n        \n        <ul>\n          <li>Analyzes all timing paths in the design without requiring simulation</li>\n          <li>Identifies setup and hold time violations</li>\n          <li>Calculates slack on each path (how much margin exists before timing failure)</li>\n          <li>Identifies the critical path and maximum operating frequency</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://www.fpga4student.com/wp-content/uploads/2020/04/slack-timing-slack-calculation.png" alt="Setup and Hold Slack" style="max-width: 700px; width: 100%;">\n        </div>\n        \n        <h4>Common Timing Constraints</h4>\n        <p>Timing constraints define requirements for your design:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Constraint Type</th>\n            <th>Description</th>\n            <th>Example</th>\n          </tr>\n          <tr>\n            <td>Clock Definition</td>\n            <td>Specifies clock period, waveform, and source</td>\n            <td><code>create_clock -period 10 -name clk [get_ports clk]</code></td>\n          </tr>\n          <tr>\n            <td>Clock Uncertainty</td>\n            <td>Accounts for clock jitter and skew</td>\n            <td><code>set_clock_uncertainty 0.5 [get_clocks clk]</code></td>\n          </tr>\n          <tr>\n            <td>Input Delay</td>\n            <td>External delay on input signals</td>\n            <td><code>set_input_delay 2 -clock clk [get_ports data_in]</code></td>\n          </tr>\n          <tr>\n            <td>Output Delay</td>\n            <td>Required timing for output signals</td>\n            <td><code>set_output_delay 3 -clock clk [get_ports data_out]</code></td>\n          </tr>\n          <tr>\n            <td>False Path</td>\n            <td>Path that doesn\'t need timing analysis</td>\n            <td><code>set_false_path -from [get_pins reset_sync/reg1] -to [get_pins reset_sync/reg2]</code></td>\n          </tr>\n          <tr>\n            <td>Multicycle Path</td>\n            <td>Path allowed multiple clock cycles</td>\n            <td><code>set_multicycle_path 2 -from [get_pins slow_path/reg1] -to [get_pins slow_path/reg2]</code></td>\n          </tr>\n        </table>\n        \n        <h4>Synthesis Constraints and Attributes</h4>\n        <p>Verilog provides synthesis attributes to guide the synthesis tools:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Register balancing/retiming control<br>\n          (* dont_touch = "true" *) reg critical_reg;<br>\n          <br>\n          // Preserve hierarchy<br>\n          (* keep_hierarchy = "yes" *) module preserve_me(...);<br>\n          <br>\n          // Register duplication for fanout control<br>\n          (* max_fanout = "10" *) reg high_fanout_reg;<br>\n          <br>\n          // Critical path marking<br>\n          (* critical_path = "true" *) wire timing_critical;\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Tool-Specific Attributes</h4>\n          <p>The specific attributes and constraints vary between FPGA/ASIC vendors and their tool chains. Consult the documentation for your specific tools for the supported attributes and constraint formats.</p>\n        </div>\n      '},{id:"8.4",title:"Common Timing Issues and Solutions",content:'\n        <h3>Addressing Timing Problems</h3>\n        <p>Understanding common timing issues and their solutions is essential for successful digital design.</p>\n        \n        <h4>Setup Time Violations</h4>\n        <p>Setup violations occur when data doesn\'t arrive at the destination register early enough before the clock edge.</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <p><strong>Causes and Solutions:</strong></p>\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Cause</th>\n              <th>Solution</th>\n            </tr>\n            <tr>\n              <td>Excessive combinational logic in path</td>\n              <td>Add pipeline registers to break up long paths</td>\n            </tr>\n            <tr>\n              <td>Slow logic cells on critical path</td>\n              <td>Use faster cells, specify performance constraints</td>\n            </tr>\n            <tr>\n              <td>High fanout nets causing delays</td>\n              <td>Duplicate registers or buffers to reduce fanout</td>\n            </tr>\n            <tr>\n              <td>Clock too fast for the logic</td>\n              <td>Reduce clock frequency or optimize logic</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>Hold Time Violations</h4>\n        <p>Hold violations occur when data changes too soon after the clock edge at the destination register.</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <p><strong>Causes and Solutions:</strong></p>\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Cause</th>\n              <th>Solution</th>\n            </tr>\n            <tr>\n              <td>Short or zero-delay combinational paths</td>\n              <td>Add buffer cells to increase delay</td>\n            </tr>\n            <tr>\n              <td>Clock skew (destination clock arrives before source)</td>\n              <td>Manage clock tree synthesis, add clock uncertainty</td>\n            </tr>\n            <tr>\n              <td>Aggressive hold time requirements in destination register</td>\n              <td>Use different register type, add delay cells</td>\n            </tr>\n          </table>\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Important Note</h4>\n          <p>Hold time violations are especially critical because:</p>\n          <ul>\n            <li>They can\'t be fixed by slowing down the clock</li>\n            <li>They must be fixed in hardware - no software workaround</li>\n            <li>They can be affected by temperature and voltage variations</li>\n          </ul>\n        </div>\n        \n        <h4>Clock Domain Crossing Issues</h4>\n        <p>Special care is needed when signals cross between different clock domains:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <p><strong>Common CDC Issues and Solutions:</strong></p>\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Issue</th>\n              <th>Solution</th>\n            </tr>\n            <tr>\n              <td>Metastability</td>\n              <td>Use synchronizers (double-flop or better)</td>\n            </tr>\n            <tr>\n              <td>Data coherency (multi-bit buses)</td>\n              <td>Use handshaking, gray coding, or FIFOs</td>\n            </tr>\n            <tr>\n              <td>Data loss</td>\n              <td>Implement flow control mechanisms</td>\n            </tr>\n            <tr>\n              <td>Timing analysis difficulties</td>\n              <td>Use "set_false_path" for CDC paths, but add synchronizers</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>Pipelining for Timing Closure</h4>\n        <p>Pipeline registers break long paths into shorter segments, improving timing:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Before pipelining (potentially fails timing)<br>\n          module long_path (<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire [7:0] a, b, c, d,<br>\n          &nbsp;&nbsp;output reg [7:0] result<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;always @(posedge clk) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Complex operation done in a single cycle<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;result <= ((a * b) + (c * d)) / 4;<br>\n          &nbsp;&nbsp;end<br>\n          endmodule<br>\n          <br>\n          // After pipelining (better timing)<br>\n          module pipelined_path (<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire [7:0] a, b, c, d,<br>\n          &nbsp;&nbsp;output reg [7:0] result<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;reg [15:0] mul1, mul2; // Pipeline registers<br>\n          &nbsp;&nbsp;reg [15:0] sum;        // Pipeline register<br>\n          <br>\n          &nbsp;&nbsp;always @(posedge clk) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Stage 1: Multiplications<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;mul1 <= a * b;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;mul2 <= c * d;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Stage 2: Addition<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;sum <= mul1 + mul2;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Stage 3: Division<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;result <= sum / 4;<br>\n          &nbsp;&nbsp;end<br>\n          endmodule\n        </div>\n        \n        <h4>Retiming and Register Balancing</h4>\n        <p>Modern synthesis tools can automatically move registers to balance path delays:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <p><strong>Synthesis Optimization Options:</strong></p>\n          <ul>\n            <li><strong>Retiming</strong>: Moving registers across combinational logic to balance paths</li>\n            <li><strong>Register Duplication</strong>: Copying registers to reduce fanout</li>\n            <li><strong>Logic Replication</strong>: Duplicating logic to reduce routing delays</li>\n            <li><strong>Resource Sharing</strong>: Reusing hardware resources for different operations</li>\n          </ul>\n        </div>\n      '},{id:"8.5",title:"Timing Closure Methodology",content:'\n        <h3>Achieving Timing Closure</h3>\n        <p>Timing closure is the process of ensuring that a design meets all its timing requirements. A systematic approach is essential for complex designs.</p>\n        \n        <h4>Timing Closure Flow</h4>\n        <p>Follow these steps to achieve timing closure:</p>\n        \n        <ol>\n          <li><strong>Constrain Properly</strong>: Define all clocks, I/O timing, and exceptions</li>\n          <li><strong>Analyze Reports</strong>: Identify critical paths and worst slack</li>\n          <li><strong>Address Violations</strong>: Fix most critical paths first</li>\n          <li><strong>Re-analyze</strong>: Verify improvements and identify new critical paths</li>\n          <li><strong>Iterate</strong>: Continue until all timing requirements are met</li>\n        </ol>\n        \n        <h4>RTL Design for Timing</h4>\n        <p>Consider timing from the beginning in your Verilog code:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <p><strong>RTL Coding Guidelines for Better Timing:</strong></p>\n          <ul>\n            <li>Keep combinational logic paths short and balanced</li>\n            <li>Use pipelining for complex operations</li>\n            <li>Avoid excessive fanout from single signals</li>\n            <li>Be cautious with large multiplexers and decoders</li>\n            <li>Use proper synchronizer circuits for clock domain crossings</li>\n            <li>Consider resource sharing vs. timing trade-offs</li>\n            <li>Add logic for test and debug only where necessary</li>\n          </ul>\n        </div>\n        \n        <h4>Example: Analyzing Timing Reports</h4>\n        <p>Understanding timing reports is essential for addressing timing problems:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          /* Sample Timing Report (simplified) */<br>\n          <br>\n          Clock: clk_100MHz (100.00 MHz, period = 10.000ns)<br>\n          <br>\n          Critical Path Report:<br>\n          =====================<br>\n          <br>\n          Start Point: data_proc/mult_reg[3] (rising edge-triggered flip-flop)<br>\n          End Point: data_proc/result_reg[7] (rising edge-triggered flip-flop)<br>\n          <br>\n          Path Group: clk_100MHz<br>\n          Path Type: max (setup)<br>\n          <br>\n          Point                                    Incr      Path      <br>\n          -----------------------------------------------------------<br>\n          clock clk_100MHz (rise edge)            0.000     0.000<br>\n          data_proc/mult_reg[3]/C                 0.000     0.000<br>\n          data_proc/mult_reg[3]/Q                 0.400     0.400<br>\n          data_proc/mult_stage2/U45/Y             0.800     1.200<br>\n          data_proc/mult_stage2/U67/Y             0.750     1.950<br>\n          data_proc/adder/U12/CO                  0.900     2.850<br>\n          data_proc/adder/U35/S                   1.100     3.950<br>\n          data_proc/shift/U22/Y                   0.700     4.650<br>\n          data_proc/shift/U56/Y                   0.850     5.500<br>\n          data_proc/result_reg[7]/D               0.000     5.500<br>\n          data_proc/result_reg[7] setup           1.200     6.700<br>\n          <br>\n          Slack: 3.300ns (required: 10.000ns, arrival: 6.700ns)\n        </div>\n        \n        <p>From this report, we can see:</p>\n        <ul>\n          <li>The critical path is from register <code>mult_reg[3]</code> to <code>result_reg[7]</code></li>\n          <li>The path delay is 6.700ns, including a 1.200ns setup time</li>\n          <li>With a 10.000ns clock period, the slack is 3.300ns</li>\n          <li>The path passes through multiple components (mult_stage2, adder, shift)</li>\n        </ul>\n        \n        <h4>Advanced Timing Closure Techniques</h4>\n        <p>For challenging designs, consider these advanced techniques:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <p><strong>Advanced Techniques:</strong></p>\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Technique</th>\n              <th>Description</th>\n              <th>When to Use</th>\n            </tr>\n            <tr>\n              <td>Floorplanning</td>\n              <td>Control physical placement of logic</td>\n              <td>When routing congestion causes timing issues</td>\n            </tr>\n            <tr>\n              <td>Clock Domain Partitioning</td>\n              <td>Separate logic into distinct clock regions</td>\n              <td>For systems with multiple clock domains</td>\n            </tr>\n            <tr>\n              <td>Physical Optimization</td>\n              <td>Allow tools to modify netlist based on layout</td>\n              <td>Late-stage timing closure</td>\n            </tr>\n            <tr>\n              <td>Multi-corner Analysis</td>\n              <td>Verify timing across process/voltage/temperature</td>\n              <td>For robust designs that must work in varied conditions</td>\n            </tr>\n          </table>\n        </div>\n      '},{id:"8.6",title:"Key Takeaways",content:"\n        <h3>Summary: Timing Considerations and Constraints</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>Digital circuits have timing requirements that must be met for reliable operation.</li>\n            <li>Setup and hold times, clock skew, and propagation delays all affect timing.</li>\n            <li>Verilog allows modeling of delays for simulation, but real hardware timing comes from physical implementation.</li>\n            <li>Static Timing Analysis (STA) is essential for verifying timing in real designs.</li>\n            <li>Common timing issues include setup violations, hold violations, and clock domain crossing problems.</li>\n            <li>A systematic timing closure methodology helps achieve robust designs.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>With an understanding of timing, we'll move on to explore design optimization techniques. You'll learn how to optimize your Verilog code for area, power, and performance, ensuring that your designs not only function correctly but also use resources efficiently.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>Consider a design with a critical path that fails timing analysis. What approach would you take to identify and address the issue?</li>\n          <li>What are the trade-offs involved in adding pipeline stages to improve timing? How might it affect latency, throughput, and resource usage?</li>\n          <li>How would you design a reliable circuit that needs to transfer multiple data bits between two unrelated clock domains?</li>\n        </ol>\n      "}],quiz:{title:"Timing Considerations and Constraints Quiz",description:"Test your understanding of timing concepts, constraints, and challenges in Verilog designs",questions:[{id:"q8_1",question:"What is setup time in digital circuits?",options:[{id:"a",text:"The time required for a signal to stabilize after a clock edge"},{id:"b",text:"The minimum time a signal must be stable before a clock edge"},{id:"c",text:"The time taken for a signal to propagate through combinational logic"},{id:"d",text:"The time taken to initialize all flip-flops in a design"}],correctAnswer:"b",explanation:"Setup time is the minimum time that input data must be stable before the active clock edge. Violating setup time can cause metastability and incorrect data capture, as the flip-flop may not reliably capture the input data."},{id:"q8_2",question:"What is clock skew?",options:[{id:"a",text:"Variation in clock frequency over time"},{id:"b",text:"Different arrival times of a clock signal at different parts of a circuit"},{id:"c",text:"The different arrival times of a clock at different parts of a circuit"},{id:"d",text:"The mismatch between rising and falling edge rates"}],correctAnswer:"b",explanation:"Clock skew is the difference in arrival times of a clock signal at different components in a circuit. It happens due to different path lengths, buffer delays, and routing. Clock skew can cause timing violations and is a significant consideration in high-speed digital designs."},{id:"q8_3",question:"Which of the following is NOT a timing constraint commonly specified in digital designs?",options:[{id:"a",text:"Maximum clock frequency"},{id:"b",text:"Input setup time"},{id:"c",text:"Output delay"},{id:"d",text:"Propagation probability"}],correctAnswer:"d",explanation:"Propagation probability is not a timing constraint. Common timing constraints include maximum clock frequency (or minimum clock period), input setup and hold times, output delay requirements, and clock-to-output delays. Propagation probability might relate to power analysis but not timing constraints."},{id:"q8_4",question:"What is the primary cause of hold time violations?",options:[{id:"a",text:"Clock paths that are too slow"},{id:"b",text:"Data paths that are too slow"},{id:"c",text:"Data paths that are too fast or clock paths with excessive skew"},{id:"d",text:"Excessive fan-out on registers"}],correctAnswer:"c",explanation:"Hold time violations occur when data changes too quickly after a clock edge or when clock skew causes the clock to arrive at the destination before it arrives at the source. This means the data path is too fast relative to the clock, or there is excessive clock skew favoring the destination register."},{id:"q8_5",question:"In Verilog simulation, what does the #delay notation represent?",options:[{id:"a",text:"The simulation step size"},{id:"b",text:"The delay of signal propagation in time units"},{id:"c",text:"The priority of a signal change"},{id:"d",text:"The number of clock cycles to wait"}],correctAnswer:"b",explanation:"In Verilog, the #delay notation (e.g., #10) represents a delay in simulation time units. It indicates how long to wait before executing the subsequent statement. For instance, 'a = 1; #10; b = 1;' means 'set a to 1, wait 10 time units, then set b to 1'."},{id:"q8_6",question:"What is clock jitter?",options:[{id:"a",text:"The gradual drift of clock frequency over temperature"},{id:"b",text:"The variation in clock period from one cycle to the next"},{id:"c",text:"The different arrival times of a clock at different parts of a circuit"},{id:"d",text:"The mismatch between rising and falling edge rates"}],correctAnswer:"b",explanation:"Clock jitter is the variation in a clock signal's period or phase from cycle to cycle. It's typically caused by noise, power supply fluctuations, or PLL (Phase-Locked Loop) instability. Jitter reduces the effective timing margin in high-speed designs by making clock edges unpredictable."},{id:"q8_7",question:"What is the critical path in a digital circuit?",options:[{id:"a",text:"The path with the highest power consumption"},{id:"b",text:"The path with the most logic gates"},{id:"c",text:"The path with the longest propagation delay that limits maximum clock frequency"},{id:"d",text:"The path with the most fan-out"}],correctAnswer:"c",explanation:"The critical path is the timing path with the longest propagation delay, which determines the maximum operating frequency of the circuit. The circuit can't run faster than what this path allows, as timing violations would occur. Optimization efforts often focus on reducing delays in the critical path."},{id:"q8_8",question:"What does Static Timing Analysis (STA) verify?",options:[{id:"a",text:"The logical correctness of a design"},{id:"b",text:"That all timing paths meet their setup and hold time requirements"},{id:"c",text:"The power consumption of a design"},{id:"d",text:"The signal integrity of a design"}],correctAnswer:"b",explanation:"Static Timing Analysis (STA) verifies that all timing paths in a design meet their setup and hold time requirements. Unlike simulation, STA analyzes every possible path without requiring test vectors, ensuring the design works at the specified clock frequency under all conditions, process variations, and operating environments."}]}},completed:!1},{...{id:9,title:"Design Optimization Techniques",description:"Learn how to optimize your Verilog designs for area, power, performance, and resource utilization",estimatedTime:"3 hours",completed:!1,sections:[{id:"9.1",title:"Optimization Goals and Trade-offs",content:'\n        <h3>Understanding Optimization Objectives</h3>\n        <p>Digital design optimization involves balancing multiple, often competing objectives. Successful designers understand the trade-offs between different optimization goals.</p>\n        \n        <h4>Key Optimization Metrics</h4>\n        <p>Digital designs are typically evaluated on these core metrics:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Metric</th>\n              <th>Description</th>\n              <th>Measured By</th>\n            </tr>\n            <tr>\n              <td><strong>Performance</strong></td>\n              <td>How fast the design operates</td>\n              <td>Maximum clock frequency, latency, throughput</td>\n            </tr>\n            <tr>\n              <td><strong>Area</strong></td>\n              <td>Physical resources required</td>\n              <td>LUTs, registers, DSP blocks, memory blocks in FPGAs; gate count, die size in ASICs</td>\n            </tr>\n            <tr>\n              <td><strong>Power</strong></td>\n              <td>Energy consumption</td>\n              <td>Static power, dynamic power, total power</td>\n            </tr>\n            <tr>\n              <td><strong>Cost</strong></td>\n              <td>Economic considerations</td>\n              <td>Development time, device cost, NRE costs</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>The Optimization Triangle</h4>\n        <p>The three primary metrics\u2014performance, area, and power\u2014form what\'s often called the "optimization triangle." Optimizing for one metric typically comes at the expense of others.</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://ars.els-cdn.com/content/image/3-s2.0-B9780123944290000038-f03-12-9780123944290.jpg" alt="Optimization Triangle" style="max-width: 500px; width: 100%;">\n        </div>\n        \n        <h4>Common Trade-offs</h4>\n        <p>Understanding these fundamental trade-offs helps guide optimization decisions:</p>\n        \n        <ul>\n          <li><strong>Performance vs. Area</strong>: Higher performance often requires more parallelism and duplicated resources</li>\n          <li><strong>Performance vs. Power</strong>: Faster circuits typically consume more power</li>\n          <li><strong>Area vs. Power</strong>: Smaller circuits may need to run at higher frequencies, increasing dynamic power</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Optimization Constraints</h4>\n          <p>Real-world designs often have hard constraints on one or more metrics:</p>\n          <ul>\n            <li>Mobile devices may have strict power budgets</li>\n            <li>Cost-sensitive applications may have area limitations</li>\n            <li>Real-time systems may have minimum performance requirements</li>\n          </ul>\n          <p>The goal is typically to optimize one metric while meeting constraints on the others.</p>\n        </div>\n        \n        <h4>Context-Specific Optimization</h4>\n        <p>The target technology and application significantly impact optimization strategies:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Context</th>\n              <th>Primary Concerns</th>\n            </tr>\n            <tr>\n              <td>FPGA Designs</td>\n              <td>LUT utilization, DSP/BRAM usage, routing congestion</td>\n            </tr>\n            <tr>\n              <td>ASIC Designs</td>\n              <td>Gate count, leakage power, design for manufacturability</td>\n            </tr>\n            <tr>\n              <td>Battery-powered Devices</td>\n              <td>Low power techniques, power gating, clock gating</td>\n            </tr>\n            <tr>\n              <td>High-performance Computing</td>\n              <td>Maximum throughput, latency hiding, pipelining</td>\n            </tr>\n          </table>\n        </div>\n      '},{id:"9.2",title:"Area Optimization Techniques",content:'\n        <h3>Minimizing Resource Utilization</h3>\n        <p>Area optimization aims to reduce the hardware resources required to implement your design, enabling it to fit on smaller, less expensive devices.</p>\n        \n        <h4>Resource Sharing</h4>\n        <p>Share hardware resources across operations that don\'t need to execute simultaneously:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Before resource sharing - Two separate multipliers<br>\n          module no_sharing (<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire [7:0] a, b, c, d,<br>\n          &nbsp;&nbsp;output reg [15:0] result1, result2<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;always @(posedge clk) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;result1 <= a * b; // Multiplier 1<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;result2 <= c * d; // Multiplier 2<br>\n          &nbsp;&nbsp;end<br>\n          endmodule<br>\n          <br>\n          // After resource sharing - One multiplier with state machine<br>\n          module with_sharing (<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire [7:0] a, b, c, d,<br>\n          &nbsp;&nbsp;output reg [15:0] result1, result2<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;reg state;<br>\n          &nbsp;&nbsp;reg [7:0] op1, op2;<br>\n          &nbsp;&nbsp;reg [15:0] product;<br>\n          <br>\n          &nbsp;&nbsp;always @(posedge clk) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// State machine to control multiplier sharing<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;case (state)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0: begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op1 <= a; op2 <= b;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result1 <= product;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state <= 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;op1 <= c; op2 <= d;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result2 <= product;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state <= 0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;endcase<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;// Shared multiplier<br>\n          &nbsp;&nbsp;always @(posedge clk)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;product <= op1 * op2;<br>\n          <br>\n          endmodule\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Resource Sharing Trade-offs</h4>\n          <p>While sharing reduces area, it introduces:</p>\n          <ul>\n            <li>Additional control logic (multiplexers, state machines)</li>\n            <li>Reduced throughput (operations must wait for shared resources)</li>\n            <li>Increased latency (more clock cycles to complete all operations)</li>\n          </ul>\n        </div>\n        \n        <h4>Time-Division Multiplexing</h4>\n        <p>Process multiple data streams through the same hardware by time-sharing:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Time-division multiplexing example with 4 channels<br>\n          module tdm_processor (<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire [7:0] data_ch0, data_ch1, data_ch2, data_ch3,<br>\n          &nbsp;&nbsp;output reg [7:0] processed_ch0, processed_ch1, processed_ch2, processed_ch3<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;reg [1:0] channel;<br>\n          &nbsp;&nbsp;reg [7:0] current_data;<br>\n          &nbsp;&nbsp;reg [7:0] processed_data;<br>\n          <br>\n          &nbsp;&nbsp;// Channel selection<br>\n          &nbsp;&nbsp;always @(posedge clk) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;channel <= channel + 1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;case (channel)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0: current_data <= data_ch0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: current_data <= data_ch1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: current_data <= data_ch2;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3: current_data <= data_ch3;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;endcase<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Store results for each channel<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;case (channel)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0: processed_ch3 <= processed_data; // From previous cycle<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1: processed_ch0 <= processed_data;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: processed_ch1 <= processed_data;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3: processed_ch2 <= processed_data;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;endcase<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;// Processing logic (shared across all channels)<br>\n          &nbsp;&nbsp;always @(posedge clk)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;processed_data <= current_data * 2 + 1; // Example processing<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Optimizing Memory Usage</h4>\n        <p>Efficiently utilize memory blocks in your design:</p>\n        \n        <ul>\n          <li><strong>Memory Inference</strong>: Write RTL in a style that allows tools to infer optimal memory structures</li>\n          <li><strong>Memory Sharing</strong>: Use single-port memories with time multiplexing instead of multi-port memories</li>\n          <li><strong>Memory Consolidation</strong>: Combine small memories into larger ones with address mapping</li>\n          <li><strong>Bit Width Optimization</strong>: Size memories to exact bit widths needed, not rounded to powers of 2</li>\n        </ul>\n        \n        <h4>Optimizing Arithmetic Components</h4>\n        <p>Efficiently implement mathematical operations:</p>\n        \n        <ul>\n          <li><strong>Constant Multiplication</strong>: Replace multipliers with shift-add networks for constant operands</li>\n          <li><strong>Strength Reduction</strong>: Replace expensive operations with simpler ones (e.g., x*2 \u2192 x&lt;&lt;1)</li>\n          <li><strong>Digit-Serial Arithmetic</strong>: Process multi-bit values in smaller chunks over multiple cycles</li>\n          <li><strong>Fixed-Point vs. Floating-Point</strong>: Use fixed-point when possible to reduce area</li>\n        </ul>\n      '},{id:"9.3",title:"Performance Optimization Techniques",content:'\n        <h3>Maximizing Speed and Throughput</h3>\n        <p>Performance optimization focuses on enhancing the speed at which your design operates, allowing it to process more data in less time.</p>\n        \n        <h4>Pipelining for Throughput</h4>\n        <p>Pipelining is a key technique for improving throughput by breaking a complex operation into multiple stages:</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://www.researchgate.net/publication/283422471/figure/fig1/AS:614151444955138@1523437284063/Illustration-of-the-basic-pipelining-concept.png" alt="Pipelining Concept" style="max-width: 700px; width: 100%;">\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Deeply pipelined multiplier-accumulator<br>\n          module pipelined_mac (<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire [15:0] a, b,<br>\n          &nbsp;&nbsp;input wire clear,<br>\n          &nbsp;&nbsp;output reg [31:0] result<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Pipeline registers<br>\n          &nbsp;&nbsp;reg [15:0] a_reg, b_reg;<br>\n          &nbsp;&nbsp;reg [31:0] product_reg, sum_reg;<br>\n          <br>\n          &nbsp;&nbsp;always @(posedge clk) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Stage 1: Register inputs<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;a_reg <= a;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;b_reg <= b;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Stage 2: Multiplication<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;product_reg <= a_reg * b_reg;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Stage 3: Accumulation<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (clear)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sum_reg <= product_reg;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sum_reg <= sum_reg + product_reg;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Stage 4: Output<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;result <= sum_reg;<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          endmodule\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Pipelining Considerations</h4>\n          <ul>\n            <li><strong>Latency vs. Throughput</strong>: Pipelining increases latency (time for one result) but improves throughput (results per time)</li>\n            <li><strong>Pipeline Hazards</strong>: Data dependencies between operations may require pipeline stalls or forwarding</li>\n            <li><strong>Pipeline Balancing</strong>: Aim for similar delays in each stage to maximize clock frequency</li>\n            <li><strong>Control Complexity</strong>: Pipelined designs require more complex control logic</li>\n          </ul>\n        </div>\n        \n        <h4>Parallelism</h4>\n        <p>Exploit parallelism to process multiple data elements simultaneously:</p>\n        \n        <ul>\n          <li><strong>Data Parallelism</strong>: Duplicate hardware to process multiple data streams simultaneously</li>\n          <li><strong>Instruction Parallelism</strong>: Execute multiple independent operations in parallel</li>\n          <li><strong>SIMD (Single Instruction, Multiple Data)</strong>: Apply the same operation to multiple data elements</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Parallel FIR filter implementation<br>\n          module parallel_fir (<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire [7:0] data_in [0:3], // 4 parallel input samples<br>\n          &nbsp;&nbsp;output reg [15:0] data_out [0:3] // 4 parallel output samples<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// FIR coefficients<br>\n          &nbsp;&nbsp;parameter [7:0] COEF [0:3] = \'{8\'d10, 8\'d20, 8\'d30, 8\'d40};<br>\n          <br>\n          &nbsp;&nbsp;// Implement 4 parallel FIR filters<br>\n          &nbsp;&nbsp;always @(posedge clk) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;for (int i = 0; i < 4; i = i + 1) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_out[i] <= data_in[i] * COEF[0] +<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_in[(i-1)&3] * COEF[1] +<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_in[(i-2)&3] * COEF[2] +<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_in[(i-3)&3] * COEF[3];<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Critical Path Optimization</h4>\n        <p>Identify and optimize the critical path to improve maximum clock frequency:</p>\n        \n        <ul>\n          <li><strong>Logic Depth Reduction</strong>: Minimize the number of logic levels in critical paths</li>\n          <li><strong>Fast-Path Architectures</strong>: Create dedicated faster paths for critical operations</li>\n          <li><strong>Carry-Select and Carry-Lookahead</strong>: Use advanced arithmetic structures to reduce propagation delays</li>\n          <li><strong>Retiming</strong>: Relocate registers to balance path delays</li>\n        </ul>\n        \n        <h4>Memory and Interface Optimizations</h4>\n        <p>Optimize memory and I/O interfaces to eliminate bottlenecks:</p>\n        \n        <ul>\n          <li><strong>Memory Bandwidth</strong>: Use multiple memory banks or wider ports</li>\n          <li><strong>Memory Hierarchy</strong>: Implement caches for frequently accessed data</li>\n          <li><strong>Prefetching</strong>: Load data before it\'s needed to hide memory latency</li>\n          <li><strong>Burst Transfers</strong>: Optimize for burst-mode data transfer when available</li>\n        </ul>\n      '},{id:"9.4",title:"Power Optimization Techniques",content:'\n        <h3>Reducing Power Consumption</h3>\n        <p>Power optimization is increasingly important, especially for battery-powered devices and high-density designs where thermal considerations are critical.</p>\n        \n        <h4>Understanding Power Components</h4>\n        <p>Total power consumption consists of several components:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Power Component</th>\n              <th>Description</th>\n              <th>Optimization Approaches</th>\n            </tr>\n            <tr>\n              <td><strong>Dynamic Power</strong></td>\n              <td>Power consumed when signals transition (P \u221d CV\xb2f)</td>\n              <td>Reduce switching activity, voltage, frequency</td>\n            </tr>\n            <tr>\n              <td><strong>Static/Leakage Power</strong></td>\n              <td>Power consumed even when circuit is idle</td>\n              <td>Power gating, multi-threshold libraries</td>\n            </tr>\n            <tr>\n              <td><strong>Short-Circuit Power</strong></td>\n              <td>Momentary power during signal transitions</td>\n              <td>Balance signal paths, reduce transition times</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>Clock Gating</h4>\n        <p>Disable clock signals to unused circuit blocks to reduce dynamic power:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Simple clock gating example<br>\n          module clock_gating (<br>\n          &nbsp;&nbsp;input wire main_clk,<br>\n          &nbsp;&nbsp;input wire enable,<br>\n          &nbsp;&nbsp;input wire [7:0] data_in,<br>\n          &nbsp;&nbsp;output reg [7:0] data_out<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;// Clock gating cell<br>\n          &nbsp;&nbsp;reg enable_latch;<br>\n          &nbsp;&nbsp;wire gated_clk;<br>\n          <br>\n          &nbsp;&nbsp;// Latch-based clock gate (actual implementation is tech-specific)<br>\n          &nbsp;&nbsp;always @(main_clk or enable)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (!main_clk) enable_latch <= enable;<br>\n          <br>\n          &nbsp;&nbsp;assign gated_clk = main_clk & enable_latch;<br>\n          <br>\n          &nbsp;&nbsp;// Logic using gated clock<br>\n          &nbsp;&nbsp;always @(posedge gated_clk)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;data_out <= data_in + 8\'d1;<br>\n          <br>\n          endmodule\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Clock Gating Implementation</h4>\n          <p>Most FPGA and ASIC design tools provide dedicated clock gating cells or inference patterns. Use them instead of implementing gates manually to ensure glitch-free operation.</p>\n        </div>\n        \n        <h4>Power Gating</h4>\n        <p>Disconnect power supply to unused blocks to eliminate leakage power:</p>\n        \n        <ul>\n          <li><strong>Coarse-grained Power Gating</strong>: Power down entire functional blocks</li>\n          <li><strong>Fine-grained Power Gating</strong>: Power down individual cells or small groups</li>\n          <li><strong>State Retention</strong>: Save state before power-down and restore after power-up</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <p>Power gating typically requires special library cells or design constructs that are technology-specific.</p>\n          <p>In Verilog, you define power domains and control them through special cells or pragmas/attributes:</p>\n          <pre style="font-family: monospace;">\n  /* Power domain definition (vendor/tool specific) */\n  (* power_domain = "PD_CORE" *)\n  module processing_unit (...);\n  \n  /* Power control signals */\n  input wire power_enable;\n  (* isolation_cell = "ISO_CELL" *)\n  output wire [7:0] data_out;\n          </pre>\n        </div>\n        \n        <h4>Operand Isolation</h4>\n        <p>Prevent unnecessary switching activity by isolating inputs to idle functional units:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Without operand isolation<br>\n          module without_isolation (<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire enable,<br>\n          &nbsp;&nbsp;input wire [7:0] a, b,<br>\n          &nbsp;&nbsp;output reg [15:0] result<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;wire [15:0] product = a * b; // Multiplication always active<br>\n          <br>\n          &nbsp;&nbsp;always @(posedge clk)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (enable) result <= product;<br>\n          <br>\n          endmodule<br>\n          <br>\n          // With operand isolation<br>\n          module with_isolation (<br>\n          &nbsp;&nbsp;input wire clk,<br>\n          &nbsp;&nbsp;input wire enable,<br>\n          &nbsp;&nbsp;input wire [7:0] a, b,<br>\n          &nbsp;&nbsp;output reg [15:0] result<br>\n          );<br>\n          <br>\n          &nbsp;&nbsp;reg [7:0] a_gated, b_gated;<br>\n          &nbsp;&nbsp;wire [15:0] product;<br>\n          <br>\n          &nbsp;&nbsp;// Isolate operands when disabled<br>\n          &nbsp;&nbsp;always @(posedge clk) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (enable) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a_gated <= a;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b_gated <= b;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;assign product = a_gated * b_gated;<br>\n          <br>\n          &nbsp;&nbsp;always @(posedge clk)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (enable) result <= product;<br>\n          <br>\n          endmodule\n        </div>\n        \n        <h4>Memory Power Optimization</h4>\n        <p>Optimize memory structures for lower power consumption:</p>\n        \n        <ul>\n          <li><strong>Memory Partitioning</strong>: Split large memories into smaller banks</li>\n          <li><strong>Memory Banking</strong>: Activate only the necessary memory banks</li>\n          <li><strong>Dual-Port to Single-Port</strong>: Use single-port memories when possible</li>\n          <li><strong>Read/Write Enables</strong>: Only activate memories when needed</li>\n        </ul>\n        \n        <h4>Low-Power Coding Practices</h4>\n        <p>Adopt coding practices that lead to lower power designs:</p>\n        \n        <ul>\n          <li><strong>Gray Coding</strong>: Use gray codes for state machines to minimize bit transitions</li>\n          <li><strong>Register Balancing</strong>: Balance paths to reduce glitching</li>\n          <li><strong>Reset Strategy</strong>: Use asynchronous resets for initialization but synchronous resets in normal operation</li>\n          <li><strong>Clock Domain Optimization</strong>: Minimize clock domain crossings</li>\n        </ul>\n      '},{id:"9.5",title:"Tool-Assisted Optimization",content:'\n        <h3>Leveraging Synthesis and Implementation Tools</h3>\n        <p>Modern EDA tools offer powerful optimization capabilities that can significantly improve your designs with minimal manual intervention.</p>\n        \n        <h4>Synthesis Directives</h4>\n        <p>Guide synthesis tools to achieve specific optimization goals:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Resource sharing control<br>\n          (* resource_sharing = off *)<br>\n          module no_sharing_module(...);<br>\n          <br>\n          // FSM encoding style<br>\n          (* fsm_encoding = "one-hot" *)<br>\n          reg [3:0] state;<br>\n          <br>\n          // Register retiming/balancing<br>\n          (* register_balancing = "yes" *)<br>\n          module balanced_pipeline(...);<br>\n          <br>\n          // RAM inference style<br>\n          (* ram_style = "block" *)<br>\n          reg [7:0] memory [0:1023];\n        </div>\n        \n        <p>The above examples use Verilog attributes, but many tools also support TCL directives:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          # Set optimization goal<br>\n          set_directive_resource -core Multiplier "matrix_mult" mul<br>\n          <br>\n          # Set unrolling factor<br>\n          set_directive_unroll -factor 4 "video_filter" loop_filter<br>\n          <br>\n          # Set array partitioning<br>\n          set_directive_array_partition -type cyclic -factor 2 "dct" coeffs\n        </div>\n        \n        <h4>Implementation Constraints</h4>\n        <p>Guide the implementation tools through constraint files:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Constraint Type</th>\n              <th>Purpose</th>\n              <th>Example (XDC/SDC format)</th>\n            </tr>\n            <tr>\n              <td>Timing Constraints</td>\n              <td>Specify timing requirements</td>\n              <td><code>create_clock -period 10.000 -name sys_clk [get_ports clk]</code></td>\n            </tr>\n            <tr>\n              <td>Physical Constraints</td>\n              <td>Control placement and layout</td>\n              <td><code>set_property LOC SLICE_X3Y10 [get_cells reg_array[0]]</code></td>\n            </tr>\n            <tr>\n              <td>Power Constraints</td>\n              <td>Guide power optimization</td>\n              <td><code>set_switching_activity -toggle_rate 0.2 [get_nets slow_data*]</code></td>\n            </tr>\n            <tr>\n              <td>Area Constraints</td>\n              <td>Control resource utilization</td>\n              <td><code>create_pblock pblock_1; add_cells_to_pblock pblock_1 [get_cells cpu_core]</code></td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>High-Level Synthesis Optimization</h4>\n        <p>When using high-level synthesis (HLS) tools, leverage directives to control the micro-architecture:</p>\n        \n        <ul>\n          <li><strong>Loop Unrolling</strong>: Replicate loop hardware for parallelism</li>\n          <li><strong>Loop Pipelining</strong>: Overlap loop iterations for higher throughput</li>\n          <li><strong>Array Partitioning</strong>: Split arrays across multiple memories for parallel access</li>\n          <li><strong>Interface Synthesis</strong>: Control the generation of interfaces (AXI, memory ports, etc.)</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Vendor-Specific Tools</h4>\n          <p>Major FPGA and ASIC vendors provide specialized tools for advanced optimization:</p>\n          <ul>\n            <li><strong>Xilinx Vivado/Vitis</strong>: Design space exploration, power optimization, block automation</li>\n            <li><strong>Intel Quartus</strong>: Design space explorer, power analyzer, timing optimization</li>\n            <li><strong>Synopsys Design Compiler</strong>: Topographical synthesis, advanced timing closure</li>\n            <li><strong>Cadence Genus</strong>: Multi-objective optimization, distributed synthesis</li>\n          </ul>\n        </div>\n        \n        <h4>Optimization Flow</h4>\n        <p>Follow a structured approach to optimization:</p>\n        \n        <ol>\n          <li><strong>Analyze</strong>: Identify bottlenecks using timing, area, and power reports</li>\n          <li><strong>Constrain</strong>: Set appropriate constraints to guide the tools</li>\n          <li><strong>Synthesize</strong>: Apply incremental optimizations</li>\n          <li><strong>Implement</strong>: Use implementation-specific options</li>\n          <li><strong>Iterate</strong>: Review results and refine constraints</li>\n          <li><strong>Explore</strong>: Try different optimization settings and architectures</li>\n        </ol>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://www.sciencedirect.com/topics/computer-science/logic-optimization/downloadFig/F000046-01" alt="Optimization Flow" style="max-width: 700px; width: 100%;">\n        </div>\n      '},{id:"9.6",title:"Key Takeaways",content:"\n        <h3>Summary: Design Optimization Techniques</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>Design optimization requires understanding trade-offs between performance, area, and power.</li>\n            <li>Area optimization techniques include resource sharing, memory optimization, and arithmetic optimization.</li>\n            <li>Performance optimization focuses on pipelining, parallelism, and critical path reduction.</li>\n            <li>Power optimization employs clock gating, power gating, and operand isolation.</li>\n            <li>Modern EDA tools provide powerful directives and constraints to guide optimization.</li>\n            <li>A systematic approach combining RTL techniques and tool capabilities yields the best results.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>With optimization techniques mastered, we'll next explore advanced verification methods. You'll learn sophisticated approaches to verify complex designs, ensuring they meet specifications under all conditions.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>Consider a design with strict area, power, and performance requirements. How would you approach the optimization process to find the best balance?</li>\n          <li>When would you choose to implement resource sharing versus parallelism? What factors influence this decision?</li>\n          <li>How might the target technology (FPGA vs. ASIC) impact your optimization strategy? Which techniques become more important in each context?</li>\n        </ol>\n      "}],quiz:{title:"Design Optimization Techniques Quiz",description:"Test your understanding of area, performance, and power optimization in Verilog designs",questions:[{id:"q9_1",question:"Which optimization technique involves breaking a large combinational path into smaller segments with registers between them?",options:[{id:"a",text:"Loop unrolling"},{id:"b",text:"Resource sharing"},{id:"c",text:"Pipelining"},{id:"d",text:"Clock gating"}],correctAnswer:"c",explanation:"Pipelining is a technique that breaks a large combinational path into smaller segments with registers between them. This allows the circuit to operate at a higher clock frequency since each segment has a shorter propagation delay. While throughput increases, pipelining also adds latency as data takes multiple clock cycles to traverse the pipeline."},{id:"q9_2",question:"What is the primary purpose of clock gating?",options:[{id:"a",text:"Increasing clock frequency"},{id:"b",text:"Reducing area usage"},{id:"c",text:"Improving timing margin"},{id:"d",text:"Reducing power consumption"}],correctAnswer:"d",explanation:"Clock gating is primarily used to reduce power consumption. By selectively disabling the clock to inactive portions of a circuit, it prevents unnecessary switching activity in flip-flops and the combinational logic they drive. This significantly reduces dynamic power consumption, especially in designs where parts of the circuit are idle for extended periods."},{id:"q9_3",question:"Which of the following is NOT a technique for area optimization?",options:[{id:"a",text:"Resource sharing"},{id:"b",text:"Operand isolation"},{id:"c",text:"FSM encoding optimization"},{id:"d",text:"Memory inference instead of registers"}],correctAnswer:"b",explanation:"Operand isolation is primarily a power optimization technique, not an area optimization. It prevents unnecessary switching in portions of a circuit by isolating inputs when the outputs are not used. The other options (resource sharing, FSM encoding optimization, and memory inference) are all legitimate area optimization techniques."},{id:"q9_4",question:"What is the difference between loop unrolling and loop pipelining?",options:[{id:"a",text:"Loop unrolling increases latency, loop pipelining reduces it"},{id:"b",text:"Loop unrolling replicates hardware for parallelism, loop pipelining overlaps iterations"},{id:"c",text:"Loop unrolling works with any loop, loop pipelining only works with for loops"},{id:"d",text:"Loop unrolling reduces area, loop pipelining increases it"}],correctAnswer:"b",explanation:"Loop unrolling replicates hardware to execute multiple loop iterations in parallel, increasing area but decreasing execution time. Loop pipelining, on the other hand, overlaps the execution of loop iterations (starting a new iteration before the previous one completes), improving throughput without the same area increase as unrolling."},{id:"q9_5",question:"Which of the following statements about retiming is TRUE?",options:[{id:"a",text:"Retiming adds additional registers to a design"},{id:"b",text:"Retiming removes registers to optimize area"},{id:"c",text:"Retiming repositions existing registers to optimize timing without changing functionality"},{id:"d",text:"Retiming changes the clock frequency of a design"}],correctAnswer:"c",explanation:"Retiming is a technique that repositions existing registers in a design to balance the delay between registers, optimizing timing without changing functionality. It doesn't necessarily add or remove registers, nor does it change the clock frequency directly. Instead, it redistributes registers to reduce critical path delay, potentially enabling a higher clock frequency."},{id:"q9_6",question:"Which coding style typically results in the least area for an FSM implementation?",options:[{id:"a",text:"One-hot encoding"},{id:"b",text:"Binary encoding"},{id:"c",text:"Gray code encoding"},{id:"d",text:"Johnson encoding"}],correctAnswer:"b",explanation:"Binary encoding typically results in the least area for an FSM implementation because it uses the minimum number of bits to represent the states (log2(n) bits for n states). One-hot encoding uses n bits for n states, requiring more flip-flops. Gray code and Johnson encoding also use more bits than binary encoding but may have advantages in other areas such as glitch reduction or simpler next-state logic."},{id:"q9_7",question:"What is a common trade-off when implementing wide multipliers in hardware?",options:[{id:"a",text:"Speed vs. area"},{id:"b",text:"Power vs. accuracy"},{id:"c",text:"Latency vs. frequency"},{id:"d",text:"All of the above"}],correctAnswer:"d",explanation:"Implementing wide multipliers in hardware involves all these trade-offs. Speed vs. area: faster multipliers (like Wallace trees) consume more area than sequential multipliers. Power vs. accuracy: approximate multipliers save power but reduce accuracy. Latency vs. frequency: pipelined multipliers have higher latency but support higher clock frequencies. Design choices depend on the specific requirements of the application."},{id:"q9_8",question:"Which constraint would you use to prevent the synthesis tool from optimizing out registers that appear unnecessary but are needed for debugging?",options:[{id:"a",text:"set_dont_touch"},{id:"b",text:"set_max_delay"},{id:"c",text:"set_false_path"},{id:"d",text:"set_case_analysis"}],correctAnswer:"a",explanation:"The set_dont_touch constraint prevents synthesis and optimization tools from modifying or removing the specified objects. This is useful for preserving registers needed for debugging, protocol compliance, or other purposes that might not be apparent to the tools. The other constraints (set_max_delay, set_false_path, set_case_analysis) control timing analysis and don't prevent optimization."}]}},completed:!1},{...{id:10,title:"Advanced Verification Methods",description:"Learn sophisticated approaches to verify complex digital designs effectively and thoroughly",estimatedTime:"3 hours",completed:!1,sections:[{id:"10.1",title:"Verification Planning and Strategy",content:'\n        <h3>Strategic Approach to Verification</h3>\n        <p>As designs grow more complex, a structured approach to verification becomes critical for ensuring correctness and reliability.</p>\n        \n        <h4>Verification Planning</h4>\n        <p>A verification plan outlines what needs to be verified and how to verify it:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ol>\n            <li><strong>Feature Analysis</strong>: Identify all design features requiring verification</li>\n            <li><strong>Risk Assessment</strong>: Prioritize verification efforts based on criticality</li>\n            <li><strong>Methodology Selection</strong>: Choose appropriate verification techniques</li>\n            <li><strong>Metric Definition</strong>: Define success criteria (coverage goals, etc.)</li>\n            <li><strong>Resource Allocation</strong>: Assign time and personnel to verification tasks</li>\n          </ol>\n        </div>\n        \n        <h4>Verification Hierarchy</h4>\n        <p>Modern verification employs a multi-level approach:</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://www.chipverify.com/images/uvm/tb_verification_levels.png" alt="Verification Hierarchy" style="max-width: 700px; width: 100%;">\n        </div>\n        \n        <ul>\n          <li><strong>Unit-Level Verification</strong>: Test individual modules in isolation</li>\n          <li><strong>Integration Verification</strong>: Test interaction between modules</li>\n          <li><strong>System-Level Verification</strong>: Test the complete system functionality</li>\n          <li><strong>Hardware/Software Co-Verification</strong>: Test hardware and software together</li>\n        </ul>\n        \n        <h4>Design for Verification (DFV)</h4>\n        <p>Make designs easier to verify through thoughtful architecture:</p>\n        \n        <ul>\n          <li><strong>Observable Interfaces</strong>: Expose internal states for easier monitoring</li>\n          <li><strong>Controllable Interfaces</strong>: Create paths to efficiently drive internal states</li>\n          <li><strong>Clear Partitioning</strong>: Divide functionality to allow focused testing</li>\n          <li><strong>Built-in Self-Test (BIST)</strong>: Include mechanisms for self-verification</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Verification Efficiency</h4>\n          <p>Studies show that verification typically consumes 60-80% of digital design effort. A solid verification strategy helps manage this significant investment, ensuring maximum return in design quality.</p>\n        </div>\n        \n        <h4>Verification Platform Setup</h4>\n        <p>Create a robust, reusable verification infrastructure:</p>\n        \n        <ul>\n          <li><strong>Testbench Architecture</strong>: Define reusable components and interfaces</li>\n          <li><strong>Regression Framework</strong>: Automate test execution and result checking</li>\n          <li><strong>Configuration Management</strong>: Track design and testbench versions</li>\n          <li><strong>Bug Tracking</strong>: Systematically record and track issues</li>\n        </ul>\n      '},{id:"10.2",title:"Coverage-Driven Verification",content:'\n        <h3>Thorough Verification through Coverage</h3>\n        <p>Coverage-driven verification ensures comprehensive testing by measuring how thoroughly the design space has been explored.</p>\n        \n        <h4>Coverage Metrics</h4>\n        <p>Several types of coverage metrics guide verification completeness:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Coverage Type</th>\n              <th>Description</th>\n              <th>Example</th>\n            </tr>\n            <tr>\n              <td><strong>Code Coverage</strong></td>\n              <td>Measures whether RTL code is exercised</td>\n              <td>Line, branch, expression, toggle coverage</td>\n            </tr>\n            <tr>\n              <td><strong>Functional Coverage</strong></td>\n              <td>Measures whether design functionality is exercised</td>\n              <td>Protocol sequences, state transitions, corner cases</td>\n            </tr>\n            <tr>\n              <td><strong>Assertion Coverage</strong></td>\n              <td>Measures whether assertions are triggered</td>\n              <td>Assertion activation, passing/failing conditions</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>Code Coverage in Detail</h4>\n        <p>Code coverage ensures the RTL implementation is thoroughly exercised:</p>\n        \n        <ul>\n          <li><strong>Line Coverage</strong>: Has each line of code been executed?</li>\n          <li><strong>Branch Coverage</strong>: Have both true/false paths of each condition been taken?</li>\n          <li><strong>Condition Coverage</strong>: Has each boolean sub-expression evaluated to both true and false?</li>\n          <li><strong>Expression Coverage</strong>: Have all possible values of expressions been exercised?</li>\n          <li><strong>Toggle Coverage</strong>: Has each signal toggled between 0 and 1?</li>\n          <li><strong>FSM Coverage</strong>: Have all states and transitions been visited?</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Example: Viewing toggle coverage results<br>\n          // Signal toggle_count: 1-&gt;0: 156 transitions, 0-&gt;1: 154 transitions<br>\n          // Signal req_valid: 1-&gt;0: 47 transitions, 0-&gt;1: 48 transitions<br>\n          // Signal addr[0]: 1-&gt;0: 73 transitions, 0-&gt;1: 72 transitions<br>\n          // ...<br>\n          <br>\n          // Example: Viewing branch coverage results<br>\n          // Branch at line 145: if (valid && ready) - true: 45 hits, false: 12 hits<br>\n          // Branch at line 167: case(state) - branch 0: 15 hits, branch 1: 22 hits, branch 2: 0 hits<br>\n          // ...\n        </div>\n        \n        <h4>Functional Coverage</h4>\n        <p>Functional coverage measures whether specific design behaviors are exercised:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // SystemVerilog functional coverage example<br>\n          covergroup memory_access_cg;<br>\n          &nbsp;&nbsp;address_cp: coverpoint addr {<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;bins low = {0:255};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;bins mid = {256:767};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;bins high = {768:1023};<br>\n          &nbsp;&nbsp;}<br>\n          <br>\n          &nbsp;&nbsp;operation_cp: coverpoint {read_en, write_en} {<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;bins read = {2\'b10};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;bins write = {2\'b01};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;illegal_bins invalid = {2\'b00, 2\'b11};<br>\n          &nbsp;&nbsp;}<br>\n          <br>\n          &nbsp;&nbsp;burst_cp: coverpoint burst_len {<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;bins single = {1};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;bins small_burst = {[2:4]};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;bins medium_burst = {[5:12]};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;bins large_burst = {[13:16]};<br>\n          &nbsp;&nbsp;}<br>\n          <br>\n          &nbsp;&nbsp;// Cross coverage: combinations of address regions and operations<br>\n          &nbsp;&nbsp;addr_op_cross: cross address_cp, operation_cp;<br>\n          endgroup\n        </div>\n        \n        <h4>Coverage-Driven Verification Flow</h4>\n        <p>A structured approach to coverage-driven verification:</p>\n        \n        <ol>\n          <li><strong>Define Coverage Goals</strong>: Determine which metrics to track and targets to achieve</li>\n          <li><strong>Implement Coverage Collection</strong>: Add code to gather coverage data</li>\n          <li><strong>Generate Tests</strong>: Create tests targeting uncovered scenarios</li>\n          <li><strong>Analyze Results</strong>: Identify coverage holes and unreachable coverage</li>\n          <li><strong>Refine Tests</strong>: Modify tests to reach coverage goals</li>\n        </ol>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Coverage Closure Strategies</h4>\n          <p>When struggling to reach coverage targets:</p>\n          <ul>\n            <li>Use direct tests to target specific uncovered scenarios</li>\n            <li>Enhance random test constraints to bias toward uncovered scenarios</li>\n            <li>Review unreachable coverage and exclude if truly impossible</li>\n            <li>Consider design modifications to improve testability</li>\n          </ul>\n        </div>\n      '},{id:"10.3",title:"Constrained Random Verification",content:'\n        <h3>Intelligent Randomization for Thorough Testing</h3>\n        <p>Constrained random verification (CRV) combines the thoroughness of random testing with the focus of directed tests.</p>\n        \n        <h4>Randomization Benefits</h4>\n        <p>Random testing offers several advantages over purely directed testing:</p>\n        \n        <ul>\n          <li><strong>Broader Test Space Coverage</strong>: Explores scenarios humans might not think of</li>\n          <li><strong>Efficient Test Development</strong>: Avoids writing large numbers of test cases</li>\n          <li><strong>Reusable Infrastructure</strong>: The same testbench can generate many test scenarios</li>\n          <li><strong>Better Bug Detection</strong>: Finds corner cases and unexpected interactions</li>\n        </ul>\n        \n        <h4>Constraint-Based Random Generation</h4>\n        <p>Use constraints to focus random generation on valid and interesting scenarios:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // SystemVerilog constraint example<br>\n          class packet;<br>\n          &nbsp;&nbsp;rand bit [7:0] src_addr;<br>\n          &nbsp;&nbsp;rand bit [7:0] dst_addr;<br>\n          &nbsp;&nbsp;rand bit [3:0] packet_type;<br>\n          &nbsp;&nbsp;rand bit [7:0] payload[];<br>\n          <br>\n          &nbsp;&nbsp;// Basic constraints<br>\n          &nbsp;&nbsp;constraint valid_addresses {<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;src_addr != dst_addr; // No self-communication<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;src_addr inside {[1:254]}; // Valid source range<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;dst_addr inside {[1:254]}; // Valid destination range<br>\n          &nbsp;&nbsp;}<br>\n          <br>\n          &nbsp;&nbsp;// Payload size based on packet type<br>\n          &nbsp;&nbsp;constraint payload_size {<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;packet_type inside {0, 1, 2, 3};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (packet_type == 0) payload.size() == 0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;else if (packet_type == 1) payload.size() inside {[1:16]};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;else if (packet_type == 2) payload.size() inside {[17:64]};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;else payload.size() inside {[65:128]};<br>\n          &nbsp;&nbsp;}<br>\n          <br>\n          &nbsp;&nbsp;// Distribution constraints<br>\n          &nbsp;&nbsp;constraint type_dist {<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;packet_type dist {<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0 := 10, // 10% control packets<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1 := 30, // 30% small packets<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 := 40, // 40% medium packets<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3 := 20  // 20% large packets<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;};<br>\n          &nbsp;&nbsp;}<br>\n          endclass\n        </div>\n        \n        <h4>Building a Constrained Random Testbench</h4>\n        <p>A modern constrained random testbench typically includes:</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://www.systemverilog.io/img/testbench_arch.png" alt="Constrained Random Testbench" style="max-width: 700px; width: 100%;">\n        </div>\n        \n        <ul>\n          <li><strong>Stimulus Generation</strong>: Transaction-level stimulus with constraints</li>\n          <li><strong>Driver</strong>: Converts transactions to pin-level activity</li>\n          <li><strong>Monitor</strong>: Observes pin-level activity, converts to transactions</li>\n          <li><strong>Scoreboard</strong>: Verifies correctness through transaction checking</li>\n          <li><strong>Coverage Collection</strong>: Tracks verification progress</li>\n          <li><strong>Test Control</strong>: Coordinates overall test execution</li>\n        </ul>\n        \n        <h4>Intelligent Test Generation</h4>\n        <p>Enhance random testing with feedback-driven approaches:</p>\n        \n        <ul>\n          <li><strong>Coverage-Guided Testing</strong>: Adjust constraints based on coverage feedback</li>\n          <li><strong>Automated Constraint Solving</strong>: Tools find valid solutions to complex constraints</li>\n          <li><strong>Adaptive Random Testing</strong>: Focus on areas with lower coverage or higher error rates</li>\n          <li><strong>Genetic Algorithms</strong>: Evolve test cases that find more bugs or improve coverage</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Balancing Random and Directed Testing</h4>\n          <p>The most effective verification strategies combine:</p>\n          <ul>\n            <li><strong>Directed Tests</strong>: For fundamental functionality, specific corner cases, and regression testing</li>\n            <li><strong>Constrained Random Tests</strong>: For broad coverage and finding unexpected interactions</li>\n            <li><strong>Hybrid Approaches</strong>: Such as directed-random tests that combine targeted scenarios with variation</li>\n          </ul>\n        </div>\n      '},{id:"10.4",title:"Assertions and Formal Verification",content:'\n        <h3>Rigorous Specification and Exhaustive Validation</h3>\n        <p>Assertions and formal methods offer powerful techniques for precisely specifying and thoroughly verifying design behavior.</p>\n        \n        <h4>Assertion-Based Verification</h4>\n        <p>Assertions are executable specifications that monitor design behavior during simulation:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Simple immediate assertions in Verilog<br>\n          always @(posedge clk) begin<br>\n          &nbsp;&nbsp;// Check that request and acknowledge are never active simultaneously<br>\n          &nbsp;&nbsp;assert(!(req && ack)) else $error("Request and acknowledge both active!");<br>\n          <br>\n          &nbsp;&nbsp;// Check valid address range<br>\n          &nbsp;&nbsp;assert(addr < 1024) else $error("Address out of range: %0d", addr);<br>\n          end<br>\n          <br>\n          // SystemVerilog concurrent assertions<br>\n          // Check that every request is followed by an acknowledge within 5 cycles<br>\n          property req_ack_protocol;<br>\n          &nbsp;&nbsp;@(posedge clk) req |-> ##[1:5] ack;<br>\n          endproperty<br>\n          <br>\n          assert property(req_ack_protocol) else<br>\n          &nbsp;&nbsp;$error("Request not acknowledged within 5 cycles");<br>\n          <br>\n          // Verify AXI handshaking protocol<br>\n          property axi_handshake;<br>\n          &nbsp;&nbsp;@(posedge clk) (valid && !ready) |-> ##[1:$] ready;<br>\n          endproperty<br>\n          <br>\n          assert property(axi_handshake) else<br>\n          &nbsp;&nbsp;$error("AXI handshaking violation: valid not followed by ready");\n        </div>\n        \n        <h4>Assertion Categories</h4>\n        <p>Different types of assertions serve various verification purposes:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Assertion Type</th>\n              <th>Purpose</th>\n              <th>Example</th>\n            </tr>\n            <tr>\n              <td>Safety Properties</td>\n              <td>Ensure bad things never happen</td>\n              <td>No data corruption, no deadlocks, no protocol violations</td>\n            </tr>\n            <tr>\n              <td>Liveness Properties</td>\n              <td>Ensure good things eventually happen</td>\n              <td>Requests are eventually acknowledged, transactions complete</td>\n            </tr>\n            <tr>\n              <td>Fairness Properties</td>\n              <td>Ensure resources are shared fairly</td>\n              <td>Arbitration gives each requestor access, no starvation</td>\n            </tr>\n            <tr>\n              <td>Coverage Properties</td>\n              <td>Track verification progress</td>\n              <td>Interesting conditions or sequences have occurred</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>Formal Verification Introduction</h4>\n        <p>Formal verification uses mathematical methods to exhaustively verify design properties:</p>\n        \n        <ul>\n          <li><strong>Model Checking</strong>: Exhaustively explores the state space to verify properties</li>\n          <li><strong>Equivalence Checking</strong>: Proves two designs have identical behavior</li>\n          <li><strong>Theorem Proving</strong>: Uses mathematical proofs to verify design correctness</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://inst.eecs.berkeley.edu/~ee219b/sp10/lectures/Lecture17-FormalVerification_1_up.pdf/img18.png" alt="Formal Verification Process" style="max-width: 700px; width: 100%;">\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Simulation vs. Formal Verification</h4>\n          <p>Key differences between these complementary approaches:</p>\n          <ul>\n            <li><strong>Simulation</strong>: Tests specific scenarios, limited coverage, runs on full designs</li>\n            <li><strong>Formal Verification</strong>: Exhaustive analysis, complete proofs, limited by state space complexity</li>\n          </ul>\n          <p>Most effective verification flows combine both methods.</p>\n        </div>\n        \n        <h4>Formal Verification Applications</h4>\n        <p>Common uses for formal verification in digital design:</p>\n        \n        <ul>\n          <li><strong>Protocol Compliance</strong>: Verify interfaces follow communication protocols</li>\n          <li><strong>Control Logic Verification</strong>: Prove state machines work correctly under all conditions</li>\n          <li><strong>Arbitration Fairness</strong>: Verify resource allocation policies</li>\n          <li><strong>Clock Domain Crossing</strong>: Verify synchronization is correct</li>\n          <li><strong>RTL-to-Gates Equivalence</strong>: Prove synthesis preserved design functionality</li>\n        </ul>\n      '},{id:"10.5",title:"Verification Methodologies and Languages",content:'\n        <h3>Standardized Approaches to Verification</h3>\n        <p>Industry-standard verification methodologies and languages enable efficient development of sophisticated testbenches.</p>\n        \n        <h4>Verification Languages</h4>\n        <p>Specialized languages provide powerful features for verification:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Language</th>\n              <th>Key Features</th>\n              <th>Typical Use</th>\n            </tr>\n            <tr>\n              <td><strong>SystemVerilog</strong></td>\n              <td>OOP, constraints, assertions, coverage, functional coverage</td>\n              <td>Full-featured verification environments</td>\n            </tr>\n            <tr>\n              <td><strong>UVM (built on SystemVerilog)</strong></td>\n              <td>Standardized components, configuration, test phases</td>\n              <td>Reusable, scalable verification environments</td>\n            </tr>\n            <tr>\n              <td><strong>Property Specification Language (PSL)</strong></td>\n              <td>Temporal logics, assertions, formal properties</td>\n              <td>Formal verification, assertion libraries</td>\n            </tr>\n            <tr>\n              <td><strong>Python + Cocotb</strong></td>\n              <td>Python-based stimulus generation, test control</td>\n              <td>Rapid testbench development, algorithm verification</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>Universal Verification Methodology (UVM)</h4>\n        <p>UVM is an industry-standard methodology for building reusable, scalable verification environments:</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://verificationacademy.com/cookbook/images/uvm_testbench.jpg" alt="UVM Environment Structure" style="max-width: 700px; width: 100%;">\n        </div>\n        \n        <p>Key UVM concepts include:</p>\n        \n        <ul>\n          <li><strong>Components</strong>: Reusable testbench building blocks (agents, monitors, etc.)</li>\n          <li><strong>Transactions</strong>: High-level data objects representing protocol operations</li>\n          <li><strong>Phases</strong>: Standardized execution flow (build, connect, run, cleanup)</li>\n          <li><strong>Configuration</strong>: Flexible setup mechanisms for testbench components</li>\n          <li><strong>Factory Pattern</strong>: Runtime object creation and customization</li>\n          <li><strong>Sequences</strong>: Reusable stimulus generation patterns</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // UVM sequence example (simplified)<br>\n          class memory_test_sequence extends uvm_sequence #(memory_transaction);<br>\n          &nbsp;&nbsp;`uvm_object_utils(memory_test_sequence)<br>\n          <br>\n          &nbsp;&nbsp;function new(string name = "memory_test_sequence");<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;super.new(name);<br>\n          &nbsp;&nbsp;endfunction<br>\n          <br>\n          &nbsp;&nbsp;task body();<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;memory_transaction tx;<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Generate 20 random transactions<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;repeat(20) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tx = memory_transaction::type_id::create("tx");<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_item(tx);<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Randomize with specific constraints for this test<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(!tx.randomize() with {<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;addr inside {[0:255]};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_size == 4;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`uvm_error("RAND_FAIL", "Randomization failed")<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          <br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;finish_item(tx);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;endtask<br>\n          endclass\n        </div>\n        \n        <h4>Other Verification Methodologies</h4>\n        <p>Alternative approaches to standardized verification:</p>\n        \n        <ul>\n          <li><strong>Open Verification Methodology (OVM)</strong>: Predecessor to UVM</li>\n          <li><strong>Verification Methodology Manual (VMM)</strong>: Early methodology from Synopsys</li>\n          <li><strong>Portable Stimulus Standard (PSS)</strong>: Emerging standard for test specification</li>\n          <li><strong>Cocotb</strong>: Python-based verification framework</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Methodology Selection Factors</h4>\n          <p>Consider these factors when choosing a verification methodology:</p>\n          <ul>\n            <li>Design complexity and verification requirements</li>\n            <li>Team experience and expertise</li>\n            <li>Schedule and resource constraints</li>\n            <li>Available tool support</li>\n            <li>Reuse requirements across projects</li>\n          </ul>\n        </div>\n      '},{id:"10.6",title:"Key Takeaways",content:"\n        <h3>Summary: Advanced Verification Methods</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>A strategic verification plan is essential for ensuring comprehensive design verification.</li>\n            <li>Coverage-driven verification provides objective metrics to measure verification completeness.</li>\n            <li>Constrained random testing efficiently explores large test spaces while focusing on valid scenarios.</li>\n            <li>Assertions precisely specify design behavior and catch violations during simulation or formal verification.</li>\n            <li>Formal verification provides exhaustive analysis of critical design properties.</li>\n            <li>Industry-standard verification methodologies like UVM enable efficient development of sophisticated testbenches.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>Now that you've mastered advanced verification, we'll explore system-on-chip (SoC) design concepts. You'll learn how to integrate various IP blocks into a complete system, manage interfaces between components, and handle system-level concerns.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>How would you develop a verification strategy for a new SoC that includes both new design blocks and reused IP?</li>\n          <li>What factors determine when to use constrained random verification versus formal verification? When would you use both?</li>\n          <li>How might you balance the overhead of creating a sophisticated UVM-based verification environment against the benefits it provides for complex designs?</li>\n        </ol>\n      "}],quiz:{title:"Advanced Verification Techniques Quiz",description:"Test your understanding of advanced verification methodologies and tools for Verilog designs",questions:[{id:"q10_1",question:"What is constrained random verification?",options:[{id:"a",text:"Applying timing constraints to randomly selected paths in a design"},{id:"b",text:"Generating random stimulus according to certain rules and constraints"},{id:"c",text:"Randomly selecting portions of a design to verify"},{id:"d",text:"Using random clock frequencies to test a design's robustness"}],correctAnswer:"b",explanation:"Constrained random verification is a technique where random stimulus is generated according to specific rules and constraints. This allows for exploration of a wide range of scenarios while ensuring the generated inputs meet certain criteria (e.g., valid protocol sequences, reasonable value ranges). It helps discover corner cases that might be missed with directed tests."},{id:"q10_2",question:"What is the primary purpose of assertion-based verification?",options:[{id:"a",text:"To create documentation for the design"},{id:"b",text:"To specify and verify design properties and behaviors"},{id:"c",text:"To measure code coverage"},{id:"d",text:"To generate test vectors"}],correctAnswer:"b",explanation:"Assertion-based verification's primary purpose is to specify and verify design properties and behaviors. Assertions are statements about what a design should do or not do under specific conditions. They monitor the design during simulation and flag violations, providing immediate feedback when behavior deviates from expectations."},{id:"q10_3",question:"Which of the following is NOT a type of coverage typically measured in hardware verification?",options:[{id:"a",text:"Code coverage"},{id:"b",text:"Functional coverage"},{id:"c",text:"Power coverage"},{id:"d",text:"Toggle coverage"}],correctAnswer:"c",explanation:"Power coverage is not a standard type of coverage measured in hardware verification. Common coverage metrics include code coverage (line, branch, expression, FSM), functional coverage (tracking functional scenarios exercised), and toggle coverage (measuring signal transitions). While power analysis is important, 'power coverage' is not a standard verification metric like the others."},{id:"q10_4",question:"What is formal verification?",options:[{id:"a",text:"Verification performed by specialized verification engineers rather than designers"},{id:"b",text:"Mathematical proof of a design's properties without requiring simulation"},{id:"c",text:"Verification that follows a formally documented process"},{id:"d",text:"Testing that produces formal documentation of results"}],correctAnswer:"b",explanation:"Formal verification is a method that uses mathematical techniques to prove that a design meets certain properties or specifications without requiring simulation. It exhaustively analyzes all possible states and transitions of a design, making it particularly valuable for verifying critical properties like security features or ensuring deadlock-free operation."},{id:"q10_5",question:"What is the Universal Verification Methodology (UVM)?",options:[{id:"a",text:"A programming language for hardware verification"},{id:"b",text:"A standardized methodology for creating reusable verification environments"},{id:"c",text:"A type of simulation tool"},{id:"d",text:"A formal verification algorithm"}],correctAnswer:"b",explanation:"UVM (Universal Verification Methodology) is a standardized methodology for creating reusable, scalable verification environments. Based on SystemVerilog and object-oriented programming principles, it provides a framework of base classes, patterns, and guidelines for developing modular verification components that can be easily reused and combined across projects."},{id:"q10_6",question:"What is the purpose of a coverage-driven verification (CDV) approach?",options:[{id:"a",text:"To systematically verify a design by defining coverage goals and measuring progress toward them"},{id:"b",text:"To achieve the minimum coverage required for tape-out as quickly as possible"},{id:"c",text:"To generate test cases based on the module's source code"},{id:"d",text:"To verify only the covered parts of the design"}],correctAnswer:"a",explanation:"Coverage-driven verification (CDV) is an approach where verification goals are defined in terms of coverage metrics, and progress is measured by how well these goals are met. It combines constrained random stimulus generation with functional coverage to systematically explore the design space, focusing test efforts on uncovered areas until coverage goals are achieved."},{id:"q10_7",question:"What is the difference between a monitor and a scoreboard in a verification environment?",options:[{id:"a",text:"Monitors observe signals, scoreboards compare expected vs. actual results"},{id:"b",text:"Monitors verify protocol compliance, scoreboards measure coverage"},{id:"c",text:"Monitors are used in simulation, scoreboards are used in formal verification"},{id:"d",text:"Monitors check timing constraints, scoreboards verify functional behavior"}],correctAnswer:"a",explanation:"Monitors observe signals and interfaces in a design, collecting transactions and protocol information without modifying the design. Scoreboards, on the other hand, compare expected results (often from a reference model) against actual results observed from the design under test to verify correct behavior. Together, they enable automated checking of design functionality."},{id:"q10_8",question:"Which verification technique is most appropriate for ensuring that a complex bus protocol implementation adheres to the specification under all valid scenarios?",options:[{id:"a",text:"Directed testing"},{id:"b",text:"Constrained random verification with protocol assertions"},{id:"c",text:"Code coverage analysis"},{id:"d",text:"Gate-level simulation"}],correctAnswer:"b",explanation:"Constrained random verification with protocol assertions is most appropriate for verifying complex bus protocols. The constrained random approach can generate a wide variety of valid protocol scenarios that might be impractical to create manually, while assertions monitor protocol compliance throughout simulation. This combination provides thorough verification of protocol behavior under diverse conditions."}]}},completed:!1},{...{id:11,title:"System-on-Chip (SoC) Design Concepts",description:"Learn how to integrate IP blocks, manage interfaces, and handle system-level design challenges",estimatedTime:"4 hours",completed:!1,sections:[{id:"11.1",title:"SoC Architecture and Components",content:'\n        <h3>Understanding System-on-Chip Design</h3>\n        <p>A System-on-Chip (SoC) integrates all components of a computer or electronic system into a single integrated circuit. Modern SoCs combine processors, memory, interfaces, and specialized hardware accelerators.</p>\n        \n        <h4>SoC Building Blocks</h4>\n        <p>Typical components found in modern SoC designs:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Component Type</th>\n              <th>Examples</th>\n              <th>Function</th>\n            </tr>\n            <tr>\n              <td><strong>Processing Units</strong></td>\n              <td>CPU cores, DSPs, GPUs, ML accelerators</td>\n              <td>Computational processing for different workloads</td>\n            </tr>\n            <tr>\n              <td><strong>Memory Systems</strong></td>\n              <td>SRAM, ROM, cache hierarchies</td>\n              <td>Local data and program storage</td>\n            </tr>\n            <tr>\n              <td><strong>Interconnect</strong></td>\n              <td>Buses, NoCs, crossbars</td>\n              <td>Data movement between components</td>\n            </tr>\n            <tr>\n              <td><strong>Peripherals</strong></td>\n              <td>Timers, UARTs, I2C, SPI</td>\n              <td>Interface with external devices</td>\n            </tr>\n            <tr>\n              <td><strong>External Interfaces</strong></td>\n              <td>DDR controllers, PCIe, USB, Ethernet</td>\n              <td>High-speed connectivity to external systems</td>\n            </tr>\n            <tr>\n              <td><strong>Specialized Logic</strong></td>\n              <td>Crypto engines, video codecs, custom accelerators</td>\n              <td>Domain-specific hardware acceleration</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>SoC Architecture Patterns</h4>\n        <p>Common architectural approaches for organizing SoC components:</p>\n        \n        <ul>\n          <li><strong>Processor-Centric</strong>: One or more CPUs coordinate all system activities</li>\n          <li><strong>Heterogeneous Multi-Processing</strong>: Different processor types optimized for specific tasks</li>\n          <li><strong>Memory-Centric</strong>: Design organized around memory architecture and data flow</li>\n          <li><strong>Domain-Specific</strong>: Architecture optimized for particular application domains</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://www.design-reuse.com/news_img/202101/i15261_1_socdiagram.jpg" alt="SoC Architecture Example" style="max-width: 700px; width: 100%;">\n        </div>\n      '},{id:"11.2",title:"Interface Protocols and Communication",content:'\n        <h3>Connecting SoC Components</h3>\n        <p>Standard interfaces are critical for seamless integration of IP blocks in SoC design. Well-defined protocols enable interoperability and reuse.</p>\n        \n        <h4>Common On-Chip Interface Protocols</h4>\n        <p>Several standard protocols facilitate communication between SoC components:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Protocol</th>\n              <th>Key Characteristics</th>\n              <th>Typical Use</th>\n            </tr>\n            <tr>\n              <td><strong>AMBA AXI</strong></td>\n              <td>Separate read/write channels, out-of-order completion, burst transfers</td>\n              <td>High-performance system interconnect</td>\n            </tr>\n            <tr>\n              <td><strong>AMBA AHB</strong></td>\n              <td>Pipelined, single-clock operation, split transactions</td>\n              <td>Medium-performance peripherals</td>\n            </tr>\n            <tr>\n              <td><strong>AMBA APB</strong></td>\n              <td>Simple, low-bandwidth protocol, minimal signal requirements</td>\n              <td>Low-speed peripherals, configuration registers</td>\n            </tr>\n            <tr>\n              <td><strong>Wishbone</strong></td>\n              <td>Open-source, simple synchronous bus</td>\n              <td>Open-source IP cores, academic designs</td>\n            </tr>\n            <tr>\n              <td><strong>TileLink</strong></td>\n              <td>Cache coherence support, layered protocol</td>\n              <td>RISC-V systems, coherent interconnects</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>Interface Abstraction Layers</h4>\n        <p>SoC interfaces often employ abstraction layers to separate concerns:</p>\n        \n        <ul>\n          <li><strong>Physical Layer</strong>: Signal levels, timing parameters</li>\n          <li><strong>Data Link Layer</strong>: Reliable data transfer, flow control</li>\n          <li><strong>Transaction Layer</strong>: Address/data operations, commands</li>\n          <li><strong>Protocol Layer</strong>: Ordering rules, coherence mechanisms</li>\n        </ul>\n        \n        <h4>AXI Protocol Overview</h4>\n        <p>The Advanced eXtensible Interface (AXI) protocol is widely used in SoC designs:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // AXI interface signals (simplified)\n          // Write Address Channel\n          input  wire [ID_WIDTH-1:0]     awid,\n          input  wire [ADDR_WIDTH-1:0]   awaddr,\n          input  wire [7:0]              awlen,\n          input  wire [2:0]              awsize,\n          input  wire [1:0]              awburst,\n          input  wire                    awvalid,\n          output wire                    awready,\n          \n          // Write Data Channel\n          input  wire [DATA_WIDTH-1:0]   wdata,\n          input  wire [STRB_WIDTH-1:0]   wstrb,\n          input  wire                    wlast,\n          input  wire                    wvalid,\n          output wire                    wready,\n          \n          // Write Response Channel\n          output wire [ID_WIDTH-1:0]     bid,\n          output wire [1:0]              bresp,\n          output wire                    bvalid,\n          input  wire                    bready,\n          \n          // Read Address Channel\n          input  wire [ID_WIDTH-1:0]     arid,\n          input  wire [ADDR_WIDTH-1:0]   araddr,\n          input  wire [7:0]              arlen,\n          input  wire [2:0]              arsize,\n          input  wire [1:0]              arburst,\n          input  wire                    arvalid,\n          output wire                    arready,\n          \n          // Read Data Channel\n          output wire [ID_WIDTH-1:0]     rid,\n          output wire [DATA_WIDTH-1:0]   rdata,\n          output wire [1:0]              rresp,\n          output wire                    rlast,\n          output wire                    rvalid,\n          input  wire                    rready\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>AXI Handshaking</h4>\n          <p>AXI uses a valid/ready handshaking mechanism for flow control:</p>\n          <ul>\n            <li>The source asserts <strong>valid</strong> when data or address is available</li>\n            <li>The destination asserts <strong>ready</strong> when it can accept data or address</li>\n            <li>Transfer occurs when both <strong>valid</strong> and <strong>ready</strong> are asserted</li>\n            <li>Valid cannot be deasserted until transfer completes</li>\n            <li>Ready can be asserted before, with, or after valid</li>\n          </ul>\n        </div>\n      '},{id:"11.3",title:"SoC Integration and Verification",content:'\n        <h3>Bringing IP Blocks Together</h3>\n        <p>SoC integration combines individual IP blocks into a cohesive system, requiring careful planning and verification.</p>\n        \n        <h4>Integration Challenges</h4>\n        <p>Key challenges when integrating SoC components:</p>\n        \n        <ul>\n          <li><strong>Protocol Compatibility</strong>: Ensuring interfaces match between connected components</li>\n          <li><strong>Clock Domain Crossings</strong>: Managing signals crossing between clock domains</li>\n          <li><strong>Reset Distribution</strong>: Coordinating system-wide reset for proper initialization</li>\n          <li><strong>Power Domains</strong>: Handling interfaces between differently powered regions</li>\n          <li><strong>Timing Closure</strong>: Meeting timing constraints across component boundaries</li>\n          <li><strong>Debug Visibility</strong>: Maintaining observability of internal system behavior</li>\n        </ul>\n        \n        <h4>Integration Techniques</h4>\n        <p>Approaches to successful SoC integration:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Technique</th>\n              <th>Description</th>\n              <th>Benefit</th>\n            </tr>\n            <tr>\n              <td><strong>Interface Wrappers</strong></td>\n              <td>Adapter logic between incompatible interfaces</td>\n              <td>Enables IP reuse with minimal modifications</td>\n            </tr>\n            <tr>\n              <td><strong>Bus Bridges</strong></td>\n              <td>Protocol translation between different bus standards</td>\n              <td>Connects components with different interface types</td>\n            </tr>\n            <tr>\n              <td><strong>Clock Domain Isolators</strong></td>\n              <td>Synchronizers, FIFOs for crossing clock domains</td>\n              <td>Prevents metastability and data coherence issues</td>\n            </tr>\n            <tr>\n              <td><strong>Pipeline Insertion</strong></td>\n              <td>Adding registers at module boundaries</td>\n              <td>Improves timing closure across the chip</td>\n            </tr>\n            <tr>\n              <td><strong>Standardized Interfaces</strong></td>\n              <td>Using common interface standards for all components</td>\n              <td>Simplifies integration, promotes reuse</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>System-Level Verification</h4>\n        <p>Approaches for verifying the complete SoC:</p>\n        \n        <ul>\n          <li><strong>Top-Level Simulation</strong>: Simulate entire SoC to verify inter-module interactions</li>\n          <li><strong>Interface Compliance Tests</strong>: Verify each module adheres to protocol specifications</li>\n          <li><strong>Performance Verification</strong>: Validate system meets bandwidth and latency requirements</li>\n          <li><strong>Power Analysis</strong>: Ensure power consumption meets design targets</li>\n          <li><strong>Hardware/Software Co-verification</strong>: Test real software on the SoC model</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Integration Verification Tips</h4>\n          <p>Best practices for SoC integration verification:</p>\n          <ul>\n            <li>Verify each interface individually before full-system integration</li>\n            <li>Create automated tests for each integration point</li>\n            <li>Use formal verification to prove protocol compliance</li>\n            <li>Implement comprehensive monitoring of inter-module traffic</li>\n            <li>Start with simplified test cases and gradually increase complexity</li>\n          </ul>\n        </div>\n      '},{id:"11.4",title:"Address Mapping and Memory Organization",content:'\n        <h3>Managing System Memory Resources</h3>\n        <p>Effective address mapping and memory organization are critical for SoC performance, security, and software development.</p>\n        \n        <h4>Address Space Planning</h4>\n        <p>A well-designed address map considers various factors:</p>\n        \n        <ul>\n          <li><strong>Alignment Requirements</strong>: Accommodating hardware alignment constraints</li>\n          <li><strong>Memory Protection</strong>: Supporting memory protection unit configurations</li>\n          <li><strong>Caching Strategies</strong>: Organizing address regions for optimal caching</li>\n          <li><strong>Future Expansion</strong>: Reserving space for additional functionality</li>\n          <li><strong>Software Compatibility</strong>: Maintaining compatibility with existing software</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <p><strong>Example SoC Address Map:</strong></p>\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Address Range</th>\n              <th>Size</th>\n              <th>Component</th>\n              <th>Attributes</th>\n            </tr>\n            <tr>\n              <td>0x0000_0000 - 0x0001_FFFF</td>\n              <td>128 KB</td>\n              <td>Boot ROM</td>\n              <td>Read-only, cacheable</td>\n            </tr>\n            <tr>\n              <td>0x2000_0000 - 0x200F_FFFF</td>\n              <td>1 MB</td>\n              <td>On-chip SRAM</td>\n              <td>Read-write, cacheable</td>\n            </tr>\n            <tr>\n              <td>0x4000_0000 - 0x4FFF_FFFF</td>\n              <td>256 MB</td>\n              <td>External DDR Memory</td>\n              <td>Read-write, cacheable</td>\n            </tr>\n            <tr>\n              <td>0x8000_0000 - 0x8000_FFFF</td>\n              <td>64 KB</td>\n              <td>Peripheral Registers</td>\n              <td>Read-write, non-cacheable</td>\n            </tr>\n            <tr>\n              <td>0x9000_0000 - 0x9FFF_FFFF</td>\n              <td>256 MB</td>\n              <td>Memory-mapped I/O</td>\n              <td>Read-write, non-cacheable</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>Address Decoding Logic</h4>\n        <p>Implementing address decoding in Verilog:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Simple address decoder example\n          module address_decoder (\n            input  wire [31:0] address,\n            input  wire        valid,\n            output wire        select_ram,\n            output wire        select_rom,\n            output wire        select_uart,\n            output wire        select_gpio,\n            output wire        select_error\n          );\n          \n            // Address range definitions\n            localparam RAM_BASE  = 32\'h2000_0000;\n            localparam RAM_LIMIT = 32\'h200F_FFFF;\n            localparam ROM_BASE  = 32\'h0000_0000;\n            localparam ROM_LIMIT = 32\'h0001_FFFF;\n            localparam UART_BASE = 32\'h8000_0000;\n            localparam UART_LIMIT = 32\'h8000_00FF;\n            localparam GPIO_BASE = 32\'h8000_1000;\n            localparam GPIO_LIMIT = 32\'h8000_10FF;\n            \n            // Decoder logic\n            assign select_ram   = valid && (address >= RAM_BASE) && (address <= RAM_LIMIT);\n            assign select_rom   = valid && (address >= ROM_BASE) && (address <= ROM_LIMIT);\n            assign select_uart  = valid && (address >= UART_BASE) && (address <= UART_LIMIT);\n            assign select_gpio  = valid && (address >= GPIO_BASE) && (address <= GPIO_LIMIT);\n            assign select_error = valid && !(select_ram || select_rom || select_uart || select_gpio);\n            \n          endmodule\n        </div>\n        \n        <h4>Memory Hierarchy Considerations</h4>\n        <p>Design considerations for the SoC memory hierarchy:</p>\n        \n        <ul>\n          <li><strong>Cache Architecture</strong>: Levels, sizes, associativity, and coherence policy</li>\n          <li><strong>Local vs. Shared Memory</strong>: Balancing resource utilization and access performance</li>\n          <li><strong>Specialized Memory Types</strong>: Dual-port memories, FIFOs, and content-addressable memory</li>\n          <li><strong>Memory Bandwidth Analysis</strong>: Identifying and resolving potential bottlenecks</li>\n          <li><strong>Latency Management</strong>: Techniques to hide or reduce memory access latency</li>\n        </ul>\n      '},{id:"11.5",title:"Key Takeaways",content:"\n        <h3>Summary: System-on-Chip Design Concepts</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>Modern SoCs integrate diverse components including processors, memory, interfaces, and acceleration blocks.</li>\n            <li>Standardized interfaces like AXI, AHB, and APB enable seamless component integration and reuse.</li>\n            <li>SoC integration requires careful attention to protocol compatibility, clock domains, and timing closure.</li>\n            <li>Effective address mapping and memory organization are fundamental to system performance and security.</li>\n            <li>System-level verification is essential to validate the integration and interaction of all components.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>Next, we'll explore advanced Verilog language features that are particularly useful for large-scale designs. You'll learn about Verilog-2001/2005 enhancements, parameterization techniques, and methodologies for creating flexible, reusable IP.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>How would you approach the design of an SoC for a specific application, such as an AI-powered sensor node or a video processing system?</li>\n          <li>What considerations would guide your choice between custom-designed and third-party IP blocks when creating an SoC?</li>\n          <li>How might you balance the trade-offs between performance, power, area, and development time in an SoC design?</li>\n        </ol>\n      "}],quiz:{title:"System-on-Chip Design and Integration Quiz",description:"Test your understanding of SoC design concepts, buses, and integration challenges",questions:[{id:"q11_1",question:"Which of the following is NOT a typical component in a System-on-Chip?",options:[{id:"a",text:"CPU core"},{id:"b",text:"Memory controller"},{id:"c",text:"Printed circuit board"},{id:"d",text:"Peripheral interfaces"}],correctAnswer:"c",explanation:"A printed circuit board (PCB) is not a component within a System-on-Chip; rather, it's the substrate on which an SoC and other components are mounted. Typical SoC components include CPU cores, memory controllers, peripherals, bus interconnects, accelerators, and interface controllers\u2014all integrated on a single silicon die."},{id:"q11_2",question:"What is the primary purpose of a bus interconnect architecture in an SoC?",options:[{id:"a",text:"To connect the SoC to external memory"},{id:"b",text:"To provide a standardized communication infrastructure between IP blocks"},{id:"c",text:"To implement clock domain crossing"},{id:"d",text:"To reduce power consumption"}],correctAnswer:"b",explanation:"The primary purpose of a bus interconnect architecture is to provide a standardized communication infrastructure between different IP blocks within an SoC. It handles transaction routing, arbitration, protocol conversion, and address decoding, allowing IP blocks to communicate without needing to know the details of each other's interfaces."},{id:"q11_3",question:"What is an advantage of using the AXI (Advanced eXtensible Interface) protocol in SoC designs?",options:[{id:"a",text:"It only requires a single clock domain for the entire SoC"},{id:"b",text:"It supports independent address/data channels and out-of-order transaction completion"},{id:"c",text:"It is the simplest bus protocol to implement"},{id:"d",text:"It eliminates the need for bus arbitration"}],correctAnswer:"b",explanation:"AXI (Advanced eXtensible Interface) provides several advantages for SoC designs, including separate address and data channels, out-of-order transaction completion, burst transfers, and multiple outstanding transactions. These features enable higher performance through parallelism and flexibility, making it well-suited for complex SoC designs with varying bandwidth requirements."},{id:"q11_4",question:"What is a Network-on-Chip (NoC)?",options:[{id:"a",text:"An SoC with integrated networking capabilities"},{id:"b",text:"A communication subsystem that routes packets between IP blocks on an SoC"},{id:"c",text:"A protocol for connecting multiple SoCs together"},{id:"d",text:"A software stack for managing SoC communication"}],correctAnswer:"b",explanation:"A Network-on-Chip (NoC) is a communication subsystem that routes packets between intellectual property (IP) blocks on an SoC. Unlike traditional bus architectures, NoCs use network principles (routers, switches, packets) for on-chip communication, offering better scalability, throughput, and parallelism for complex SoCs with many components."},{id:"q11_5",question:"What is clock domain crossing (CDC) in SoC design?",options:[{id:"a",text:"The process of distributing a single clock throughout the entire chip"},{id:"b",text:"A technique for generating multiple clock frequencies from a single source"},{id:"c",text:"The transfer of signals between regions operating on different clock domains"},{id:"d",text:"The ability to dynamically change clock frequencies for power savings"}],correctAnswer:"c",explanation:"Clock domain crossing (CDC) refers to the transfer of signals between regions of an SoC that operate on different clock domains (different frequencies or phases). This requires special synchronization circuits to prevent metastability and data corruption. Proper CDC handling is critical in modern SoCs, which typically contain multiple independent clock domains."},{id:"q11_6",question:"Which approach to SoC verification provides the most comprehensive system-level validation?",options:[{id:"a",text:"RTL simulation of individual blocks"},{id:"b",text:"Hardware-software co-verification using emulation or FPGA prototyping"},{id:"c",text:"Static timing analysis"},{id:"d",text:"Formal verification of interface protocols"}],correctAnswer:"b",explanation:"Hardware-software co-verification using emulation or FPGA prototyping provides the most comprehensive system-level validation for SoCs. It allows the actual software that will run on the SoC to be tested with a realistic hardware model, uncovering integration issues, performance bottlenecks, and system-level bugs that might not be visible when verifying individual components separately."},{id:"q11_7",question:"What is the benefit of using standardized IP interfaces in SoC design?",options:[{id:"a",text:"They eliminate the need for interface documentation"},{id:"b",text:"They guarantee that all IP will be compatible regardless of vendor"},{id:"c",text:"They simplify integration and enable IP reuse across different designs"},{id:"d",text:"They ensure all IP blocks will have the same performance characteristics"}],correctAnswer:"c",explanation:"Standardized IP interfaces simplify integration and enable IP reuse across different designs. When IP blocks adhere to standard interfaces like AXI, APB, or OCP, designers can mix and match components from different sources with minimal adaptation, accelerating development and reducing integration risks. This 'plug-and-play' approach is essential for complex SoCs with dozens of IP blocks."},{id:"q11_8",question:"What is a common challenge when integrating third-party IP into an SoC?",options:[{id:"a",text:"Interface adaptation and protocol conversion"},{id:"b",text:"Third-party IP is always delivered without documentation"},{id:"c",text:"Third-party IP cannot be simulated before silicon fabrication"},{id:"d",text:"Third-party IP always requires custom on-chip memories"}],correctAnswer:"a",explanation:"Interface adaptation and protocol conversion are common challenges when integrating third-party IP. Even with standardized interfaces, differences in parameters, clock requirements, reset behavior, or protocol versions often require adapter logic or 'glue logic' to be developed. Other challenges include documentation quality, verification strategies, and ensuring the IP meets performance requirements."}]}},completed:!1},{...{id:12,title:"Advanced Verilog Language Features",description:"Master sophisticated Verilog techniques for creating flexible, reusable, and maintainable designs",estimatedTime:"4 hours",completed:!1,sections:[{id:"12.1",title:"Verilog-2001/2005 Enhancements",content:'\n        <h3>Modern Verilog Language Features</h3>\n        <p>The Verilog-2001 and Verilog-2005 standards introduced significant improvements to the language, enabling more concise and maintainable code.</p>\n        \n        <h4>Enhanced Port Declarations</h4>\n        <p>Simplified port declarations combine type, direction, and width in one statement:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Verilog-1995 style\n          module counter_v1995 (\n            clk, reset_n, enable, count, overflow\n          );\n            input  clk;\n            input  reset_n;\n            input  enable;\n            output [7:0] count;\n            output overflow;\n            \n            reg [7:0] count;\n            reg overflow;\n            // Module implementation...\n          endmodule\n          \n          // Verilog-2001 style - Combined port declaration\n          module counter_v2001 (\n            input  wire        clk,\n            input  wire        reset_n,\n            input  wire        enable,\n            output reg  [7:0]  count,\n            output reg         overflow\n          );\n            // Module implementation...\n          endmodule\n        </div>\n        \n        <h4>Generate Constructs</h4>\n        <p>Generate statements enable conditional and repetitive instantiation of hardware structures:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Conditional generate - Architecture selection<br>\n          module adder #(parameter FAST_IMPLEMENTATION = 0) (<br>\n          &nbsp;&nbsp;input  wire [31:0] a, b,<br>\n          &nbsp;&nbsp;output wire [31:0] sum<br>\n          );<br>\n          &nbsp;&nbsp;generate<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (FAST_IMPLEMENTATION) begin : fast_arch<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Carry-lookahead implementation for high performance<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carry_lookahead_adder cla (<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.a(a),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.b(b),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.sum(sum)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end else begin : small_arch<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Ripple-carry implementation for small area<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ripple_carry_adder rca (<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.a(a),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.b(b),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.sum(sum)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;endgenerate<br>\n          endmodule<br>\n          <br>\n          // Loop generate - Creating multiple instances<br>\n          module multi_adder #(parameter NUM_ADDERS = 4) (<br>\n          &nbsp;&nbsp;input  wire [31:0] a[NUM_ADDERS-1:0],<br>\n          &nbsp;&nbsp;input  wire [31:0] b[NUM_ADDERS-1:0],<br>\n          &nbsp;&nbsp;output wire [31:0] sum[NUM_ADDERS-1:0]<br>\n          );<br>\n          &nbsp;&nbsp;generate<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;for (genvar i = 0; i < NUM_ADDERS; i = i + 1) begin : adder_inst<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;adder adder_i (<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.a(a[i]),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.b(b[i]),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.sum(sum[i])<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;endgenerate<br>\n          endmodule\n        </div>\n        \n        <h4>Other Key Enhancements</h4>\n        <p>Additional important Verilog-2001/2005 features:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Feature</th>\n              <th>Description</th>\n              <th>Benefit</th>\n            </tr>\n            <tr>\n              <td><strong>ANSI-style Port Lists</strong></td>\n              <td>Combining port direction, type, and declaration</td>\n              <td>More concise module headers, fewer errors</td>\n            </tr>\n            <tr>\n              <td><strong>Generate Blocks</strong></td>\n              <td>Conditional and looping instantiation</td>\n              <td>Parameterized, scalable hardware structures</td>\n            </tr>\n            <tr>\n              <td><strong>Array Port Connections</strong></td>\n              <td>Connect arrays of signals without listing each element</td>\n              <td>Cleaner instantiation of modules with many similar ports</td>\n            </tr>\n            <tr>\n              <td><strong>Constant Functions</strong></td>\n              <td>Functions that can be evaluated at compile time</td>\n              <td>More powerful parameter manipulations</td>\n            </tr>\n            <tr>\n              <td><strong>Signed Types</strong></td>\n              <td>Explicit signed arithmetic handling</td>\n              <td>More reliable signed math operations</td>\n            </tr>\n            <tr>\n              <td><strong>Explicit Blocking/Non-blocking</strong></td>\n              <td>= for blocking, <= for non-blocking assignments</td>\n              <td>Clearer timing intent, fewer simulation surprises</td>\n            </tr>\n          </table>\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Backward Compatibility</h4>\n          <p>Verilog-2001/2005 maintains compatibility with Verilog-1995, allowing gradual adoption of the newer features. All the enhanced features can be mixed with older coding styles in the same design, though consistent style is recommended for maintainability.</p>\n        </div>\n      '},{id:"12.2",title:"Parameterization Techniques",content:'\n        <h3>Creating Flexible, Reusable Modules</h3>\n        <p>Parameterization enables creation of configurable, reusable hardware modules that can be adapted to various requirements without changing the core logic.</p>\n        \n        <h4>Module Parameters</h4>\n        <p>Parameters allow configurable module instances:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Parameterized FIFO module\n          module fifo #(\n            parameter DATA_WIDTH = 32,\n            parameter DEPTH      = 16,\n            parameter ALMOST_FULL_THRESHOLD = DEPTH - 2,\n            parameter ALMOST_EMPTY_THRESHOLD = 2\n          ) (\n            input  wire                  clk,\n            input  wire                  rst_n,\n            input  wire                  wr_en,\n            input  wire                  rd_en,\n            input  wire [DATA_WIDTH-1:0] data_in,\n            output wire [DATA_WIDTH-1:0] data_out,\n            output wire                  full,\n            output wire                  empty,\n            output wire                  almost_full,\n            output wire                  almost_empty\n          );\n            // Calculate address width based on DEPTH\n            localparam ADDR_WIDTH = $clog2(DEPTH);\n            \n            // Internal registers and wires\n            reg [ADDR_WIDTH-1:0] wr_ptr, rd_ptr;\n            reg [ADDR_WIDTH:0]   count;  // Extra bit for full/empty detection\n            reg [DATA_WIDTH-1:0] memory [0:DEPTH-1];\n            \n            // Module implementation...\n          endmodule\n          \n          // Instantiation with parameter overrides\n          fifo #(\n            .DATA_WIDTH(8),\n            .DEPTH(32),\n            .ALMOST_FULL_THRESHOLD(28)\n          ) uart_rx_fifo (\n            .clk(sys_clk),\n            .rst_n(sys_rst_n),\n            // Other connections...\n          );\n        </div>\n        \n        <h4>Parameter Dependencies and Calculations</h4>\n        <p>Parameters can depend on other parameters and be calculated at elaboration time:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module memory_controller #(\n            parameter ADDR_WIDTH = 32,\n            parameter DATA_WIDTH = 64,\n            parameter BURST_LENGTH = 8,\n            \n            // Derived parameters\n            parameter BURST_BITS = $clog2(BURST_LENGTH),\n            parameter BYTE_ENABLE_WIDTH = DATA_WIDTH/8,\n            parameter DATA_BYTES = DATA_WIDTH/8,\n            parameter ADDR_LSB = $clog2(DATA_BYTES)\n          ) (\n            // Port declarations...\n          );\n            // Parameter validation\n            initial begin\n              if (DATA_WIDTH % 8 != 0) begin\n                $error("DATA_WIDTH must be a multiple of 8");\n                $finish;\n              end\n              \n              if (!((BURST_LENGTH == 1) || (BURST_LENGTH == 2) || \n                    (BURST_LENGTH == 4) || (BURST_LENGTH == 8) || (BURST_LENGTH == 16))) begin\n                $error("BURST_LENGTH must be 1, 2, 4, 8, or 16");\n                $finish;\n              end\n            end\n            \n            // Module implementation...\n          endmodule\n        </div>\n        \n        <h4>Parameterized Generate Blocks</h4>\n        <p>Combining generate statements with parameters for highly configurable designs:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module configurable_crossbar #(\n            parameter NUM_PORTS = 4,\n            parameter DATA_WIDTH = 32,\n            parameter ARCHITECTURE = "FULL_CROSSBAR" // "FULL_CROSSBAR" or "SHARED_BUS"\n          ) (\n            input  wire                    clk,\n            input  wire                    rst_n,\n            input  wire [NUM_PORTS-1:0]    request,\n            input  wire [NUM_PORTS-1:0][DATA_WIDTH-1:0] data_in,\n            output wire [NUM_PORTS-1:0][DATA_WIDTH-1:0] data_out,\n            output wire [NUM_PORTS-1:0]    grant\n          );\n            // Architecture selection using generate\n            generate\n              if (ARCHITECTURE == "FULL_CROSSBAR") begin : gen_crossbar\n                // Full crossbar implementation with NUM_PORTS\xd7NUM_PORTS connections\n                for (genvar i = 0; i < NUM_PORTS; i = i + 1) begin : src_ports\n                  for (genvar j = 0; j < NUM_PORTS; j = j + 1) begin : dst_ports\n                    // Crosspoint switching logic...\n                  end\n                end\n              end else if (ARCHITECTURE == "SHARED_BUS") begin : gen_shared_bus\n                // Shared bus implementation with arbitration\n                reg [DATA_WIDTH-1:0] shared_bus;\n                reg [NUM_PORTS-1:0]  bus_owner;\n                \n                // Arbitration and bus switching logic...\n              end\n            endgenerate\n          endmodule\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Parameterization Best Practices</h4>\n          <ul>\n            <li>Use meaningful parameter names and provide documentation</li>\n            <li>Set reasonable default values that work for common cases</li>\n            <li>Use localparams for derived constants that shouldn\'t be overridden</li>\n            <li>Add parameter validation to catch invalid configurations early</li>\n            <li>Group related parameters to make instantiation more readable</li>\n            <li>Consider creating parameter packages for organization-wide standards</li>\n          </ul>\n        </div>\n      '},{id:"12.3",title:"Design Reuse and IP Creation",content:'\n        <h3>Building Reusable Intellectual Property</h3>\n        <p>Successful hardware design increasingly relies on creating and integrating reusable IP (Intellectual Property) blocks that can be leveraged across multiple projects.</p>\n        \n        <h4>IP Design Principles</h4>\n        <p>Key considerations when creating reusable IP:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Principle</th>\n              <th>Description</th>\n              <th>Implementation Approach</th>\n            </tr>\n            <tr>\n              <td><strong>Configurability</strong></td>\n              <td>Ability to adapt to different requirements</td>\n              <td>Parameterization, generate statements, conditional compilation</td>\n            </tr>\n            <tr>\n              <td><strong>Standardized Interfaces</strong></td>\n              <td>Well-defined connections to other components</td>\n              <td>Industry-standard protocols, clear handshaking rules</td>\n            </tr>\n            <tr>\n              <td><strong>Testability</strong></td>\n              <td>Ease of verification in various contexts</td>\n              <td>Built-in testability features, assertion-based interfaces</td>\n            </tr>\n            <tr>\n              <td><strong>Documentation</strong></td>\n              <td>Clear usage instructions and specifications</td>\n              <td>Header comments, interface diagrams, specification documents</td>\n            </tr>\n            <tr>\n              <td><strong>Portability</strong></td>\n              <td>Independence from specific technologies</td>\n              <td>Avoid vendor-specific features, parameterize technology-specific elements</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>IP Interface Design</h4>\n        <p>Creating clean, well-defined interfaces for IP blocks:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Well-designed IP interface example - UART controller\n          module uart_controller #(\n            parameter CLK_FREQ_HZ = 50_000_000,  // System clock frequency\n            parameter BAUD_RATE   = 115200,      // Serial baud rate\n            parameter DATA_BITS   = 8,           // 5, 6, 7, or 8\n            parameter PARITY_EN   = 1,           // 0=disabled, 1=enabled\n            parameter PARITY_TYPE = 0,           // 0=even, 1=odd\n            parameter STOP_BITS   = 1            // 1 or 2\n          ) (\n            // Clock and reset\n            input  wire                 clk,      // System clock\n            input  wire                 rst_n,    // Active-low reset\n            \n            // Serial interface\n            input  wire                 rx,       // Serial data input\n            output wire                 tx,       // Serial data output\n            \n            // Control/status interface\n            input  wire                 tx_valid, // Transmit data valid\n            output wire                 tx_ready, // Transmitter ready for data\n            input  wire [DATA_BITS-1:0] tx_data,  // Data to transmit\n            \n            output wire                 rx_valid, // Received data valid\n            input  wire                 rx_ready, // Receiver client ready\n            output wire [DATA_BITS-1:0] rx_data,  // Received data\n            \n            // Error flags\n            output wire                 parity_error, // Parity error detected\n            output wire                 frame_error   // Frame error detected\n          );\n            // Implementation...\n          endmodule\n        </div>\n        \n        <h4>IP Packaging Best Practices</h4>\n        <p>Organizing IP for maximum reusability:</p>\n        \n        <ul>\n          <li><strong>Directory Structure</strong>: Consistent organization of RTL, verification, and documentation</li>\n          <li><strong>Version Control</strong>: Clear versioning with compatibility information</li>\n          <li><strong>Testing</strong>: Self-contained testbenches that demonstrate functionality</li>\n          <li><strong>Integration Examples</strong>: Reference designs showing typical usage</li>\n          <li><strong>Documentation</strong>: Interface specifications, timing diagrams, and usage guidelines</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>IP Reuse Hierarchy</h4>\n          <p>Creating a multi-level IP strategy for maximum reusability:</p>\n          <ol>\n            <li><strong>Foundation IP</strong>: Basic building blocks (FIFOs, arbiters, decoders)</li>\n            <li><strong>Protocol IP</strong>: Standard interfaces (UART, SPI, I2C, AXI)</li>\n            <li><strong>Function IP</strong>: Specific functions (cryptography, DSP, video processing)</li>\n            <li><strong>Subsystem IP</strong>: Complete subsystems (memory controllers, CPU subsystems)</li>\n          </ol>\n          <p>Each level builds on and reuses components from lower levels.</p>\n        </div>\n      '},{id:"12.4",title:"Advanced Design Techniques and Patterns",content:"\n        <h3>Sophisticated Verilog Design Approaches</h3>\n        <p>Advanced design techniques can significantly improve code quality, maintainability, and performance in complex Verilog projects.</p>\n        \n        <h4>State Machine Techniques</h4>\n        <p>Modern approaches to FSM implementation:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;\">\n          // One-hot encoded state machine with explicit encoding<br>\n          module uart_rx #(<br>\n          &nbsp;&nbsp;parameter CLK_PER_BIT = 16  // Clock cycles per bit<br>\n          ) (<br>\n          &nbsp;&nbsp;input  wire       clk,<br>\n          &nbsp;&nbsp;input  wire       rst_n,<br>\n          &nbsp;&nbsp;input  wire       rx_in,<br>\n          &nbsp;&nbsp;output reg        rx_valid,<br>\n          &nbsp;&nbsp;output reg  [7:0] rx_data<br>\n          );<br>\n          &nbsp;&nbsp;// One-hot state encoding with explicit parameters<br>\n          &nbsp;&nbsp;localparam [3:0] IDLE      = 4'b0001;<br>\n          &nbsp;&nbsp;localparam [3:0] START_BIT = 4'b0010;<br>\n          &nbsp;&nbsp;localparam [3:0] DATA_BITS = 4'b0100;<br>\n          &nbsp;&nbsp;localparam [3:0] STOP_BIT  = 4'b1000;<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;// State register with one-hot encoding<br>\n          &nbsp;&nbsp;reg [3:0] state, next_state;<br>\n          &nbsp;&nbsp;reg [3:0] bit_counter; // Count bits and clock cycles<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;// State transition logic using one-hot encoding style<br>\n          &nbsp;&nbsp;always @(*) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;// Default assignments prevent latches<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;next_state = 4'b0;  // All zeros is an invalid state<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;case (1'b1) // Case statement that matches on '1' bit position<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state[0]: begin // IDLE state<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!rx_in)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next_state[1] = 1'b1; // to START_BIT<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next_state[0] = 1'b1; // stay in IDLE<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state[1]: begin // START_BIT state<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (bit_counter == CLK_PER_BIT/2)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next_state[2] = 1'b1; // to DATA_BITS<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next_state[1] = 1'b1; // stay in START_BIT<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state[2]: begin // DATA_BITS state<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (bit_counter == 8*CLK_PER_BIT)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next_state[3] = 1'b1; // to STOP_BIT<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next_state[2] = 1'b1; // stay in DATA_BITS<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state[3]: begin // STOP_BIT state<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (bit_counter == CLK_PER_BIT)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next_state[0] = 1'b1; // back to IDLE<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next_state[3] = 1'b1; // stay in STOP_BIT<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;default: next_state[0] = 1'b1; // Default to IDLE for recovery<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;endcase<br>\n          &nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;// State register update<br>\n          &nbsp;&nbsp;always @(posedge clk or negedge rst_n) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (!rst_n)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state <= IDLE;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;else<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state <= next_state;<br>\n          &nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;// Rest of implementation...<br>\n          endmodule\n        </div>\n        \n        <h4>Pipeline Design Patterns</h4>\n        <p>Structuring deeply pipelined designs for clarity and maintainability:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;\">\n          // Pipeline stage wrapper module pattern<br>\n          module pipeline_stage #(<br>\n          &nbsp;&nbsp;parameter WIDTH = 32,<br>\n          &nbsp;&nbsp;parameter REGISTER_OUTPUTS = 1<br>\n          ) (<br>\n          &nbsp;&nbsp;input  wire             clk,<br>\n          &nbsp;&nbsp;input  wire             rst_n,<br>\n          &nbsp;&nbsp;input  wire             valid_in,<br>\n          &nbsp;&nbsp;output wire             ready_in,<br>\n          &nbsp;&nbsp;input  wire [WIDTH-1:0] data_in,<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;output wire             valid_out,<br>\n          &nbsp;&nbsp;input  wire             ready_out,<br>\n          &nbsp;&nbsp;output wire [WIDTH-1:0] data_out<br>\n          );<br>\n          &nbsp;&nbsp;// Processing logic for this stage<br>\n          &nbsp;&nbsp;wire [WIDTH-1:0] processed_data;<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;// Instantiate the actual processing logic<br>\n          &nbsp;&nbsp;process_unit #(<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.WIDTH(WIDTH)<br>\n          &nbsp;&nbsp;) proc_unit (<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.data_in(data_in),<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;.data_out(processed_data)<br>\n          &nbsp;&nbsp;);<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;// Optional output registers<br>\n          &nbsp;&nbsp;generate<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (REGISTER_OUTPUTS) begin : gen_reg_outputs<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg             valid_out_reg;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg [WIDTH-1:0] data_out_reg;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;always @(posedge clk or negedge rst_n) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (!rst_n) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valid_out_reg <= 1'b0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_out_reg  <= {WIDTH{1'b0}};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end else if (valid_in && ready_in) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Capture new data<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valid_out_reg <= 1'b1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data_out_reg  <= processed_data;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end else if (ready_out) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Clear valid flag when data is consumed<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valid_out_reg <= 1'b0;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assign valid_out = valid_out_reg;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assign data_out  = data_out_reg;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end else begin : gen_comb_outputs<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assign valid_out = valid_in;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assign data_out  = processed_data;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;endgenerate<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;// Backpressure logic<br>\n          &nbsp;&nbsp;assign ready_in = REGISTER_OUTPUTS ? (!valid_out || ready_out) : ready_out;<br>\n          endmodule\n        </div>\n        \n        <h4>Advanced Clock Domain Crossing</h4>\n        <p>Robust patterns for handling signals crossing between clock domains:</p>\n        \n        <ul>\n          <li><strong>Multi-stage Synchronizers</strong>: Using multiple flip-flops to reduce metastability</li>\n          <li><strong>Handshaking Protocols</strong>: Request-acknowledge pairs for reliable transfers</li>\n          <li><strong>Gray-coding Counters</strong>: Ensuring only one bit changes at a time</li>\n          <li><strong>FIFO-based Approaches</strong>: Asynchronous FIFOs with separate read/write clocks</li>\n          <li><strong>Data Bus CDC</strong>: Techniques for moving multi-bit data safely across domains</li>\n        </ul>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;\">\n          // Gray-coded pointer traversing clock domains<br>\n          module async_fifo_pointers #(<br>\n          &nbsp;&nbsp;parameter ADDR_WIDTH = 4<br>\n          ) (<br>\n          &nbsp;&nbsp;// Write domain<br>\n          &nbsp;&nbsp;input  wire                  wr_clk,<br>\n          &nbsp;&nbsp;input  wire                  wr_rst_n,<br>\n          &nbsp;&nbsp;input  wire                  wr_en,<br>\n          &nbsp;&nbsp;output wire                  full,<br>\n          &nbsp;&nbsp;output wire [ADDR_WIDTH-1:0] wr_addr,<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;// Read domain<br>\n          &nbsp;&nbsp;input  wire                  rd_clk,<br>\n          &nbsp;&nbsp;input  wire                  rd_rst_n,<br>\n          &nbsp;&nbsp;input  wire                  rd_en,<br>\n          &nbsp;&nbsp;output wire                  empty,<br>\n          &nbsp;&nbsp;output wire [ADDR_WIDTH-1:0] rd_addr<br>\n          );<br>\n          &nbsp;&nbsp;// Binary pointers<br>\n          &nbsp;&nbsp;reg [ADDR_WIDTH:0] wr_ptr_bin, rd_ptr_bin;<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;// Gray-coded pointers for CDC<br>\n          &nbsp;&nbsp;reg [ADDR_WIDTH:0] wr_ptr_gray, rd_ptr_gray;<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;// Synchronized pointers<br>\n          &nbsp;&nbsp;reg [ADDR_WIDTH:0] wr_ptr_gray_sync1, wr_ptr_gray_sync2;<br>\n          &nbsp;&nbsp;reg [ADDR_WIDTH:0] rd_ptr_gray_sync1, rd_ptr_gray_sync2;<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;// Binary to Gray conversion for write pointer<br>\n          &nbsp;&nbsp;always @(posedge wr_clk or negedge wr_rst_n) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (!wr_rst_n) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr_ptr_bin  <= {(ADDR_WIDTH+1){1'b0}};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr_ptr_gray <= {(ADDR_WIDTH+1){1'b0}};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end else if (wr_en && !full) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Increment binary pointer<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr_ptr_bin  <= wr_ptr_bin + 1'b1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Convert to Gray code: G = B ^ (B >> 1)<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr_ptr_gray <= (wr_ptr_bin + 1'b1) ^ ((wr_ptr_bin + 1'b1) >> 1);<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;// Similar code for read pointer...<br>\n          <br>\n          &nbsp;&nbsp;// Two-stage synchronizers for clock domain crossing<br>\n          &nbsp;&nbsp;always @(posedge rd_clk or negedge rd_rst_n) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;if (!rd_rst_n) begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr_ptr_gray_sync1 <= {(ADDR_WIDTH+1){1'b0}};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr_ptr_gray_sync2 <= {(ADDR_WIDTH+1){1'b0}};<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end else begin<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr_ptr_gray_sync1 <= wr_ptr_gray;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wr_ptr_gray_sync2 <= wr_ptr_gray_sync1;<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;end<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;// Address outputs<br>\n          &nbsp;&nbsp;assign wr_addr = wr_ptr_bin[ADDR_WIDTH-1:0];<br>\n          &nbsp;&nbsp;assign rd_addr = rd_ptr_bin[ADDR_WIDTH-1:0];<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;// Full and empty generation<br>\n          &nbsp;&nbsp;assign full = (wr_ptr_gray[ADDR_WIDTH] != rd_ptr_gray_sync2[ADDR_WIDTH]) &&<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(wr_ptr_gray[ADDR_WIDTH-1] != rd_ptr_gray_sync2[ADDR_WIDTH-1]) &&<br>\n          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(wr_ptr_gray[ADDR_WIDTH-2:0] == rd_ptr_gray_sync2[ADDR_WIDTH-2:0]);<br>\n          &nbsp;&nbsp;<br>\n          &nbsp;&nbsp;assign empty = (rd_ptr_gray == wr_ptr_gray_sync2);<br>\n          endmodule\n        </div>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;\">\n          <h4>Code Organization for Large Designs</h4>\n          <p>Strategies for managing code in complex projects:</p>\n          <ul>\n            <li><strong>Hierarchical Organization</strong>: Clear module hierarchy with well-defined abstraction levels</li>\n            <li><strong>Consistent Naming</strong>: Standardized naming conventions across the design</li>\n            <li><strong>Interface Modules</strong>: Dedicated modules for protocol adaptation</li>\n            <li><strong>Package Use</strong>: Shared constants, types, and functions in packages</li>\n            <li><strong>File Structure</strong>: One module per file with consistent organization</li>\n            <li><strong>Include Guards</strong>: Preventing duplicate inclusion of header files</li>\n          </ul>\n        </div>\n      "},{id:"12.5",title:"Key Takeaways",content:"\n        <h3>Summary: Advanced Verilog Language Features</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>Verilog-2001/2005 enhancements significantly improve code clarity and maintainability compared to older Verilog-1995 style.</li>\n            <li>Parameterization enables the creation of highly configurable, reusable modules that adapt to different requirements.</li>\n            <li>Effective IP design requires attention to interfaces, documentation, testability, and configuration options.</li>\n            <li>Advanced design patterns and techniques help manage complex designs while maintaining clarity and performance.</li>\n            <li>Structured approaches to state machines, pipelines, and clock domain crossing lead to more robust designs.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>In the next chapter, we'll explore SystemVerilog, a major extension to Verilog that adds powerful object-oriented features, enhanced data types, and advanced verification capabilities. You'll learn how these features can further improve both design and verification processes.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>How might you refactor an existing Verilog-1995 design to take advantage of Verilog-2001 features? What benefits would this bring?</li>\n          <li>What parameterization approaches would you use to create a highly configurable memory controller that supports different interface standards and memory types?</li>\n          <li>Consider a complex pipeline design you've worked with or studied. How could the design patterns discussed in this chapter improve its implementation?</li>\n        </ol>\n      "}],quiz:{title:"Advanced Verilog Language Features Quiz",description:"Test your understanding of advanced Verilog features and design patterns",questions:[{id:"q12_1",question:"What is a key advantage of using generate statements in Verilog?",options:[{id:"a",text:"They automatically optimize the design for maximum performance"},{id:"b",text:"They allow for dynamic code modification during simulation"},{id:"c",text:"They enable parameterized creation of repetitive structures and conditional instantiation"},{id:"d",text:"They force the compiler to use parallel processing for faster simulation"}],correctAnswer:"c",explanation:"Generate statements enable parameterized creation of repetitive structures and conditional instantiation. This powerful feature allows designers to create scalable designs where the structure adapts based on parameters. For example, you can use generate to create a parameterized number of identical modules, conditionally include hardware based on parameters, or create parameterized structures like wide multiplexers."},{id:"q12_2",question:"What is a defparam statement used for in Verilog?",options:[{id:"a",text:"To define the default parameters for all modules in a design"},{id:"b",text:"To override parameter values in instantiated modules from a higher level"},{id:"c",text:"To specify default signal values in a design"},{id:"d",text:"To create define macros similar to C preprocessor directives"}],correctAnswer:"b",explanation:"The defparam statement is used to override parameter values in instantiated modules from a higher level in the hierarchy. While it provides flexibility for changing parameters without modifying the instance declaration, it's generally considered poor practice in modern Verilog code because it makes the design harder to understand and maintain. Parameter redefinition at instantiation is the preferred approach in Verilog-2001."},{id:"q12_3",question:"Which Verilog-2001 feature allows you to connect signals to module ports without repeating the signal name?",options:[{id:"a",text:"Implicit net declarations"},{id:"b",text:"ANSI-style port declarations"},{id:"c",text:"Implicit port connections"},{id:"d",text:"Generate blocks"}],correctAnswer:"c",explanation:"Implicit port connections, introduced in Verilog-2001, allow you to connect signals to module ports without repeating the signal name when the external signal name matches the port name. For example, instead of writing 'module_inst(.clk(clk), .rst(rst), .data(data));', you can write 'module_inst(.clk, .rst, .data);'. This improves code readability and reduces errors."},{id:"q12_4",question:"What is the primary purpose of using interfaces in SystemVerilog?",options:[{id:"a",text:"To reduce simulation time"},{id:"b",text:"To bundle related signals and define their behavior as a single entity"},{id:"c",text:"To implement object-oriented programming concepts"},{id:"d",text:"To enable multi-threading in simulation"}],correctAnswer:"b",explanation:"Interfaces in SystemVerilog bundle related signals together and define their behavior as a single entity. This provides a clean way to connect modules, encapsulates protocol details, simplifies port lists, and ensures consistency across the design. Interfaces also support modports to specify direction, tasks/functions to define behavior, and can be parameterized for flexibility."},{id:"q12_5",question:"What problem does the 'automatic' keyword solve in Verilog functions and tasks?",options:[{id:"a",text:"It makes functions execute faster by using hardware acceleration"},{id:"b",text:"It creates a new variable instance for each call, enabling recursion and parallel calls"},{id:"c",text:"It automatically infers the return type of functions"},{id:"d",text:"It forces the synthesizer to implement the function in dedicated hardware"}],correctAnswer:"b",explanation:"The 'automatic' keyword creates a new variable instance for each invocation of a function or task. By default, Verilog functions and tasks are 'static', meaning they share a single instance of each variable, which causes problems with recursion or parallel calls. Automatic functions/tasks create fresh copies of variables with each call, enabling recursive algorithms and parallel execution in simulation."},{id:"q12_6",question:"Which advanced Verilog coding technique involves a single process that handles both combinational and sequential logic?",options:[{id:"a",text:"Two-always block methodology"},{id:"b",text:"Single-always block methodology"},{id:"c",text:"Synchronous design pattern"},{id:"d",text:"Asynchronous design pattern"}],correctAnswer:"b",explanation:"The single-always block methodology involves using a single always block that handles both combinational and sequential logic. While traditional RTL design often separates these into distinct always blocks, the single-always approach can lead to more concise and less error-prone code for simple state machines. It ensures that combinational outputs are updated whenever state changes, preventing potential issues with sensitivity lists."},{id:"q12_7",question:"What is a common approach to creating a parameterized memory in Verilog?",options:[{id:"a",text:"Using a single large array with hardcoded dimensions"},{id:"b",text:"Using generate loops to create the exact memory structure needed"},{id:"c",text:"Using parameters to define width and depth, with a generic memory array declaration"},{id:"d",text:"Memory cannot be parameterized in Verilog"}],correctAnswer:"c",explanation:"A common approach to creating parameterized memory in Verilog is using parameters to define the width and depth, with a generic memory array declaration. For example: parameter WIDTH=8, DEPTH=1024; reg [WIDTH-1:0] memory [0:DEPTH-1]; This allows the memory to be easily reconfigured for different applications by changing the parameters, without modifying the core functionality."},{id:"q12_8",question:"What is the purpose of cross-module references in Verilog (using hierarchical names like top.sub.signal)?",options:[{id:"a",text:"They should be used frequently to simplify module port lists"},{id:"b",text:"They are primarily used for debugging and in testbenches, but should be avoided in synthesizable design code"},{id:"c",text:"They are required for all signal connections between modules"},{id:"d",text:"They provide better performance than port connections"}],correctAnswer:"b",explanation:"Cross-module references using hierarchical names are primarily useful for debugging and in testbenches, but should be avoided in synthesizable design code. While they can provide convenient access to internal signals for monitoring, using them for actual design connectivity breaks modularity and encapsulation, making the design harder to maintain, reuse, and understand. Proper port connections are the recommended approach for module connectivity."}]}},completed:!1},{...{id:13,title:"SystemVerilog: Language Extensions and Features",description:"Explore SystemVerilog's powerful language extensions that enhance both design and verification capabilities",estimatedTime:"3 hours",completed:!1,sections:[{id:"13.1",title:"Introduction to SystemVerilog",content:'\n        <h3>Evolution from Verilog to SystemVerilog</h3>\n        <p>SystemVerilog represents a significant advancement in hardware description and verification languages, extending Verilog with powerful new features for both design and verification.</p>\n        \n        <h4>SystemVerilog Background</h4>\n        <p>SystemVerilog began as an extension of Verilog and evolved into IEEE standard 1800. It incorporates features from multiple languages:</p>\n        \n        <ul>\n          <li><strong>Verilog HDL</strong>: Base hardware description capabilities</li>\n          <li><strong>C/C++</strong>: Programming constructs and object-oriented concepts</li>\n          <li><strong>SUPERLOG</strong>: Hardware verification language concepts</li>\n          <li><strong>OpenVera</strong>: Constrained random stimulus generation and functional coverage</li>\n        </ul>\n        \n        <h4>Key Goals of SystemVerilog</h4>\n        <p>SystemVerilog was developed to address several limitations in traditional Verilog:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Goal</th>\n              <th>Description</th>\n              <th>Benefits</th>\n            </tr>\n            <tr>\n              <td><strong>Enhanced Design Capabilities</strong></td>\n              <td>More powerful data types, interfaces, and design constructs</td>\n              <td>More compact and expressive RTL code</td>\n            </tr>\n            <tr>\n              <td><strong>Unified Language</strong></td>\n              <td>Single language for both design and verification</td>\n              <td>Simplified tool flows and learning curve</td>\n            </tr>\n            <tr>\n              <td><strong>Advanced Verification</strong></td>\n              <td>Built-in constructs for modern verification methodologies</td>\n              <td>More efficient and comprehensive testing</td>\n            </tr>\n            <tr>\n              <td><strong>Object-Oriented Approach</strong></td>\n              <td>Classes, inheritance, and polymorphism</td>\n              <td>Better code organization and reuse</td>\n            </tr>\n            <tr>\n              <td><strong>Assertions</strong></td>\n              <td>Formal specification of design properties</td>\n              <td>Automated checking of design intent</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>SystemVerilog Use Models</h4>\n        <p>SystemVerilog can be used in three primary ways:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ol>\n            <li>\n              <strong>SystemVerilog for RTL Design</strong>\n              <ul>\n                <li>Enhanced data types (logic, enum, struct, union)</li>\n                <li>Improved procedural blocks (always_comb, always_ff, always_latch)</li>\n                <li>Interfaces and modports for better connectivity modeling</li>\n                <li>Enhanced parameterization and generate constructs</li>\n              </ul>\n            </li>\n            <li>\n              <strong>SystemVerilog for Assertions</strong>\n              <ul>\n                <li>Immediate assertions for basic checking</li>\n                <li>Concurrent assertions for temporal properties</li>\n                <li>Formal verification support</li>\n                <li>Assumptions, restrictions, and coverage specification</li>\n              </ul>\n            </li>\n            <li>\n              <strong>SystemVerilog for Verification</strong>\n              <ul>\n                <li>Object-oriented programming features</li>\n                <li>Constrained random stimulus generation</li>\n                <li>Functional coverage collection</li>\n                <li>Testbench automation constructs (mailboxes, semaphores, etc.)</li>\n                <li>Direct Programming Interface (DPI) for C/C++ integration</li>\n              </ul>\n            </li>\n          </ol>\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Note on Tool Support</h4>\n          <p>While SystemVerilog is an industry standard, tool support varies across vendors. When writing SystemVerilog code, be aware of which features are supported by your specific synthesis and simulation tools. The verification features of SystemVerilog are generally supported in simulation only and not intended for synthesis.</p>\n        </div>\n      '},{id:"13.2",title:"Enhanced Data Types and Operators",content:'\n        <h3>Improved Type System</h3>\n        <p>SystemVerilog introduces a more robust type system that addresses many limitations in traditional Verilog data types.</p>\n        \n        <h4>Two-State vs. Four-State Data Types</h4>\n        <p>SystemVerilog provides both traditional four-state types and more efficient two-state types:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Category</th>\n              <th>Data Types</th>\n              <th>Value States</th>\n              <th>Typical Usage</th>\n            </tr>\n            <tr>\n              <td><strong>Four-State</strong></td>\n              <td>logic, reg, wire, integer, time</td>\n              <td>0, 1, X (unknown), Z (high-impedance)</td>\n              <td>Hardware modeling with unknown states</td>\n            </tr>\n            <tr>\n              <td><strong>Two-State</strong></td>\n              <td>bit, byte, shortint, int, longint</td>\n              <td>0, 1 only</td>\n              <td>Testbench code, faster simulation</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>The \'logic\' Type</h4>\n        <p>The \'logic\' type is a versatile four-state data type that replaces \'reg\' and \'wire\' in many contexts:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module counter (\n            input  logic        clk,\n            input  logic        rst_n,\n            input  logic        enable,\n            output logic [7:0]  count\n          );\n            // logic can be used on left side of procedural assignment\n            // and can also be driven by continuous assignment\n            always_ff @(posedge clk or negedge rst_n) begin\n              if (!rst_n)\n                count <= 8\'h00;\n              else if (enable)\n                count <= count + 1;\n            end\n          endmodule\n        </div>\n        \n        <h4>User-Defined Types</h4>\n        <p>SystemVerilog enables custom data type definitions:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Enumerated types\n          typedef enum logic [1:0] {IDLE=2\'b00, BUSY=2\'b01, DONE=2\'b10, ERROR=2\'b11} state_t;\n          state_t current_state, next_state;\n          \n          // Structures for grouping related data\n          typedef struct packed {\n            logic [31:0] address;\n            logic [31:0] data;\n            logic [3:0]  byte_enable;\n            logic        read_write_n;  // 1=read, 0=write\n          } bus_transaction_t;\n          \n          bus_transaction_t transaction;\n          \n          // Packed arrays\n          logic [7:0][3:0] packed_array;  // 8 elements, each 4 bits\n          // Access: packed_array[2] = 4\'hF;\n          \n          // Unpacked arrays\n          int unpacked_array[10];         // 10 elements of type int\n          // Access: unpacked_array[5] = 42;\n          \n          // Associative arrays\n          int memory_model[string];       // Key is string, value is int\n          // Usage: memory_model["address1"] = 100;\n          \n          // Queues - dynamic arrays\n          int data_queue[$];             // Unbounded queue of integers\n          // Operations: data_queue.push_back(50); item = data_queue.pop_front();\n        </div>\n        \n        <h4>Enhanced Operators</h4>\n        <p>SystemVerilog adds powerful operators for common operations:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Operator</th>\n              <th>Description</th>\n              <th>Example</th>\n            </tr>\n            <tr>\n              <td><strong>===/!==</strong></td>\n              <td>Four-state equality (includes X, Z)</td>\n              <td>if (signal === \'x) // true only if signal is exactly \'x</td>\n            </tr>\n            <tr>\n              <td><strong>inside</strong></td>\n              <td>Set membership test</td>\n              <td>if (value inside {2, 4, 6, 8}) // true if value is even from 2-8</td>\n            </tr>\n            <tr>\n              <td><strong>++/--</strong></td>\n              <td>Increment/decrement</td>\n              <td>count++; --index;</td>\n            </tr>\n            <tr>\n              <td><strong>+=, -=, *=, etc.</strong></td>\n              <td>Assignment operators</td>\n              <td>sum += value; // same as: sum = sum + value</td>\n            </tr>\n            <tr>\n              <td><strong><<< / >>></strong></td>\n              <td>Arithmetic shifts</td>\n              <td>signed_value = signed_value >>> 2; // arithmetic right shift</td>\n            </tr>\n          </table>\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>SystemVerilog Type Casting</h4>\n          <p>SystemVerilog provides explicit type casting methods:</p>\n          <ul>\n            <li><strong>\'()</strong>: Explicit type casting operator\n              <div style="font-family: monospace; margin-top: 5px;">\n                int a = 32\'hABCD1234;<br>\n                byte b = byte\'(a); // b contains the 8 LSBs: 0x34\n              </div>\n            </li>\n            <li><strong>static casting</strong>: Fixed compile-time casting for compatible classes</li>\n            <li><strong>dynamic casting</strong>: Runtime checked casting with classes (similar to C++)</li>\n          </ul>\n        </div>\n      '},{id:"13.3",title:"Procedural Blocks and Interfaces",content:'\n        <h3>Improved Procedural Blocks</h3>\n        <p>SystemVerilog introduces specialized always blocks that communicate design intent and help prevent common coding errors.</p>\n        \n        <h4>Specialized Always Blocks</h4>\n        <p>Instead of the generic \'always\' block, SystemVerilog offers purpose-specific variants:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Combinational logic - automatically sensitive to all signals read inside\n          always_comb begin\n            sum = a + b;  // Tool will check that this is truly combinational\n          end\n          \n          // Sequential logic - for flip-flop modeling\n          always_ff @(posedge clk or negedge rst_n) begin\n            if (!rst_n)\n              q <= 1\'b0;\n            else\n              q <= d;  // Tool will check that this is truly sequential\n          end\n          \n          // Latches - explicitly indicate latch inference\n          always_latch begin\n            if (enable)\n              latch_out <= data_in;  // Transparent when enable=1\n          end\n        </div>\n        \n        <h4>Interfaces: Modular Port Connections</h4>\n        <p>Interfaces bundle related signals and provide a structured approach to connecting modules:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Define a memory interface\n          interface memory_if #(\n            parameter ADDR_WIDTH = 32,\n            parameter DATA_WIDTH = 32\n          );\n            logic                    clk;\n            logic                    reset_n;\n            logic [ADDR_WIDTH-1:0]   address;\n            logic [DATA_WIDTH-1:0]   write_data;\n            logic [DATA_WIDTH-1:0]   read_data;\n            logic                    write_enable;\n            logic                    read_enable;\n            logic                    ready;\n            \n            // Modport for the master perspective\n            modport master (\n              output address, write_data, write_enable, read_enable,\n              input  read_data, ready,\n              input  clk, reset_n\n            );\n            \n            // Modport for the slave perspective\n            modport slave (\n              input  address, write_data, write_enable, read_enable,\n              output read_data, ready,\n              input  clk, reset_n\n            );\n            \n            // Tasks and functions can be defined inside interfaces\n            task automatic wait_for_ready();\n              while (!ready) @(posedge clk);\n            endtask\n          endinterface\n          \n          // Using the interface in a module\n          module memory_controller (\n            memory_if.master mem  // Interface instance with modport\n          );\n            // Access interface signals directly\n            always_ff @(posedge mem.clk or negedge mem.reset_n) begin\n              if (!mem.reset_n) begin\n                // Reset logic\n              end else if (mem.write_enable) begin\n                // Write operation\n              end\n            end\n          endmodule\n          \n          // Memory model using the slave modport\n          module memory_model (\n            memory_if.slave mem\n          );\n            // Memory implementation\n            logic [mem.DATA_WIDTH-1:0] storage [2**mem.ADDR_WIDTH-1:0];\n            \n            always_ff @(posedge mem.clk) begin\n              if (mem.write_enable)\n                storage[mem.address] <= mem.write_data;\n              if (mem.read_enable)\n                mem.read_data <= storage[mem.address];\n            end\n          endmodule\n          \n          // Top-level instantiation\n          module system_top;\n            // Create interface instance\n            memory_if #(\n              .ADDR_WIDTH(16),\n              .DATA_WIDTH(32)\n            ) mem_bus();\n            \n            // Connect clock and reset\n            always #5 mem_bus.clk = ~mem_bus.clk;\n            initial begin\n              mem_bus.clk = 0;\n              mem_bus.reset_n = 0;\n              #20 mem_bus.reset_n = 1;\n            end\n            \n            // Instantiate modules with interface connections\n            memory_controller u_ctrl (\n              .mem(mem_bus)  // Connect interface\n            );\n            \n            memory_model u_mem (\n              .mem(mem_bus)  // Same interface, different modport\n            );\n          endmodule\n        </div>\n        \n        <h4>Interface Benefits</h4>\n        <p>Interfaces provide significant advantages over traditional port connections:</p>\n        \n        <ul>\n          <li><strong>Simplified Module Connections</strong>: Single port replaces multiple signals</li>\n          <li><strong>Automatic Updates</strong>: Adding signals to an interface automatically updates all connected modules</li>\n          <li><strong>Direction Checking</strong>: Modports enforce signal direction at module boundaries</li>\n          <li><strong>Encapsulation</strong>: Tasks and functions can be included with the interface</li>\n          <li><strong>Protocol Abstraction</strong>: Interface can encapsulate protocol details</li>\n          <li><strong>Verification Support</strong>: Interfaces can include assertions and coverage</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Virtual Interfaces</h4>\n          <p>SystemVerilog also supports virtual interfaces, which allow interfaces to be passed to classes in a testbench environment. This creates a bridge between the static, module-based design world and the dynamic, object-oriented verification world.</p>\n          <pre style="font-family: monospace; margin-top: 10px;">\nclass driver;\n  virtual memory_if.master vif;  // Virtual interface handle\n  \n  function new(virtual memory_if.master _vif);\n    vif = _vif;  // Store the interface\n  endfunction\n  \n  task run();\n    // Access DUT through the virtual interface\n    vif.write_enable = 1\'b1;\n    vif.address = 32\'h1000;\n    vif.write_data = 32\'hABCD;\n    @(posedge vif.clk);\n  endtask\nendclass</pre>\n        </div>\n      '},{id:"13.4",title:"Classes and Object-Oriented Programming",content:'\n        <h3>Object-Oriented Programming in SystemVerilog</h3>\n        <p>SystemVerilog introduces full object-oriented programming capabilities, primarily used in verification environments.</p>\n        \n        <h4>Classes and Objects</h4>\n        <p>SystemVerilog classes provide data encapsulation and modular code organization:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Basic class definition\n          class Transaction;\n            // Properties (data members)\n            bit [31:0]  address;\n            bit [31:0]  data;\n            bit         read_write;  // 0=write, 1=read\n            int         delay;\n            string      name;\n            \n            // Constructor method\n            function new(string name = "unnamed_trans");\n              this.name = name;\n              this.address = 0;\n              this.data = 0;\n              this.read_write = 0;\n              this.delay = 1;\n            endfunction\n            \n            // Methods\n            function void display();\n              $display("Transaction %s: %s at addr=%h, data=%h, delay=%0d",\n                      name, read_write ? "READ" : "WRITE", address, data, delay);\n            endfunction\n            \n            function Transaction copy();\n              Transaction t = new();\n              t.address = this.address;\n              t.data = this.data;\n              t.read_write = this.read_write;\n              t.delay = this.delay;\n              t.name = {this.name, "_copy"};\n              return t;\n            endfunction\n          endclass\n          \n          // Class usage\n          module tb_top;\n            initial begin\n              // Create object\n              Transaction tr = new("tr1");\n              \n              // Set properties\n              tr.address = 32\'h1000_0000;\n              tr.data = 32\'hDEAD_BEEF;\n              tr.read_write = 1;  // Read\n              \n              // Call methods\n              tr.display();\n              \n              // Create a copy\n              Transaction tr_copy = tr.copy();\n              tr_copy.display();\n              \n              // Dynamic allocation\n              Transaction tr_array[];  // Dynamic array of Transaction objects\n              tr_array = new[5];      // Allocate array\n              \n              for (int i=0; i<5; i++) begin\n                tr_array[i] = new($sformatf("tr_%0d", i));\n                tr_array[i].address = \'h1000 + i*4;\n              end\n            end\n          endmodule\n        </div>\n        \n        <h4>Inheritance and Polymorphism</h4>\n        <p>SystemVerilog supports class hierarchies with inheritance and polymorphism:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Base class\n          class BaseTransaction;\n            bit [31:0] address;\n            bit [31:0] data;\n            \n            function new();\n              address = 0;\n              data = 0;\n            endfunction\n            \n            // Virtual method\n            virtual function void display();\n              $display("Base Transaction: addr=%h, data=%h", address, data);\n            endfunction\n          endclass\n          \n          // Derived class with inheritance\n          class BurstTransaction extends BaseTransaction;\n            int burst_length;\n            bit [31:0] burst_data[];\n            \n            function new();\n              super.new();  // Call parent constructor\n              burst_length = 1;\n              burst_data = new[1];\n              burst_data[0] = 0;\n            endfunction\n            \n            // Method override\n            virtual function void display();\n              $display("Burst Transaction: addr=%h, first_data=%h, length=%0d",\n                      address, data, burst_length);\n              for (int i=0; i<burst_length; i++)\n                $display("  burst_data[%0d] = %h", i, burst_data[i]);\n            endfunction\n            \n            // Extended functionality\n            function void set_burst(int length);\n              burst_length = length;\n              burst_data = new[length];\n              for (int i=0; i<length; i++)\n                burst_data[i] = $random;\n            endfunction\n          endclass\n          \n          // Polymorphism example\n          module tb_poly;\n            initial begin\n              // Polymorphic array\n              BaseTransaction trans_list[2];\n              \n              // Assign different object types\n              trans_list[0] = new();  // Base type\n              trans_list[1] = new BurstTransaction();  // Derived type\n              \n              // Configure objects\n              trans_list[0].address = 32\'h1000;\n              trans_list[0].data = 32\'hAAAA;\n              \n              trans_list[1].address = 32\'h2000;\n              trans_list[1].data = 32\'hBBBB;\n              \n              // Cast to access derived class methods\n              BurstTransaction burst;\n              $cast(burst, trans_list[1]);  // Runtime type check\n              burst.set_burst(4);\n              \n              // Polymorphic method calls\n              for (int i=0; i<2; i++)\n                trans_list[i].display();  // Calls appropriate override\n            end\n          endmodule\n        </div>\n        \n        <h4>Static Class Members</h4>\n        <p>Static members are shared across all objects of a class:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          class TransactionManager;\n            static int transaction_count = 0;\n            int id;\n            \n            function new();\n              transaction_count++;\n              id = transaction_count;\n            endfunction\n            \n            function void display();\n              $display("Transaction ID: %0d (total: %0d)", id, transaction_count);\n            endfunction\n            \n            // Static method\n            static function void report_count();\n              $display("Total transactions created: %0d", transaction_count);\n            endfunction\n          endclass\n          \n          // Usage\n          module tb_static;\n            initial begin\n              TransactionManager tm1 = new();\n              TransactionManager tm2 = new();\n              TransactionManager tm3 = new();\n              \n              tm1.display();  // ID: 1 (total: 3)\n              tm2.display();  // ID: 2 (total: 3)\n              tm3.display();  // ID: 3 (total: 3)\n              \n              // Call static method directly on the class\n              TransactionManager::report_count();  // Total: 3\n            end\n          endmodule\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Design vs. Verification Focus</h4>\n          <p>It\'s important to note that while SystemVerilog classes are powerful, they are primarily intended for verification environments rather than synthesizable design code. Classes and object-oriented programming features are generally not synthesizable and should be used in testbenches, verification components, and simulation models.</p>\n        </div>\n      '},{id:"13.5",title:"Assertions and Functional Coverage",content:'\n        <h3>Design Verification with SystemVerilog</h3>\n        <p>SystemVerilog provides powerful verification capabilities through assertions and functional coverage.</p>\n        \n        <h4>Assertion-Based Verification</h4>\n        <p>Assertions specify expected behavior and automatically check for violations:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Assertion Type</th>\n              <th>Description</th>\n              <th>Usage</th>\n            </tr>\n            <tr>\n              <td><strong>Immediate Assertions</strong></td>\n              <td>Procedural statements that check conditions at a specific moment</td>\n              <td>Testbench data checking, validating assumptions</td>\n            </tr>\n            <tr>\n              <td><strong>Concurrent Assertions</strong></td>\n              <td>Temporal assertions that check behavior across time</td>\n              <td>Protocol checking, sequence verification</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>Immediate Assertions</h4>\n        <p>Immediate assertions are procedural statements executed like other simulation statements:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Basic immediate assertion\n          always @(posedge clk) begin\n            // Check that reset is active for at least 3 cycles\n            if (reset_count == 1) begin\n              assert (reset == 1) else\n                $error("Reset must be active at the start of reset sequence");\n            end\n            \n            // Different assertion actions\n            assert (ready !== 1\'bx)\n              else $warning("Ready signal is unknown");\n              \n            // Assert with pass statement\n            assert (addr < 1024)\n              else $error("Address out of range")\n              $info("Address within range: %h", addr);\n          end\n        </div>\n        \n        <h4>Concurrent Assertions</h4>\n        <p>Concurrent assertions check behavior across multiple clock cycles:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Basic syntax for concurrent assertions\n          module assertion_examples (\n            input logic clk, reset_n,\n            input logic req, gnt, abort, ready\n          );\n          \n            // Simple property: request must be followed by grant\n            property req_gnt;\n              @(posedge clk) req |-> ##[1:5] gnt;\n            endproperty\n            \n            // Assert the property\n            assert property (req_gnt)\n              else $error("Grant not received within 5 cycles after request");\n            \n            // More complex property with disable condition\n            property req_gnt_unless_abort;\n              @(posedge clk) disable iff (!reset_n)\n              req |-> (!abort throughout ##[1:5] gnt);\n            endproperty\n            \n            assert property (req_gnt_unless_abort);\n            \n            // Sequence definitions can be reused\n            sequence req_to_ready;\n              req ##[1:5] gnt ##1 ready;\n            endsequence\n            \n            // Using sequence in a property\n            property transaction_completes;\n              @(posedge clk) disable iff (!reset_n)\n              req |-> req_to_ready;\n            endproperty\n            \n            // Named assertion\n            REQ_READY_A: assert property (transaction_completes);\n            \n            // Cover property - track when a sequence occurs\n            cover property (transaction_completes);\n          endmodule\n        </div>\n        \n        <h4>Functional Coverage</h4>\n        <p>Functional coverage measures how thoroughly a design has been verified:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module coverage_example;\n            // Design signals\n            logic [1:0] mode;\n            logic [7:0] addr;\n            logic       read_write;\n            logic       valid;\n            logic [1:0] burst_type;\n            logic [2:0] burst_len;\n            \n            // Covergroup definition\n            covergroup bus_coverage @(posedge clk);\n              // Cover different mode values\n              MODE: coverpoint mode {\n                bins mode_0 = {0};\n                bins mode_1 = {1};\n                bins mode_2 = {2};\n                bins mode_3 = {3};\n              }\n              \n              // Address ranges\n              ADDR: coverpoint addr {\n                bins low    = {[0:63]};\n                bins mid    = {[64:191]};\n                bins high   = {[192:255]};\n              }\n              \n              // Transaction type\n              TYPE: coverpoint read_write {\n                bins read  = {1};\n                bins write = {0};\n              }\n              \n              // Cross coverage - combinations of variables\n              MODE_X_TYPE: cross MODE, TYPE;\n              \n              // Burst properties\n              BURST: coverpoint {valid, burst_type, burst_len} {\n                // Wildcard matching for specific combinations\n                bins single = {3\'b1_00_0};  // Single transfer\n                bins incr4  = {3\'b1_01_3};  // Incrementing burst length 4\n                bins incr8  = {3\'b1_01_7};  // Incrementing burst length 8\n                bins wrap4  = {3\'b1_10_3};  // Wrapping burst length 4\n                // Use wildcard for other combinations\n                bins others = default;\n              }\n            endgroup\n            \n            // Instantiate the covergroup\n            bus_coverage cg = new();\n            \n            // Stimulate the design\n            initial begin\n              // Various test scenarios to achieve coverage...\n              \n              // Print coverage at the end\n              $display("Coverage = %0.2f%%", cg.get_coverage());\n            end\n          endmodule\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Verification Methodology Integration</h4>\n          <p>SystemVerilog assertions and coverage are typically used within standard verification methodologies like UVM (Universal Verification Methodology). These methodologies provide frameworks for building scalable, reusable verification environments.</p>\n          <p>Key verification methodology components include:</p>\n          <ul>\n            <li>Constrained random stimulus generation</li>\n            <li>Self-checking testbenches</li>\n            <li>Coverage-driven verification</li>\n            <li>Layered verification architecture</li>\n            <li>Reusable verification components</li>\n          </ul>\n        </div>\n      '},{id:"13.6",title:"Key Takeaways",content:"\n        <h3>Summary: SystemVerilog Extensions and Features</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>SystemVerilog extends Verilog with powerful features for both design and verification.</li>\n            <li>Enhanced data types and operators improve code clarity and reduce common errors.</li>\n            <li>Specialized procedural blocks and interfaces create more robust, maintainable RTL code.</li>\n            <li>Object-oriented programming capabilities support sophisticated testbench development.</li>\n            <li>Assertions and functional coverage enable automated verification of design correctness.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>In the next chapter, we'll explore advanced verification techniques using SystemVerilog, with a focus on building complete verification environments. You'll learn about testbench architecture, stimulus generation, transaction-level modeling, and verification methodology fundamentals.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>How might you refactor a traditional Verilog design to take advantage of SystemVerilog's enhanced RTL features?</li>\n          <li>In what ways do SystemVerilog interfaces improve design modularity and verification compared to traditional port connections?</li>\n          <li>Consider a protocol like SPI or I2C. How would you use assertions to verify the correct behavior of an implementation?</li>\n        </ol>\n      "}],quiz:{title:"SystemVerilog Features Quiz",description:"Test your understanding of SystemVerilog's enhanced features and capabilities",questions:[{id:"q13_1",question:"What is the main advantage of SystemVerilog's 'logic' data type over Verilog's 'reg'?",options:[{id:"a",text:"It automatically initializes to zero"},{id:"b",text:"It can be driven by multiple sources"},{id:"c",text:"It can represent all four logic states (0, 1, X, Z) and can be used for both variables and nets"},{id:"d",text:"It uses less memory in simulation"}],correctAnswer:"c",explanation:"The 'logic' data type in SystemVerilog can represent all four logic states (0, 1, X, Z) and can be used for both variables and nets. This reduces confusion by eliminating the semantic difference between 'reg' (which doesn't necessarily represent a register) and 'wire', making code clearer and reducing errors related to inappropriate data type usage."},{id:"q13_2",question:"Which SystemVerilog feature allows you to group related signals and define their behavior as a unit?",options:[{id:"a",text:"Packages"},{id:"b",text:"Interfaces"},{id:"c",text:"Structs"},{id:"d",text:"Classes"}],correctAnswer:"b",explanation:"SystemVerilog interfaces allow you to group related signals together and define their behavior as a unit. They provide a clean way to connect modules, encapsulate protocol details, and ensure consistency. Interfaces can include modports to specify signal directions, tasks and functions to define behavior, and can be parameterized for flexibility."},{id:"q13_3",question:"What is the purpose of a SystemVerilog 'package'?",options:[{id:"a",text:"To create complex data structures like arrays and queues"},{id:"b",text:"To define communication interfaces between modules"},{id:"c",text:"To group related definitions (types, parameters, functions) for reuse across multiple files"},{id:"d",text:"To implement object-oriented programming concepts"}],correctAnswer:"c",explanation:"SystemVerilog packages group related definitions (types, parameters, functions, etc.) for reuse across multiple files. They provide namespacing to avoid naming conflicts and support for modular code organization. Packages are imported where needed using 'import' statements, making shared definitions easily accessible throughout a design or verification environment."},{id:"q13_4",question:"Which of the following is NOT a valid data type in SystemVerilog?",options:[{id:"a",text:"enum"},{id:"b",text:"struct"},{id:"c",text:"map"},{id:"d",text:"union"}],correctAnswer:"c",explanation:"SystemVerilog does not have a built-in 'map' data type like some other programming languages. It does support 'enum' for enumerated types, 'struct' for grouping related variables, and 'union' for sharing memory between different variable types. For associative collections, SystemVerilog provides associative arrays (e.g., int my_array[string]) instead of a map type."},{id:"q13_5",question:"What is the difference between a concurrent assertion and an immediate assertion in SystemVerilog?",options:[{id:"a",text:"Concurrent assertions are synthesizable; immediate assertions are not"},{id:"b",text:"Concurrent assertions evaluate continuously in a separate thread; immediate assertions execute like procedural statements"},{id:"c",text:"Concurrent assertions can only be used in testbenches; immediate assertions can be used anywhere"},{id:"d",text:"Concurrent assertions are a SystemVerilog feature; immediate assertions exist in Verilog"}],correctAnswer:"b",explanation:"Concurrent assertions evaluate continuously in a separate thread, monitoring behavior across time based on a clock, while immediate assertions execute like procedural statements at a specific point in simulation time. Concurrent assertions use temporal properties to verify behavior across multiple clock cycles and are ideal for protocol checking, while immediate assertions check conditions at specific moments."},{id:"q13_6",question:"What SystemVerilog feature would you use to measure whether specific scenarios or conditions have been encountered during simulation?",options:[{id:"a",text:"Assertions"},{id:"b",text:"Functional coverage"},{id:"c",text:"Classes"},{id:"d",text:"Task automation"}],correctAnswer:"b",explanation:"Functional coverage is used to measure whether specific scenarios or conditions have been encountered during simulation. It tracks design and test scenario coverage metrics defined by the user through covergroups and coverpoints. Unlike code coverage (which measures which lines/branches of code have executed), functional coverage focuses on design features and behaviors that are important to verify."},{id:"q13_7",question:"Which SystemVerilog feature would you use to create a reusable verification component that can generate random stimuli within constraints?",options:[{id:"a",text:"Packages"},{id:"b",text:"Interfaces"},{id:"c",text:"Classes with constrained randomization"},{id:"d",text:"Virtual interfaces"}],correctAnswer:"c",explanation:"Classes with constrained randomization are used to create reusable verification components that can generate random stimuli within specified constraints. SystemVerilog classes support object-oriented programming concepts and can include random variables with constraints that define legal values or relationships. This enables sophisticated test generation where randomization explores the test space while adhering to protocol rules and design requirements."},{id:"q13_8",question:"What does the 'foreach' statement do in SystemVerilog?",options:[{id:"a",text:"It creates multiple instances of modules in parallel"},{id:"b",text:"It iterates through all elements of an array or structure"},{id:"c",text:"It executes tasks in parallel"},{id:"d",text:"It checks assertions for each signal in an interface"}],correctAnswer:"b",explanation:"The 'foreach' statement in SystemVerilog iterates through all elements of an array or structure. It provides a convenient way to process all elements without explicitly managing indices or boundaries. For example: 'foreach(array[i]) sum += array[i];' or 'foreach(array[i, j]) array[i][j] = 0;' for multidimensional arrays. This makes code more readable and less error-prone compared to traditional for loops with explicit indexing."}]}},completed:!1},{...{id:14,title:"Advanced Verification Techniques with SystemVerilog",description:"Learn to build sophisticated verification environments using SystemVerilog's advanced features",estimatedTime:"4 hours",completed:!1,sections:[{id:"14.1",title:"Modern Verification Methodologies",content:'\n        <h3>Evolving Approaches to Hardware Verification</h3>\n        <p>As digital designs grow in complexity, verification methodologies have evolved to meet increasing challenges.</p>\n        \n        <h4>Verification Landscape</h4>\n        <p>Hardware verification has progressed through several methodologies:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Methodology</th>\n              <th>Key Characteristics</th>\n              <th>Limitations</th>\n            </tr>\n            <tr>\n              <td><strong>Directed Testing</strong></td>\n              <td>Hand-written tests targeting specific functionality</td>\n              <td>Labor intensive, difficult to achieve high coverage</td>\n            </tr>\n            <tr>\n              <td><strong>Constrained Random Verification</strong></td>\n              <td>Automated generation of random but legal stimulus</td>\n              <td>Requires significant infrastructure</td>\n            </tr>\n            <tr>\n              <td><strong>Coverage-Driven Verification</strong></td>\n              <td>Uses coverage metrics to guide test generation</td>\n              <td>Difficult to define comprehensive coverage models</td>\n            </tr>\n            <tr>\n              <td><strong>Assertion-Based Verification</strong></td>\n              <td>Formal specification of design properties</td>\n              <td>Complex temporal properties can be difficult to express</td>\n            </tr>\n            <tr>\n              <td><strong>Formal Verification</strong></td>\n              <td>Mathematical proof of design correctness</td>\n              <td>Limited by state space explosion for large designs</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>Universal Verification Methodology (UVM)</h4>\n        <p>UVM has emerged as an industry standard for SystemVerilog-based verification:</p>\n        \n        <ul>\n          <li><strong>Standardization</strong>: IEEE 1800.2 standard with industry-wide adoption</li>\n          <li><strong>Reusability</strong>: Framework for creating portable verification components</li>\n          <li><strong>Scalability</strong>: Supports verification from block to system level</li>\n          <li><strong>Automation</strong>: Built-in mechanisms for test generation and management</li>\n          <li><strong>Integration</strong>: Compatible with other verification approaches</li>\n        </ul>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <img src="https://verificationacademy.com/sites/default/files/uvm-simple-test-bench.jpg" alt="UVM Architecture Diagram" style="width:100%; max-width:600px; display:block; margin:0 auto;">\n          <p style="text-align:center; font-style:italic; margin-top:10px;">UVM Architecture Overview</p>\n        </div>\n        \n        <h4>Key Verification Concepts</h4>\n        <p>Modern verification relies on several fundamental concepts:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ol>\n            <li>\n              <strong>Transaction-Level Modeling (TLM)</strong>\n              <p>Abstract communication between components using high-level transactions rather than signal-level details.</p>\n            </li>\n            <li>\n              <strong>Separation of Concerns</strong>\n              <p>Divide verification tasks into specialized components (stimulus generation, checking, coverage collection).</p>\n            </li>\n            <li>\n              <strong>Constrained Random Stimulus</strong>\n              <p>Generate random but valid test scenarios guided by constraints that enforce legal behavior.</p>\n            </li>\n            <li>\n              <strong>Functional Coverage</strong>\n              <p>Measure verification progress against pre-defined coverage goals that represent design features.</p>\n            </li>\n            <li>\n              <strong>Self-Checking Testbenches</strong>\n              <p>Automate result checking rather than relying on manual inspection of waveforms or logs.</p>\n            </li>\n          </ol>\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Industry Perspective</h4>\n          <p>According to industry surveys, verification consumes 60-80% of digital design effort. Despite advances in verification technology, this percentage continues to increase as designs grow more complex. Adoption of standardized methodologies like UVM helps manage this complexity through reusable components and established best practices.</p>\n        </div>\n      '},{id:"14.2",title:"Layered Testbench Architecture",content:'\n        <h3>Building Structured Verification Environments</h3>\n        <p>Modern verification environments use a layered architecture to separate concerns and promote reusability.</p>\n        \n        <h4>Testbench Hierarchy</h4>\n        <p>A layered testbench consists of multiple abstraction levels:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Layer</th>\n              <th>Description</th>\n              <th>Components</th>\n            </tr>\n            <tr>\n              <td><strong>Signal Level</strong></td>\n              <td>Direct connection to DUT pins</td>\n              <td>Interfaces, drivers, monitors</td>\n            </tr>\n            <tr>\n              <td><strong>Command Level</strong></td>\n              <td>Protocol-specific commands</td>\n              <td>Sequences, sequencers</td>\n            </tr>\n            <tr>\n              <td><strong>Functional Level</strong></td>\n              <td>Meaningful operations</td>\n              <td>Virtual sequences, scenario generators</td>\n            </tr>\n            <tr>\n              <td><strong>Scenario Level</strong></td>\n              <td>End-to-end use cases</td>\n              <td>Tests, test libraries</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>Testbench Components</h4>\n        <p>A typical SystemVerilog testbench includes several key components:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Basic testbench architecture example\n          module top_tb;\n            // Clock and reset generation\n            bit clk;\n            bit reset_n;\n            \n            // Interface instance\n            my_interface intf(.clk(clk), .reset_n(reset_n));\n            \n            // DUT instantiation\n            my_design dut(\n              .clk(intf.clk),\n              .reset_n(intf.reset_n),\n              .data_in(intf.data_in),\n              .valid_in(intf.valid_in),\n              .ready_out(intf.ready_out),\n              .data_out(intf.data_out),\n              .valid_out(intf.valid_out),\n              .ready_in(intf.ready_in)\n            );\n            \n            // Testbench components\n            driver        drv;\n            monitor       mon;\n            scoreboard    scb;\n            coverage      cov;\n            \n            // Clock generation\n            always #5 clk = ~clk;\n            \n            // Connect components and run tests\n            initial begin\n              // Create components\n              drv = new(intf);\n              mon = new(intf);\n              scb = new();\n              cov = new(intf);\n              \n              // Connect monitor to scoreboard\n              mon.scb = scb;\n              \n              // Reset sequence\n              reset_n = 0;\n              repeat(5) @(posedge clk);\n              reset_n = 1;\n              \n              // Run tests\n              fork\n                drv.run();\n                mon.run();\n                cov.sample();\n              join_none\n              \n              // Stimulus generation\n              repeat(1000) begin\n                Transaction tx = new();\n                assert(tx.randomize());\n                drv.send(tx);\n              end\n              \n              // Allow for completion\n              repeat(100) @(posedge clk);\n              $finish;\n            end\n          endmodule\n        </div>\n        \n        <h4>UVM Component Hierarchy</h4>\n        <p>UVM provides a standardized hierarchy of verification components:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // UVM testbench component example\n          class my_driver extends uvm_driver #(my_transaction);\n            // UVM registration macro\n            `uvm_component_utils(my_driver)\n            \n            // Interface handle\n            virtual my_interface vif;\n            \n            // Constructor\n            function new(string name, uvm_component parent);\n              super.new(name, parent);\n            endfunction\n            \n            // Build phase - get interface from config DB\n            function void build_phase(uvm_phase phase);\n              super.build_phase(phase);\n              if(!uvm_config_db#(virtual my_interface)::get(this, "", "vif", vif))\n                `uvm_fatal("NOVIF", "No virtual interface specified")\n            endfunction\n            \n            // Run phase - drive transactions\n            task run_phase(uvm_phase phase);\n              forever begin\n                // Get next transaction from sequencer\n                seq_item_port.get_next_item(req);\n                \n                // Drive signals on interface\n                @(posedge vif.clk);\n                vif.valid_in <= 1\'b1;\n                vif.data_in <= req.data;\n                \n                // Wait for ready\n                wait(vif.ready_out == 1\'b1);\n                @(posedge vif.clk);\n                vif.valid_in <= 1\'b0;\n                \n                // Signal completion\n                seq_item_port.item_done();\n              end\n            endtask\n          endclass\n        </div>\n        \n        <h4>UVM Environment Structure</h4>\n        <p>A complete UVM environment includes several integrated components:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ul>\n            <li><strong>Agents</strong>: Group related components (driver, monitor, sequencer) for a specific interface</li>\n            <li><strong>Sequencers</strong>: Manage and prioritize transaction sequences</li>\n            <li><strong>Virtual Sequencers</strong>: Coordinate multiple sequencers for system-level scenarios</li>\n            <li><strong>Scoreboards</strong>: Verify correct behavior by comparing results against predictions</li>\n            <li><strong>Coverage Collectors</strong>: Gather functional coverage data</li>\n            <li><strong>Environment</strong>: Container for all verification components</li>\n            <li><strong>Test</strong>: Top-level component that configures and controls the environment</li>\n          </ul>\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Reuse and Extension</h4>\n          <p>Well-designed testbench components can be reused across projects or enhanced for specific needs. UVM\'s factory pattern allows components to be extended or replaced without modifying the base environment. This is particularly valuable when migrating verification environments from block to subsystem to system level.</p>\n        </div>\n      '},{id:"14.3",title:"Constrained Random Stimulus Generation",content:'\n        <h3>Intelligent Test Generation</h3>\n        <p>Constrained random testing combines the thoroughness of random stimulus with the focus of directed testing.</p>\n        \n        <h4>Random Generation Basics</h4>\n        <p>SystemVerilog provides built-in facilities for random variable generation:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          class packet;\n            // Random properties\n            rand bit [7:0]  length;\n            rand bit [31:0] src_addr;\n            rand bit [31:0] dst_addr;\n            rand bit [7:0]  payload[];\n            \n            // Constructor\n            function new();\n              // Initialize dynamic array\n              payload = new[1]; // Will be resized during randomize()\n            endfunction\n            \n            // Pre-randomize function - called before randomization\n            function void pre_randomize();\n              // Prepare for randomization\n              payload.delete();\n            endfunction\n            \n            // Post-randomize function - called after randomization\n            function void post_randomize();\n              // Resize payload array based on randomized length\n              payload = new[length];\n              \n              // Can add customizations or logging here\n              $display("Generated packet: length=%0d, src=%0h, dst=%0h", \n                      length, src_addr, dst_addr);\n            endfunction\n          endclass\n          \n          // Usage example\n          module tb;\n            initial begin\n              packet pkt = new();\n              \n              // Generate random values\n              repeat(5) begin\n                assert(pkt.randomize())\n                  else $error("Randomization failed");\n                \n                // Use randomized values for stimulus\n                drive_transaction(pkt);\n              end\n            end\n          endmodule\n        </div>\n        \n        <h4>Constraint Specification</h4>\n        <p>Constraints define legal value ranges and relationships between variables:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          class memory_transaction;\n            // Random properties\n            rand bit [31:0] address;\n            rand bit [31:0] data;\n            rand bit        read_write; // 0=write, 1=read\n            rand int        delay;\n            \n            // Basic constraints\n            constraint c_delay { delay inside {[1:10]}; }\n            \n            // Address alignment constraint\n            constraint c_addr_align { address[1:0] == 2\'b00; } // Word-aligned\n            \n            // Valid address ranges (excluding memory-mapped IO)\n            constraint c_addr_range {\n              address inside {[32\'h0000_0000:32\'h7FFF_FFFF], \n                             [32\'hA000_0000:32\'hFFFF_FFFF]};\n            }\n            \n            // Conditional constraints\n            constraint c_read_data {\n              if (read_write == 1) { // For read operations\n                data == 0;           // Data will be filled by DUT, initialize to 0\n              }\n            }\n            \n            // Distribution constraint - create weighted randomization\n            constraint c_rw_dist {\n              read_write dist {0 := 70, 1 := 30}; // 70% writes, 30% reads\n            }\n            \n            // Implication constraint\n            constraint c_cache_op {\n              (address inside {[32\'hC000_0000:32\'hCFFF_FFFF]}) -> \n                (read_write == 1); // Cache area is read-only\n            }\n          endclass\n        </div>\n        \n        <h4>Advanced Constraint Techniques</h4>\n        <p>SystemVerilog supports sophisticated constraint patterns:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          class ethernet_frame;\n            rand bit [47:0] dest_mac;\n            rand bit [47:0] src_mac;\n            rand bit [15:0] ether_type;\n            rand bit [7:0]  payload[];\n            rand bit [31:0] crc;\n            \n            // Dynamic array size constraints\n            constraint c_payload_size {\n              payload.size() inside {[46:1500]}; // Min and max Ethernet payload\n            }\n            \n            // Array element constraints\n            constraint c_payload_data {\n              foreach (payload[i]) {\n                payload[i] inside {[8\'h20:8\'h7E]}; // Printable ASCII\n              }\n            }\n            \n            // Soft constraints - can be overridden if needed\n            soft constraint c_common_types {\n              ether_type inside {16\'h0800, 16\'h0806, 16\'h86DD}; // IPv4, ARP, IPv6\n            }\n            \n            // External constraints can be added at usage time\n            function void unicast_only();\n              dest_mac[0] == 0; // Unicast bit = 0\n            endfunction\n            \n            // Disable specific constraints\n            function void allow_any_ethertype();\n              c_common_types.constraint_mode(0); // Disable constraint\n            endfunction\n          endclass\n          \n          // Usage with constraint manipulation\n          module tb_ethernet;\n            initial begin\n              ethernet_frame frame = new();\n              \n              // Basic randomization\n              assert(frame.randomize());\n              \n              // With inline constraint\n              assert(frame.randomize() with { \n                dest_mac == 48\'hFF_FF_FF_FF_FF_FF; // Broadcast\n                src_mac[23:0] == 24\'h00_50_C2;     // Specific OUI\n              });\n              \n              // Disable then re-enable constraint\n              frame.c_payload_data.constraint_mode(0);\n              assert(frame.randomize()); // Randomize without payload constraint\n              frame.c_payload_data.constraint_mode(1);\n              \n              // Add custom constraint using function\n              frame.unicast_only();\n              assert(frame.randomize());\n            end\n          endmodule\n        </div>\n        \n        <h4>Random Stability and Seeds</h4>\n        <p>Managing randomization for reproducibility and debug:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ul>\n            <li><strong>Reproducibility</strong>: Use fixed seeds for regression testing</li>\n            <li><strong>Uniqueness</strong>: Vary seeds for broader coverage</li>\n            <li><strong>Debugging</strong>: Record seeds that expose bugs for regression tests</li>\n            <li><strong>Incremental Development</strong>: Add constraints gradually to refine stimulus</li>\n            <li><strong>Constraint Debugging</strong>: Use randomize() return value and error messages to diagnose constraint conflicts</li>\n          </ul>\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Balancing Random vs. Directed</h4>\n          <p>While constrained random testing excels at finding unexpected corner cases, it\'s often best used in combination with directed testing. Common approaches include:</p>\n          <ul>\n            <li>Using directed tests for basic functionality and compliance</li>\n            <li>Employing random tests to explore corner cases and interactions</li>\n            <li>Creating "directed random" tests that target specific scenarios while varying details</li>\n            <li>Using coverage feedback to guide creation of additional constraints or directed tests</li>\n          </ul>\n        </div>\n      '},{id:"14.4",title:"Functional Coverage and Checking",content:'\n        <h3>Measuring Verification Completeness</h3>\n        <p>Functional coverage provides objective metrics for verification progress and completeness.</p>\n        \n        <h4>Coverage Models</h4>\n        <p>A coverage model defines what aspects of the design need to be verified:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ul>\n            <li><strong>Feature Coverage</strong>: Verification of specific design features</li>\n            <li><strong>Scenario Coverage</strong>: Combinations of conditions and operations</li>\n            <li><strong>Protocol Coverage</strong>: Valid sequences of transactions</li>\n            <li><strong>Corner Case Coverage</strong>: Extreme or boundary conditions</li>\n            <li><strong>Cross-Coverage</strong>: Interactions between different variables</li>\n          </ul>\n        </div>\n        \n        <h4>SystemVerilog Covergroups</h4>\n        <p>Covergroups provide a structured way to collect functional coverage:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Coverage for a bus interface\n          class bus_coverage;\n            // Design signals to monitor\n            virtual bus_interface vif;\n            \n            // Covergroup definition\n            covergroup cg_bus @(posedge vif.clk);\n              // Cover different transaction types\n              cp_trans_type: coverpoint vif.trans_type {\n                bins reads  = {BUS_READ};\n                bins writes = {BUS_WRITE};\n                bins rmw    = {BUS_RMW};\n                bins fetch  = {BUS_FETCH};\n              }\n              \n              // Cover address ranges with automatic bins\n              cp_address: coverpoint vif.address {\n                bins low    = {[0:32\'h3FFF_FFFF]};\n                bins mid    = {[32\'h4000_0000:32\'h7FFF_FFFF]};\n                bins high   = {[32\'h8000_0000:32\'hFFFF_FFFF]};\n                bins zero   = {0};\n                bins max    = {32\'hFFFF_FFFF};\n              }\n              \n              // Cover data values with automatically created bins\n              cp_data_values: coverpoint vif.data {\n                option.auto_bin_max = 32; // Create 32 automatic bins\n              }\n              \n              // Cover burst length\n              cp_burst_len: coverpoint vif.burst_len {\n                bins single = {1};\n                bins burst4 = {4};\n                bins burst8 = {8};\n                bins burst16 = {16};\n                bins other_lengths = default;\n              }\n              \n              // Cross coverage - combinations of variables\n              cx_type_addr: cross cp_trans_type, cp_address {\n                // Specify specific crosses of interest\n                bins reads_to_low = binsof(cp_trans_type.reads) && \n                                   binsof(cp_address.low);\n                                   \n                // Ignore certain combinations\n                ignore_bins high_writes = binsof(cp_trans_type.writes) && \n                                         binsof(cp_address.high);\n              }\n              \n              // Timing coverage\n              cp_ready_delay: coverpoint count_ready_delay() {\n                bins no_wait = {0};\n                bins short_wait = {[1:3]};\n                bins long_wait = {[4:10]};\n                bins timeout = {[11:$]};\n              }\n            endgroup\n            \n            // Constructor\n            function new(virtual bus_interface vif);\n              this.vif = vif;\n              cg_bus = new();\n            endfunction\n            \n            // Helper function to count clock cycles\n            function int count_ready_delay();\n              int count = 0;\n              while (vif.ready == 0) begin\n                @(posedge vif.clk);\n                count++;\n              end\n              return count;\n            endfunction\n            \n            // Sample covergroup explicitly (if not using automatic sampling)\n            function void sample();\n              cg_bus.sample();\n            endfunction\n          endclass\n        </div>\n        \n        <h4>Coverage Collection and Reporting</h4>\n        <p>Practical considerations for coverage management:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ul>\n            <li><strong>Sampling Points</strong>: Determine when to collect samples (clock events, transactions, etc.)</li>\n            <li><strong>Merging</strong>: Combine coverage from multiple tests or simulations</li>\n            <li><strong>Analysis</strong>: Identify coverage holes and prioritize additional tests</li>\n            <li><strong>Exclusions</strong>: Document and justify uncovered scenarios that are impossible or irrelevant</li>\n            <li><strong>Formal Coverage</strong>: Link to formal verification results for complete verification sign-off</li>\n          </ul>\n        </div>\n        \n        <h4>Automated Checking Mechanisms</h4>\n        <p>SystemVerilog provides several approaches for automated result checking:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Scoreboard example for a processor design\n          class processor_scoreboard;\n            // Reference model\n            processor_model ref_model;\n            \n            // Transaction queues\n            mailbox #(instruction_transaction) instr_mbx;\n            mailbox #(result_transaction) result_mbx;\n            \n            // Statistics\n            int num_transactions = 0;\n            int num_mismatches = 0;\n            \n            // Constructor\n            function new();\n              ref_model = new();\n              instr_mbx = new();\n              result_mbx = new();\n            endfunction\n            \n            // Task to run the scoreboard\n            task run();\n              instruction_transaction instr;\n              result_transaction actual_result, expected_result;\n              \n              forever begin\n                // Get instruction from monitor\n                instr_mbx.get(instr);\n                \n                // Predict expected result using reference model\n                expected_result = ref_model.execute(instr);\n                \n                // Get actual result from DUT via monitor\n                result_mbx.get(actual_result);\n                \n                // Compare expected vs. actual\n                if (!compare_results(expected_result, actual_result)) begin\n                  num_mismatches++;\n                  report_mismatch(instr, expected_result, actual_result);\n                end\n                \n                num_transactions++;\n              end\n            endtask\n            \n            // Compare results with appropriate checking logic\n            function bit compare_results(result_transaction expected, result_transaction actual);\n              // Basic equality check\n              if (expected.result_value != actual.result_value) return 0;\n              if (expected.status_flags != actual.status_flags) return 0;\n              \n              // More detailed checking logic...\n              \n              return 1; // Results match\n            endfunction\n            \n            // Report mismatch with detailed information\n            function void report_mismatch(instruction_transaction instr, \n                                        result_transaction expected, \n                                        result_transaction actual);\n              $error("MISMATCH: Instruction: %s", instr.convert2string());\n              $error("  Expected: %s", expected.convert2string());\n              $error("  Actual:   %s", actual.convert2string());\n            endfunction\n            \n            // Report final statistics\n            function void report();\n              $display("Scoreboard: %0d transactions, %0d mismatches",\n                      num_transactions, num_mismatches);\n              if (num_mismatches == 0)\n                $display("TEST PASSED");\n              else\n                $error("TEST FAILED: %0d mismatches detected", num_mismatches);\n            endfunction\n          endclass\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Closing the Loop</h4>\n          <p>Effective verification requires continuous feedback between coverage, checking, and test generation:</p>\n          <ol>\n            <li>Use coverage analysis to identify untested scenarios</li>\n            <li>Create new tests or refine constraints to target coverage holes</li>\n            <li>Use assertion failures and scoreboard mismatches to identify bugs</li>\n            <li>Create regression tests to verify bug fixes</li>\n            <li>Document coverage exceptions with justifications</li>\n          </ol>\n          <p>This closed-loop approach ensures thorough verification before silicon implementation.</p>\n        </div>\n      '},{id:"14.5",title:"Key Takeaways",content:"\n        <h3>Summary: Advanced Verification Techniques</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>Modern verification methodologies combine multiple approaches to achieve thorough testing.</li>\n            <li>Layered testbench architectures separate concerns and promote component reuse.</li>\n            <li>Constrained random stimulus generation balances thoroughness and efficiency.</li>\n            <li>Functional coverage provides objective metrics for verification completeness.</li>\n            <li>Automated checking mechanisms ensure correct design behavior across test scenarios.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>In the next chapter, we'll explore Verilog synthesis and implementation targeting FPGAs and ASICs. You'll learn about synthesis constraints, optimization techniques, and the journey from RTL code to working hardware.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>How would you design a verification environment for a complex protocol like USB or PCIe?</li>\n          <li>What are the trade-offs between directed testing and constrained random verification?</li>\n          <li>How would you determine appropriate coverage metrics for a specific design?</li>\n        </ol>\n      "}],quiz:{title:"Advanced Verification Techniques Quiz",description:"Test your understanding of advanced verification methodologies and SystemVerilog features",questions:[{id:"q14_1",question:"What is the primary advantage of a layered testbench architecture?",options:[{id:"a",text:"It simplifies the overall verification process"},{id:"b",text:"It reduces simulation time significantly"},{id:"c",text:"It separates concerns and enables component reuse across different projects"},{id:"d",text:"It automatically generates test cases based on coverage"}],correctAnswer:"c",explanation:"A layered testbench architecture separates concerns and enables component reuse across different projects. By organizing verification components into distinct layers (signal, command, functional, scenario, etc.), each with well-defined responsibilities and interfaces, teams can develop components independently and reuse them across different designs. This approach is fundamental to methodologies like UVM."},{id:"q14_2",question:"What is the role of a 'driver' component in a SystemVerilog testbench?",options:[{id:"a",text:"To generate random stimulus patterns"},{id:"b",text:"To convert high-level transactions into pin-level activity on DUT interfaces"},{id:"c",text:"To check if the DUT's output matches expected results"},{id:"d",text:"To measure functional coverage metrics"}],correctAnswer:"b",explanation:"A driver in a SystemVerilog testbench converts high-level transactions into pin-level activity on the Design Under Test (DUT) interfaces. It receives abstract transaction objects from the sequencer and drives the actual signals according to the protocol timing. The driver is responsible for the signal-level implementation of the verification stimuli, forming the bridge between abstract test scenarios and physical interfaces."},{id:"q14_3",question:"What is constrained random verification?",options:[{id:"a",text:"Limiting the number of random test cases to a specific count"},{id:"b",text:"Generating random stimulus that meets specific rules and constraints to create legal scenarios"},{id:"c",text:"Randomly selecting which parts of a design to verify"},{id:"d",text:"Verifying that constraints in the design are properly implemented"}],correctAnswer:"b",explanation:"Constrained random verification is the technique of generating random stimulus that meets specific rules and constraints to create legal scenarios. It combines the thoroughness of randomization (exploring a wide range of possibilities) with the focus of constraints (ensuring the generated scenarios are valid and relevant). This approach is more efficient than exhaustive testing and more thorough than purely directed testing."},{id:"q14_4",question:"Which of the following is NOT typically a component of a UVM (Universal Verification Methodology) testbench?",options:[{id:"a",text:"Sequencer"},{id:"b",text:"Synthesizer"},{id:"c",text:"Monitor"},{id:"d",text:"Scoreboard"}],correctAnswer:"b",explanation:"A synthesizer is not typically a component of a UVM testbench. UVM components include sequencers (generate transaction sequences), drivers (convert transactions to signal-level activity), monitors (observe interfaces), scoreboards (check results), agents (group related components), environments (organize collections of agents), and more. Synthesis is part of the implementation flow, not the verification environment."},{id:"q14_5",question:"What is a 'virtual sequence' in SystemVerilog verification?",options:[{id:"a",text:"A sequence that will be implemented in future releases"},{id:"b",text:"A sequence that coordinates multiple lower-level sequences across different interfaces"},{id:"c",text:"A sequence that doesn't actually generate any stimulus"},{id:"d",text:"An abstract class that must be extended to create actual sequences"}],correctAnswer:"b",explanation:"A virtual sequence in SystemVerilog verification coordinates multiple lower-level sequences across different interfaces. It enables the creation of complex, system-level test scenarios by orchestrating the activity on multiple interfaces simultaneously. Virtual sequences are particularly important for verifying interactions between different parts of a design, such as ensuring proper handshaking between blocks or testing corner cases that involve multiple interfaces."},{id:"q14_6",question:"What is the difference between code coverage and functional coverage?",options:[{id:"a",text:"Code coverage is for RTL, functional coverage is for testbenches"},{id:"b",text:"Code coverage is automatic, functional coverage must be manually defined"},{id:"c",text:"Code coverage measures which code was executed, functional coverage measures if specific design features and scenarios were tested"},{id:"d",text:"Code coverage is required for synthesis, functional coverage is optional"}],correctAnswer:"c",explanation:"Code coverage measures which lines, branches, expressions, etc. in the code were executed during simulation, while functional coverage measures if specific design features and scenarios were tested. Code coverage is structural and tool-generated, measuring 'what code ran', while functional coverage is user-defined and intent-driven, measuring 'what scenarios were tested'. Both are needed for comprehensive verification."},{id:"q14_7",question:"What is transaction-level modeling (TLM) in SystemVerilog verification?",options:[{id:"a",text:"Modeling financial transactions in financial system designs"},{id:"b",text:"Representing communication between components as high-level transactions rather than signal-level activity"},{id:"c",text:"Verifying database transaction processing in hardware accelerators"},{id:"d",text:"Using transactions as the base class for all testbench components"}],correctAnswer:"b",explanation:"Transaction-level modeling (TLM) represents communication between components as high-level transactions rather than signal-level activity. It raises the abstraction level in verification, making testbenches more concise and maintainable. For example, instead of dealing with individual signal toggles to perform a bus write, a single 'write transaction' object contains all necessary information. This enables faster simulation and clearer code."},{id:"q14_8",question:"What is the purpose of callback methods in advanced verification environments?",options:[{id:"a",text:"To allow the design to call back into the testbench"},{id:"b",text:"To extend and customize behavior without modifying existing verification components"},{id:"c",text:"To call functions recursively in the testbench"},{id:"d",text:"To return control flow back to the main simulation thread"}],correctAnswer:"b",explanation:"Callback methods in advanced verification environments allow users to extend and customize behavior without modifying existing verification components. By registering callback objects with hooks at key points in a component's execution, users can insert additional behavior or override default actions. This enables customization of reusable verification IP without changing its source code, making it more versatile across different verification scenarios."}]}},completed:!1},{...{id:15,title:"Verilog Synthesis and Implementation",description:"Learn how Verilog RTL code is transformed into actual hardware through synthesis and implementation processes",estimatedTime:"4 hours",completed:!1,sections:[{id:"15.1",title:"From RTL to Silicon: The Implementation Flow",content:'\n        <h3>Understanding Hardware Implementation</h3>\n        <p>Turning Verilog code into actual hardware involves several sophisticated transformation steps.</p>\n        \n        <h4>The Digital Design Flow</h4>\n        <p>The typical FPGA/ASIC implementation process follows these stages:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Stage</th>\n              <th>Description</th>\n              <th>Key Considerations</th>\n            </tr>\n            <tr>\n              <td><strong>Specification</strong></td>\n              <td>Define the design requirements and functionality</td>\n              <td>Performance goals, interface definitions, power budget</td>\n            </tr>\n            <tr>\n              <td><strong>RTL Design</strong></td>\n              <td>Write Verilog/VHDL code describing the circuit behavior</td>\n              <td>Code reuse, design for verification, coding style</td>\n            </tr>\n            <tr>\n              <td><strong>Functional Verification</strong></td>\n              <td>Simulate and test design behavior</td>\n              <td>Testbench coverage, assertions, directed vs. random tests</td>\n            </tr>\n            <tr>\n              <td><strong>Synthesis</strong></td>\n              <td>Convert RTL to technology-specific gate-level netlist</td>\n              <td>Timing constraints, area/speed tradeoffs, optimizations</td>\n            </tr>\n            <tr>\n              <td><strong>Implementation</strong></td>\n              <td>Place and route the design onto target technology</td>\n              <td>Floorplanning, congestion management, clock distribution</td>\n            </tr>\n            <tr>\n              <td><strong>Timing Analysis</strong></td>\n              <td>Verify the design meets timing constraints</td>\n              <td>Setup/hold times, clock skew, critical paths</td>\n            </tr>\n            <tr>\n              <td><strong>Physical Verification</strong></td>\n              <td>Ensure design meets manufacturing rules</td>\n              <td>DRC, LVS, antenna checking (more relevant for ASICs)</td>\n            </tr>\n            <tr>\n              <td><strong>Bitstream Generation/Tapeout</strong></td>\n              <td>Generate final configuration file or masks</td>\n              <td>Device programming, mask generation</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>FPGA vs. ASIC Implementation</h4>\n        <p>While the basic flow is similar, there are important differences between FPGA and ASIC implementations:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Aspect</th>\n              <th>FPGA</th>\n              <th>ASIC</th>\n            </tr>\n            <tr>\n              <td><strong>Development Cost</strong></td>\n              <td>Lower (primarily software tools)</td>\n              <td>Higher (includes mask costs, which can be millions)</td>\n            </tr>\n            <tr>\n              <td><strong>Time to Market</strong></td>\n              <td>Faster (weeks to months)</td>\n              <td>Longer (months to years)</td>\n            </tr>\n            <tr>\n              <td><strong>Unit Cost</strong></td>\n              <td>Higher per device</td>\n              <td>Lower per device at high volumes</td>\n            </tr>\n            <tr>\n              <td><strong>Performance</strong></td>\n              <td>Good, but limited by FPGA architecture</td>\n              <td>Better (potentially 3-10x faster, lower power)</td>\n            </tr>\n            <tr>\n              <td><strong>Reconfigurability</strong></td>\n              <td>Field reprogrammable</td>\n              <td>Fixed at manufacture</td>\n            </tr>\n            <tr>\n              <td><strong>Available Logic</strong></td>\n              <td>Pre-defined blocks (LUTs, DSPs, BRAMs)</td>\n              <td>Full custom capability</td>\n            </tr>\n            <tr>\n              <td><strong>Tool Chain</strong></td>\n              <td>Vendor-specific (Xilinx Vivado, Intel Quartus)</td>\n              <td>Industry standard + foundry PDKs</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>Modern Implementation Environments</h4>\n        <p>Today\'s hardware design is performed in sophisticated EDA (Electronic Design Automation) environments:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ul>\n            <li><strong>FPGA Tools</strong>: Xilinx Vivado, Intel Quartus Prime, Microchip Libero SoC</li>\n            <li><strong>ASIC Synthesis</strong>: Synopsys Design Compiler, Cadence Genus, Siemens Catapult</li>\n            <li><strong>Place & Route</strong>: Cadence Innovus, Synopsys ICC2, Siemens NanoRoute</li>\n            <li><strong>Timing Analysis</strong>: Synopsys PrimeTime, Cadence Tempus, Siemens TimingCompass</li>\n            <li><strong>Verification</strong>: Synopsys VCS, Cadence Xcelium, Siemens ModelSim/QuestaSim</li>\n          </ul>\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Design Reuse and IP Integration</h4>\n          <p>Modern designs rarely start from scratch. Most companies maintain internal IP libraries and leverage third-party IP (processors, memory controllers, interface blocks). Effective integration of these components is a critical skill in modern hardware design. When using IP cores, designers must understand interface protocols, parameter configurations, and verification requirements.</p>\n        </div>\n      '},{id:"15.2",title:"Synthesis Basics and Constraints",content:'\n        <h3>Logic Synthesis Fundamentals</h3>\n        <p>Synthesis is the process of converting RTL descriptions into optimized gate-level implementations.</p>\n        \n        <h4>What Happens During Synthesis</h4>\n        <p>RTL synthesis involves multiple transformation and optimization steps:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ol>\n            <li><strong>HDL Parsing</strong>: Convert Verilog/VHDL into an internal representation</li>\n            <li><strong>Elaboration</strong>: Resolve parameter values, generate statements, and hierarchical references</li>\n            <li><strong>Inference</strong>: Identify common structures (RAMs, ROMs, multipliers, etc.)</li>\n            <li><strong>Technology Mapping</strong>: Map logic to target technology cells</li>\n            <li><strong>Optimization</strong>: Apply transformations to meet design goals</li>\n            <li><strong>Netlist Generation</strong>: Output the gate-level representation</li>\n          </ol>\n        </div>\n        \n        <h4>Synthesizable vs. Non-Synthesizable Constructs</h4>\n        <p>Not all Verilog code can be implemented in hardware:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Synthesizable</th>\n              <th>Non-Synthesizable (Simulation Only)</th>\n            </tr>\n            <tr>\n              <td>\n                <ul>\n                  <li>module, always, assign statements</li>\n                  <li>if-else, case statements</li>\n                  <li>for loops with constant bounds</li>\n                  <li>arithmetic and logical operators</li>\n                  <li>synchronous logic (flip-flops)</li>\n                  <li>combinational logic</li>\n                  <li>memory arrays (may infer RAM/ROM)</li>\n                </ul>\n              </td>\n              <td>\n                <ul>\n                  <li>initial blocks (except for initialization)</li>\n                  <li>delay specifications (#10)</li>\n                  <li>force/release statements</li>\n                  <li>wait statements</li>\n                  <li>fork/join constructs</li>\n                  <li>event triggers/controls</li>\n                  <li>file I/O operations</li>\n                  <li>unbounded loops</li>\n                  <li>$display and most system tasks</li>\n                </ul>\n              </td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>Design Constraints</h4>\n        <p>Constraints guide the synthesis engine toward desired implementation results:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          # Sample SDC (Synopsys Design Constraints) file\n          \n          # Define clock with 100MHz frequency (10ns period)\n          create_clock -name clk -period 10.0 [get_ports clk]\n          \n          # Define input delay relative to clock\n          set_input_delay -clock clk -max 2.0 [get_ports data_in*]\n          set_input_delay -clock clk -min 0.5 [get_ports data_in*]\n          \n          # Define output delay requirements\n          set_output_delay -clock clk -max 3.0 [get_ports data_out*]\n          set_output_delay -clock clk -min 0.5 [get_ports data_out*]\n          \n          # Define timing exceptions\n          set_false_path -from [get_ports async_reset]\n          set_multicycle_path -setup 2 -from [get_pins slow_path_reg*/Q]\n          \n          # Set area constraints\n          set_max_area 10000\n          \n          # Set power constraints\n          set_max_dynamic_power 500mW\n          \n          # Set optimization goals\n          set_max_delay 8.0 -from [get_pins critical_path_start*/Q] -to [get_pins critical_path_end*/D]\n        </div>\n        \n        <h4>Common Constraint Types</h4>\n        <p>Various constraints control different aspects of the design implementation:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ul>\n            <li><strong>Clock Constraints</strong>: Define clock frequencies, relationships, and uncertainties</li>\n            <li><strong>Timing Constraints</strong>: Specify setup/hold requirements, input/output delays</li>\n            <li><strong>Physical Constraints</strong>: Control placement, pin assignments, and floorplanning</li>\n            <li><strong>Optimization Directives</strong>: Guide optimization for area, power, or timing</li>\n            <li><strong>Resource Constraints</strong>: Limit usage of specific hardware resources</li>\n            <li><strong>Exception Constraints</strong>: Define special timing cases (false paths, multicycle paths)</li>\n          </ul>\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>The Art of Constraining</h4>\n          <p>Effective constraint development is a critical skill:</p>\n          <ul>\n            <li>Under-constraining leads to unpredictable results</li>\n            <li>Over-constraining can make implementation impossible</li>\n            <li>Start with basic constraints and refine incrementally</li>\n            <li>Focus first on clocks, then I/O timing, then internal paths</li>\n            <li>Use tool-specific analysis features to guide constraint development</li>\n          </ul>\n          <p>Remember that constraints should reflect actual system requirements and physical realities, not arbitrary goals.</p>\n        </div>\n      '},{id:"15.3",title:"Optimization Techniques and Guidelines",content:"\n        <h3>Designing for Optimal Implementation</h3>\n        <p>RTL coding style has a significant impact on synthesis results and can affect area, speed, and power.</p>\n        \n        <h4>Area Optimization</h4>\n        <p>Techniques to minimize resource usage:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;\">\n          // Shared resources - one multiplier instead of three\n          // Less optimal code (3 multipliers):\n          assign result1 = a * constant1;\n          assign result2 = a * constant2;\n          assign result3 = a * constant3;\n          \n          // Area-optimized code (1 multiplier + mux):\n          reg [31:0] operand, result;\n          reg [1:0] sel;\n          \n          always @(posedge clk) begin\n            case (sel)\n              2'b00: operand <= constant1;\n              2'b01: operand <= constant2;\n              2'b10: operand <= constant3;\n            endcase\n            result <= a * operand;\n          end\n          \n          // Register sharing through FSM encoding\n          // Less optimal code (more state registers):\n          parameter STATE_IDLE = 4'b0001;\n          parameter STATE_READ = 4'b0010;\n          parameter STATE_PROC = 4'b0100;\n          parameter STATE_WRITE = 4'b1000;\n          \n          // Area-optimized code (fewer state registers):\n          parameter STATE_IDLE = 2'b00;\n          parameter STATE_READ = 2'b01;\n          parameter STATE_PROC = 2'b10;\n          parameter STATE_WRITE = 2'b11;\n        </div>\n        \n        <h4>Speed Optimization</h4>\n        <p>Techniques to improve timing performance:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;\">\n          // Pipeline deep combinational logic\n          // Original slow code:\n          assign result = a + b + c + d + e + f + g + h;\n          \n          // Pipelined for speed:\n          reg [31:0] sum1, sum2, sum3, result;\n          always @(posedge clk) begin\n            sum1 <= a + b + c;\n            sum2 <= d + e;\n            sum3 <= f + g + h;\n            result <= sum1 + sum2 + sum3;\n          end\n          \n          // Break critical paths with registers\n          // Slow path with long combinational logic:\n          always @(posedge clk) begin\n            if (reset)\n              data_out <= 0;\n            else\n              data_out <= complex_function1(complex_function2(complex_function3(data_in)));\n          end\n          \n          // Split into multiple stages:\n          always @(posedge clk) begin\n            if (reset) begin\n              stage1 <= 0;\n              stage2 <= 0;\n              data_out <= 0;\n            end else begin\n              stage1 <= complex_function3(data_in);\n              stage2 <= complex_function2(stage1);\n              data_out <= complex_function1(stage2);\n            end\n          end\n        </div>\n        \n        <h4>Power Optimization</h4>\n        <p>Techniques to reduce power consumption:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;\">\n          // Clock gating to reduce dynamic power\n          // Without clock gating:\n          always @(posedge clk) begin\n            if (enable)\n              data_reg <= data_in;\n          end\n          \n          // With clock gating (synthesis will infer proper gating cells):\n          always @(posedge clk) begin\n            if (clk_enable)\n              data_reg <= data_in;\n          end\n          \n          // Power domains and isolation\n          // Block-level clock gating:\n          always @(posedge clk) begin\n            block_clk_enable <= block_active || (|pending_transactions);\n          end\n          \n          // Memory access power optimization\n          // Instead of reading entire memory word:\n          assign full_data = memory[address];\n          \n          // Selective enable of memory sections:\n          assign byte0_en = byte_select[0] && read_enable;\n          assign byte1_en = byte_select[1] && read_enable;\n          // ... and so on\n        </div>\n        \n        <h4>RTL Coding Guidelines for Better Results</h4>\n        <p>Best practices for synthesizable Verilog code:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0;\">\n          <ol>\n            <li>\n              <strong>Use synchronous design principles</strong>\n              <ul>\n                <li>Reset all state elements (avoid uninitialized registers)</li>\n                <li>Sample inputs with a clock to avoid metastability</li>\n                <li>Avoid asynchronous logic except in reset paths</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Write RTL to avoid latches</strong>\n              <ul>\n                <li>Define values for all cases in case statements</li>\n                <li>Provide else clause for all if statements</li>\n                <li>Assign values to all variables in all code paths</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Use the right abstraction level</strong>\n              <ul>\n                <li>Favor behavioral/RTL over structural descriptions</li>\n                <li>Use parameters to make code configurable</li>\n                <li>Use generate statements for regular structures</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Be careful with operators</strong>\n              <ul>\n                <li>Consider bit widths to avoid unnecessary hardware</li>\n                <li>Avoid division and modulo operations if possible</li>\n                <li>Use shifts instead of multiplication by powers of 2</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Let tools infer standard components</strong>\n              <ul>\n                <li>Use standard templates for RAM/ROM inference</li>\n                <li>Follow vendor guidelines for DSP block inference</li>\n                <li>Use standard counter and shift register patterns</li>\n              </ul>\n            </li>\n          </ol>\n        </div>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;\">\n          <h4>Iterative Implementation Refinement</h4>\n          <p>Hardware implementation is an iterative process:</p>\n          <ol>\n            <li>Start with functional correctness</li>\n            <li>Apply constraints based on actual requirements</li>\n            <li>Analyze synthesis and implementation results</li>\n            <li>Identify critical paths and bottlenecks</li>\n            <li>Refine RTL and constraints to address issues</li>\n            <li>Repeat until all requirements are met</li>\n          </ol>\n          <p>Remember that optimization often involves tradeoffs between area, power, and performance. Clear project priorities should guide which optimizations to apply.</p>\n        </div>\n      "},{id:"15.4",title:"FPGA-Specific Implementation Considerations",content:'\n        <h3>Targeting FPGA Architectures</h3>\n        <p>FPGAs have unique architectural features that require specific design approaches.</p>\n        \n        <h4>FPGA Architecture Basics</h4>\n        <p>Modern FPGAs contain various specialized resources:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Resource</th>\n              <th>Description</th>\n              <th>Typical Usage</th>\n            </tr>\n            <tr>\n              <td><strong>LUTs (Look-Up Tables)</strong></td>\n              <td>Configurable logic elements (typically 4-6 inputs)</td>\n              <td>General combinational logic</td>\n            </tr>\n            <tr>\n              <td><strong>Flip-Flops/Registers</strong></td>\n              <td>Storage elements for sequential logic</td>\n              <td>State machines, pipeline stages</td>\n            </tr>\n            <tr>\n              <td><strong>Block RAM (BRAM)</strong></td>\n              <td>Dedicated memory blocks</td>\n              <td>FIFOs, buffers, lookup tables</td>\n            </tr>\n            <tr>\n              <td><strong>DSP Blocks</strong></td>\n              <td>Hardened arithmetic units</td>\n              <td>Multipliers, MAC operations</td>\n            </tr>\n            <tr>\n              <td><strong>Clock Management</strong></td>\n              <td>PLLs, MMCMs, DLLs</td>\n              <td>Clock generation and distribution</td>\n            </tr>\n            <tr>\n              <td><strong>I/O Blocks</strong></td>\n              <td>Configurable input/output cells</td>\n              <td>External interfaces, level shifting</td>\n            </tr>\n            <tr>\n              <td><strong>Hard IP</strong></td>\n              <td>Fixed-function blocks (PCIe, Ethernet, CPU cores)</td>\n              <td>Standard interfaces, processors</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>FPGA-Specific Coding Patterns</h4>\n        <p>Certain coding styles map efficiently to FPGA resources:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          // Inferring Block RAM\n          // Dual-port RAM with synchronous read/write\n          module dual_port_ram #(\n            parameter DATA_WIDTH = 8,\n            parameter ADDR_WIDTH = 10\n          ) (\n            input  wire                    clk,\n            // Port A\n            input  wire                    a_wr_en,\n            input  wire [ADDR_WIDTH-1:0]   a_addr,\n            input  wire [DATA_WIDTH-1:0]   a_wr_data,\n            output reg  [DATA_WIDTH-1:0]   a_rd_data,\n            // Port B\n            input  wire                    b_wr_en,\n            input  wire [ADDR_WIDTH-1:0]   b_addr,\n            input  wire [DATA_WIDTH-1:0]   b_wr_data,\n            output reg  [DATA_WIDTH-1:0]   b_rd_data\n          );\n          \n            // Memory array declaration\n            reg [DATA_WIDTH-1:0] ram [(2**ADDR_WIDTH)-1:0];\n          \n            // Port A\n            always @(posedge clk) begin\n              if (a_wr_en)\n                ram[a_addr] <= a_wr_data;\n              a_rd_data <= ram[a_addr];\n            end\n          \n            // Port B\n            always @(posedge clk) begin\n              if (b_wr_en)\n                ram[b_addr] <= b_wr_data;\n              b_rd_data <= ram[b_addr];\n            end\n          \n          endmodule\n          \n          // Inferring DSP blocks - Pipelined Multiplier\n          module pipelined_multiplier #(\n            parameter WIDTH_A = 18,\n            parameter WIDTH_B = 18\n          ) (\n            input  wire                  clk,\n            input  wire                  rst_n,\n            input  wire [WIDTH_A-1:0]    a,\n            input  wire [WIDTH_B-1:0]    b,\n            output reg  [WIDTH_A+WIDTH_B-1:0] product\n          );\n          \n            // Pipeline registers\n            reg [WIDTH_A-1:0] a_reg;\n            reg [WIDTH_B-1:0] b_reg;\n            reg [WIDTH_A+WIDTH_B-1:0] mult_reg;\n          \n            // Multi-stage pipeline to match DSP architecture\n            always @(posedge clk or negedge rst_n) begin\n              if (!rst_n) begin\n                a_reg <= 0;\n                b_reg <= 0;\n                mult_reg <= 0;\n                product <= 0;\n              end else begin\n                // Stage 1: Register inputs\n                a_reg <= a;\n                b_reg <= b;\n                \n                // Stage 2: Perform multiplication\n                mult_reg <= a_reg * b_reg;\n                \n                // Stage 3: Register output\n                product <= mult_reg;\n              end\n            end\n          endmodule\n        </div>\n        \n        <h4>FPGA-Specific Optimizations</h4>\n        <p>Strategies to get the most from FPGA implementations:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ul>\n            <li>\n              <strong>Resource Balancing</strong>\n              <ul>\n                <li>Balance utilization between LUTs, registers, BRAMs, and DSPs</li>\n                <li>Consider resource limitations when selecting algorithms</li>\n                <li>Use appropriate bit widths to avoid wasting resources</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Clock Domain Management</strong>\n              <ul>\n                <li>Minimize number of clock domains</li>\n                <li>Use proper clock domain crossing techniques</li>\n                <li>Leverage FPGA clock management resources correctly</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Floorplanning</strong>\n              <ul>\n                <li>Group related logic for better timing and routability</li>\n                <li>Place critical paths carefully for minimum delay</li>\n                <li>Constrain I/O placement logically</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Vendor-Specific Features</strong>\n              <ul>\n                <li>Use device-specific primitives when appropriate</li>\n                <li>Leverage vendor tool optimization directives</li>\n                <li>Follow vendor best practices for specific FPGA families</li>\n              </ul>\n            </li>\n          </ul>\n        </div>\n        \n        <h4>Implementation Tools and Workflow</h4>\n        <p>FPGA implementation typically uses vendor-specific toolchains:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ol>\n            <li>\n              <strong>Project Setup</strong>\n              <ul>\n                <li>Define target device and package</li>\n                <li>Configure tool settings and flows</li>\n                <li>Import RTL files and constraints</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Synthesis</strong>\n              <ul>\n                <li>Convert RTL to device-specific primitives</li>\n                <li>Apply timing constraints</li>\n                <li>Review synthesis reports for warnings/errors</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Implementation</strong>\n              <ul>\n                <li>Translate synthesized netlist</li>\n                <li>Map to device resources</li>\n                <li>Place components on the FPGA fabric</li>\n                <li>Route connections between components</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Timing Analysis</strong>\n              <ul>\n                <li>Review timing reports for violations</li>\n                <li>Identify critical paths</li>\n                <li>Address timing issues through RTL or constraint changes</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Bitstream Generation</strong>\n              <ul>\n                <li>Generate FPGA configuration file</li>\n                <li>Configure bitstream options (compression, security)</li>\n                <li>Create programming files for target hardware</li>\n              </ul>\n            </li>\n          </ol>\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>FPGA Debugging Techniques</h4>\n          <p>FPGA debugging combines simulation and hardware validation approaches:</p>\n          <ul>\n            <li><strong>Signal Probing</strong>: Use vendor debug tools (Xilinx ILA, Intel SignalTap) to observe internal signals</li>\n            <li><strong>JTAG Debugging</strong>: Access internal registers and memory via JTAG interface</li>\n            <li><strong>Debug Registers</strong>: Add purposeful debug registers and readback mechanisms</li>\n            <li><strong>Hardware Assertions</strong>: Implement logic to detect runtime violations</li>\n            <li><strong>Activity LEDs</strong>: Simple but effective for tracking operational state</li>\n          </ul>\n          <p>Remember to plan for debugging early in the design process. Adding debug capabilities after implementation can be challenging and may change timing behavior.</p>\n        </div>\n      '},{id:"15.5",title:"Key Takeaways",content:"\n        <h3>Summary: Verilog Synthesis and Implementation</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>Hardware implementation follows a structured flow from RTL to physical devices.</li>\n            <li>Synthesis transforms Verilog code into device-specific netlists guided by constraints.</li>\n            <li>Different optimization techniques target area, performance, or power efficiency.</li>\n            <li>FPGA implementations require understanding of the target architecture's capabilities.</li>\n            <li>Design implementation is iterative, requiring analysis and refinement to meet requirements.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>In the next chapter, we'll explore practical design projects that put your Verilog skills to work. You'll learn how to develop complete systems, from specification to implementation, and see how the concepts from previous chapters come together in real-world designs.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>What factors would influence your decision to implement a design on an FPGA versus an ASIC?</li>\n          <li>How would you approach resolving timing violations in a complex design?</li>\n          <li>What techniques could you use to optimize a design that's consuming too many FPGA resources?</li>\n        </ol>\n      "}],quiz:{title:"Verilog Synthesis and Implementation Quiz",description:"Test your understanding of synthesis, implementation, and hardware realization of Verilog designs",questions:[{id:"q15_1",question:"What is the primary purpose of synthesis in the Verilog design flow?",options:[{id:"a",text:"To check for syntax errors in the Verilog code"},{id:"b",text:"To convert RTL code into a gate-level netlist"},{id:"c",text:"To simulate the design for functional verification"},{id:"d",text:"To create timing constraints for the design"}],correctAnswer:"b",explanation:"The primary purpose of synthesis is to convert RTL (Register Transfer Level) code into a gate-level netlist. This process transforms the behavioral and dataflow descriptions in Verilog into an implementation consisting of actual hardware elements (like gates, flip-flops, and functional blocks) that can eventually be mapped to a target technology."},{id:"q15_2",question:"Which of the following is NOT a typical synthesis constraint?",options:[{id:"a",text:"Clock frequency"},{id:"b",text:"Maximum fanout"},{id:"c",text:"Testbench configuration"},{id:"d",text:"Area optimization directives"}],correctAnswer:"c",explanation:"Testbench configuration is not a synthesis constraint. Synthesis constraints typically include timing constraints (clock frequency, setup/hold requirements), area optimization directives, power goals, and structural guidelines like maximum fanout. Testbenches are used for simulation and verification but are not relevant to the synthesis process itself, as they are not intended to be converted to hardware."},{id:"q15_3",question:"What is the difference between a LUT (Look-Up Table) and a flip-flop in FPGA architecture?",options:[{id:"a",text:"LUTs implement sequential logic; flip-flops implement combinational logic"},{id:"b",text:"LUTs implement combinational logic; flip-flops implement sequential logic"},{id:"c",text:"LUTs store configuration data; flip-flops store user data"},{id:"d",text:"LUTs can only implement Boolean functions; flip-flops can implement any function"}],correctAnswer:"b",explanation:"LUTs (Look-Up Tables) implement combinational logic functions by storing a truth table that can realize any Boolean function of its inputs. Flip-flops implement sequential logic by storing state information that persists between clock cycles. Together, these fundamental elements form the building blocks of FPGA designs, with LUTs handling computational elements and flip-flops providing memory and synchronization."},{id:"q15_4",question:"What is a key difference between FPGA and ASIC implementation flows?",options:[{id:"a",text:"ASICs require HDL design while FPGAs can be designed with block diagrams only"},{id:"b",text:"FPGAs can be reconfigured after deployment; ASICs are fixed after manufacturing"},{id:"c",text:"FPGA designs cannot use IP cores but ASIC designs can"},{id:"d",text:"ASICs support higher clock frequencies but have lower logic capacity than FPGAs"}],correctAnswer:"b",explanation:"A key difference between FPGA and ASIC implementation flows is that FPGAs can be reconfigured after deployment, while ASICs are fixed after manufacturing. This fundamental difference affects the entire design process, including verification strategy, risk management, and time-to-market considerations. FPGAs offer flexibility and iterative improvement capability, while ASICs typically offer better performance, power efficiency, and unit cost at high volumes."},{id:"q15_5",question:"What does static timing analysis (STA) verify?",options:[{id:"a",text:"Functional correctness of the design"},{id:"b",text:"Power consumption of the design"},{id:"c",text:"That all timing paths meet setup and hold requirements"},{id:"d",text:"Routing resource utilization"}],correctAnswer:"c",explanation:"Static timing analysis (STA) verifies that all timing paths in a design meet setup and hold time requirements. Rather than using simulation with specific test vectors, STA exhaustively analyzes every possible path through the design to ensure timing constraints are satisfied under worst-case conditions. This mathematical analysis is essential for ensuring reliable operation of synchronous digital circuits at the specified clock frequency."},{id:"q15_6",question:"Which Verilog construct is generally NOT synthesizable for FPGA or ASIC implementation?",options:[{id:"a",text:"always @(posedge clk) blocks"},{id:"b",text:"initial blocks"},{id:"c",text:"generate statements"},{id:"d",text:"case statements"}],correctAnswer:"b",explanation:"'initial' blocks are generally not synthesizable for FPGA or ASIC implementation. They are primarily used in simulation to set up initial conditions or create testbench stimulus. While some synthesis tools may support limited usage of initial blocks for initialization in certain contexts, they are generally considered simulation constructs. The other options (always blocks, generate statements, and case statements) are all commonly used synthesizable constructs."},{id:"q15_7",question:"What is the purpose of an SDC (Synopsys Design Constraints) file?",options:[{id:"a",text:"To define the logic functions of a design"},{id:"b",text:"To specify timing requirements and exceptions for synthesis and implementation"},{id:"c",text:"To describe the physical layout of components on a chip"},{id:"d",text:"To configure memory initialization values"}],correctAnswer:"b",explanation:"An SDC (Synopsys Design Constraints) file is used to specify timing requirements and exceptions for synthesis and implementation. It contains commands that define clock characteristics, input/output delays, timing exceptions (like false paths and multicycle paths), and other constraints that guide the tools in creating an implementation that meets timing requirements. SDC has become a standard format supported by most EDA tools."},{id:"q15_8",question:"What is retiming in the context of FPGA/ASIC optimization?",options:[{id:"a",text:"Changing the clock frequency of the design"},{id:"b",text:"Re-running simulation with different timing parameters"},{id:"c",text:"Moving registers across combinational logic to improve timing without changing functionality"},{id:"d",text:"Adjusting the delay of clock signals to different parts of the chip"}],correctAnswer:"c",explanation:"Retiming is an optimization technique that moves registers across combinational logic to improve timing without changing the functionality of the design. By redistributing the sequential elements (flip-flops) while preserving the design's overall behavior, retiming can balance path delays and potentially allow for higher clock frequencies. It's a powerful optimization that modern synthesis and implementation tools can perform automatically under the right constraints."}]}},completed:!1},{...{id:16,title:"Practical Verilog Design Projects",description:"Apply your Verilog knowledge to complete real-world design projects from specification to implementation",estimatedTime:"8 hours",completed:!1,sections:[{id:"16.1",title:"Project Planning and Requirements Analysis",content:'\n        <h3>Approaching Real-World Design Projects</h3>\n        <p>Successful hardware projects begin with thorough planning and requirements analysis.</p>\n        \n        <h4>Project Development Lifecycle</h4>\n        <p>Hardware design follows a structured development process:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ol>\n            <li>\n              <strong>Requirements Definition</strong>\n              <ul>\n                <li>Functional requirements: What the design must do</li>\n                <li>Performance requirements: Speed, throughput, latency</li>\n                <li>Interface requirements: Protocols, signal standards</li>\n                <li>Physical requirements: Size, power, packaging</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Architecture Development</strong>\n              <ul>\n                <li>System partitioning: Major blocks and their interactions</li>\n                <li>Algorithm selection: Processing approaches and tradeoffs</li>\n                <li>Resource allocation: Memory, processing, I/O</li>\n                <li>Block diagrams and interface definitions</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Detailed Design</strong>\n              <ul>\n                <li>Module specifications: Input/output, functionality</li>\n                <li>Protocol definitions: Signal timing, handshaking</li>\n                <li>State machine development: Control flows</li>\n                <li>Datapath design: Processing elements and connections</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Implementation and Verification</strong>\n              <ul>\n                <li>RTL coding: Following coding standards and guidelines</li>\n                <li>Unit testing: Verifying individual modules</li>\n                <li>Integration testing: Testing combined components</li>\n                <li>System verification: Validating complete design</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Optimization and Refinement</strong>\n              <ul>\n                <li>Performance tuning: Meeting timing and throughput goals</li>\n                <li>Resource optimization: Reducing hardware utilization</li>\n                <li>Power optimization: Minimizing energy consumption</li>\n                <li>Testing on target hardware: Final validation</li>\n              </ul>\n            </li>\n          </ol>\n        </div>\n        \n        <h4>Example: Requirements Specification</h4>\n        <p>Here\'s how requirements might be documented for a digital filter project:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; border: 1px solid #ddd;">\n          <h4 style="margin-top:0">FIR Filter Requirements Specification</h4>\n          \n          <h5>1. Functional Requirements</h5>\n          <ul>\n            <li>Implement a 16-tap FIR filter with programmable coefficients</li>\n            <li>Support 16-bit signed input and output samples</li>\n            <li>Provide coefficient loading interface</li>\n            <li>Include bypass mode for filter disable</li>\n          </ul>\n          \n          <h5>2. Performance Requirements</h5>\n          <ul>\n            <li>Process data at a minimum rate of 100 MSamples/sec</li>\n            <li>Latency not to exceed 10 clock cycles</li>\n            <li>Operate at a minimum clock frequency of 200 MHz</li>\n          </ul>\n          \n          <h5>3. Interface Requirements</h5>\n          <ul>\n            <li>AXI-Stream compatible data input and output</li>\n            <li>AXI-Lite slave interface for control and coefficient loading</li>\n            <li>Status and error indicators via interrupt and status register</li>\n          </ul>\n          \n          <h5>4. Resource Constraints</h5>\n          <ul>\n            <li>Maximum 10 DSP blocks</li>\n            <li>Maximum 4 Block RAMs</li>\n            <li>Power consumption under 100 mW</li>\n          </ul>\n        </div>\n        \n        <h4>Translating Requirements to Architecture</h4>\n        <p>From requirements, create a high-level architecture to guide detailed design:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <img src="https://www.allaboutcircuits.com/uploads/articles/FIR_filter.jpg" alt="FIR Filter Block Diagram" style="width:100%; max-width:600px; display:block; margin:0 auto;">\n          <p style="text-align:center; font-style:italic; margin-top:10px;">FIR Filter High-Level Architecture</p>\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Project Documentation Best Practices</h4>\n          <p>Comprehensive documentation is essential for design reuse and maintenance:</p>\n          <ul>\n            <li>Create a project design document with block diagrams and interface specifications</li>\n            <li>Document design decisions and tradeoffs considered</li>\n            <li>Maintain up-to-date register and memory maps</li>\n            <li>Include timing diagrams for critical interfaces</li>\n            <li>Document test scenarios and verification approaches</li>\n            <li>Provide clear setup instructions for tools and simulation environments</li>\n          </ul>\n        </div>\n      '},{id:"16.2",title:"Project 1: Digital Communication System",content:"\n        <h3>UART Transceiver Design</h3>\n        <p>A Universal Asynchronous Receiver-Transmitter (UART) is a fundamental component in many digital systems, providing serial communication capabilities.</p>\n        \n        <h4>Project Specification</h4>\n        <p>In this project, we'll implement a complete UART transceiver with the following features:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0;\">\n          <ul>\n            <li>Configurable baud rate generator</li>\n            <li>8-bit data with optional parity bit</li>\n            <li>1 or 2 stop bits</li>\n            <li>Transmit and receive FIFOs</li>\n            <li>Status flags for buffer status and error conditions</li>\n            <li>Simple parallel interface to host system</li>\n          </ul>\n        </div>\n        \n        <h4>System Architecture</h4>\n        <p>The UART consists of several key components:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0;\">\n          <ol>\n            <li><strong>Baud Rate Generator</strong>: Creates timing for transmit and receive operations</li>\n            <li><strong>Transmitter</strong>: Converts parallel data to serial format with proper framing</li>\n            <li><strong>Receiver</strong>: Samples incoming serial data and reassembles bytes</li>\n            <li><strong>FIFOs</strong>: Buffer data in both directions</li>\n            <li><strong>Control Logic</strong>: Manages configuration and status reporting</li>\n          </ol>\n        </div>\n        \n        <h4>Module Implementation</h4>\n        <p>Let's look at the implementation of key components:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;\">\n          // Baud Rate Generator\n          module baud_gen #(\n            parameter CLK_FREQ = 50_000_000,  // 50 MHz system clock\n            parameter BAUD_RATE = 115_200     // Target baud rate\n          ) (\n            input  wire       clk,\n            input  wire       rst_n,\n            input  wire [15:0] baud_div,      // Programmable divider\n            output reg        baud_tick       // Tick at baud rate\n          );\n            // Calculate divider value based on clock and desired rate\n            localparam DEFAULT_DIV = CLK_FREQ / BAUD_RATE;\n            \n            // Counter to generate tick\n            reg [15:0] counter;\n            \n            always @(posedge clk or negedge rst_n) begin\n              if (!rst_n) begin\n                counter <= 16'd0;\n                baud_tick <= 1'b0;\n              end else begin\n                if (counter == (baud_div ? baud_div - 1 : DEFAULT_DIV - 1)) begin\n                  counter <= 16'd0;\n                  baud_tick <= 1'b1;\n                end else begin\n                  counter <= counter + 1'b1;\n                  baud_tick <= 1'b0;\n                end\n              end\n            end\n          endmodule\n          \n          // UART Transmitter\n          module uart_tx #(\n            parameter DATA_WIDTH = 8\n          ) (\n            input  wire                  clk,\n            input  wire                  rst_n,\n            input  wire                  baud_tick,     // From baud generator\n            input  wire                  tx_start,      // Start transmission\n            input  wire                  parity_en,     // Enable parity bit\n            input  wire                  parity_type,   // 0=even, 1=odd\n            input  wire                  two_stop_bits, // Use 2 stop bits\n            input  wire [DATA_WIDTH-1:0] tx_data,       // Data to transmit\n            output reg                   tx,            // Serial output\n            output wire                  tx_busy        // Transmitter busy\n          );\n            // States\n            localparam IDLE      = 3'b000;\n            localparam START_BIT = 3'b001;\n            localparam DATA_BITS = 3'b010;\n            localparam PARITY    = 3'b011;\n            localparam STOP_BIT1 = 3'b100;\n            localparam STOP_BIT2 = 3'b101;\n            \n            reg [2:0]  state;\n            reg [2:0]  bit_count;\n            reg [7:0]  tx_shift_reg;\n            reg        parity_bit;\n            \n            assign tx_busy = (state != IDLE);\n            \n            // Calculate parity\n            function parity;\n              input [DATA_WIDTH-1:0] data;\n              input type;\n              begin\n                parity = ^data; // XOR of all bits (even parity)\n                if (type) parity = ~parity; // Invert for odd parity\n              end\n            endfunction\n            \n            // Transmitter state machine\n            always @(posedge clk or negedge rst_n) begin\n              if (!rst_n) begin\n                state <= IDLE;\n                tx <= 1'b1;  // Idle state is high\n                bit_count <= 3'd0;\n                tx_shift_reg <= 8'd0;\n                parity_bit <= 1'b0;\n              end else begin\n                case (state)\n                  IDLE: begin\n                    tx <= 1'b1;  // Idle state is high\n                    if (tx_start) begin\n                      state <= START_BIT;\n                      tx_shift_reg <= tx_data;\n                      parity_bit <= parity(tx_data, parity_type);\n                    end\n                  end\n                  \n                  START_BIT: begin\n                    if (baud_tick) begin\n                      tx <= 1'b0;  // Start bit is low\n                      state <= DATA_BITS;\n                      bit_count <= 3'd0;\n                    end\n                  end\n                  \n                  DATA_BITS: begin\n                    if (baud_tick) begin\n                      tx <= tx_shift_reg[0];  // LSB first\n                      tx_shift_reg <= {1'b0, tx_shift_reg[7:1]};\n                      \n                      if (bit_count == (DATA_WIDTH-1)) begin\n                        bit_count <= 3'd0;\n                        state <= parity_en ? PARITY : STOP_BIT1;\n                      end else begin\n                        bit_count <= bit_count + 1'b1;\n                      end\n                    end\n                  end\n                  \n                  PARITY: begin\n                    if (baud_tick) begin\n                      tx <= parity_bit;\n                      state <= STOP_BIT1;\n                    end\n                  end\n                  \n                  STOP_BIT1: begin\n                    if (baud_tick) begin\n                      tx <= 1'b1;  // Stop bit is high\n                      state <= two_stop_bits ? STOP_BIT2 : IDLE;\n                    end\n                  end\n                  \n                  STOP_BIT2: begin\n                    if (baud_tick) begin\n                      tx <= 1'b1;  // Second stop bit\n                      state <= IDLE;\n                    end\n                  end\n                  \n                  default: state <= IDLE;\n                endcase\n              end\n            end\n          endmodule\n        </div>\n        \n        <h4>Integration and Testing</h4>\n        <p>After implementing individual modules, integrate them into a complete UART:</p>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;\">\n          module uart_top #(\n            parameter CLK_FREQ = 50_000_000,\n            parameter BAUD_RATE = 115_200,\n            parameter DATA_WIDTH = 8,\n            parameter FIFO_DEPTH = 16\n          ) (\n            // System Interface\n            input  wire                   clk,\n            input  wire                   rst_n,\n            \n            // Configuration\n            input  wire [15:0]            baud_div,\n            input  wire                   parity_en,\n            input  wire                   parity_type,\n            input  wire                   two_stop_bits,\n            \n            // Host Interface\n            input  wire                   wr_en,\n            input  wire [DATA_WIDTH-1:0]  wr_data,\n            input  wire                   rd_en,\n            output wire [DATA_WIDTH-1:0]  rd_data,\n            output wire                   tx_fifo_full,\n            output wire                   rx_fifo_empty,\n            output wire                   rx_error,\n            \n            // Serial Interface\n            output wire                   tx,\n            input  wire                   rx\n          );\n            // Internal signals\n            wire baud_tick;\n            wire tx_busy;\n            wire tx_start;\n            wire [DATA_WIDTH-1:0] tx_data;\n            wire rx_data_valid;\n            wire [DATA_WIDTH-1:0] rx_data_out;\n            \n            // Baud rate generator\n            baud_gen #(\n              .CLK_FREQ(CLK_FREQ),\n              .BAUD_RATE(BAUD_RATE)\n            ) baud_gen_inst (\n              .clk(clk),\n              .rst_n(rst_n),\n              .baud_div(baud_div),\n              .baud_tick(baud_tick)\n            );\n            \n            // TX FIFO\n            fifo #(\n              .DATA_WIDTH(DATA_WIDTH),\n              .DEPTH(FIFO_DEPTH)\n            ) tx_fifo (\n              .clk(clk),\n              .rst_n(rst_n),\n              .wr_en(wr_en),\n              .wr_data(wr_data),\n              .rd_en(tx_start && !tx_busy),\n              .rd_data(tx_data),\n              .full(tx_fifo_full),\n              .empty(tx_fifo_empty)\n            );\n            \n            // TX Controller\n            assign tx_start = !tx_fifo_empty && !tx_busy;\n            \n            // UART Transmitter\n            uart_tx #(\n              .DATA_WIDTH(DATA_WIDTH)\n            ) uart_tx_inst (\n              .clk(clk),\n              .rst_n(rst_n),\n              .baud_tick(baud_tick),\n              .tx_start(tx_start),\n              .parity_en(parity_en),\n              .parity_type(parity_type),\n              .two_stop_bits(two_stop_bits),\n              .tx_data(tx_data),\n              .tx(tx),\n              .tx_busy(tx_busy)\n            );\n            \n            // UART Receiver and RX FIFO would be implemented similarly\n            // Additional error handling logic omitted for brevity\n          endmodule\n        </div>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;\">\n          <h4>Project Extensions</h4>\n          <p>This UART design can be extended in several ways:</p>\n          <ul>\n            <li>Add automatic baud rate detection for self-configuring receivers</li>\n            <li>Implement flow control (RTS/CTS) for reliable communication</li>\n            <li>Add interface to DMA controller for efficient data transfer</li>\n            <li>Implement multiple UARTs in a single design with shared resources</li>\n            <li>Add statistics gathering for error rates and link quality monitoring</li>\n          </ul>\n        </div>\n      "},{id:"16.3",title:"Project 2: Digital Signal Processing System",content:'\n        <h3>Finite Impulse Response (FIR) Filter</h3>\n        <p>FIR filters are fundamental components in digital signal processing systems, used for tasks like noise reduction, signal separation, and equalization.</p>\n        \n        <h4>Project Specification</h4>\n        <p>We\'ll implement a parameterized FIR filter with these features:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ul>\n            <li>Configurable number of taps (coefficients)</li>\n            <li>Programmable coefficient values</li>\n            <li>Support for signed 16-bit input and output samples</li>\n            <li>Internal precision to prevent overflow and maintain accuracy</li>\n            <li>Resource-efficient implementation using DSP blocks</li>\n            <li>Streaming interface with valid/ready handshaking</li>\n          </ul>\n        </div>\n        \n        <h4>Design Alternatives</h4>\n        <p>Several architectures are available for FIR filter implementation:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n            <tr style="background-color:#f0f0f0">\n              <th>Architecture</th>\n              <th>Description</th>\n              <th>Tradeoffs</th>\n            </tr>\n            <tr>\n              <td><strong>Direct Form</strong></td>\n              <td>Simple implementation with delay line and parallel multipliers</td>\n              <td>High throughput but resource intensive for many taps</td>\n            </tr>\n            <tr>\n              <td><strong>Transposed Form</strong></td>\n              <td>Rearranged structure with better numerical properties</td>\n              <td>Improved precision with similar resource usage to direct form</td>\n            </tr>\n            <tr>\n              <td><strong>Systolic Array</strong></td>\n              <td>Pipelined structure with regular processing elements</td>\n              <td>High throughput with efficient resource utilization</td>\n            </tr>\n            <tr>\n              <td><strong>Time-Multiplexed</strong></td>\n              <td>Reuses multipliers across multiple taps</td>\n              <td>Lower resource usage but reduced throughput</td>\n            </tr>\n          </table>\n        </div>\n        \n        <h4>Implementation</h4>\n        <p>For our implementation, we\'ll use a direct form architecture with resource sharing:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0; font-family: monospace;">\n          module fir_filter #(\n            parameter INPUT_WIDTH = 16,\n            parameter COEFF_WIDTH = 16,\n            parameter OUTPUT_WIDTH = 16,\n            parameter NUM_TAPS = 16,\n            parameter INTERNAL_WIDTH = INPUT_WIDTH + COEFF_WIDTH + $clog2(NUM_TAPS)\n          ) (\n            input  wire                     clk,\n            input  wire                     rst_n,\n            \n            // Coefficient loading interface\n            input  wire                     coeff_load_en,\n            input  wire [$clog2(NUM_TAPS)-1:0] coeff_load_addr,\n            input  wire [COEFF_WIDTH-1:0]   coeff_load_data,\n            \n            // Data streaming interface\n            input  wire                     in_valid,\n            output wire                     in_ready,\n            input  wire [INPUT_WIDTH-1:0]   in_data,\n            \n            output wire                     out_valid,\n            input  wire                     out_ready,\n            output wire [OUTPUT_WIDTH-1:0]  out_data\n          );\n            // Sample delay line\n            reg [INPUT_WIDTH-1:0] delay_line [NUM_TAPS-1:0];\n            \n            // Coefficient memory\n            reg [COEFF_WIDTH-1:0] coeffs [NUM_TAPS-1:0];\n            \n            // Control signals\n            reg processing;\n            reg [$clog2(NUM_TAPS):0] tap_counter;\n            reg out_valid_reg;\n            \n            // Internal arithmetic registers\n            reg [INTERNAL_WIDTH-1:0] accumulator;\n            reg [INTERNAL_WIDTH-1:0] product;\n            \n            // Interface handshaking\n            assign in_ready = !processing || (tap_counter == NUM_TAPS && out_ready);\n            assign out_valid = out_valid_reg;\n            \n            // Output with saturation\n            assign out_data = saturate(accumulator);\n            \n            // Saturation function\n            function [OUTPUT_WIDTH-1:0] saturate;\n              input [INTERNAL_WIDTH-1:0] value;\n              begin\n                if (value > {{(INTERNAL_WIDTH-OUTPUT_WIDTH){1\'b0}}, {OUTPUT_WIDTH{1\'b1}}})\n                  saturate = {1\'b0, {(OUTPUT_WIDTH-1){1\'b1}}};  // Positive saturation\n                else if (value < {{(INTERNAL_WIDTH-OUTPUT_WIDTH){1\'b1}}, {OUTPUT_WIDTH{1\'b0}}})\n                  saturate = {1\'b1, {(OUTPUT_WIDTH-1){1\'b0}}};  // Negative saturation\n                else\n                  saturate = value[OUTPUT_WIDTH-1:0];  // No saturation needed\n              end\n            endfunction\n            \n            // Coefficient loading\n            always @(posedge clk) begin\n              if (coeff_load_en) begin\n                coeffs[coeff_load_addr] <= coeff_load_data;\n              end\n            end\n            \n            // Main processing logic\n            always @(posedge clk or negedge rst_n) begin\n              if (!rst_n) begin\n                processing <= 1\'b0;\n                tap_counter <= 0;\n                accumulator <= 0;\n                out_valid_reg <= 1\'b0;\n                \n                // Reset delay line\n                integer i;\n                for (i = 0; i < NUM_TAPS; i = i + 1) begin\n                  delay_line[i] <= 0;\n                end\n              end else begin\n                // Input handling\n                if (in_valid && in_ready) begin\n                  // Shift delay line\n                  integer i;\n                  for (i = NUM_TAPS-1; i > 0; i = i - 1) begin\n                    delay_line[i] <= delay_line[i-1];\n                  end\n                  delay_line[0] <= in_data;\n                  \n                  // Start processing\n                  processing <= 1\'b1;\n                  tap_counter <= 0;\n                  accumulator <= 0;\n                  out_valid_reg <= 1\'b0;\n                end\n                \n                // Processing state\n                if (processing) begin\n                  if (tap_counter < NUM_TAPS) begin\n                    // Perform multiply-accumulate\n                    product <= $signed(delay_line[tap_counter]) * $signed(coeffs[tap_counter]);\n                    accumulator <= accumulator + product;\n                    tap_counter <= tap_counter + 1;\n                  end else begin\n                    // Processing complete\n                    out_valid_reg <= 1\'b1;\n                    \n                    // If output accepted, ready for next input\n                    if (out_ready) begin\n                      processing <= 1\'b0;\n                      out_valid_reg <= 1\'b0;\n                    end\n                  end\n                end\n              end\n            end\n          endmodule\n        </div>\n        \n        <h4>Optimizations</h4>\n        <p>Several optimizations can improve this initial design:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ol>\n            <li>\n              <strong>Pipelining</strong>\n              <p>Add pipeline registers to each MAC stage to improve timing and throughput:</p>\n              <div style="font-family: monospace; padding-left: 20px;">\n                // Replace direct accumulation with pipelined structure\n                reg [INTERNAL_WIDTH-1:0] pipe_regs [NUM_TAPS:0];\n                \n                always @(posedge clk) begin\n                  pipe_regs[0] <= 0; // Starting value\n                  integer i;\n                  for (i = 0; i < NUM_TAPS; i = i + 1) begin\n                    pipe_regs[i+1] <= pipe_regs[i] + \n                      $signed(delay_line[i]) * $signed(coeffs[i]);\n                  end\n                end\n                \n                // Final output is the last pipeline register\n                assign out_data = saturate(pipe_regs[NUM_TAPS]);\n              </div>\n            </li>\n            <li>\n              <strong>Resource Sharing</strong>\n              <p>For large filters, time-multiplex a smaller number of multipliers:</p>\n              <div style="font-family: monospace; padding-left: 20px;">\n                // Use NUM_MULTIPLIERS instead of NUM_TAPS multipliers\n                // Process taps in groups, over multiple clock cycles\n              </div>\n            </li>\n            <li>\n              <strong>Symmetric Filter Optimization</strong>\n              <p>For filters with symmetric coefficients, reduce multiplier count by half:</p>\n              <div style="font-family: monospace; padding-left: 20px;">\n                // For symmetric filters where coeff[i] = coeff[NUM_TAPS-1-i]\n                // First add corresponding samples, then multiply once\n                sum = delay_line[i] + delay_line[NUM_TAPS-1-i];\n                product = sum * coeffs[i];\n              </div>\n            </li>\n          </ol>\n        </div>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #ff9800; margin: 20px 0;">\n          <h4>Performance Analysis</h4>\n          <p>For a 16-tap FIR filter with 16-bit coefficients and data:</p>\n          <ul>\n            <li><strong>Resource Usage</strong>: 16 DSP blocks (or fewer with optimization)</li>\n            <li><strong>Throughput</strong>: 1 sample per clock with pipelining</li>\n            <li><strong>Latency</strong>: 16-20 clock cycles (depending on implementation)</li>\n            <li><strong>Maximum Frequency</strong>: Typically 200-300 MHz in modern FPGAs</li>\n          </ul>\n          <p>The implementation can be scaled to support higher-order filters or multiple channels by balancing resource usage against performance requirements.</p>\n        </div>\n      '},{id:"16.4",title:"Key Takeaways",content:'\n        <h3>Summary: Practical Verilog Design Projects</h3>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;">\n          <h4>Key Points</h4>\n          <ul>\n            <li>Real-world design projects require careful planning and systematic development approaches.</li>\n            <li>Communication interfaces like UART form the backbone of many digital systems.</li>\n            <li>Digital signal processing components like FIR filters demonstrate advanced implementation techniques.</li>\n            <li>Design tradeoffs between performance, resource usage, and power must be carefully balanced.</li>\n            <li>Understanding standard interfaces and protocols is essential for creating interoperable designs.</li>\n          </ul>\n        </div>\n        \n        <h3>Next Steps in Your Verilog Journey</h3>\n        <p>As you complete this Verilog Fundamentals course, consider these paths for further growth:</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; margin: 20px 0;">\n          <ol>\n            <li>\n              <strong>Advanced Hardware Design</strong>\n              <ul>\n                <li>Processor design: CPU pipelines, cache systems, branch prediction</li>\n                <li>Memory controllers: DDR interfaces, arbitration, timing closure</li>\n                <li>High-speed interfaces: PCIe, Ethernet, SerDes</li>\n              </ul>\n            </li>\n            <li>\n              <strong>System-on-Chip Integration</strong>\n              <ul>\n                <li>Bus architecture: AXI, Avalon, Wishbone</li>\n                <li>IP integration: Connecting diverse components</li>\n                <li>System verification: End-to-end testing, corner cases</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Verification Expertise</strong>\n              <ul>\n                <li>SystemVerilog: Object-oriented verification</li>\n                <li>Universal Verification Methodology (UVM)</li>\n                <li>Formal verification: Property checking, equivalence checking</li>\n              </ul>\n            </li>\n            <li>\n              <strong>Hardware Acceleration</strong>\n              <ul>\n                <li>High-level synthesis: C/C++ to RTL</li>\n                <li>Domain-specific architectures: ML accelerators, video processing</li>\n                <li>Hardware-software co-design: Optimizing system partitioning</li>\n              </ul>\n            </li>\n          </ol>\n        </div>\n        \n        <h3>Final Thoughts</h3>\n        <p>Verilog design is both a science and an art. While the language provides the framework, creating elegant, efficient, and maintainable designs requires experience and continuous improvement. As you work on real projects, you\'ll develop intuition for design tradeoffs and best practices.</p>\n        \n        <p>Remember that successful hardware designers are not just skilled in Verilog - they combine domain knowledge, system architecture understanding, verification expertise, and implementation skills. Continue exploring these areas to become a well-rounded hardware design professional.</p>\n        \n        <div style="background-color: #f8f9fa; padding: 15px; border-left: 5px solid #22bb33; margin: 20px 0;">\n          <h4>Course Completion</h4>\n          <p>Congratulations on completing the Verilog Fundamentals course! You\'ve built a strong foundation in Verilog HDL and digital design concepts. The skills you\'ve developed will serve you well whether you\'re pursuing a career in FPGA development, ASIC design, or other digital hardware fields.</p>\n          <p>We encourage you to continue building real projects and expanding your knowledge. The hardware design field continues to evolve, but the fundamental principles you\'ve learned will remain valuable throughout your journey.</p>\n        </div>\n      '}],quiz:{title:"Practical Verilog Design Projects Quiz",description:"Test your understanding of real-world Verilog design projects and implementation considerations",questions:[{id:"q16_1",question:"Which of the following is NOT typically part of the hardware project development lifecycle?",options:[{id:"a",text:"Requirements Definition"},{id:"b",text:"Architecture Development"},{id:"c",text:"Alpha and Beta Testing"},{id:"d",text:"Implementation and Verification"}],correctAnswer:"c",explanation:"Alpha and Beta Testing is not typically part of the hardware project development lifecycle. While software projects often use alpha and beta testing phases with external users, hardware projects follow a development cycle that includes Requirements Definition, Architecture Development, Detailed Design, Implementation and Verification, and Optimization and Refinement. Testing in hardware projects is done through simulation, prototype validation, and lab testing rather than alpha/beta release models."},{id:"q16_2",question:"In a UART design, what is the purpose of the baud rate generator?",options:[{id:"a",text:"To convert between parallel and serial data formats"},{id:"b",text:"To create timing signals for transmit and receive operations"},{id:"c",text:"To buffer incoming and outgoing data"},{id:"d",text:"To detect and correct transmission errors"}],correctAnswer:"b",explanation:"The baud rate generator in a UART design creates timing signals for transmit and receive operations. It generates clock ticks at specific intervals corresponding to the desired baud rate, which ensures that both the transmitter and receiver sample the serial data line at the correct times. This synchronization is essential for proper UART communication, as the protocol relies on time-based sampling without a separate clock signal."},{id:"q16_3",question:"Which FIR filter architecture offers the best balance between throughput and resource efficiency?",options:[{id:"a",text:"Direct Form"},{id:"b",text:"Transposed Form"},{id:"c",text:"Systolic Array"},{id:"d",text:"Time-Multiplexed"}],correctAnswer:"c",explanation:"The Systolic Array architecture for FIR filters offers the best balance between throughput and resource efficiency. It uses a pipelined structure with regular processing elements that can achieve high throughput (one output per clock cycle) while efficiently utilizing hardware resources. This architecture distributes the computation across multiple elements that operate in parallel, with data flowing through the system in a rhythmic pattern, making it well-suited for FPGA implementation of high-performance filters."},{id:"q16_4",question:"What optimization technique could reduce the number of multipliers needed in a FIR filter with symmetric coefficients?",options:[{id:"a",text:"Pipelining each multiply-accumulate stage"},{id:"b",text:"Adding corresponding input samples before multiplication"},{id:"c",text:"Converting to a transposed structure"},{id:"d",text:"Using fixed instead of programmable coefficients"}],correctAnswer:"b",explanation:"For FIR filters with symmetric coefficients (where coeff[i] = coeff[NUM_TAPS-1-i]), adding corresponding input samples before multiplication can reduce the number of multipliers by half. Since the same coefficient is applied to two different samples, we can first add these samples and then multiply the sum by the coefficient once, effectively reducing the multiplier count by 50%. This is a common optimization for linear-phase filters, which naturally have symmetric coefficients."},{id:"q16_5",question:"In a UART design, what is the purpose of the 'start bit'?",options:[{id:"a",text:"To indicate the beginning of a new data frame"},{id:"b",text:"To allow the receiver to calculate the baud rate"},{id:"c",text:"To compensate for transmission errors"},{id:"d",text:"To provide additional time for the receiver to process data"}],correctAnswer:"a",explanation:"In a UART design, the purpose of the 'start bit' is to indicate the beginning of a new data frame. Since UART is asynchronous (no shared clock), the start bit (always a logic '0') signals to the receiver that a new byte transmission is beginning. This transition from the idle state (logic '1') to the start bit allows the receiver to synchronize its sampling process with the incoming data frame, ensuring proper reception of the subsequent data bits."},{id:"q16_6",question:"What is the primary purpose of using saturation logic in a digital signal processing component like an FIR filter?",options:[{id:"a",text:"To reduce power consumption"},{id:"b",text:"To prevent overflow and underflow conditions"},{id:"c",text:"To compensate for coefficient quantization errors"},{id:"d",text:"To improve filter frequency response"}],correctAnswer:"b",explanation:"The primary purpose of using saturation logic in a digital signal processing component like an FIR filter is to prevent overflow and underflow conditions. When the result of a calculation exceeds the output bit width, saturation logic limits the output to the maximum (for overflow) or minimum (for underflow) representable value, rather than allowing wrap-around. This behavior is typically more desirable in signal processing applications as it prevents severe artifacts that would otherwise occur with arithmetic overflow."},{id:"q16_7",question:"When implementing a resource-efficient FIR filter with many taps, which approach would be most appropriate?",options:[{id:"a",text:"Using a fully parallel direct form implementation"},{id:"b",text:"Time-multiplexing a smaller number of multipliers"},{id:"c",text:"Implementing the filter in the frequency domain"},{id:"d",text:"Using floating-point arithmetic for all calculations"}],correctAnswer:"b",explanation:"When implementing a resource-efficient FIR filter with many taps, time-multiplexing a smaller number of multipliers would be most appropriate. Instead of using one multiplier per tap (which becomes expensive for filters with many coefficients), this approach reuses the same multiplier hardware for multiple taps by processing different taps in sequence over multiple clock cycles. While this reduces throughput, it significantly reduces hardware resource usage, making it suitable for area-constrained designs."},{id:"q16_8",question:"What is a key consideration when designing the clocking scheme for a complex digital system with multiple components?",options:[{id:"a",text:"Using the highest possible frequency for all components"},{id:"b",text:"Implementing asynchronous interfaces between all modules"},{id:"c",text:"Managing clock domain crossings and ensuring proper synchronization"},{id:"d",text:"Avoiding the use of clock enables and gated clocks"}],correctAnswer:"c",explanation:"A key consideration when designing the clocking scheme for a complex digital system is managing clock domain crossings and ensuring proper synchronization. When signals traverse from one clock domain to another, they need proper synchronization techniques (like multi-stage synchronizers) to prevent metastability issues. Without proper handling, clock domain crossings can lead to unpredictable behavior, data corruption, and system failures. This aspect becomes increasingly important as designs grow in complexity and contain multiple clock domains."}]}},completed:!1}],exercises:[{id:"ex1",title:"Practical Example: Half Adder Implementation",description:"Implement a Half Adder circuit using Verilog dataflow modeling and verify its functionality.",difficulty:"Easy",type:"Practical Example",completed:!1,code:"module half_adder(\n  input wire a, b,\n  output wire sum, carry\n);\n  // Sum is implemented using XOR gate\n  assign sum = a ^ b;  \n  \n  // Carry is implemented using AND gate\n  assign carry = a & b;\nendmodule",testbench:'module half_adder_tb;\n  // Testbench signals\n  reg a, b;\n  wire sum, carry;\n  \n  // Instantiate the design under test\n  half_adder dut(\n    .a(a),\n    .b(b),\n    .sum(sum),\n    .carry(carry)\n  );\n  \n  // Test stimulus and monitoring\n  initial begin\n    // Setup monitoring\n    $monitor("Time=%0t | a=%b, b=%b | sum=%b, carry=%b", $time, a, b, sum, carry);\n    \n    // Test all possible combinations\n    a = 0; b = 0; #10;\n    a = 0; b = 1; #10;\n    a = 1; b = 0; #10;\n    a = 1; b = 1; #10;\n    \n    // Finish simulation\n    $display("Half adder test completed successfully!");\n    $finish;\n  end\n  \n  // Optional waveform generation\n  initial begin\n    $dumpfile("half_adder_tb.vcd");\n    $dumpvars(0, half_adder_tb);\n  end\nendmodule'},{id:"ex2",title:"Practical Example: 4-Bit Counter Design",description:"Design a 4-bit synchronous up-counter with active-low reset using behavioral modeling.",difficulty:"Medium",type:"Practical Example",completed:!1,code:"module counter_4bit(\n  input wire clk,          // Clock input\n  input wire rst_n,        // Active-low asynchronous reset\n  input wire enable,       // Counter enable signal\n  output reg [3:0] count,  // 4-bit counter output\n  output wire count_max    // High when counter reaches maximum value (15)\n);\n  // Maximum count detection\n  assign count_max = (count == 4'b1111) ? 1'b1 : 1'b0;\n  \n  // Counter logic\n  always @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n      // Reset counter to zero when reset is asserted (active low)\n      count <= 4'b0000;\n    end\n    else if (enable) begin\n      // Increment counter when enabled\n      count <= count + 1'b1;\n    end\n  end\nendmodule",testbench:'module counter_4bit_tb;\n  // Testbench signals\n  reg clk, rst_n, enable;\n  wire [3:0] count;\n  wire count_max;\n  integer i;\n  \n  // Instantiate the design under test\n  counter_4bit dut(\n    .clk(clk),\n    .rst_n(rst_n),\n    .enable(enable),\n    .count(count),\n    .count_max(count_max)\n  );\n  \n  // Clock generation (10ns period, 100MHz)\n  always #5 clk = ~clk;\n  \n  // Test sequence\n  initial begin\n    // Initialize signals\n    clk = 0;\n    rst_n = 0;\n    enable = 0;\n    \n    // Apply reset for 20ns\n    #20;\n    rst_n = 1;\n    \n    // Test counter with enable active\n    enable = 1;\n    \n    // Let it count for 20 cycles (should wrap around)\n    for(i = 0; i < 20; i = i + 1) begin\n      @(posedge clk);\n      $display("Time=%0t, count=%b, count_max=%b", $time, count, count_max);\n    end\n    \n    // Disable counter and see if it holds value\n    enable = 0;\n    @(posedge clk);\n    $display("Counter disabled at: %b", count);\n    \n    // Continue for a few more cycles to verify\n    for(i = 0; i < 5; i = i + 1) begin\n      @(posedge clk);\n      $display("Time=%0t, count=%b (should be stable)", $time, count);\n    end\n    \n    $display("Counter test completed successfully!");\n    $finish;\n  end\n  \n  // Optional waveform generation\n  initial begin\n    $dumpfile("counter_tb.vcd");\n    $dumpvars(0, counter_4bit_tb);\n  end\nendmodule'},{id:"ex3",title:"Practical Example: FIFO Design",description:"Implement a parameterized FIFO (First-In, First-Out) buffer using Verilog, with configurable width and depth.",difficulty:"Medium",type:"Practical Example",completed:!1,code:"module fifo #(\n  parameter DATA_WIDTH = 8,\n  parameter FIFO_DEPTH = 16\n)(\n  input wire clk,\n  input wire rst_n,\n  input wire wr_en,\n  input wire rd_en,\n  input wire [DATA_WIDTH-1:0] data_in,\n  output reg [DATA_WIDTH-1:0] data_out,\n  output wire full,\n  output wire empty,\n  output wire [$clog2(FIFO_DEPTH):0] fill_level\n);\n  // Memory array for FIFO storage\n  reg [DATA_WIDTH-1:0] mem [0:FIFO_DEPTH-1];\n  \n  // Pointers for read and write operations\n  reg [$clog2(FIFO_DEPTH)-1:0] wr_ptr;\n  reg [$clog2(FIFO_DEPTH)-1:0] rd_ptr;\n  \n  // Counter for tracking fill level\n  reg [$clog2(FIFO_DEPTH):0] count;\n  \n  // FIFO status signals\n  assign empty = (count == 0);\n  assign full = (count == FIFO_DEPTH);\n  assign fill_level = count;\n  \n  // Write operation\n  always @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n      wr_ptr <= 0;\n    end\n    else if (wr_en && !full) begin\n      mem[wr_ptr] <= data_in;\n      wr_ptr <= (wr_ptr == FIFO_DEPTH-1) ? 0 : wr_ptr + 1;\n    end\n  end\n  \n  // Read operation\n  always @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n      rd_ptr <= 0;\n      data_out <= 0;\n    end\n    else if (rd_en && !empty) begin\n      data_out <= mem[rd_ptr];\n      rd_ptr <= (rd_ptr == FIFO_DEPTH-1) ? 0 : rd_ptr + 1;\n    end\n  end\n  \n  // Counter for fill level\n  always @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n      count <= 0;\n    end\n    else begin\n      case ({wr_en & ~full, rd_en & ~empty})\n        2'b10: count <= count + 1; // Write only\n        2'b01: count <= count - 1; // Read only\n        2'b11: count <= count;     // Both read and write\n        default: count <= count;   // No operation\n      endcase\n    end\n  end\nendmodule",testbench:'module fifo_tb;\n  // Parameters\n  parameter DATA_WIDTH = 8;\n  parameter FIFO_DEPTH = 16;\n  \n  // Testbench signals\n  reg clk;\n  reg rst_n;\n  reg wr_en;\n  reg rd_en;\n  reg [DATA_WIDTH-1:0] data_in;\n  wire [DATA_WIDTH-1:0] data_out;\n  wire full;\n  wire empty;\n  wire [$clog2(FIFO_DEPTH):0] fill_level;\n  \n  // Test data\n  reg [DATA_WIDTH-1:0] test_data [0:31];\n  integer i;\n  \n  // Instantiate the FIFO\n  fifo #(\n    .DATA_WIDTH(DATA_WIDTH),\n    .FIFO_DEPTH(FIFO_DEPTH)\n  ) dut (\n    .clk(clk),\n    .rst_n(rst_n),\n    .wr_en(wr_en),\n    .rd_en(rd_en),\n    .data_in(data_in),\n    .data_out(data_out),\n    .full(full),\n    .empty(empty),\n    .fill_level(fill_level)\n  );\n  \n  // Clock generation\n  always #5 clk = ~clk;\n  \n  // Test sequence\n  initial begin\n    // Initialize signals\n    clk = 0;\n    rst_n = 0;\n    wr_en = 0;\n    rd_en = 0;\n    data_in = 0;\n    \n    // Generate test data\n    for (i = 0; i < 32; i = i + 1) begin\n      test_data[i] = i;\n    end\n    \n    // Apply reset\n    #20 rst_n = 1;\n    \n    // Fill the FIFO\n    wr_en = 1;\n    rd_en = 0;\n    for (i = 0; i < FIFO_DEPTH; i = i + 1) begin\n      data_in = test_data[i];\n      @(posedge clk);\n      $display("Write %d, fill_level = %d", data_in, fill_level);\n    end\n    \n    // Check full condition\n    if (full) $display("FIFO full detected correctly");\n    else $display("ERROR: FIFO should be full!");\n    \n    // Read from FIFO\n    wr_en = 0;\n    rd_en = 1;\n    for (i = 0; i < FIFO_DEPTH; i = i + 1) begin\n      @(posedge clk);\n      $display("Read %d, fill_level = %d", data_out, fill_level);\n    end\n    \n    // Simultaneous read and write operations\n    wr_en = 1;\n    rd_en = 1;\n    for (i = 16; i < 24; i = i + 1) begin\n      data_in = test_data[i];\n      @(posedge clk);\n      $display("Read %d, Write %d, fill_level = %d", data_out, data_in, fill_level);\n    end\n    \n    wr_en = 0;\n    rd_en = 0;\n    \n    $display("FIFO test completed successfully!");\n    $finish;\n  end\n  \n  // Generate waveform file\n  initial begin\n    $dumpfile("fifo_tb.vcd");\n    $dumpvars(0, fifo_tb);\n  end\nendmodule'},{id:"ex4",title:"Practical Example: UART Transmitter",description:"Design a UART (Universal Asynchronous Receiver/Transmitter) transmitter module that converts parallel data into serial format.",difficulty:"Hard",type:"Practical Example",completed:!1,code:"module uart_tx #(\n  parameter CLK_FREQ = 50000000,  // Default 50MHz clock\n  parameter BAUD_RATE = 115200,   // Default 115200 baud rate\n  parameter DATA_BITS = 8,        // Default 8 data bits\n  parameter PARITY_EN = 0,        // 0 = no parity, 1 = parity enabled\n  parameter PARITY_TYPE = 0       // 0 = even, 1 = odd\n)(\n  input wire clk,                  // System clock\n  input wire rst_n,                // Active-low reset\n  input wire tx_start,             // Start transmission\n  input wire [DATA_BITS-1:0] tx_data, // Data to transmit\n  output reg tx,                   // Serial output\n  output wire tx_busy              // Transmitter busy flag\n);\n  // Calculate clock cycles per bit\n  localparam CYCLES_PER_BIT = CLK_FREQ / BAUD_RATE;\n  \n  // State machine states\n  localparam IDLE = 3'd0;\n  localparam START_BIT = 3'd1;\n  localparam DATA_BITS_STATE = 3'd2;\n  localparam PARITY_BIT = 3'd3;\n  localparam STOP_BIT = 3'd4;\n  \n  // State and counter registers\n  reg [2:0] state;\n  reg [15:0] cycle_counter;\n  reg [2:0] bit_counter;\n  reg parity;\n  \n  // TX busy signal\n  assign tx_busy = (state != IDLE);\n  \n  // State machine\n  always @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n      state <= IDLE;\n      cycle_counter <= 0;\n      bit_counter <= 0;\n      parity <= 0;\n      tx <= 1'b1;  // Idle state is high\n    end\n    else begin\n      case (state)\n        IDLE: begin\n          tx <= 1'b1;  // Idle state is high\n          cycle_counter <= 0;\n          bit_counter <= 0;\n          \n          // Calculate parity bit\n          if (PARITY_EN) begin\n            parity <= PARITY_TYPE;\n            for (int i = 0; i < DATA_BITS; i = i + 1) begin\n              parity <= parity ^ tx_data[i];\n            end\n          end\n          \n          // Start transmission when requested\n          if (tx_start) begin\n            state <= START_BIT;\n          end\n        end\n        \n        START_BIT: begin\n          tx <= 1'b0;  // Start bit is low\n          \n          // Move to data bits state after one bit time\n          if (cycle_counter < CYCLES_PER_BIT - 1) begin\n            cycle_counter <= cycle_counter + 1;\n          end\n          else begin\n            cycle_counter <= 0;\n            state <= DATA_BITS_STATE;\n          end\n        end\n        \n        DATA_BITS_STATE: begin\n          tx <= tx_data[bit_counter];  // Send current bit\n          \n          // Count cycles for bit timing\n          if (cycle_counter < CYCLES_PER_BIT - 1) begin\n            cycle_counter <= cycle_counter + 1;\n          end\n          else begin\n            cycle_counter <= 0;\n            \n            // Move to next bit or next state\n            if (bit_counter < DATA_BITS - 1) begin\n              bit_counter <= bit_counter + 1;\n            end\n            else begin\n              bit_counter <= 0;\n              state <= PARITY_EN ? PARITY_BIT : STOP_BIT;\n            end\n          end\n        end\n        \n        PARITY_BIT: begin\n          tx <= parity;  // Send parity bit\n          \n          // Move to stop bit after one bit time\n          if (cycle_counter < CYCLES_PER_BIT - 1) begin\n            cycle_counter <= cycle_counter + 1;\n          end\n          else begin\n            cycle_counter <= 0;\n            state <= STOP_BIT;\n          end\n        end\n        \n        STOP_BIT: begin\n          tx <= 1'b1;  // Stop bit is high\n          \n          // Return to idle after one bit time\n          if (cycle_counter < CYCLES_PER_BIT - 1) begin\n            cycle_counter <= cycle_counter + 1;\n          end\n          else begin\n            cycle_counter <= 0;\n            state <= IDLE;\n          end\n        end\n        \n        default: state <= IDLE;\n      endcase\n    end\n  end\nendmodule",testbench:'module uart_tx_tb;\n  // Parameters\n  parameter CLK_FREQ = 50000000;\n  parameter BAUD_RATE = 115200;\n  parameter DATA_BITS = 8;\n  parameter CYCLES_PER_BIT = CLK_FREQ / BAUD_RATE;\n  \n  // Testbench signals\n  reg clk;\n  reg rst_n;\n  reg tx_start;\n  reg [DATA_BITS-1:0] tx_data;\n  wire tx;\n  wire tx_busy;\n  \n  // For cycle counting and bit verification\n  integer cycle_count;\n  integer i, j;\n  reg [9:0] received_frame; // start bit + 8 data bits + stop bit\n  \n  // Instantiate the UART transmitter\n  uart_tx #(\n    .CLK_FREQ(CLK_FREQ),\n    .BAUD_RATE(BAUD_RATE),\n    .DATA_BITS(DATA_BITS),\n    .PARITY_EN(0),\n    .PARITY_TYPE(0)\n  ) dut (\n    .clk(clk),\n    .rst_n(rst_n),\n    .tx_start(tx_start),\n    .tx_data(tx_data),\n    .tx(tx),\n    .tx_busy(tx_busy)\n  );\n  \n  // Clock generation\n  always #10 clk = ~clk; // 50MHz clock\n  \n  // Test sequence\n  initial begin\n    // Initialize signals\n    clk = 0;\n    rst_n = 0;\n    tx_start = 0;\n    tx_data = 0;\n    cycle_count = 0;\n    \n    // Apply reset\n    #20 rst_n = 1;\n    #20;\n    \n    // Test with a few different data values\n    transmit_and_verify(8\'h55); // Alternating 0s and 1s\n    transmit_and_verify(8\'hAA); // Alternating 1s and 0s\n    transmit_and_verify(8\'h00); // All zeros\n    transmit_and_verify(8\'hFF); // All ones\n    transmit_and_verify(8\'h96); // Random data\n    \n    // Test complete\n    #1000;\n    $display("UART TX test completed successfully!");\n    $finish;\n  end\n  \n  // Task to transmit a byte and verify the serial output\n  task transmit_and_verify(input [7:0] data);\n    begin\n      // Initiate transmission\n      @(posedge clk);\n      tx_data = data;\n      tx_start = 1;\n      @(posedge clk);\n      tx_start = 0;\n      \n      $display("Transmitting 0x%h", data);\n      \n      // Wait for transmission to start\n      wait(tx_busy);\n      \n      // Sample the start bit\n      received_frame[0] = tx;\n      \n      // Sample each data bit at the center of the bit time\n      for (i = 0; i < 8; i = i + 1) begin\n        // Wait until the middle of the bit time\n        for (j = 0; j < CYCLES_PER_BIT/2; j = j + 1) begin\n          @(posedge clk);\n        end\n        \n        // Sample the bit\n        received_frame[i+1] = tx;\n        \n        // Wait for the rest of the bit time\n        for (j = 0; j < CYCLES_PER_BIT/2; j = j + 1) begin\n          @(posedge clk);\n        end\n      end\n      \n      // Sample the stop bit\n      received_frame[9] = tx;\n      \n      // Verify start and stop bits\n      if (received_frame[0] != 0) $display("ERROR: Start bit not detected!");\n      if (received_frame[9] != 1) $display("ERROR: Stop bit not detected!");\n      \n      // Verify data bits\n      for (i = 0; i < 8; i = i + 1) begin\n        if (received_frame[i+1] != data[i]) begin\n          $display("ERROR: Data bit %0d mismatch! Expected %b, Got %b", \n                   i, data[i], received_frame[i+1]);\n        end\n      end\n      \n      $display("Received frame: %b (expected: 0_%b_1)", received_frame, data);\n      \n      // Wait for transmission to complete\n      wait(!tx_busy);\n      #1000; // Wait a bit between transmissions\n    end\n  endtask\n  \n  // Generate waveform file\n  initial begin\n    $dumpfile("uart_tx_tb.vcd");\n    $dumpvars(0, uart_tx_tb);\n  end\nendmodule'},{id:"ex5",title:"Practical Example: Digital Signal Processing System",description:"Design a complete digital signal processing system that includes an input capture module, FIR filter for signal processing, and output interface with appropriate control logic.",difficulty:"Expert",type:"Practical Example",details:"This practical example integrates concepts from throughout the course:\n- Design requirements analysis and specification development\n- RTL implementation of data path and control logic\n- Parameterized module design for flexibility\n- Testbench development with automated validation\n- Timing and resource optimization\n- System integration with multiple components\n\n**Requirements:**\n1. Input interface with valid/ready handshaking protocol\n2. Configurable FIR filter with at least 8 programmable coefficients\n3. Control module for coefficient loading and operational modes\n4. Output interface with processed data and status flags\n5. Comprehensive testbench that validates functionality with various input patterns\n6. Documentation including block diagram, interface specification, and test results",completed:!1,code:"//-------------------------------------------\n// Input Capture Module\n//-------------------------------------------\nmodule input_capture #(\n  parameter DATA_WIDTH = 16\n)(\n  input  wire clk,\n  input  wire rst_n,\n  // External interface\n  input  wire [DATA_WIDTH-1:0] data_in,\n  input  wire data_valid,\n  output wire data_ready,\n  // Internal interface\n  output reg  [DATA_WIDTH-1:0] captured_data,\n  output reg  captured_valid,\n  input  wire captured_ready\n);\n  // Ready when downstream is ready to accept data\n  assign data_ready = captured_ready || !captured_valid;\n  \n  // Capture and hold input data\n  always @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n      captured_data <= {DATA_WIDTH{1'b0}};\n      captured_valid <= 1'b0;\n    end \n    else if (data_valid && data_ready) begin\n      // Capture new data\n      captured_data <= data_in;\n      captured_valid <= 1'b1;\n    end \n    else if (captured_ready) begin\n      // Clear valid flag when data is consumed\n      captured_valid <= 1'b0;\n    end\n  end\nendmodule",testbench:'module dsp_system_tb;\n  // Parameters\n  parameter DATA_WIDTH = 16;\n  parameter NUM_TAPS = 8;\n  \n  // Testbench signals\n  reg clk;\n  reg rst_n;\n  \n  // Input interface\n  reg [DATA_WIDTH-1:0] data_in;\n  reg data_valid;\n  wire data_ready;\n  \n  // Output interface\n  wire [DATA_WIDTH-1:0] data_out;\n  wire data_out_valid;\n  reg data_out_ready;\n  \n  // Test data and storage\n  reg [DATA_WIDTH-1:0] test_data [0:99];\n  reg [DATA_WIDTH-1:0] output_data [0:99];\n  integer i;\n  \n  // Instantiate the DSP system\n  dsp_system #(\n    .DATA_WIDTH(DATA_WIDTH),\n    .NUM_TAPS(NUM_TAPS)\n  ) dut (\n    .clk(clk),\n    .rst_n(rst_n),\n    .data_in(data_in),\n    .data_valid(data_valid),\n    .data_ready(data_ready),\n    .data_out(data_out),\n    .data_out_valid(data_out_valid),\n    .data_out_ready(data_out_ready)\n  );\n  \n  // Clock generation\n  always #5 clk = ~clk;\n  \n  // Test sequence\n  initial begin\n    // Initialize signals\n    clk = 0;\n    rst_n = 0;\n    data_in = 0;\n    data_valid = 0;\n    data_out_ready = 1;\n    \n    // Generate test data (e.g., step function)\n    for (i = 0; i < 50; i = i + 1) begin\n      test_data[i] = 0;\n    end\n    for (i = 50; i < 100; i = i + 1) begin\n      test_data[i] = 16\'h0800;\n    end\n    \n    // Apply reset\n    #20 rst_n = 1;\n    #20;\n    \n    // Send test data to the DSP system\n    for (i = 0; i < 100; i = i + 1) begin\n      @(posedge clk);\n      data_in = test_data[i];\n      data_valid = 1;\n      \n      // Wait for ready\n      while (!data_ready) @(posedge clk);\n    end\n    \n    data_valid = 0;\n    \n    // Wait for processing to complete\n    #1000;\n    \n    // Test complete\n    $display("DSP system test completed!");\n    $finish;\n  end\n  \n  // Capture output data\n  integer output_count = 0;\n  always @(posedge clk) begin\n    if (data_out_valid && data_out_ready) begin\n      output_data[output_count] = data_out;\n      $display("Output %0d: %h", output_count, data_out);\n      output_count = output_count + 1;\n    end\n  end\n  \n  // Generate waveform file\n  initial begin\n    $dumpfile("dsp_system_tb.vcd");\n    $dumpvars(0, dsp_system_tb);\n  end\nendmodule'}],syllabus:[{title:"Introduction to Verilog and HDLs",description:"Learn the fundamentals of hardware description languages, their role in modern digital design, and how they're used in industry workflows"},{title:"Verilog Syntax and Basic Modeling",description:"Master the core syntax and modeling approaches with industry-standard coding practices"},{title:"Combinational Circuit Design",description:"Design and implement combinational logic in Verilog for real-world applications"},{title:"Sequential Circuit Design",description:"Create sequential circuits with flip-flops and registers following best practices from industry"},{title:"Modular Design and Hierarchy",description:"Structure complex designs using hierarchy and reusable modules as done in commercial projects"},{title:"Behavioral Modeling",description:"Express algorithms and complex behavior using procedural constructs for efficient design"},{title:"Testbench Development",description:"Create comprehensive testbenches to verify designs using industry verification methodologies"},{title:"Advanced Verilog Features",description:"Explore advanced language features and design techniques used in professional environments"},{title:"Synthesis and Implementation",description:"Prepare designs for synthesis and actual hardware implementation following industry flows"},{title:"Timing Analysis and Constraints",description:"Learn how to analyze timing and create proper constraints for reliable designs"},{title:"Design for Testability",description:"Implement DFT techniques to ensure your designs can be properly tested in production"},{title:"Advanced Verilog Constructs",description:"Master advanced language features that enable more efficient and maintainable code"},{title:"Clock Domain Crossing",description:"Handle signals crossing between different clock domains safely and reliably"},{title:"Low Power Design Techniques",description:"Implement strategies for reducing power consumption in your designs"},{title:"FPGA Implementation Flow",description:"Navigate the complete FPGA implementation process from RTL to bitstream"},{title:"Industry Project Implementation",description:"Apply all concepts in a comprehensive project following industry practices"}],codeExamples:[{title:"Simple AND Gate",code:"module and_gate(\n  input a, b,\n  output y\n);\n  assign y = a & b;\nendmodule"},{title:"D Flip-Flop",code:"module d_ff(\n  input clk, reset, d,\n  output reg q\n);\n\n  always @(posedge clk or posedge reset)\n    if (reset)\n      q <= 1'b0;\n    else\n      q <= d;\nendmodule"},{title:"4-Bit Binary Counter",code:"module counter_4bit(\n  input clk, reset, enable,\n  output reg [3:0] count\n);\n\n  always @(posedge clk or posedge reset)\n    if (reset)\n      count <= 4'b0000;\n    else if (enable)\n      count <= count + 1'b1;\nendmodule"},{title:"8:1 Multiplexer",code:"module mux_8to1(\n  input [2:0] sel,\n  input [7:0] data,\n  output reg out\n);\n\n  always @(*)\n    out = data[sel];\nendmodule"},{title:"Basic UART Transmitter",code:"module uart_tx(\n  input clk, reset,\n  input [7:0] data,\n  input data_valid,\n  output reg tx,\n  output reg busy\n);\n\n  // State definitions\n  localparam IDLE = 2'b00;\n  localparam START = 2'b01;\n  localparam DATA = 2'b10;\n  localparam STOP = 2'b11;\n\n  reg [1:0] state;\n  reg [2:0] bit_index;\n  reg [7:0] data_reg;\n\n  always @(posedge clk or posedge reset) begin\n    if (reset) begin\n      state <= IDLE;\n      tx <= 1'b1; // Idle high\n      busy <= 1'b0;\n    end else begin\n      case (state)\n        IDLE: if (data_valid) begin\n          data_reg <= data;\n          state <= START;\n          busy <= 1'b1;\n        end\n        START: begin\n          tx <= 1'b0; // Start bit\n          bit_index <= 3'b000;\n          state <= DATA;\n        end\n        DATA: begin\n          tx <= data_reg[bit_index];\n          if (bit_index == 3'b111)\n            state <= STOP;\n          else\n            bit_index <= bit_index + 1'b1;\n        end\n        STOP: begin\n          tx <= 1'b1; // Stop bit\n          state <= IDLE;\n          busy <= 1'b0;\n        end\n      endcase\n    end\n  end\nendmodule"}],resources:[{title:"Verilog Language Reference",type:"PDF",url:"https://people.cs.georgetown.edu/~squier/Teaching/HardwareFundamentals/LC3-trunk/docs/verilog/VerilogLangRef.pdf"},{title:"Digital Design with Verilog Cheatsheet",type:"PDF",url:"https://www.slideshare.net/slideshow/verilog-cheat-sheet2-1pdf/265273788"},{title:"Common Verilog Interview Questions and Answers",type:"Website",url:"https://intellipaat.com/blog/interview-question/verilog-interview-questions/"},{title:"FPGA Career Path Guide",type:"Website",url:"https://vlsiweb.com/fpga-engineer/"},{title:"Hardware Design Best Practices",type:"Link",url:"https://kemsys.com/blog/hardware-design-best-practices/"},{title:"Synopsys Synthesis Quick Reference",type:"PDF",url:"https://www.academia.edu/34197207/Synthesis_Quick_Reference"}],relatedModules:[{id:"system-verilog",title:"SystemVerilog for Verification",description:"Learn advanced verification techniques using SystemVerilog that are in high demand across the semiconductor industry.",level:"Intermediate"},{id:"fpga-design",title:"FPGA Implementation with Verilog",description:"Take your Verilog designs to actual FPGA hardware with industry-standard tools and methodologies.",level:"Intermediate"},{id:"riscv-processor",title:"RISC-V Processor Design",description:"Learn how to design a RISC-V processor using Verilog HDL, a highly sought-after skill in the industry.",level:"Advanced"},{id:"soc-design",title:"System-on-Chip Design",description:"Master the art of creating complex Systems-on-Chip with multiple components and interfaces.",level:"Advanced"},{id:"hardware-verification",title:"Hardware Verification Techniques",description:"Build expertise in modern hardware verification methodologies that will make you highly employable.",level:"Intermediate"}],bookmarked:!1,industryConnections:{title:"Industry Connections & Job Opportunities",description:"Building skills in Verilog opens doors to a wide range of career opportunities in semiconductor, electronics, and hardware companies worldwide.",jobMarketInsights:[{region:"United States",demandLevel:"Very High",averageSalary:"$120,000 - $180,000",growthRate:"+15% annually"},{region:"Europe",demandLevel:"High",averageSalary:"\u20ac70,000 - \u20ac115,000",growthRate:"+12% annually"},{region:"Asia",demandLevel:"Very High",averageSalary:"$80,000 - $150,000",growthRate:"+18% annually"}],topEmployers:["Intel","AMD","Nvidia","Qualcomm","Apple","Google","Microsoft","Samsung","Broadcom","Xilinx","Altera","Lattice Semiconductor"],careerEvents:[{name:"DAC (Design Automation Conference)",description:"Premier conference for design and automation of electronic systems",relevance:"Critical for networking with industry leaders"},{name:"FPGA Conference",description:"Focused on FPGA technology and applications",relevance:"Great for job opportunities in FPGA design"},{name:"ISSCC (International Solid-State Circuits Conference)",description:"Flagship conference of the Solid-State Circuits Society",relevance:"Important for ASIC and chip design careers"}]}},yc={id:"riscv-processor",title:"RISC-V Processor Design",description:"Design and implement a complete RISC-V processor with pipelining and advanced features",image:"https://wallpapers.com/images/hd/coding-background-9izlympnd0ovmpli.jpg",duration:"40-50 hours",level:"Advanced",rating:4.7,studentsCount:32,lastUpdated:"2025-04-15T00:00:00Z",bookmarked:!1,topics:["RISC-V ISA","Single-Cycle Processor","Pipelining","Hazard Resolution","Branch Prediction","Memory Hierarchy","Cache Design","Performance Optimization"],status:"active",overview:"The RISC-V Processor Design module offers an in-depth exploration of processor architecture and implementation using the open-source RISC-V instruction set architecture. This comprehensive course takes you through the entire processor design journey, starting with the fundamentals of the RISC-V ISA and progressing to advanced topics like pipelining, memory hierarchies, and performance optimization. By the end of this module, you'll have the knowledge and practical skills to design and implement a functional RISC-V processor core.",syllabus:[{title:"Introduction to RISC-V and Processor Fundamentals",topics:["RISC-V ISA Overview","Processor Architecture Basics","Digital Design Review","RISC-V Instruction Formats"]},{title:"Single-Cycle Processor Implementation",topics:["Datapath Design","Control Logic","ALU Implementation","Instruction Decoding"]},{title:"Pipelining and Hazards",topics:["Pipeline Stages","Data Hazards","Control Hazards","Forwarding Logic"]},{title:"Memory Hierarchy and Caches",topics:["Memory Organization","Cache Design","Cache Coherence","Virtual Memory"]}],prerequisites:["Digital Logic Design","Computer Architecture Fundamentals","Verilog or VHDL Experience","Basic Understanding of Assembly Language"],skills:["RISC-V Architecture","Processor Design","Pipeline Implementation","Hazard Resolution","Memory Hierarchy Design","Performance Optimization","Hardware Debugging","Architecture Verification","ISA Extensions","Cache Coherence Protocols","Branch Prediction","Low Power Design Techniques","Out-of-Order Execution","Superscalar Architecture","Formal Verification of Processors"],chapters:[{...{id:1,title:"Introduction to RISC-V Architecture",description:"Overview of RISC-V ISA and its impact on the processor industry",estimatedTime:"2 hours",completed:!1,sections:[{id:"1.1",title:"History and Evolution of Computer Architecture",content:'\n        <h3>The Evolution of Processor Architectures</h3>\n        <p>Understanding the history of computer architecture provides essential context for appreciating RISC-V\'s significance in the industry.</p>\n        \n        <h4>Von Neumann vs. Harvard Architectures</h4>\n        <p>The foundation of modern computing began with two fundamental architecture models:</p>\n        <ul>\n          <li><strong>Von Neumann Architecture</strong>: Uses a shared memory space for both instructions and data. This architecture, proposed by John von Neumann in 1945, forms the basis for most general-purpose computers today. Its simplicity comes with the cost of the "von Neumann bottleneck" where instruction fetching and data access compete for memory bandwidth.</li>\n          <li><strong>Harvard Architecture</strong>: Features physically separate storage and signal pathways for instructions and data. Originally implemented in the Harvard Mark I computer, this design enables simultaneous access to instruction and data memories, potentially increasing performance at the cost of additional hardware complexity. Many modern microcontrollers and DSPs use modified Harvard architectures to gain performance benefits.</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/Von_Neumann_Architecture.svg/1920px-Von_Neumann_Architecture.svg.png" alt="Von Neumann Architecture" style="max-width: 500px; width: 100%;">\n          <p><em>Von Neumann Architecture with shared memory for instructions and data</em></p>\n        </div>\n        \n        <h4>CISC vs. RISC Design Philosophies</h4>\n        <p>The 1970s and 1980s saw the emergence of two competing processor design philosophies:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Characteristic</th>\n            <th>CISC (Complex Instruction Set Computer)</th>\n            <th>RISC (Reduced Instruction Set Computer)</th>\n          </tr>\n          <tr>\n            <td><strong>Instruction Complexity</strong></td>\n            <td>Many complex, multi-cycle instructions</td>\n            <td>Few simple, single-cycle instructions</td>\n          </tr>\n          <tr>\n            <td><strong>Instruction Length</strong></td>\n            <td>Variable-length instructions</td>\n            <td>Fixed-length instructions</td>\n          </tr>\n          <tr>\n            <td><strong>Memory Access</strong></td>\n            <td>Multiple memory-addressing modes</td>\n            <td>Load-store architecture (memory access only through specific instructions)</td>\n          </tr>\n          <tr>\n            <td><strong>Register Usage</strong></td>\n            <td>Fewer registers</td>\n            <td>More registers</td>\n          </tr>\n          <tr>\n            <td><strong>Execution Model</strong></td>\n            <td>Microcode often used to implement complex instructions</td>\n            <td>Hardwired control, direct execution</td>\n          </tr>\n          <tr>\n            <td><strong>Examples</strong></td>\n            <td>x86, x86-64, 68000</td>\n            <td>MIPS, ARM, SPARC, RISC-V</td>\n          </tr>\n        </table>\n        \n        <p>The RISC philosophy emerged from research at IBM (John Cocke), Stanford (MIPS), and Berkeley (RISC) in the late 1970s and early 1980s. It was based on the observation that most complex instructions in CISC processors were rarely used by compilers, and a simpler instruction set could lead to faster execution with proper compiler optimization.</p>\n        \n        <h4>Historical RISC Architectures</h4>\n        <p>Several RISC architectures have significantly influenced the computing landscape:</p>\n        <ul>\n          <li><strong>MIPS</strong>: Developed at Stanford University in the early 1980s by John Hennessy and his team. MIPS became widely used in embedded systems, game consoles (PlayStation), and was influential in computer architecture education.</li>\n          <li><strong>ARM</strong>: Developed by Acorn Computers in the 1980s. The ARM architecture has become dominant in mobile devices and embedded systems due to its power efficiency. Today, ARM-based processors power billions of devices worldwide.</li>\n          <li><strong>SPARC</strong>: Developed by Sun Microsystems in the late 1980s. SPARC processors were widely used in Sun\'s workstations and servers, known for their scalability and performance in enterprise environments.</li>\n          <li><strong>PowerPC</strong>: Developed by the Apple-IBM-Motorola alliance in the early 1990s. PowerPC processors were used in Apple Macintosh computers until 2006 and continue to be used in embedded systems and high-performance computing.</li>\n        </ul>\n        \n        <h4>Birth of RISC-V at UC Berkeley</h4>\n        <p>RISC-V emerged in 2010 at the University of California, Berkeley, under the leadership of Krste Asanovi\u0107, David Patterson, and their team. Unlike previous RISC architectures, RISC-V was designed from the start to be:</p>\n        <ul>\n          <li><strong>Free and Open</strong>: No licensing fees or legal restrictions</li>\n          <li><strong>Modular</strong>: A small base ISA with optional standard extensions</li>\n          <li><strong>Stable</strong>: Base instructions won\'t change, ensuring software compatibility</li>\n          <li><strong>Extensible</strong>: Custom extensions can be added for specialized applications</li>\n          <li><strong>Practical</strong>: Designed based on lessons learned from decades of RISC architecture development</li>\n        </ul>\n        \n        <p>What began as an academic project has grown into a global open standard managed by RISC-V International, with hundreds of member organizations contributing to its development and adoption.</p>\n      '},{id:"1.2",title:"The RISC-V Ecosystem",content:"\n        <h3>The Growing RISC-V Community and Infrastructure</h3>\n        \n        <h4>RISC-V International Governance</h4>\n        <p>RISC-V International, established in 2015 (originally as the RISC-V Foundation), serves as the steward of the RISC-V ISA standard. Key aspects of its governance include:</p>\n        <ul>\n          <li><strong>Member-driven Organization</strong>: Over 3,000 members (as of 2023) from academia and industry collaborate on the specification's development.</li>\n          <li><strong>Technical Working Groups</strong>: Specialized committees develop and refine various aspects of the ISA and its extensions.</li>\n          <li><strong>Ratification Process</strong>: Ensures stability through careful vetting of proposed changes and extensions.</li>\n          <li><strong>Open Specifications</strong>: The ISA specifications are freely available and openly licensed.</li>\n          <li><strong>Compatibility Testing</strong>: Developing test suites to ensure RISC-V implementations comply with the specification.</li>\n        </ul>\n        \n        <h4>Open-Source RISC-V Implementations</h4>\n        <p>Numerous open-source implementations of RISC-V cores are available, serving different needs from education to high-performance computing:</p>\n        <ul>\n          <li><strong>Rocket</strong>: The original 64-bit RISC-V core from UC Berkeley, implemented in Chisel HDL. It supports the RV64GC instruction set and includes an optional L1 cache system.</li>\n          <li><strong>BOOM (Berkeley Out-of-Order Machine)</strong>: A superscalar, out-of-order RISC-V core that pushes the performance envelope for open-source processors. Also implemented in Chisel.</li>\n          <li><strong>CVA6/Ariane</strong>: A 64-bit application-class core developed by ETH Zurich, implemented in SystemVerilog. It features a 6-stage pipeline and support for the RV64GC instruction set.</li>\n          <li><strong>Piccolo</strong>: A compact, in-order, 32-bit RISC-V core suitable for embedded applications, developed by Bluespec.</li>\n          <li><strong>Western Digital SweRV Cores</strong>: A family of commercial-grade cores with various performance points, open-sourced by Western Digital.</li>\n          <li><strong>PicoRV32</strong>: A compact RV32I implementation designed for FPGA targets.</li>\n          <li><strong>VexRiscv</strong>: A flexible RISC-V implementation written in SpinalHDL, configurable for different performance/area trade-offs.</li>\n        </ul>\n        \n        <h4>Commercial RISC-V Vendors</h4>\n        <p>Many companies now offer commercial RISC-V IP and solutions:</p>\n        <ul>\n          <li><strong>SiFive</strong>: Founded by the creators of RISC-V, SiFive offers processor IP cores ranging from embedded controllers to high-performance application processors.</li>\n          <li><strong>Andes Technology</strong>: Provides highly efficient RISC-V processor cores for various applications, with particular strength in the IoT and embedded markets.</li>\n          <li><strong>Codasip</strong>: Offers both off-the-shelf RISC-V cores and custom processor design services based on their processor design automation technology.</li>\n          <li><strong>Esperanto Technologies</strong>: Develops high-performance, energy-efficient RISC-V processors for AI and machine learning applications.</li>\n          <li><strong>CloudBEAR</strong>: Specializes in secure, efficient RISC-V cores for embedded applications.</li>\n          <li><strong>Nuclei System Technology</strong>: China-based provider of RISC-V processor IP and solutions.</li>\n        </ul>\n        \n        <h4>Development Boards and Silicon Availability</h4>\n        <p>Hardware platforms available for RISC-V development continue to expand:</p>\n        <ul>\n          <li><strong>HiFive Boards (SiFive)</strong>: Range from the entry-level HiFive1 (FE310) to the powerful HiFive Unmatched (U74).</li>\n          <li><strong>PolarFire SoC (Microchip)</strong>: Combines RISC-V processors with FPGA fabric in a low-power platform.</li>\n          <li><strong>VisionFive (StarFive)</strong>: Linux-capable RISC-V single-board computer with multimedia capabilities.</li>\n          <li><strong>Allwinner D1/Nezha</strong>: Features a single-core RISC-V processor for Linux applications.</li>\n          <li><strong>GreenWaves GAP8/9</strong>: Multi-core RISC-V processors optimized for AI at the edge.</li>\n          <li><strong>Kendryte K210</strong>: Dual-core RISC-V processor with AI accelerators, available on affordable development boards.</li>\n          <li><strong>ESP32-C3 (Espressif)</strong>: WiFi/BLE SoC with a RISC-V core, compatible with the popular ESP32 ecosystem.</li>\n        </ul>\n        \n        <h4>Major Industry Adopters</h4>\n        <p>RISC-V has gained significant traction with major technology companies:</p>\n        <ul>\n          <li><strong>Western Digital</strong>: Committed to shipping over two billion RISC-V cores annually in their storage products.</li>\n          <li><strong>NVIDIA</strong>: Uses RISC-V cores as management processors in their GPUs and for their Falcon security processor.</li>\n          <li><strong>Alibaba</strong>: Developed their Xuantie series of RISC-V processors for cloud and edge computing.</li>\n          <li><strong>Microchip</strong>: Integrated RISC-V cores in their PolarFire SoC FPGA platform.</li>\n          <li><strong>Qualcomm</strong>: Exploring RISC-V for specific applications within their product ecosystem.</li>\n          <li><strong>Seagate</strong>: Adopting RISC-V for controller applications in storage devices.</li>\n          <li><strong>Google</strong>: Contributing to RISC-V development and exploring its use in various applications.</li>\n          <li><strong>Intel</strong>: Supporting RISC-V through their foundry services and FPGA integration.</li>\n        </ul>\n        \n        <p>The rapidly growing ecosystem demonstrates RISC-V's transition from an academic project to a commercially viable and increasingly mainstream ISA alternative.</p>\n      "},{id:"1.3",title:"ISA Benefits and Business Case",content:'\n        <h3>The Value Proposition of RISC-V</h3>\n        \n        <h4>Hardware-Software Interface Stability</h4>\n        <p>One of RISC-V\'s key strengths is its commitment to long-term stability:</p>\n        <ul>\n          <li><strong>Base ISA Freeze</strong>: The fundamental base instructions (RV32I, RV64I) are frozen and will not change, ensuring that software written today will continue to work on future RISC-V implementations.</li>\n          <li><strong>Standardized Extensions</strong>: Extensions like M (multiply/divide), A (atomic), F/D (floating-point) undergo rigorous review before ratification to ensure forward compatibility.</li>\n          <li><strong>Clear Versioning</strong>: Each extension is versioned, making compatibility requirements explicit.</li>\n          <li><strong>Separation of Concerns</strong>: Privileged architecture (operating system interface) is separated from the base ISA, allowing independent evolution as needed.</li>\n        </ul>\n        \n        <p>This stability creates a reliable hardware-software interface that reduces maintenance costs and extends software lifetimes.</p>\n        \n        <h4>Customization without Fragmentation</h4>\n        <p>RISC-V uniquely enables customization while maintaining ecosystem compatibility:</p>\n        <ul>\n          <li><strong>Reserved Opcode Space</strong>: Dedicated opcode regions for standard extensions, custom extensions, and vendor-specific extensions.</li>\n          <li><strong>Discovery Mechanism</strong>: Software can query a processor\'s capabilities to determine available extensions.</li>\n          <li><strong>Modularity</strong>: Implementations can select which standard extensions to include based on application needs.</li>\n          <li><strong>Custom Extensions</strong>: Organizations can add application-specific instructions while maintaining compatibility with the base ISA.</li>\n          <li><strong>Standardization Path</strong>: Popular custom extensions can be proposed for standardization, benefiting the entire ecosystem.</li>\n        </ul>\n        \n        <p>This approach allows companies to innovate while preserving software compatibility and ecosystem benefits.</p>\n        \n        <h4>Vendor Independence and Supply Chain Resilience</h4>\n        <p>The open nature of RISC-V creates significant advantages for supply chain management:</p>\n        <ul>\n          <li><strong>Multiple Suppliers</strong>: Companies can source RISC-V cores from different vendors while maintaining software compatibility.</li>\n          <li><strong>No Lock-in</strong>: The absence of licensing fees and restrictive terms prevents vendor lock-in.</li>\n          <li><strong>Geographical Diversity</strong>: RISC-V vendors exist across multiple countries and regions, reducing geopolitical supply risks.</li>\n          <li><strong>In-house Options</strong>: Organizations can develop their own RISC-V implementations if needed, providing ultimate control.</li>\n          <li><strong>Second Sourcing</strong>: Critical systems can have backup suppliers without major software changes.</li>\n        </ul>\n        \n        <p>These benefits have become increasingly important in an era of geopolitical tensions, supply chain disruptions, and strategic technology independence.</p>\n        \n        <h4>Total Cost of Ownership Analysis</h4>\n        <p>When evaluating RISC-V against proprietary alternatives, companies consider various cost factors:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Cost Category</th>\n            <th>Proprietary ISA</th>\n            <th>RISC-V</th>\n          </tr>\n          <tr>\n            <td><strong>Licensing Costs</strong></td>\n            <td>Upfront license fees plus royalties per chip</td>\n            <td>No licensing fees or royalties</td>\n          </tr>\n          <tr>\n            <td><strong>Implementation Costs</strong></td>\n            <td>Usually lower initially (pre-built IP)</td>\n            <td>Variable (can use open-source cores or commercial IP)</td>\n          </tr>\n          <tr>\n            <td><strong>Customization Costs</strong></td>\n            <td>Often high, may require vendor cooperation</td>\n            <td>Built into the architecture, more accessible</td>\n          </tr>\n          <tr>\n            <td><strong>Software Ecosystem</strong></td>\n            <td>More mature in some segments</td>\n            <td>Growing rapidly, with substantial industry investment</td>\n          </tr>\n          <tr>\n            <td><strong>Long-term Support</strong></td>\n            <td>Dependent on vendor business decisions</td>\n            <td>Community-supported, vendor-independent</td>\n          </tr>\n          <tr>\n            <td><strong>Risk Management</strong></td>\n            <td>Vendor lock-in, potential for end-of-life</td>\n            <td>Multiple vendors, open specification ensures longevity</td>\n          </tr>\n        </table>\n        \n        <p>While the initial implementation costs might sometimes be higher, the long-term TCO advantages of RISC-V are becoming increasingly compelling as the ecosystem matures.</p>\n        \n        <h4>Embedded to HPC Scalability</h4>\n        <p>RISC-V\'s scalability across different performance domains is a key technical advantage:</p>\n        <ul>\n          <li><strong>Embedded/IoT</strong>: Minimal RV32E cores can be implemented in less than 10,000 gates, suitable for ultra-low-power applications.</li>\n          <li><strong>Microcontrollers</strong>: RV32I/RV32IM implementations compete effectively with Arm Cortex-M class devices.</li>\n          <li><strong>Application Processors</strong>: RV64GC implementations with modern microarchitectural features deliver performance comparable to mainstream application processors.</li>\n          <li><strong>Server/HPC</strong>: Implementations like SiFive\'s Intelligence X280 and the European Processor Initiative\'s RISC-V accelerator showcase the architecture\'s high-performance capabilities.</li>\n          <li><strong>Vector Processing</strong>: The "V" extension enables efficient vectorized computation for HPC and AI workloads.</li>\n        </ul>\n        \n        <p>This scalability enables companies to leverage consistent architecture, tools, and software across their entire product range, from tiny sensors to high-performance computing applications.</p>\n      '},{id:"1.4",title:"Key Takeaways",content:"\n        <h3>Summary: Understanding RISC-V's Position in the Processor Landscape</h3>\n        \n        <div style=\"background-color: #f8f9fa; padding: 15px; border-left: 5px solid #6a0dad; margin: 20px 0;\">\n          <h4>Key Points</h4>\n          <ul>\n            <li>RISC-V builds on decades of RISC architecture development, addressing limitations of previous ISAs.</li>\n            <li>The open, modular nature of RISC-V enables customization without fragmentation, providing flexibility without sacrificing compatibility.</li>\n            <li>A robust ecosystem of both open-source and commercial implementations is developing rapidly, with major industry adopters validating the approach.</li>\n            <li>RISC-V offers compelling business advantages: no licensing fees, vendor independence, supply chain resilience, and long-term stability.</li>\n            <li>The architecture scales from tiny embedded systems to high-performance computing, allowing consistent tools and software across product ranges.</li>\n          </ul>\n        </div>\n        \n        <h3>What's Next?</h3>\n        <p>Now that you understand the context and value proposition of RISC-V, we're ready to dive into the technical details of the RISC-V Instruction Set Architecture. In the next chapter, we'll explore the RISC-V ISA fundamentals, including its base integer instructions, standard extensions, and privilege levels.</p>\n        \n        <h3>Reflection Questions</h3>\n        <ol>\n          <li>How might RISC-V's open nature impact innovation in specialized domains like AI, IoT, or security?</li>\n          <li>What advantages does a modular ISA approach offer for different application domains compared to a one-size-fits-all approach?</li>\n          <li>Consider a product with a 10+ year lifecycle\u2014how might RISC-V's characteristics benefit such long-lifecycle designs?</li>\n          <li>How might an open ISA like RISC-V affect the processor industry's business models and competitive landscape?</li>\n        </ol>\n      "}],examples:[{id:"example1_1",title:"RISC-V vs. Other ISAs Comparison",description:"A comparison of key characteristics between RISC-V and other common ISAs",code:"ISA Comparison Table\n\nRISC-V (RV32G)  | ARM (ARMv8-A)      | x86-64\n--------------- | ------------------ | ------------------\nOpen standard    | Proprietary        | Proprietary\nModular ISA      | Multiple profiles  | Monolithic\n32 registers     | 31 registers       | 16 registers\nFixed-width instr| Mixed-width instr  | Variable-width instr\nFew addr. modes  | Multiple addr. modes| Many addr. modes\nClean design     | CISC/RISC hybrid   | CISC with RISC core\nRecent (2010+)   | Evolved since 1985 | Evolved since 1978\nLoad-Store arch  | Load-Store arch    | Register-memory arch",explanation:"This comparison highlights key architectural differences between RISC-V and established ISAs like ARM and x86. RISC-V maintains pure RISC principles with fixed-width instructions, numerous registers, and a load-store architecture. Unlike proprietary ISAs, RISC-V is an open standard that anyone can implement without licensing fees. Its modular approach allows implementers to include only the extensions needed for their application, optimizing area and power efficiency."},{id:"example1_2",title:"RISC-V Base and Extensions",description:"Showcasing the modular nature of RISC-V with base ISA and extensions",code:"RISC-V Modularity\n\nBase ISA (Required)\n- RV32I: 32-bit base integer instructions\n- RV64I: 64-bit base integer instructions\n\nStandard Extensions (Optional)\n- M: Integer Multiplication and Division\n- A: Atomic Instructions\n- F: Single-precision Floating-point\n- D: Double-precision Floating-point\n- C: Compressed Instructions (16-bit)\n- V: Vector Operations\n- B: Bit Manipulation\n\nCommon Combinations\n- RV32E: Embedded variant (16 registers)\n- RV32IM: Base + Multiplication\n- RV64GC: G(=IMAFD) + Compressed\n- RV32IMC: Common for microcontrollers",explanation:"This example illustrates RISC-V's modular approach to ISA design. Implementations start with a base integer ISA (RV32I or RV64I) and can add standardized extensions based on application needs. This modularity allows for optimized designs across the full spectrum from tiny embedded controllers to high-performance processors. The 'G' designation (General-purpose) is a shorthand for the IMAFD combination commonly used in application processors."}],quiz:{title:"Introduction to RISC-V Architecture Quiz",questions:[{question:"What fundamental characteristic distinguishes RISC-V from proprietary ISAs like ARM and x86?",options:["It uses a Harvard architecture instead of von Neumann","It is an open standard with no licensing fees","It can only be implemented on FPGAs","It supports only 32-bit computing"],correctAnswer:1,explanation:"RISC-V's defining characteristic is that it's an open standard ISA that can be implemented by anyone without licensing fees or royalties. This distinguishes it from proprietary architectures like ARM and x86 that require licensing agreements."},{question:"What does the 'V' in RISC-V stand for?",options:["Virtual - indicating support for virtualization","Version - as it's the fifth major RISC architecture","Vector - referring to its vector processing capabilities","Versatile - highlighting its adaptability"],correctAnswer:1,explanation:"The 'V' in RISC-V stands for 'Version 5' as it's the fifth generation of RISC architectures developed at UC Berkeley, following earlier RISC designs."},{question:"Which of the following best describes RISC-V's approach to ISA design?",options:["One comprehensive ISA that includes all possible instructions","A small mandatory base ISA with optional standardized extensions","Multiple completely separate ISAs for different application domains","A dynamically reconfigurable instruction set"],correctAnswer:1,explanation:"RISC-V employs a modular approach with a small, stable base ISA (like RV32I or RV64I) and optional standardized extensions (like M for multiply/divide, F for floating-point, etc.) that can be included based on application requirements."},{question:"What year was RISC-V initially developed at UC Berkeley?",options:["2000","2005","2010","2015"],correctAnswer:2,explanation:"RISC-V was initially developed at UC Berkeley in 2010 under the leadership of Krste Asanovi\u0107 and David Patterson."},{question:"Which of the following is NOT a standard extension in the RISC-V ISA?",options:["M - Integer Multiplication and Division","P - Packed SIMD Instructions","X - External Memory Interface","C - Compressed Instructions"],correctAnswer:2,explanation:"There is no standard 'X' extension for External Memory Interface in RISC-V. The letter 'X' is actually reserved for custom (non-standard) extensions. The other options are valid standard extensions: M (multiply/divide), P (packed SIMD, though still in development), and C (compressed instructions)."},{question:"What is a key supply chain advantage of RISC-V's open model?",options:["RISC-V processors are always cheaper to manufacture","RISC-V designs can be implemented by multiple vendors, reducing vendor lock-in","RISC-V processors require fewer semiconductor materials","RISC-V processors can only be manufactured in advanced fabrication facilities"],correctAnswer:1,explanation:"A key supply chain advantage of RISC-V is that its open nature allows multiple vendors to implement compatible processors, reducing vendor lock-in and providing alternative sources if one supplier has issues."},{question:"Which RISC-V characteristic is most important for long-lifecycle embedded products?",options:["The ability to add new instructions as technology advances","The guarantee that the base ISA will remain stable and backward compatible","The option to use non-standard coding techniques","The requirement for specialized development tools"],correctAnswer:1,explanation:"For long-lifecycle embedded products, RISC-V's guarantee of base ISA stability is crucial. This ensures that software written today will continue to function on future implementations, even decades later, without requiring rewrites."},{question:"What distinguishes the Harvard architecture from the von Neumann architecture?",options:["Harvard uses semiconductor memory while von Neumann uses magnetic storage","Harvard was developed in the US while von Neumann was developed in Europe","Harvard has physically separate memory spaces for instructions and data","Harvard supports multitasking while von Neumann is single-threaded"],correctAnswer:2,explanation:"The key distinguishing feature of Harvard architecture is that it uses physically separate memory spaces and pathways for instructions and data, allowing simultaneous access to both. Von Neumann architecture, in contrast, uses a single memory space for both."},{question:"Which organization serves as the steward of the RISC-V ISA specifications?",options:["UC Berkeley Computer Science Department","RISC-V International","The Linux Foundation","World Wide Web Consortium (W3C)"],correctAnswer:1,explanation:"RISC-V International (formerly the RISC-V Foundation) is the non-profit organization that maintains the RISC-V specifications, manages the development process for extensions, and promotes RISC-V adoption worldwide."},{question:"What characteristic of RISC processors generally distinguishes them from CISC processors?",options:["RISC processors always operate at higher clock frequencies","RISC processors have more complex addressing modes","RISC processors use fixed-length instructions and load-store architecture","RISC processors consume less power in all implementations"],correctAnswer:2,explanation:"A defining characteristic of RISC processors is their use of fixed-length instructions and a load-store architecture (where only specific load/store instructions access memory). This simplifies decoding and enables pipelined execution, while CISC processors typically use variable-length instructions with more complex addressing modes."}]}},completed:!1},{...{id:2,title:"RISC-V Instruction Set Architecture",description:"Detailed exploration of the RISC-V instruction formats and extensions",estimatedTime:"3 hours",completed:!1,sections:[{id:"2.1",title:"Base Integer ISAs",content:'\n        <h3>Foundation of RISC-V: The Base Integer ISAs</h3>\n        <p>The RISC-V base integer ISAs form the mandatory foundation of any RISC-V implementation. These base ISAs are carefully designed to be simple yet complete, providing all the essential functionality for a general-purpose processor.</p>\n\n        <h4>RV32I: The 32-bit Base Integer ISA</h4>\n        <p>RV32I is the foundational 32-bit integer instruction set, designed to be sufficient for a complete compiler target and minimal operating system implementation.</p>\n        <ul>\n          <li><strong>Register Set</strong>: 32 general-purpose 32-bit registers (x0-x31), with x0 hardwired to 0</li>\n          <li><strong>PC Width</strong>: 32-bit program counter</li>\n          <li><strong>Memory Access</strong>: 32-bit address space with byte-addressable memory</li>\n          <li><strong>Instruction Count</strong>: Only 47 instructions (40 unique instructions, some encoded differently for different operand types)</li>\n          <li><strong>Instruction Width</strong>: All instructions are 32 bits</li>\n          <li><strong>Design Philosophy</strong>: Minimalist approach that still provides complete functionality</li>\n        </ul>\n        \n        <p>Key instruction categories in RV32I include:</p>\n        <ul>\n          <li><strong>Integer Computational Instructions</strong>: ADD, SUB, AND, OR, XOR, SLT, etc.</li>\n          <li><strong>Control Transfer Instructions</strong>: JAL, JALR, BEQ, BNE, BLT, etc.</li>\n          <li><strong>Load/Store Instructions</strong>: LW, LH, LB, SW, SH, SB (with signed and unsigned variants)</li>\n          <li><strong>Environment Instructions</strong>: ECALL, EBREAK for system calls and breakpoints</li>\n        </ul>\n\n        <h4>RV64I: The 64-bit Base Integer ISA</h4>\n        <p>RV64I extends RV32I to support 64-bit addressing and integer operations.</p>\n        <ul>\n          <li><strong>Register Set</strong>: 32 general-purpose 64-bit registers (x0-x31)</li>\n          <li><strong>PC Width</strong>: 64-bit program counter</li>\n          <li><strong>Memory Access</strong>: 64-bit address space</li>\n          <li><strong>Additional Instructions</strong>: 64-bit variants of integer operations (ADDW, SUBW, etc.) and memory access (LWU, LD, SD)</li>\n          <li><strong>Design Consistency</strong>: Maintains the same instruction formats and addressing principles as RV32I</li>\n        </ul>\n\n        <h4>RV128I: Looking to the Future</h4>\n        <p>The RISC-V specification also defines RV128I as a future-looking 128-bit base integer ISA. While not yet commonly implemented, it provides a path for extreme memory requirements in future computing systems.</p>\n\n        <h4>RV32E: The Embedded Variant</h4>\n        <p>For extremely resource-constrained embedded systems, RV32E offers a reduced version of RV32I with only 16 registers (x0-x15) instead of 32. This can significantly reduce the silicon area and power consumption of very small cores.</p>\n\n        <h3>Register File Conventions</h3>\n        <p>The RISC-V register file follows specific naming conventions and usage patterns:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Register</th>\n            <th>ABI Name</th>\n            <th>Description</th>\n            <th>Saver</th>\n          </tr>\n          <tr>\n            <td>x0</td>\n            <td>zero</td>\n            <td>Hardwired zero</td>\n            <td>-</td>\n          </tr>\n          <tr>\n            <td>x1</td>\n            <td>ra</td>\n            <td>Return address</td>\n            <td>Caller</td>\n          </tr>\n          <tr>\n            <td>x2</td>\n            <td>sp</td>\n            <td>Stack pointer</td>\n            <td>Callee</td>\n          </tr>\n          <tr>\n            <td>x3</td>\n            <td>gp</td>\n            <td>Global pointer</td>\n            <td>-</td>\n          </tr>\n          <tr>\n            <td>x4</td>\n            <td>tp</td>\n            <td>Thread pointer</td>\n            <td>-</td>\n          </tr>\n          <tr>\n            <td>x5-x7</td>\n            <td>t0-t2</td>\n            <td>Temporaries</td>\n            <td>Caller</td>\n          </tr>\n          <tr>\n            <td>x8</td>\n            <td>s0/fp</td>\n            <td>Saved register/frame pointer</td>\n            <td>Callee</td>\n          </tr>\n          <tr>\n            <td>x9</td>\n            <td>s1</td>\n            <td>Saved register</td>\n            <td>Callee</td>\n          </tr>\n          <tr>\n            <td>x10-x11</td>\n            <td>a0-a1</td>\n            <td>Function arguments/return values</td>\n            <td>Caller</td>\n          </tr>\n          <tr>\n            <td>x12-x17</td>\n            <td>a2-a7</td>\n            <td>Function arguments</td>\n            <td>Caller</td>\n          </tr>\n          <tr>\n            <td>x18-x27</td>\n            <td>s2-s11</td>\n            <td>Saved registers</td>\n            <td>Callee</td>\n          </tr>\n          <tr>\n            <td>x28-x31</td>\n            <td>t3-t6</td>\n            <td>Temporaries</td>\n            <td>Caller</td>\n          </tr>\n        </table>\n      '},{id:"2.2",title:"Instruction Formats",content:'\n        <h3>RISC-V Instruction Formats</h3>\n        <p>RISC-V uses a small number of consistent instruction formats, all 32 bits wide in the base ISA. This regularity simplifies decoding and improves extensibility.</p>\n\n        <h4>The Six Basic Instruction Formats</h4>\n        <p>RISC-V instructions are organized into six formats (R, I, S, B, U, J), each designed for different instruction types while maintaining consistent bit positions for key fields:</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://raw.githubusercontent.com/riscv/riscv-isa-manual/master/src/images/instr-formats.png" alt="RISC-V Instruction Formats" style="max-width: 700px; width: 100%;">\n        </div>\n        \n        <p>Key aspects of the instruction formats:</p>\n        <ul>\n          <li><strong>Opcode Field</strong>: Always in the same position (bits 0-6) across all formats</li>\n          <li><strong>Register Specifiers</strong>: Fixed positions for rs1, rs2, and rd across formats</li>\n          <li><strong>Immediate Fields</strong>: Spread across different bit positions but designed for efficient sign extension</li>\n        </ul>\n        \n        <h4>Format Details</h4>\n        <ul>\n          <li><strong>R-type</strong> (Register): Used for register-register operations like ADD, SUB, AND, OR.\n            <ul>\n              <li>Format: [funct7][rs2][rs1][funct3][rd][opcode]</li>\n              <li>Example: ADD rd, rs1, rs2</li>\n            </ul>\n          </li>\n          <li><strong>I-type</strong> (Immediate): Used for register-immediate operations and loads.\n            <ul>\n              <li>Format: [imm[11:0]][rs1][funct3][rd][opcode]</li>\n              <li>Examples: ADDI rd, rs1, imm; LW rd, offset(rs1)</li>\n            </ul>\n          </li>\n          <li><strong>S-type</strong> (Store): Used for store instructions.\n            <ul>\n              <li>Format: [imm[11:5]][rs2][rs1][funct3][imm[4:0]][opcode]</li>\n              <li>Example: SW rs2, offset(rs1)</li>\n            </ul>\n          </li>\n          <li><strong>B-type</strong> (Branch): Used for conditional branches.\n            <ul>\n              <li>Format: [imm[12|10:5]][rs2][rs1][funct3][imm[4:1|11]][opcode]</li>\n              <li>Example: BEQ rs1, rs2, offset</li>\n            </ul>\n          </li>\n          <li><strong>U-type</strong> (Upper Immediate): Used for instructions with upper immediate values.\n            <ul>\n              <li>Format: [imm[31:12]][rd][opcode]</li>\n              <li>Examples: LUI rd, imm; AUIPC rd, imm</li>\n            </ul>\n          </li>\n          <li><strong>J-type</strong> (Jump): Used for unconditional jumps.\n            <ul>\n              <li>Format: [imm[20|10:1|11|19:12]][rd][opcode]</li>\n              <li>Example: JAL rd, offset</li>\n            </ul>\n          </li>\n        </ul>\n        \n        <h4>Immediate Encoding Strategies</h4>\n        <p>RISC-V employs clever immediate encoding strategies to maximize efficiency:</p>\n        <ul>\n          <li><strong>Sign Extension</strong>: The sign bit (most significant bit of immediate) is always in bit 31 of the instruction for easy sign extension</li>\n          <li><strong>Branch and Jump Encoding</strong>: For B and J formats, immediates encode even byte offsets (implicitly multiplied by 2) to increase effective range</li>\n          <li><strong>Instruction Alignment</strong>: All 32-bit instructions are 4-byte aligned, so the lowest 2 bits of any PC-relative offset are always zero (not encoded)</li>\n        </ul>\n\n        <p>These carefully designed formats ensure that RISC-V instructions are both easy to decode (fixed opcode position) and efficiently encoded (maximum utilization of available bits).</p>\n      '}],examples:[{id:"example2_1",title:"RISC-V Assembly Examples",description:"Basic RISC-V assembly code examples showing different instruction formats",code:"# R-type instruction example (register-register)\nadd  t0, t1, t2      # t0 = t1 + t2\n\n# I-type instruction examples (register-immediate)\naddi t0, t1, 10      # t0 = t1 + 10\nlw   t0, 8(t1)       # t0 = Memory[t1 + 8], load word\n\n# S-type instruction example (store)\nsw   t0, 16(t1)      # Memory[t1 + 16] = t0, store word\n\n# B-type instruction example (branch)\nbeq  t0, t1, label   # If t0 == t1, PC = label\nbne  t0, zero, loop  # If t0 != 0, branch to loop\n\n# U-type instruction examples\nlui  t0, 0x12345     # t0 = 0x12345000 (load upper immediate)\nauipc t0, 0x1000     # t0 = PC + 0x1000000 (add upper immediate to PC)\n\n# J-type instruction example (jump)\njal  ra, function    # Jump to function, save return address in ra",explanation:"These examples demonstrate the different instruction formats in RISC-V. Note how each follows the standard RISC-V assembly syntax. R-type instructions use three registers (destination and two sources). I-type combines a register with an immediate value. S-type stores a register value to memory. B-type performs conditional branches. U-type loads a 20-bit immediate into the upper 20 bits of a register. J-type jumps to a new address and optionally saves the return address."},{id:"example2_2",title:"Instruction Binary Encoding",description:"Example of how RISC-V instructions are encoded in binary",code:"Instruction: add x5, x6, x7\nFormat: R-type\n\nBinary encoding:\n0000000 00111 00110 000 00101 0110011\n|       |     |     |   |     |\nfunct7  rs2   rs1   f3  rd    opcode\n        (x7)  (x6)      (x5)  (R-type ALU)\n\nInstruction: addi x5, x6, 20\nFormat: I-type\n\nBinary encoding:\n000000010100 00110 000 00101 0010011\n|           |     |   |     |\nimm[11:0]   rs1   f3  rd    opcode\n(20)        (x6)      (x5)  (I-type ALU)\n\nInstruction: sw x7, 8(x6)\nFormat: S-type\n\nBinary encoding:\n0000001 00111 00110 010 01000 0100011\n|       |     |     |   |     |\nimm[11:5] rs2   rs1   f3  imm[4:0] opcode\n(8 high)  (x7)  (x6)      (8 low)  (store)",explanation:"This example shows how RISC-V instructions are encoded in their binary format. Each instruction type has a specific layout of fields. The opcode always occupies the lowest 7 bits (bits 0-6). Register specifiers are consistently positioned, with rs1 in bits 15-19, rs2 in bits 20-24, and rd in bits 7-11. Immediate values are distributed across the instruction word differently depending on the format, but always arranged to facilitate efficient sign extension."}],quiz:{title:"RISC-V Instruction Set Architecture Quiz",questions:[{question:"What is the width of the base RISC-V instructions?",options:["16 bits","32 bits","64 bits","Variable width"],correctAnswer:1,explanation:"Base RISC-V instructions (RV32I and RV64I) are always 32 bits wide. The 'C' extension adds 16-bit compressed instructions, but these are an optional extension to the base ISA."},{question:"How many general-purpose registers are there in the standard RISC-V integer ISA?",options:["8 registers","16 registers","32 registers","64 registers"],correctAnswer:2,explanation:"The standard RISC-V integer ISA (RV32I/RV64I) defines 32 general-purpose integer registers, named x0 through x31. The RV32E variant for embedded systems reduces this to 16 registers."},{question:"Which of the following is NOT a standard RISC-V instruction format?",options:["R-type (Register)","I-type (Immediate)","M-type (Memory)","U-type (Upper immediate)"],correctAnswer:2,explanation:"There is no M-type instruction format in RISC-V. The standard formats are R-type (register-register), I-type (immediate), S-type (store), B-type (branch), U-type (upper immediate), and J-type (jump)."},{question:"Which register is hardwired to zero in RISC-V?",options:["x0","x1","x2","x31"],correctAnswer:0,explanation:"Register x0 (also called 'zero' in the ABI naming convention) is hardwired to the value 0. Writing to this register has no effect, and reading from it always returns 0."},{question:"What does the 'G' in RV64G stand for?",options:["Graphics extension","General-purpose computing","Government-approved specification","Gigantic register file"],correctAnswer:1,explanation:"The 'G' in RV64G stands for 'General-purpose' and is shorthand for the combination of the base integer ISA (I) plus the M, A, F, and D extensions (IMAFD). It represents a complete general-purpose instruction set."}]}},completed:!1},{...{id:3,title:"Single-Cycle Processor Design",description:"Implementing a basic single-cycle RISC-V processor",estimatedTime:"4 hours",completed:!1,sections:[{id:"3.1",title:"Architectural Overview",content:'\n        <h3>Single-Cycle RISC-V Architecture</h3>\n        <p>A single-cycle processor executes each instruction in one clock cycle, from fetch to completion. This design prioritizes simplicity over performance, making it an excellent starting point for understanding processor implementation.</p>\n        \n        <h4>Block Diagram of a Single-Cycle RISC-V Processor</h4>\n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/8ZJZnSW.png" alt="Single-Cycle RISC-V Processor" style="max-width: 700px; width: 100%;">\n          <p><em>Block diagram of a basic single-cycle RISC-V processor</em></p>\n        </div>\n        \n        <h4>Key Components</h4>\n        <p>The single-cycle RV32I processor consists of several primary components:</p>\n        <ul>\n          <li><strong>Program Counter (PC)</strong>: Holds the address of the current instruction</li>\n          <li><strong>Instruction Memory</strong>: Stores the program instructions</li>\n          <li><strong>Register File</strong>: Contains the 32 general-purpose registers</li>\n          <li><strong>ALU (Arithmetic Logic Unit)</strong>: Performs arithmetic and logical operations</li>\n          <li><strong>Data Memory</strong>: Stores program data</li>\n          <li><strong>Control Unit</strong>: Generates control signals based on instruction opcode</li>\n          <li><strong>Immediate Generator</strong>: Extracts and sign-extends immediate values from instructions</li>\n        </ul>\n        \n        <h4>Data Path and Control Path Separation</h4>\n        <p>The processor design can be divided into two main parts:</p>\n        <ul>\n          <li><strong>Data Path</strong>: The hardware components that manipulate data (registers, ALU, memories, multiplexers, etc.)</li>\n          <li><strong>Control Path</strong>: The logic that controls the data path components based on the instruction being executed</li>\n        </ul>\n        \n        <p>This separation simplifies design and verification by allowing each path to be developed and tested independently.</p>\n        \n        <h4>Base ISA Implementation Scope</h4>\n        <p>For a basic single-cycle implementation, we typically focus on the RV32I base instruction set, which includes:</p>\n        <ul>\n          <li>Integer arithmetic and logical operations (ADD, SUB, AND, OR, XOR, etc.)</li>\n          <li>Memory access instructions (LW, SW, etc.)</li>\n          <li>Control flow instructions (branches and jumps)</li>\n          <li>Upper immediate instructions (LUI, AUIPC)</li>\n        </ul>\n        \n        <p>Extensions like M (multiply/divide), F (floating-point), or A (atomic) can be added later as enhancements.</p>\n        \n        <h4>Implementation Tradeoffs</h4>\n        <p>The single-cycle design has important tradeoffs to consider:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Advantages</th>\n            <th>Disadvantages</th>\n          </tr>\n          <tr>\n            <td>\n              <ul>\n                <li>Simple to understand and implement</li>\n                <li>No hazard handling required</li>\n                <li>Direct correspondence between architecture and implementation</li>\n                <li>Lower control complexity</li>\n              </ul>\n            </td>\n            <td>\n              <ul>\n                <li>Clock period limited by slowest instruction</li>\n                <li>Poor hardware utilization (components used only once per cycle)</li>\n                <li>Limited performance</li>\n                <li>Higher power consumption</li>\n              </ul>\n            </td>\n          </tr>\n        </table>\n        \n        <p>Despite its performance limitations, the single-cycle design provides an essential foundation for understanding more complex processor implementations.</p>\n      '},{id:"3.2",title:"Control Unit Design",content:'\n        <h3>Control Unit for RISC-V Single-Cycle Processor</h3>\n        <p>The control unit is the "brain" of the processor, interpreting instructions and generating control signals that direct the operation of the datapath components.</p>\n        \n        <h4>Control Signals Generation</h4>\n        <p>Based on the instruction opcode (and sometimes funct3/funct7 fields), the control unit generates several critical signals:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Control Signal</th>\n            <th>Purpose</th>\n            <th>Values</th>\n          </tr>\n          <tr>\n            <td>PC Select</td>\n            <td>Controls next PC value</td>\n            <td>0: PC+4, 1: Branch/Jump target</td>\n          </tr>\n          <tr>\n            <td>RegWrite</td>\n            <td>Enables writing to the register file</td>\n            <td>0: No write, 1: Write enabled</td>\n          </tr>\n          <tr>\n            <td>ALUSrc</td>\n            <td>Selects second ALU input</td>\n            <td>0: Register data, 1: Immediate value</td>\n          </tr>\n          <tr>\n            <td>ALUOp</td>\n            <td>Controls ALU operation</td>\n            <td>Multiple values for different operations</td>\n          </tr>\n          <tr>\n            <td>MemRead</td>\n            <td>Enables reading from data memory</td>\n            <td>0: No read, 1: Read enabled</td>\n          </tr>\n          <tr>\n            <td>MemWrite</td>\n            <td>Enables writing to data memory</td>\n            <td>0: No write, 1: Write enabled</td>\n          </tr>\n          <tr>\n            <td>MemToReg</td>\n            <td>Selects register write data source</td>\n            <td>0: ALU result, 1: Memory data</td>\n          </tr>\n          <tr>\n            <td>Branch</td>\n            <td>Indicates a branch instruction</td>\n            <td>0: Not branch, 1: Branch instruction</td>\n          </tr>\n          <tr>\n            <td>Jump</td>\n            <td>Indicates a jump instruction</td>\n            <td>0: Not jump, 1: Jump instruction</td>\n          </tr>\n        </table>\n        \n        <h4>Instruction Decoding Logic</h4>\n        <p>The control unit decodes instructions using primarily the opcode field (bits 0-6) and sometimes additional fields like funct3 (bits 12-14) and funct7 (bits 25-31) for R-type instructions.</p>\n        \n        <p>For example, a load word instruction (LW) would set the following control signals:</p>\n        <ul>\n          <li>RegWrite = 1 (to store loaded data in register)</li>\n          <li>ALUSrc = 1 (to use immediate offset for address calculation)</li>\n          <li>MemRead = 1 (to read from memory)</li>\n          <li>MemToReg = 1 (to write memory data to register)</li>\n          <li>ALUOp = ADD (to calculate memory address)</li>\n        </ul>\n        \n        <h4>Hardwired vs. Microprogrammed Control</h4>\n        <p>For a simple RISC-V implementation, hardwired control is typically used because:</p>\n        <ul>\n          <li>The RISC-V instruction set is relatively simple and regular</li>\n          <li>Hardwired control is faster than microprogrammed control</li>\n          <li>The control logic can be implemented with simple combinational circuits</li>\n        </ul>\n        \n        <p>Microprogrammed control would be more appropriate for complex instruction sets with irregular encoding or many different instruction behaviors.</p>\n        \n        <h4>Reset Sequence</h4>\n        <p>When the processor is reset, the control unit must ensure:</p>\n        <ul>\n          <li>The PC is set to the reset vector (typically address 0x00000000)</li>\n          <li>All control signals are set to safe default values</li>\n          <li>The processor begins executing instructions from the reset address</li>\n        </ul>\n        \n        <p>This initialization is critical for proper processor operation and typically involves an asynchronous reset signal that forces the processor into a known state.</p>\n      '},{id:"3.3",title:"Datapath Components",content:'\n        <h3>Key Datapath Components</h3>\n        <p>The datapath consists of all the hardware components involved in executing instructions and manipulating data. Let\'s examine each component in detail.</p>\n        \n        <h4>Program Counter (PC) and Next PC Logic</h4>\n        <p>The Program Counter is a special register that holds the address of the current instruction. The Next PC logic determines the address of the next instruction to fetch.</p>\n        \n        <ul>\n          <li><strong>Default behavior</strong>: PC = PC + 4 (next sequential instruction)</li>\n          <li><strong>Branch/Jump behavior</strong>: PC = PC + immediate (for relative branches/jumps) or PC = {PC[31:12], immediate[11:0]} (for JALR)</li>\n          <li><strong>Implementation</strong>: Typically uses a multiplexer controlled by branch/jump signals from the control unit</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/BYb9FbK.png" alt="Next PC Logic" style="max-width: 500px; width: 100%;">\n          <p><em>Simplified Next PC Logic with multiplexer</em></p>\n        </div>\n        \n        <h4>Register File Design</h4>\n        <p>The register file contains the processor\'s 32 general-purpose registers and provides read/write access to them.</p>\n        \n        <ul>\n          <li><strong>Structure</strong>: 32 registers (x0-x31), each 32 bits wide (for RV32I)</li>\n          <li><strong>Ports</strong>: Two read ports and one write port (read ports asynchronous, write port synchronous)</li>\n          <li><strong>Special case</strong>: Register x0 is hardwired to zero; writes to x0 are ignored</li>\n          <li><strong>Timing</strong>: Writes occur on the rising edge of the clock when RegWrite is active</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/MjVh2cz.png" alt="Register File" style="max-width: 500px; width: 100%;">\n          <p><em>32-register file with dual read ports and single write port</em></p>\n        </div>\n        \n        <h4>ALU Implementation</h4>\n        <p>The Arithmetic Logic Unit performs all the arithmetic and logical operations required by the instruction set.</p>\n        \n        <ul>\n          <li><strong>Operations</strong>: ADD, SUB, AND, OR, XOR, SLT, SLTU, SLL, SRL, SRA</li>\n          <li><strong>Control</strong>: Operation selected by ALUOp signals from control unit</li>\n          <li><strong>Flags</strong>: Zero flag (result == 0) used for branch decisions</li>\n          <li><strong>Implementation</strong>: Typically a large multiplexer selecting between various operation units</li>\n        </ul>\n        \n        <h4>Memory Interface</h4>\n        <p>The memory interface connects the processor to instruction and data memories.</p>\n        \n        <ul>\n          <li><strong>Instruction Memory</strong>: Read-only during execution, addressed by the PC</li>\n          <li><strong>Data Memory</strong>: Read/write, addressed by ALU result, controlled by MemRead and MemWrite signals</li>\n          <li><strong>Alignment</strong>: Handles byte, half-word, and word accesses with appropriate alignment</li>\n          <li><strong>Memory Map</strong>: In a simple implementation, instruction and data memories might be separate; in a von Neumann architecture, they would share the same address space</li>\n        </ul>\n        \n        <h4>Immediate Generator</h4>\n        <p>The immediate generator extracts immediate values from instructions and sign-extends them to the full register width.</p>\n        \n        <ul>\n          <li><strong>Function</strong>: Extracts immediate bits from different instruction formats (I, S, B, U, J) and sign-extends them</li>\n          <li><strong>Implementation</strong>: Primarily multiplexing logic selecting appropriate bits based on instruction format</li>\n          <li><strong>Control</strong>: Instruction format determined by opcode</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/FBf0JT1.png" alt="Immediate Generator" style="max-width: 600px; width: 100%;">\n          <p><em>Immediate generation for different instruction formats</em></p>\n        </div>\n      '},{id:"3.4",title:"Integration and Testing",content:'\n        <h3>Building and Testing a Single-Cycle Processor</h3>\n        <p>After designing individual components, the next step is integrating them into a complete processor and verifying its functionality.</p>\n        \n        <h4>Testbench Development</h4>\n        <p>A comprehensive testbench is essential for verifying processor functionality:</p>\n        \n        <ul>\n          <li><strong>Clock Generation</strong>: Provides a consistent clock signal to drive the processor</li>\n          <li><strong>Reset Logic</strong>: Initializes the processor to a known state</li>\n          <li><strong>Memory Models</strong>: Simulates instruction and data memories</li>\n          <li><strong>Instruction Loading</strong>: Pre-loads test programs into instruction memory</li>\n          <li><strong>Monitoring</strong>: Observes processor state (PC, register values, memory contents) during execution</li>\n          <li><strong>Assertions</strong>: Verifies correct behavior after executing test instructions</li>\n        </ul>\n        \n        <h4>Instruction Testing Strategy</h4>\n        <p>A systematic approach to testing ensures complete coverage:</p>\n        \n        <ol>\n          <li><strong>Individual Instruction Tests</strong>: Test each instruction type in isolation</li>\n          <li><strong>Instruction Sequences</strong>: Test common instruction combinations</li>\n          <li><strong>Corner Cases</strong>: Test edge conditions (zero results, overflow, etc.)</li>\n          <li><strong>Small Programs</strong>: Test complete algorithms (e.g., GCD, factorial)</li>\n          <li><strong>Regression Testing</strong>: Run all tests after making changes to ensure nothing breaks</li>\n        </ol>\n        \n        <h4>Waveform Analysis</h4>\n        <p>Analyzing signal waveforms is a powerful debugging technique:</p>\n        \n        <ul>\n          <li><strong>Instruction Fetch</strong>: Verify PC updates correctly and correct instructions are fetched</li>\n          <li><strong>Decode</strong>: Check control signals match expected values for the instruction</li>\n          <li><strong>Execute</strong>: Verify ALU operations produce correct results</li>\n          <li><strong>Memory</strong>: Confirm memory reads/writes occur with correct addresses and data</li>\n          <li><strong>Writeback</strong>: Verify register file updates properly</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/ZbR2KRr.png" alt="Waveform Analysis" style="max-width: 700px; width: 100%;">\n          <p><em>Example waveform showing execution of an ADD instruction</em></p>\n        </div>\n        \n        <h4>Performance Measurement</h4>\n        <p>Even for a single-cycle processor, performance metrics are important:</p>\n        \n        <ul>\n          <li><strong>CPI (Cycles Per Instruction)</strong>: Always 1 for single-cycle, but useful as a baseline comparison</li>\n          <li><strong>Maximum Clock Frequency</strong>: Determined by the critical path through the processor</li>\n          <li><strong>IPC (Instructions Per Cycle)</strong>: Always 1 for single-cycle design</li>\n          <li><strong>Overall Performance</strong>: Measured in instructions per second (clock frequency \xd7 IPC)</li>\n        </ul>\n        \n        <h4>Common Issues and Debugging</h4>\n        <p>Watch for these common problems when debugging your implementation:</p>\n        \n        <ul>\n          <li><strong>Control Signal Errors</strong>: Incorrect signals for specific instructions</li>\n          <li><strong>Immediate Generation Issues</strong>: Wrong bit selection for different formats</li>\n          <li><strong>Timing Problems</strong>: Missing or incorrect clock or reset connections</li>\n          <li><strong>ALU Operation Errors</strong>: Incorrect implementation of specific operations</li>\n          <li><strong>Memory Alignment Issues</strong>: Problems with byte/half-word accesses</li>\n          <li><strong>Branch/Jump Logic Errors</strong>: Incorrect target address calculation</li>\n        </ul>\n      '}],examples:[{id:"example3_1",title:"RISC-V Control Unit Implementation",description:"Verilog implementation of a basic control unit for an RV32I single-cycle processor",code:"module control_unit(\n  input [6:0] opcode,       // Instruction opcode field\n  input [2:0] funct3,       // Instruction funct3 field\n  input [6:0] funct7,       // Instruction funct7 field\n  \n  output reg [1:0] pc_sel,  // 00: PC+4, 01: Branch, 10: Jump\n  output reg reg_write,     // Register file write enable\n  output reg alu_src,       // 0: Register, 1: Immediate\n  output reg [3:0] alu_op,  // ALU operation\n  output reg mem_read,      // Memory read enable\n  output reg mem_write,     // Memory write enable\n  output reg [1:0] wb_sel   // 00: ALU result, 01: Memory, 10: PC+4\n);\n\n  // RISC-V opcode definitions\n  localparam LOAD    = 7'b0000011;\n  localparam STORE   = 7'b0100011;\n  localparam BRANCH  = 7'b1100011;\n  localparam JALR    = 7'b1100111;\n  localparam JAL     = 7'b1101111;\n  localparam OP_IMM  = 7'b0010011;\n  localparam OP      = 7'b0110011;\n  localparam LUI     = 7'b0110111;\n  localparam AUIPC   = 7'b0010111;\n  \n  always @(*) begin\n    // Default values (NOP behavior)\n    pc_sel    = 2'b00;     // PC+4\n    reg_write = 1'b0;      // No register write\n    alu_src   = 1'b0;      // Use register\n    alu_op    = 4'b0000;   // ADD\n    mem_read  = 1'b0;      // No memory read\n    mem_write = 1'b0;      // No memory write\n    wb_sel    = 2'b00;     // ALU result\n    \n    case(opcode)\n      LOAD: begin\n        reg_write = 1'b1;  // Enable register write\n        alu_src   = 1'b1;  // Use immediate\n        alu_op    = 4'b0000; // ADD for address\n        mem_read  = 1'b1;  // Enable memory read\n        wb_sel    = 2'b01; // Write memory data\n      end\n      \n      STORE: begin\n        alu_src   = 1'b1;  // Use immediate\n        alu_op    = 4'b0000; // ADD for address\n        mem_write = 1'b1;  // Enable memory write\n      end\n      \n      BRANCH: begin\n        pc_sel    = 2'b01; // Branch target\n        alu_op    = 4'b0001; // SUB for comparison\n        // Note: Branch taken depends on ALU zero flag and specific branch type\n      end\n      \n      JAL: begin\n        pc_sel    = 2'b10; // Jump target\n        reg_write = 1'b1;  // Write return address\n        wb_sel    = 2'b10; // PC+4\n      end\n      \n      JALR: begin\n        pc_sel    = 2'b10; // Jump target\n        reg_write = 1'b1;  // Write return address\n        alu_src   = 1'b1;  // Use immediate\n        alu_op    = 4'b0000; // ADD for address\n        wb_sel    = 2'b10; // PC+4\n      end\n      \n      OP_IMM: begin\n        reg_write = 1'b1;  // Enable register write\n        alu_src   = 1'b1;  // Use immediate\n        \n        // Select ALU operation based on funct3\n        case(funct3)\n          3'b000: alu_op = 4'b0000; // ADDI\n          3'b010: alu_op = 4'b0010; // SLTI\n          3'b011: alu_op = 4'b0011; // SLTIU\n          3'b100: alu_op = 4'b0100; // XORI\n          3'b110: alu_op = 4'b0110; // ORI\n          3'b111: alu_op = 4'b0111; // ANDI\n          3'b001: alu_op = 4'b0001; // SLLI\n          3'b101: begin\n            if (funct7[5]) alu_op = 4'b1101; // SRAI\n            else alu_op = 4'b0101; // SRLI\n          end\n        endcase\n      end\n      \n      OP: begin\n        reg_write = 1'b1;  // Enable register write\n        \n        // Select ALU operation based on funct3 and funct7\n        case(funct3)\n          3'b000: begin\n            if (funct7[5]) alu_op = 4'b0001; // SUB\n            else alu_op = 4'b0000; // ADD\n          end\n          3'b001: alu_op = 4'b0001; // SLL\n          3'b010: alu_op = 4'b0010; // SLT\n          3'b011: alu_op = 4'b0011; // SLTU\n          3'b100: alu_op = 4'b0100; // XOR\n          3'b101: begin\n            if (funct7[5]) alu_op = 4'b1101; // SRA\n            else alu_op = 4'b0101; // SRL\n          end\n          3'b110: alu_op = 4'b0110; // OR\n          3'b111: alu_op = 4'b0111; // AND\n        endcase\n      end\n      \n      LUI: begin\n        reg_write = 1'b1;  // Enable register write\n        alu_src   = 1'b1;  // Use immediate\n        alu_op    = 4'b1010; // Pass immediate\n      end\n      \n      AUIPC: begin\n        reg_write = 1'b1;  // Enable register write\n        alu_src   = 1'b1;  // Use immediate\n        alu_op    = 4'b1011; // PC + immediate\n      end\n    endcase\n  end\nendmodule",explanation:"This control unit takes the opcode, funct3, and funct7 fields from the instruction and generates control signals for the datapath. It uses a case statement to decode the opcode and determine the appropriate control signals for each instruction type. For R-type and I-type instructions, it further decodes the funct3 and funct7 fields to determine the specific ALU operation. The control signals direct the datapath to perform the correct operations for each instruction type, such as register writes, memory accesses, ALU operations, and next PC selection."},{id:"example3_2",title:"RISC-V ALU Implementation",description:"Verilog implementation of an ALU for RV32I instructions",code:"module alu(\n  input [31:0] a,           // First operand\n  input [31:0] b,           // Second operand\n  input [3:0] alu_op,       // ALU operation\n  output reg [31:0] result, // Result\n  output zero               // Zero flag\n);\n\n  // ALU operation codes\n  localparam ADD  = 4'b0000;\n  localparam SUB  = 4'b0001;\n  localparam SLL  = 4'b0001;\n  localparam SLT  = 4'b0010;\n  localparam SLTU = 4'b0011;\n  localparam XOR  = 4'b0100;\n  localparam SRL  = 4'b0101;\n  localparam SRA  = 4'b1101;\n  localparam OR   = 4'b0110;\n  localparam AND  = 4'b0111;\n  localparam LUI  = 4'b1010;\n  \n  // Zero flag is set when result is 0\n  assign zero = (result == 32'b0);\n  \n  always @(*) begin\n    case(alu_op)\n      ADD:  result = a + b;\n      SUB:  result = a - b;\n      SLL:  result = a << b[4:0];\n      SLT:  result = ($signed(a) < $signed(b)) ? 32'b1 : 32'b0;\n      SLTU: result = (a < b) ? 32'b1 : 32'b0;\n      XOR:  result = a ^ b;\n      SRL:  result = a >> b[4:0];\n      SRA:  result = $signed(a) >>> b[4:0];\n      OR:   result = a | b;\n      AND:  result = a & b;\n      LUI:  result = b;      // Pass immediate directly for LUI\n      default: result = 32'b0;\n    endcase\n  end\nendmodule",explanation:"This ALU module implements all the arithmetic and logical operations required by the RV32I instruction set. It takes two 32-bit operands and a 4-bit operation code, and produces a 32-bit result and a zero flag. The operation code determines which operation to perform, such as addition, subtraction, logical AND/OR/XOR, shifts, or comparisons. The zero flag is set when the result is zero, which is used for branch instructions. Note that shift operations only use the lower 5 bits of the second operand as the shift amount, as specified in the RISC-V instruction set."}],quiz:{title:"Single-Cycle Processor Design Quiz",questions:[{question:"What is the defining characteristic of a single-cycle processor?",options:["It can execute multiple instructions at once","Each instruction takes exactly one clock cycle to complete","It uses a pipeline to overlap instruction execution","It requires minimal hardware resources"],correctAnswer:1,explanation:"The defining characteristic of a single-cycle processor is that each instruction, regardless of complexity, completes in exactly one clock cycle. This simplifies the control logic but limits performance, as the clock period must accommodate the longest possible instruction path."},{question:"Which component generates the control signals that direct the datapath's operation?",options:["ALU","Register File","Control Unit","Program Counter"],correctAnswer:2,explanation:"The Control Unit generates all the control signals that direct the operation of the datapath components. It interprets the instruction opcode and other fields to determine which operations should be performed by each component in the datapath."},{question:"What determines the maximum clock frequency of a single-cycle processor?",options:["The number of registers in the register file","The width of the data bus","The propagation delay through the longest instruction path","The size of the instruction memory"],correctAnswer:2,explanation:"The maximum clock frequency of a single-cycle processor is determined by the propagation delay through the longest instruction path (critical path). Since all instructions must complete in one cycle, the clock period must be long enough to accommodate the slowest instruction."},{question:"In a RISC-V processor, what is the purpose of the immediate generator?",options:["To create random values for testing","To extract and sign-extend immediate values from instructions","To generate intermediate results during multi-cycle operations","To create memory addresses for load/store operations"],correctAnswer:1,explanation:"The immediate generator extracts immediate values from various instruction formats (I, S, B, U, J) and sign-extends them to 32 bits so they can be used as operands for ALU operations, memory addresses, or branch/jump targets."},{question:"What does the PC (Program Counter) register contain?",options:["The address of the current instruction being executed","The number of instructions executed so far","The operation code of the current instruction","A count of remaining instructions in the program"],correctAnswer:0,explanation:"The Program Counter (PC) register contains the memory address of the current instruction being executed. It is updated to point to the next instruction (PC+4) or to a branch/jump target address after each instruction execution."},{question:"Which control signal determines whether the ALU's second input comes from a register or an immediate value?",options:["RegWrite","MemToReg","ALUSrc","PCSrc"],correctAnswer:2,explanation:"The ALUSrc control signal determines the source of the ALU's second input. When ALUSrc=0, the second input comes from a register (rs2). When ALUSrc=1, the second input comes from the immediate generator."},{question:"What is the main disadvantage of a single-cycle processor architecture?",options:["It cannot execute branch instructions","It requires more complex control logic","The clock period is limited by the slowest instruction","It cannot support floating-point operations"],correctAnswer:2,explanation:"The main disadvantage of a single-cycle processor is that the clock period is limited by the slowest instruction's execution time. Since all instructions must complete in one cycle, the clock frequency is determined by the longest possible path through the processor, which leads to inefficient hardware utilization for simpler instructions."},{question:"How many read ports does a typical RISC-V register file have?",options:["One","Two","Three","Four"],correctAnswer:1,explanation:"A typical RISC-V register file has two read ports, allowing it to read two register values simultaneously (rs1 and rs2) for instructions that require two source operands, such as R-type arithmetic instructions."},{question:"Which of the following is a key advantage of hardwired control compared to microprogrammed control for a RISC-V processor?",options:["Easier to modify and update","Supports more complex instructions","Faster operation with less overhead","Requires less silicon area"],correctAnswer:2,explanation:"A key advantage of hardwired control for RISC-V processors is faster operation with less overhead. Since the RISC-V instruction set is relatively simple and regular, hardwired control can be implemented efficiently with combinational logic, avoiding the extra cycles and complexity of microprogrammed control."},{question:"What happens when register x0 is used as a destination register in RISC-V?",options:["The processor raises an exception","The data is written to register x0 normally","The write is ignored because x0 is hardwired to zero","The data is written to the next available register"],correctAnswer:2,explanation:"In RISC-V, register x0 is hardwired to the value zero. Any attempt to write to x0 is ignored; the write operation may occur but has no effect, as x0 will continue to read as zero. This feature is useful for implementing operations that don't need to save a result, or for creating more efficient code."}]}},completed:!1},{...{id:4,title:"Multi-Cycle Processor Implementation",description:"Converting to a multi-cycle design for improved efficiency",estimatedTime:"4 hours",completed:!1,sections:[{id:"4.1",title:"Limitations of Single-Cycle Design",content:"\n        <h3>Why Move Beyond Single-Cycle?</h3>\n        <p>While the single-cycle design is elegant in its simplicity, it faces several significant limitations that affect its practical application:</p>\n        \n        <h4>Performance Constraints</h4>\n        <p>In a single-cycle processor, the clock period must accommodate the longest possible instruction path, leading to several inefficiencies:</p>\n        <ul>\n          <li><strong>Clock Speed Limited by Slowest Instruction</strong>: Memory operations typically have the longest delay, forcing all instructions to run at this slower pace</li>\n          <li><strong>Wasted Time for Simple Instructions</strong>: Fast operations like register-to-register arithmetic must wait for the entire clock period</li>\n          <li><strong>Limited Throughput</strong>: Even with faster technology, the fundamental limit of one instruction per cycle remains</li>\n        </ul>\n        \n        <h4>Hardware Utilization Issues</h4>\n        <p>Single-cycle designs make inefficient use of hardware resources:</p>\n        <ul>\n          <li><strong>Duplicate Hardware</strong>: Separate instruction and data memories are typically required</li>\n          <li><strong>Underutilized Components</strong>: Most components are active for only a fraction of the clock cycle</li>\n          <li><strong>Resource Wasting</strong>: The ALU is used only once per instruction, even though multiple operations might be needed</li>\n        </ul>\n        \n        <h4>Power and Area Considerations</h4>\n        <p>The inefficiencies translate directly to higher power consumption and larger silicon area:</p>\n        <ul>\n          <li><strong>Higher Power Usage</strong>: Duplicate hardware and low utilization increase power consumption</li>\n          <li><strong>Larger Die Size</strong>: More hardware means more silicon area and higher manufacturing costs</li>\n          <li><strong>Thermal Challenges</strong>: Increased power density creates thermal management issues</li>\n        </ul>\n        \n        <p>These limitations motivate the development of more efficient processor architectures, with the multi-cycle design representing a significant improvement while maintaining relative simplicity.</p>\n      "},{id:"4.2",title:"Multi-Cycle Architecture",content:'\n        <h3>Multi-Cycle Design Principles</h3>\n        <p>A multi-cycle processor breaks down instruction execution into multiple clock cycles, with each cycle performing a specific step in the instruction\'s execution. This approach addresses many of the single-cycle design\'s limitations.</p>\n        \n        <h4>The Instruction Cycle</h4>\n        <p>In a multi-cycle RISC-V processor, instructions typically execute in 3-5 clock cycles, depending on the instruction type:</p>\n        <ol>\n          <li><strong>Fetch</strong>: Retrieve instruction from memory</li>\n          <li><strong>Decode</strong>: Decode instruction and read registers</li>\n          <li><strong>Execute</strong>: Perform ALU operation or address calculation</li>\n          <li><strong>Memory</strong>: Access memory (for load/store instructions)</li>\n          <li><strong>Writeback</strong>: Write result to register file</li>\n        </ol>\n        \n        <p>Not all instructions require all five stages. For example, register-register operations skip the memory stage, while store instructions don\'t need the writeback stage.</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/JYnpTZq.png" alt="Multi-Cycle Instruction Flow" style="max-width: 700px; width: 100%;">\n          <p><em>Different instruction types follow different paths through the multi-cycle datapath</em></p>\n        </div>\n        \n        <h4>Shared Resources</h4>\n        <p>A key advantage of the multi-cycle design is resource sharing:</p>\n        <ul>\n          <li><strong>Unified Memory</strong>: A single memory unit can be used for both instructions and data, accessed in different cycles</li>\n          <li><strong>Reused ALU</strong>: The ALU can perform different operations in different cycles (address calculation, arithmetic, etc.)</li>\n          <li><strong>Shared Buses</strong>: Data paths can be reused across different instruction phases</li>\n        </ul>\n        \n        <h4>Performance Benefits</h4>\n        <p>Despite taking multiple cycles per instruction, the multi-cycle design often achieves better overall performance:</p>\n        <ul>\n          <li><strong>Higher Clock Frequency</strong>: Each cycle performs simpler operations, allowing for a much shorter clock period</li>\n          <li><strong>Tailored Execution Time</strong>: Simple instructions complete in fewer cycles than complex ones</li>\n          <li><strong>Better Average CPI</strong>: While CPI (Cycles Per Instruction) increases from 1.0, the shorter clock period more than compensates</li>\n        </ul>\n        \n        <p>These characteristics make multi-cycle designs an excellent compromise between performance and complexity, especially for educational purposes and simpler applications.</p>\n      '},{id:"4.3",title:"Datapath for Multi-Cycle Design",content:'\n        <h3>Multi-Cycle Datapath Components</h3>\n        <p>The multi-cycle datapath expands on the single-cycle design by adding intermediate registers and more flexible routing of data.</p>\n        \n        <h4>Key Components</h4>\n        <ul>\n          <li><strong>Program Counter (PC)</strong>: Register holding the address of the current instruction</li>\n          <li><strong>Memory</strong>: Combined instruction and data memory (or separate memories with multiplexed access)</li>\n          <li><strong>Register File</strong>: Array of 32 general-purpose registers</li>\n          <li><strong>ALU</strong>: Performs arithmetic and logical operations</li>\n          <li><strong>Control Unit</strong>: State machine that generates control signals based on current state and instruction</li>\n        </ul>\n        \n        <h4>Intermediate Registers</h4>\n        <p>Several registers are added to hold intermediate values between cycles:</p>\n        <ul>\n          <li><strong>Instruction Register (IR)</strong>: Holds the current instruction being executed</li>\n          <li><strong>Memory Data Register (MDR)</strong>: Holds data read from memory</li>\n          <li><strong>A and B Registers</strong>: Hold values read from the register file</li>\n          <li><strong>ALU Output Register</strong>: Holds the result of ALU operations</li>\n        </ul>\n        \n        <p>These registers create "boundaries" between the different stages, allowing operations in different parts of the datapath to occur independently.</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/Mk2cAc1.png" alt="Multi-Cycle Datapath" style="max-width: 700px; width: 100%;">\n          <p><em>Simplified multi-cycle datapath showing intermediate registers and multiplexers</em></p>\n        </div>\n        \n        <h4>Multiplexers and Routing</h4>\n        <p>The multi-cycle design requires more multiplexers to route data correctly for each cycle:</p>\n        <ul>\n          <li><strong>ALU Input Multiplexers</strong>: Select between register values, PC, immediate values, or constants</li>\n          <li><strong>Memory Address Multiplexer</strong>: Selects between PC (for instruction fetch) and ALU result (for data access)</li>\n          <li><strong>Register Write Data Multiplexer</strong>: Selects between ALU result, memory data, and PC+4</li>\n        </ul>\n        \n        <p>These multiplexers allow the same physical components to be used for different purposes in different cycles, increasing hardware utilization.</p>\n      '},{id:"4.4",title:"Control Unit as a Finite State Machine",content:'\n        <h3>State Machine Controller</h3>\n        <p>The multi-cycle processor\'s control unit is implemented as a finite state machine (FSM) that progresses through different states for each instruction.</p>\n        \n        <h4>Basic State Diagram</h4>\n        <p>A simplified state diagram for a multi-cycle RISC-V processor typically includes:</p>\n        \n        <ul>\n          <li><strong>Fetch State</strong>: Retrieve instruction from memory (common for all instructions)</li>\n          <li><strong>Decode State</strong>: Decode instruction and read registers (common for all instructions)</li>\n          <li><strong>Execute States</strong>: Multiple possible states depending on the instruction type:\n            <ul>\n              <li>Execute-R: For register-register arithmetic/logical operations</li>\n              <li>Execute-I: For immediate arithmetic/logical operations</li>\n              <li>Execute-Load: For load address calculation</li>\n              <li>Execute-Store: For store address calculation</li>\n              <li>Execute-Branch: For branch condition evaluation</li>\n              <li>Execute-Jump: For jump operations</li>\n            </ul>\n          </li>\n          <li><strong>Memory States</strong>: For memory access operations:\n            <ul>\n              <li>Memory-Read: For load instructions</li>\n              <li>Memory-Write: For store instructions</li>\n            </ul>\n          </li>\n          <li><strong>Writeback States</strong>: For writing results to registers:\n            <ul>\n              <li>Writeback-R: For register-register operations</li>\n              <li>Writeback-I: For immediate operations</li>\n              <li>Writeback-Load: For writing loaded data</li>\n              <li>Writeback-Jump: For writing return addresses</li>\n            </ul>\n          </li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/sNqvg0v.png" alt="Multi-Cycle Control FSM" style="max-width: 700px; width: 100%;">\n          <p><em>Simplified state diagram for multi-cycle RISC-V control unit</em></p>\n        </div>\n        \n        <h4>State Transitions</h4>\n        <p>Transitions between states are determined by:</p>\n        <ul>\n          <li><strong>Current State</strong>: The current phase of instruction execution</li>\n          <li><strong>Instruction Opcode</strong>: Determines which execution path to follow</li>\n          <li><strong>Additional Fields</strong>: funct3, funct7 for specific operation selection</li>\n        </ul>\n        \n        <h4>Control Signal Generation</h4>\n        <p>In each state, the control unit generates specific control signals to direct datapath operations:</p>\n        <ul>\n          <li><strong>Fetch State</strong>: PC write enable, memory read, instruction register write</li>\n          <li><strong>Decode State</strong>: Register file read, immediate generation</li>\n          <li><strong>Execute States</strong>: ALU operation selection, ALU input selection</li>\n          <li><strong>Memory States</strong>: Memory read/write enable, memory address selection</li>\n          <li><strong>Writeback States</strong>: Register file write enable, write data selection</li>\n        </ul>\n        \n        <p>This structured approach ensures that each component performs the right operation at the right time, while maximizing resource utilization.</p>\n      '},{id:"4.5",title:"Performance Analysis",content:'\n        <h3>Evaluating Multi-Cycle Performance</h3>\n        <p>To understand the performance benefits of multi-cycle designs, we need to analyze several key metrics.</p>\n        \n        <h4>Clock Period Reduction</h4>\n        <p>The multi-cycle design significantly reduces the clock period compared to single-cycle:</p>\n        <ul>\n          <li><strong>Single-Cycle Period</strong>: Must accommodate the longest instruction path (typically memory access + ALU + register file)</li>\n          <li><strong>Multi-Cycle Period</strong>: Only needs to accommodate the longest individual stage (typically memory access)</li>\n          <li><strong>Typical Improvement</strong>: 3-4\xd7 shorter clock period, depending on memory and ALU characteristics</li>\n        </ul>\n        \n        <h4>Cycles Per Instruction (CPI)</h4>\n        <p>The multi-cycle design has a higher CPI, which varies by instruction:</p>\n        <ul>\n          <li><strong>Register-Register Operations</strong>: 4 cycles (Fetch, Decode, Execute, Writeback)</li>\n          <li><strong>Immediate Operations</strong>: 4 cycles (Fetch, Decode, Execute, Writeback)</li>\n          <li><strong>Load Instructions</strong>: 5 cycles (Fetch, Decode, Execute, Memory, Writeback)</li>\n          <li><strong>Store Instructions</strong>: 4 cycles (Fetch, Decode, Execute, Memory)</li>\n          <li><strong>Branches</strong>: 3 cycles (Fetch, Decode, Execute)</li>\n          <li><strong>Jumps</strong>: 3-4 cycles (depending on return address saving)</li>\n        </ul>\n        \n        <p>The average CPI depends on the instruction mix of the program being executed, but typically ranges from 3.5 to 4.5.</p>\n        \n        <h4>Overall Performance Comparison</h4>\n        <p>The key performance equation is:</p>\n        <p style="text-align: center;"><strong>Performance = Clock Frequency / Average CPI</strong></p>\n        \n        <p>Consider this comparison example:</p>\n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Design</th>\n            <th>Clock Period</th>\n            <th>Average CPI</th>\n            <th>Time per Instruction</th>\n            <th>Relative Performance</th>\n          </tr>\n          <tr>\n            <td>Single-cycle</td>\n            <td>10ns</td>\n            <td>1.0</td>\n            <td>10ns</td>\n            <td>1.0\xd7</td>\n          </tr>\n          <tr>\n            <td>Multi-cycle</td>\n            <td>3ns</td>\n            <td>4.0</td>\n            <td>12ns</td>\n            <td>0.83\xd7</td>\n          </tr>\n        </table>\n        \n        <p>In this example, the multi-cycle design is slightly slower overall. However, with more complex operations or slower memory relative to logic, the multi-cycle design often outperforms the single-cycle approach:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Design</th>\n            <th>Clock Period</th>\n            <th>Average CPI</th>\n            <th>Time per Instruction</th>\n            <th>Relative Performance</th>\n          </tr>\n          <tr>\n            <td>Single-cycle</td>\n            <td>15ns</td>\n            <td>1.0</td>\n            <td>15ns</td>\n            <td>1.0\xd7</td>\n          </tr>\n          <tr>\n            <td>Multi-cycle</td>\n            <td>3ns</td>\n            <td>4.0</td>\n            <td>12ns</td>\n            <td>1.25\xd7</td>\n          </tr>\n        </table>\n        \n        <h4>Other Benefits</h4>\n        <p>Beyond raw performance, multi-cycle designs offer other advantages:</p>\n        <ul>\n          <li><strong>Reduced Hardware Cost</strong>: Fewer components needed due to resource sharing</li>\n          <li><strong>Lower Power Consumption</strong>: Better hardware utilization and potentially lower voltage operation</li>\n          <li><strong>Simpler Memory Interface</strong>: Single memory interface can be optimized</li>\n        </ul>\n        \n        <p>These factors make multi-cycle designs an excellent choice for many embedded applications where cost and power efficiency are important.</p>\n      '}],examples:[{id:"example4_1",title:"Multi-Cycle Control FSM",description:"Verilog implementation of a simplified control unit state machine for a multi-cycle RISC-V processor",code:"module controller(\n  input clk, reset,\n  input [6:0] opcode,       // Instruction opcode field\n  input [2:0] funct3,       // Instruction funct3 field\n  input [6:0] funct7,       // Instruction funct7 field\n  input zero,               // Zero flag from ALU\n  \n  // Control signals\n  output reg pc_write,      // Write to PC\n  output reg [1:0] pc_src,  // PC source selection\n  output reg ir_write,      // Write to Instruction Register\n  output reg [1:0] result_src, // Result source selection\n  output reg [1:0] alu_src_a, // ALU A input selection\n  output reg [1:0] alu_src_b, // ALU B input selection\n  output reg [3:0] alu_control, // ALU operation\n  output reg mem_write,     // Memory write enable\n  output reg reg_write      // Register file write enable\n);\n\n  // State definitions\n  localparam FETCH   = 4'b0000;\n  localparam DECODE  = 4'b0001;\n  localparam EXEC_R  = 4'b0010;\n  localparam EXEC_I  = 4'b0011;\n  localparam EXEC_LD = 4'b0100;\n  localparam EXEC_ST = 4'b0101;\n  localparam EXEC_BR = 4'b0110;\n  localparam EXEC_JAL= 4'b0111;\n  localparam MEM_RD  = 4'b1000;\n  localparam MEM_WR  = 4'b1001;\n  localparam WB_R    = 4'b1010;\n  localparam WB_I    = 4'b1011;\n  localparam WB_LD   = 4'b1100;\n  localparam WB_JAL  = 4'b1101;\n  \n  // RISC-V opcode definitions\n  localparam OP      = 7'b0110011; // R-type\n  localparam OP_IMM  = 7'b0010011; // I-type\n  localparam LOAD    = 7'b0000011; // Load\n  localparam STORE   = 7'b0100011; // Store\n  localparam BRANCH  = 7'b1100011; // Branch\n  localparam JAL     = 7'b1101111; // Jump and Link\n  \n  reg [3:0] state, next_state;\n  \n  // State register\n  always @(posedge clk or posedge reset) begin\n    if (reset)\n      state <= FETCH;\n    else\n      state <= next_state;\n  end\n  \n  // Next state logic\n  always @(*) begin\n    case(state)\n      FETCH:\n        next_state = DECODE;\n        \n      DECODE: begin\n        case(opcode)\n          OP:      next_state = EXEC_R;\n          OP_IMM:  next_state = EXEC_I;\n          LOAD:    next_state = EXEC_LD;\n          STORE:   next_state = EXEC_ST;\n          BRANCH:  next_state = EXEC_BR;\n          JAL:     next_state = EXEC_JAL;\n          default: next_state = FETCH; // Return to fetch on invalid opcode\n        endcase\n      end\n      \n      EXEC_R:\n        next_state = WB_R;\n        \n      EXEC_I:\n        next_state = WB_I;\n        \n      EXEC_LD:\n        next_state = MEM_RD;\n        \n      EXEC_ST:\n        next_state = MEM_WR;\n        \n      EXEC_BR:\n        next_state = FETCH; // Branch decision made, return to fetch\n        \n      EXEC_JAL:\n        next_state = WB_JAL;\n        \n      MEM_RD:\n        next_state = WB_LD;\n        \n      MEM_WR:\n        next_state = FETCH; // Store complete, return to fetch\n        \n      WB_R, WB_I, WB_LD, WB_JAL:\n        next_state = FETCH; // Writeback complete, return to fetch\n        \n      default:\n        next_state = FETCH; // Failsafe return to fetch\n    endcase\n  end\n  \n  // Output logic - simplified for brevity\n  always @(*) begin\n    // Default control signal values\n    pc_write = 1'b0;\n    pc_src = 2'b00;\n    ir_write = 1'b0;\n    result_src = 2'b00;\n    alu_src_a = 2'b00;\n    alu_src_b = 2'b00;\n    alu_control = 4'b0000;\n    mem_write = 1'b0;\n    reg_write = 1'b0;\n    \n    case(state)\n      FETCH: begin\n        // PC -> Mem, IR <- Mem\n        pc_write = 1'b1;\n        pc_src = 2'b00;    // PC + 4\n        ir_write = 1'b1;\n      end\n      \n      DECODE: begin\n        // Read registers, prepare immediates\n        alu_src_a = 2'b01; // PC\n        alu_src_b = 2'b10; // 4\n        alu_control = 4'b0000; // ADD\n      end\n      \n      EXEC_R: begin\n        // Reg[rs1] op Reg[rs2]\n        alu_src_a = 2'b10; // Register A\n        alu_src_b = 2'b00; // Register B\n        // ALU operation depends on funct3/funct7\n        // Full implementation would set alu_control based on these\n      end\n      \n      EXEC_I: begin\n        // Reg[rs1] op immediate\n        alu_src_a = 2'b10; // Register A\n        alu_src_b = 2'b01; // Immediate\n        // ALU operation depends on funct3\n      end\n      \n      EXEC_LD, EXEC_ST: begin\n        // Address calculation: Reg[rs1] + offset\n        alu_src_a = 2'b10; // Register A\n        alu_src_b = 2'b01; // Immediate\n        alu_control = 4'b0000; // ADD\n      end\n      \n      EXEC_BR: begin\n        // Branch condition check\n        alu_src_a = 2'b10; // Register A\n        alu_src_b = 2'b00; // Register B\n        alu_control = 4'b0001; // SUB for comparison\n        // Branch taken if condition met\n        pc_write = (zero == 1'b1); // Simplified - only BEQ implemented here\n        pc_src = 2'b01; // Branch target\n      end\n      \n      EXEC_JAL: begin\n        // Jump calculation\n        alu_src_a = 2'b01; // PC\n        alu_src_b = 2'b01; // Immediate\n        alu_control = 4'b0000; // ADD\n        pc_write = 1'b1;\n        pc_src = 2'b10; // Jump target\n      end\n      \n      MEM_RD: begin\n        // Memory read operation\n        result_src = 2'b01; // Memory result\n      end\n      \n      MEM_WR: begin\n        // Memory write operation\n        mem_write = 1'b1;\n      end\n      \n      WB_R, WB_I: begin\n        // Register writeback for R/I-type\n        reg_write = 1'b1;\n        result_src = 2'b00; // ALU result\n      end\n      \n      WB_LD: begin\n        // Register writeback for load\n        reg_write = 1'b1;\n        result_src = 2'b01; // Memory data\n      end\n      \n      WB_JAL: begin\n        // Register writeback for JAL\n        reg_write = 1'b1;\n        result_src = 2'b10; // PC + 4\n      end\n    endcase\n  end\nendmodule",explanation:"This Verilog module implements a control unit for a multi-cycle RISC-V processor as a finite state machine. It defines states for fetch, decode, various execute phases, memory operations, and writeback operations. The controller takes the instruction opcode, function fields, and ALU flags as inputs and generates control signals for the datapath components. The state transitions follow the instruction execution flow, with different paths for different instruction types. In each state, specific control signals are set to direct the datapath operations for that phase of instruction execution. Note that this is a simplified implementation, focusing on the basic control flow rather than the complete set of RISC-V instructions."},{id:"example4_2",title:"Multi-Cycle Datapath Component",description:"Verilog implementation of the ALU and register components for a multi-cycle RISC-V processor",code:"// 32-bit Register with enable\nmodule register #(parameter WIDTH = 32) (\n  input clk, reset,\n  input write_enable,\n  input [WIDTH-1:0] data_in,\n  output reg [WIDTH-1:0] data_out\n);\n  always @(posedge clk or posedge reset) begin\n    if (reset)\n      data_out <= {WIDTH{1'b0}};\n    else if (write_enable)\n      data_out <= data_in;\n  end\nendmodule\n\n// Program Counter with enable\nmodule program_counter (\n  input clk, reset,\n  input pc_write,\n  input [31:0] pc_next,\n  output reg [31:0] pc\n);\n  always @(posedge clk or posedge reset) begin\n    if (reset)\n      pc <= 32'h00000000; // Reset to start address\n    else if (pc_write)\n      pc <= pc_next;\n  end\nendmodule\n\n// ALU with multi-cycle support\nmodule alu (\n  input [31:0] src_a, src_b,\n  input [3:0] alu_control,\n  output reg [31:0] alu_result,\n  output zero\n);\n  assign zero = (alu_result == 32'b0);\n  \n  always @(*) begin\n    case (alu_control)\n      4'b0000: alu_result = src_a + src_b;           // ADD\n      4'b0001: alu_result = src_a - src_b;           // SUB\n      4'b0010: alu_result = src_a & src_b;           // AND\n      4'b0011: alu_result = src_a | src_b;           // OR\n      4'b0100: alu_result = src_a ^ src_b;           // XOR\n      4'b0101: alu_result = src_a << src_b[4:0];     // SLL\n      4'b0110: alu_result = src_a >> src_b[4:0];     // SRL\n      4'b0111: alu_result = $signed(src_a) >>> src_b[4:0]; // SRA\n      4'b1000: alu_result = ($signed(src_a) < $signed(src_b)) ? 32'b1 : 32'b0; // SLT\n      4'b1001: alu_result = (src_a < src_b) ? 32'b1 : 32'b0; // SLTU\n      default: alu_result = 32'b0;\n    endcase\n  end\nendmodule\n\n// Instruction Register\nmodule instruction_register (\n  input clk, reset,\n  input ir_write,\n  input [31:0] instruction_in,\n  output reg [31:0] instruction_out\n);\n  always @(posedge clk or posedge reset) begin\n    if (reset)\n      instruction_out <= 32'h00000013; // ADDI x0, x0, 0 (NOP)\n    else if (ir_write)\n      instruction_out <= instruction_in;\n  end\nendmodule\n\n// 2-to-1 Multiplexer\nmodule mux2 #(parameter WIDTH = 32) (\n  input [WIDTH-1:0] d0, d1,\n  input select,\n  output [WIDTH-1:0] y\n);\n  assign y = select ? d1 : d0;\nendmodule\n\n// 4-to-1 Multiplexer\nmodule mux4 #(parameter WIDTH = 32) (\n  input [WIDTH-1:0] d0, d1, d2, d3,\n  input [1:0] select,\n  output reg [WIDTH-1:0] y\n);\n  always @(*) begin\n    case (select)\n      2'b00: y = d0;\n      2'b01: y = d1;\n      2'b10: y = d2;\n      2'b11: y = d3;\n    endcase\n  end\nendmodule",explanation:"This example provides Verilog implementations for several key components of a multi-cycle RISC-V processor datapath. It includes a general-purpose register module with enable control, a program counter with write enable, an ALU supporting multiple operations, an instruction register, and multiplexers for data routing. The register and program counter modules include synchronous reset and enable inputs, essential for the controlled sequential operation of the multi-cycle design. The ALU supports various operations needed for different instruction types and execution phases. The instruction register captures and holds instructions during the multi-cycle execution. Finally, the multiplexers provide the flexible data routing required to reuse components across different execution phases."}],quiz:{title:"Multi-Cycle Processor Implementation Quiz",questions:[{question:"What is the primary advantage of a multi-cycle processor over a single-cycle design?",options:["It executes all instructions in a fixed number of cycles","It allows for better hardware utilization by reusing components","It eliminates the need for control signals","It always achieves higher clock frequencies than pipelined designs"],correctAnswer:1,explanation:"The primary advantage of a multi-cycle processor is better hardware utilization. By dividing instruction execution into multiple cycles, components like the ALU and memory can be reused for different purposes during different stages of execution, reducing the overall hardware cost and improving efficiency."},{question:"Which type of control unit is typically used in a multi-cycle processor?",options:["Combinational logic similar to single-cycle designs","Microcode ROM with lookup tables","Finite state machine (FSM)","Neural network accelerator"],correctAnswer:2,explanation:"A multi-cycle processor typically uses a finite state machine (FSM) for its control unit. The FSM tracks the current stage of instruction execution and generates the appropriate control signals for each state, allowing the processor to progress through the different phases of instruction execution."},{question:"What is the typical Cycles Per Instruction (CPI) range for a multi-cycle RISC-V processor?",options:["Always exactly 1 cycle per instruction","Between 1 and 2 cycles per instruction","Between 3 and 5 cycles per instruction","Over 10 cycles per instruction"],correctAnswer:2,explanation:"A typical multi-cycle RISC-V processor has a CPI range of 3 to 5 cycles per instruction. Different instruction types require different numbers of cycles: register-register operations typically take 4 cycles, load instructions take 5 cycles, and branches take 3 cycles."},{question:"Which additional registers are typically added in a multi-cycle design compared to a single-cycle design?",options:["Only the Program Counter register","Intermediate registers like Instruction Register, A/B registers, and ALU Output register","Specialized registers for branch prediction","Additional general-purpose registers (x32-x63)"],correctAnswer:1,explanation:"Multi-cycle designs add intermediate registers to hold values between cycles, including the Instruction Register (IR) to hold the current instruction, A and B registers to hold values read from the register file, Memory Data Register (MDR) to hold data read from memory, and ALU Output register to hold ALU results."},{question:"Why can a multi-cycle processor have a shorter clock period than a single-cycle processor?",options:["Because it uses faster transistors","Because each cycle performs a simpler operation with a shorter critical path","Because it executes fewer instructions overall","Because it requires less memory"],correctAnswer:1,explanation:"A multi-cycle processor can have a shorter clock period because each cycle performs a simpler operation with a shorter critical path. In a single-cycle design, the clock period must accommodate the longest possible instruction path, while in a multi-cycle design, complex operations are broken down into multiple simpler steps."},{question:"Which of the following best describes the relationship between clock period and CPI in determining processor performance?",options:["Only clock period matters; CPI is irrelevant","Only CPI matters; clock period is irrelevant","Performance improves with lower CPI and shorter clock period","Performance improves with higher CPI and longer clock period"],correctAnswer:2,explanation:"Performance improves with lower CPI (fewer cycles per instruction) and shorter clock period (faster cycles). The overall performance is determined by the time per instruction, which is calculated as CPI \xd7 clock period. A design with lower CPI and shorter clock period will execute instructions faster."},{question:"What is the purpose of the Instruction Register (IR) in a multi-cycle design?",options:["To generate instructions dynamically","To hold the currently executing instruction throughout its cycles","To predict which instruction will execute next","To store all possible instructions for the processor"],correctAnswer:1,explanation:"The Instruction Register (IR) holds the currently executing instruction throughout its multiple execution cycles. It captures the instruction during the fetch phase and keeps it stable while the control unit steps through the various execution phases, even though the processor may fetch a new instruction from memory."},{question:"How does a multi-cycle processor typically handle memory access?",options:["It requires separate instruction and data memories","It uses a unified memory accessed in different cycles for instructions and data","It uses cache memory exclusively","It requires no memory access at all"],correctAnswer:1,explanation:"A multi-cycle processor typically uses a unified memory that is accessed in different cycles for instructions and data. During the fetch phase, it reads instructions from memory, and during the memory phase (for load/store instructions), it reads or writes data. This resource sharing is one of the key advantages of the multi-cycle design."},{question:"Which instruction typically requires the most cycles in a multi-cycle RISC-V processor?",options:["Register-register arithmetic (ADD, SUB, etc.)","Branches (BEQ, BNE, etc.)","Load instructions (LW, LH, etc.)","Jumps (JAL, JALR)"],correctAnswer:2,explanation:"Load instructions typically require the most cycles in a multi-cycle RISC-V processor, usually 5 cycles (fetch, decode, execute, memory, writeback). This is because they need to perform address calculation, memory access, and register writeback, utilizing all the major phases of instruction execution."},{question:"What happens during the decode stage of a multi-cycle processor?",options:["The processor executes the ALU operation","The processor reads the next instruction from memory","The processor writes results to the register file","The processor interprets the instruction and reads register values"],correctAnswer:3,explanation:"During the decode stage, the processor interprets the instruction opcode and other fields to determine what operation to perform, and it reads the necessary values from the register file. This stage prepares the operands and control signals needed for the subsequent execute stage."}]}},completed:!1},{...{id:5,title:"Pipeline Fundamentals",description:"Introduction to pipelining concepts for processor design",estimatedTime:"3 hours",completed:!1,sections:[{id:"5.1",title:"Pipelining Concept and Benefits",content:'\n        <h3>Understanding Processor Pipelining</h3>\n        <p>Pipelining is a technique that improves processor performance by overlapping the execution of multiple instructions, similar to an assembly line in manufacturing.</p>\n        \n        <h4>The Pipelining Concept</h4>\n        <p>In a pipelined processor, instruction execution is divided into distinct stages, with each stage performing a specific portion of the instruction\'s execution:</p>\n        <ul>\n          <li><strong>Sequential Execution</strong>: Without pipelining, each instruction must complete fully before the next one begins</li>\n          <li><strong>Overlapped Execution</strong>: With pipelining, different stages of multiple instructions execute simultaneously</li>\n          <li><strong>Assembly Line Analogy</strong>: Just as cars can be at different stages of assembly simultaneously, instructions can be at different stages of execution</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/JgTDfnU.png" alt="Pipelining Concept" style="max-width: 700px; width: 100%;">\n          <p><em>Comparison of non-pipelined vs. pipelined execution</em></p>\n        </div>\n        \n        <h4>Performance Benefits</h4>\n        <p>Pipelining offers several key performance advantages:</p>\n        \n        <ul>\n          <li><strong>Increased Throughput</strong>: While the latency for a single instruction remains similar, the processor completes more instructions per unit time</li>\n          <li><strong>Improved Clock Frequency</strong>: Each pipeline stage has a shorter critical path, allowing for higher clock speeds</li>\n          <li><strong>Better Hardware Utilization</strong>: Different functional units are active simultaneously, reducing idle time</li>\n        </ul>\n        \n        <p>These benefits can be quantified:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Metric</th>\n            <th>Non-pipelined</th>\n            <th>Pipelined (5 stages)</th>\n          </tr>\n          <tr>\n            <td>Instruction Latency</td>\n            <td>1 cycle</td>\n            <td>5 cycles</td>\n          </tr>\n          <tr>\n            <td>Maximum Throughput</td>\n            <td>1 instruction per cycle</td>\n            <td>1 instruction per cycle</td>\n          </tr>\n          <tr>\n            <td>Clock Period</td>\n            <td>Sum of all stage delays</td>\n            <td>Maximum stage delay</td>\n          </tr>\n          <tr>\n            <td>Relative Performance</td>\n            <td>1\xd7</td>\n            <td>Up to 5\xd7 (ideal)</td>\n          </tr>\n        </table>\n        \n        <h4>Real-world Performance</h4>\n        <p>In practice, several factors prevent achieving the theoretical maximum speedup:</p>\n        <ul>\n          <li><strong>Pipeline Hazards</strong>: Dependencies between instructions can cause stalls</li>\n          <li><strong>Branch Penalties</strong>: Incorrect branch predictions cause pipeline flushes</li>\n          <li><strong>Pipeline Overhead</strong>: Pipeline registers and control logic add complexity</li>\n          <li><strong>Memory Latency</strong>: Cache misses can stall the entire pipeline</li>\n        </ul>\n        \n        <p>Despite these limitations, pipelining remains one of the most important techniques for improving processor performance.</p>\n      '},{id:"5.2",title:"RISC-V 5-Stage Pipeline",content:'\n        <h3>Classic 5-Stage RISC Pipeline</h3>\n        <p>The RISC-V architecture is particularly well-suited for pipelining due to its regular instruction format and load-store design. The classic 5-stage pipeline includes:</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/m94CpZW.png" alt="5-Stage RISC-V Pipeline" style="max-width: 700px; width: 100%;">\n          <p><em>The five stages of a classic RISC-V pipeline</em></p>\n        </div>\n        \n        <h4>Pipeline Stages</h4>\n        <ol>\n          <li><strong>Instruction Fetch (IF)</strong>\n            <ul>\n              <li>Fetch instruction from memory at address in PC</li>\n              <li>Increment PC to point to next instruction (PC + 4)</li>\n              <li>Store fetched instruction in IF/ID pipeline register</li>\n            </ul>\n          </li>\n          <li><strong>Instruction Decode (ID)</strong>\n            <ul>\n              <li>Decode instruction opcode to determine instruction type</li>\n              <li>Read values from register file</li>\n              <li>Generate immediate value from instruction</li>\n              <li>Compute branch target address</li>\n              <li>Store values in ID/EX pipeline register</li>\n            </ul>\n          </li>\n          <li><strong>Execute (EX)</strong>\n            <ul>\n              <li>Perform ALU operations (arithmetic, logic, shifts)</li>\n              <li>Calculate memory address for load/store instructions</li>\n              <li>Evaluate branch conditions</li>\n              <li>Store results in EX/MEM pipeline register</li>\n            </ul>\n          </li>\n          <li><strong>Memory Access (MEM)</strong>\n            <ul>\n              <li>Access memory for load and store instructions</li>\n              <li>Read data from memory (load) or write data to memory (store)</li>\n              <li>Store results in MEM/WB pipeline register</li>\n            </ul>\n          </li>\n          <li><strong>Write Back (WB)</strong>\n            <ul>\n              <li>Write results back to register file</li>\n              <li>Results can come from ALU operation or memory load</li>\n            </ul>\n          </li>\n        </ol>\n        \n        <h4>Pipeline Registers</h4>\n        <p>Pipeline registers separate each stage, storing intermediate results and control signals:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Pipeline Register</th>\n            <th>Key Contents</th>\n          </tr>\n          <tr>\n            <td>IF/ID</td>\n            <td>Instruction, PC+4</td>\n          </tr>\n          <tr>\n            <td>ID/EX</td>\n            <td>Register values, Immediate value, Control signals, PC</td>\n          </tr>\n          <tr>\n            <td>EX/MEM</td>\n            <td>ALU result, Store data, Control signals</td>\n          </tr>\n          <tr>\n            <td>MEM/WB</td>\n            <td>Memory data, ALU result, Control signals</td>\n          </tr>\n        </table>\n        \n        <p>These registers create "boundaries" between stages, allowing each stage to operate independently on different instructions.</p>\n        \n        <h4>Pipeline Control Signals</h4>\n        <p>Control signals are generated in the decode stage and passed down the pipeline:</p>\n        <ul>\n          <li><strong>EX Stage Controls</strong>: ALU operation, ALU source selection</li>\n          <li><strong>MEM Stage Controls</strong>: Memory read, Memory write</li>\n          <li><strong>WB Stage Controls</strong>: Register write, Memory-to-register selection</li>\n        </ul>\n        \n        <p>This approach, where control signals "flow" with the instruction, simplifies pipeline control logic.</p>\n      '},{id:"5.3",title:"Pipeline Hazards Introduction",content:'\n        <h3>Challenges in Pipeline Execution</h3>\n        <p>Pipeline hazards are situations that prevent the next instruction in the pipeline from executing during its designated clock cycle. There are three main types of hazards:</p>\n        \n        <h4>1. Structural Hazards</h4>\n        <p>Structural hazards occur when multiple instructions attempt to use the same hardware resource simultaneously.</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/JGkYOlm.png" alt="Structural Hazard" style="max-width: 600px; width: 100%;">\n          <p><em>Example of a structural hazard with memory access conflict</em></p>\n        </div>\n        \n        <p><strong>Common examples:</strong></p>\n        <ul>\n          <li>Memory access conflicts (instruction fetch vs. data load/store)</li>\n          <li>Register file access conflicts (reading vs. writing)</li>\n          <li>Execution unit conflicts (single ALU needed for multiple operations)</li>\n        </ul>\n        \n        <p><strong>Solutions:</strong></p>\n        <ul>\n          <li>Duplicate resources (separate instruction and data memories/caches)</li>\n          <li>Multi-ported register files</li>\n          <li>Resource scheduling to avoid conflicts</li>\n        </ul>\n        \n        <h4>2. Data Hazards</h4>\n        <p>Data hazards occur when an instruction depends on the results of a previous instruction that hasn\'t completed execution.</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/2dPWCmS.png" alt="Data Hazard" style="max-width: 600px; width: 100%;">\n          <p><em>Example of a data hazard with register dependency</em></p>\n        </div>\n        \n        <p><strong>Types of data hazards:</strong></p>\n        <ul>\n          <li><strong>Read-After-Write (RAW)</strong>: An instruction tries to read a source before a previous instruction writes to it</li>\n          <li><strong>Write-After-Read (WAR)</strong>: An instruction tries to write to a destination before a previous instruction reads it</li>\n          <li><strong>Write-After-Write (WAW)</strong>: Two instructions try to write to the same destination</li>\n        </ul>\n        \n        <p><strong>Detection:</strong></p>\n        <p>RAW hazards can be detected by comparing source registers of the current instruction with destination registers of instructions in the pipeline.</p>\n        \n        <p><strong>Solutions (preview):</strong></p>\n        <ul>\n          <li>Forwarding/bypassing (covered in detail in Chapter 8)</li>\n          <li>Pipeline stalling/bubbles</li>\n          <li>Instruction reordering (by compiler)</li>\n        </ul>\n        \n        <h4>3. Control Hazards</h4>\n        <p>Control hazards occur when the flow of instruction execution is changed unexpectedly, typically by branch or jump instructions.</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/kXNXVBM.png" alt="Control Hazard" style="max-width: 600px; width: 100%;">\n          <p><em>Example of a control hazard with branch instruction</em></p>\n        </div>\n        \n        <p><strong>Problem:</strong> When a branch is encountered, the processor doesn\'t know which instruction to fetch next until the branch condition is evaluated (typically in the EX stage).</p>\n        \n        <p><strong>Solutions (preview):</strong></p>\n        <ul>\n          <li>Branch prediction (covered in detail in Chapter 9)</li>\n          <li>Delayed branches</li>\n          <li>Branch target buffers</li>\n          <li>Speculative execution</li>\n        </ul>\n        \n        <p>These hazards will be explored in detail in subsequent chapters, along with their solutions.</p>\n      '},{id:"5.4",title:"Pipeline Performance Analysis",content:'\n        <h3>Evaluating Pipeline Efficiency</h3>\n        <p>Understanding pipeline performance requires analyzing several key metrics and understanding the factors that affect real-world performance.</p>\n        \n        <h4>Ideal Pipeline Performance</h4>\n        <p>In an ideal pipeline with no hazards or stalls:</p>\n        <ul>\n          <li><strong>First Instruction Latency</strong>: n cycles (where n is the number of pipeline stages)</li>\n          <li><strong>Subsequent Instruction Latency</strong>: 1 cycle</li>\n          <li><strong>Throughput</strong>: 1 instruction per cycle (IPC = 1.0)</li>\n          <li><strong>Speedup</strong>: Approaches the number of pipeline stages compared to a non-pipelined implementation</li>\n        </ul>\n        \n        <p>For a program with m instructions executed on an n-stage pipeline:</p>\n        <p style="text-align: center;"><strong>Execution Time = (m + n - 1) cycles</strong></p>\n        \n        <p>As m becomes large, this approaches:</p>\n        <p style="text-align: center;"><strong>Execution Time \u2248 m cycles</strong></p>\n        \n        <h4>Real Pipeline Performance</h4>\n        <p>In practice, several factors reduce pipeline efficiency:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Factor</th>\n            <th>Impact</th>\n          </tr>\n          <tr>\n            <td>Data Hazards</td>\n            <td>Stalls that prevent the pipeline from accepting new instructions</td>\n          </tr>\n          <tr>\n            <td>Control Hazards</td>\n            <td>Pipeline flushes that discard work already done</td>\n          </tr>\n          <tr>\n            <td>Memory Stalls</td>\n            <td>Long latency memory accesses (cache misses) that block the pipeline</td>\n          </tr>\n          <tr>\n            <td>Structural Hazards</td>\n            <td>Resource conflicts that force serialization</td>\n          </tr>\n          <tr>\n            <td>Pipeline Overhead</td>\n            <td>Extra hardware and complexity that increases cycle time</td>\n          </tr>\n        </table>\n        \n        <h4>Key Performance Metrics</h4>\n        <p>Several metrics help evaluate pipeline performance:</p>\n        <ul>\n          <li><strong>Cycles Per Instruction (CPI)</strong>: Average number of cycles to execute one instruction\n            <ul>\n              <li>Ideal: CPI = 1.0</li>\n              <li>Typical: CPI = 1.2 - 2.0 (with hazards and stalls)</li>\n            </ul>\n          </li>\n          <li><strong>Instructions Per Cycle (IPC)</strong>: Average number of instructions completed per cycle (IPC = 1/CPI)\n            <ul>\n              <li>Ideal: IPC = 1.0</li>\n              <li>Typical: IPC = 0.5 - 0.8 (with hazards and stalls)</li>\n            </ul>\n          </li>\n          <li><strong>Pipeline Efficiency</strong>: Ratio of actual to ideal throughput\n            <ul>\n              <li>Efficiency = (Actual IPC) / (Ideal IPC)</li>\n              <li>Typically 50-80% for well-designed pipelines</li>\n            </ul>\n          </li>\n        </ul>\n        \n        <h4>Example Performance Calculation</h4>\n        <p>Consider a 5-stage pipeline with the following characteristics:</p>\n        <ul>\n          <li>20% of instructions are load/store operations</li>\n          <li>15% of instructions are branches</li>\n          <li>Data hazards cause 0.2 stall cycles per instruction</li>\n          <li>Branch mispredictions occur 30% of the time, each causing 3 bubble cycles</li>\n        </ul>\n        \n        <p>CPI calculation:</p>\n        <ul>\n          <li>Base CPI (ideal): 1.0</li>\n          <li>Data hazard stalls: 0.2</li>\n          <li>Branch misprediction penalty: 0.15 (branches) \xd7 0.3 (misprediction rate) \xd7 3 (penalty) = 0.135</li>\n          <li>Total CPI = 1.0 + 0.2 + 0.135 = 1.335</li>\n        </ul>\n        \n        <p>This means the pipeline processes one instruction every 1.335 cycles on average, or about 0.75 instructions per cycle, which is 75% of ideal throughput.</p>\n      '}],examples:[{id:"example5_1",title:"Pipeline Diagram Analysis",description:"Analysis of instruction flow through a 5-stage RISC-V pipeline",code:"Pipeline Execution Diagram\n\nTime (cycles) \u2192\n1  2  3  4  5  6  7  8  9  10\nInstr 1: IF-ID-EX-ME-WB\nInstr 2:    IF-ID-EX-ME-WB\nInstr 3:       IF-ID-EX-ME-WB\nInstr 4:          IF-ID-EX-ME-WB\nInstr 5:             IF-ID-EX-ME-WB\n\nLegend:\nIF = Instruction Fetch\nID = Instruction Decode\nEX = Execute\nME = Memory Access\nWB = Write Back\n\nExample instruction sequence:\nInstr 1: add  x1, x2, x3      # x1 = x2 + x3\nInstr 2: sub  x4, x5, x6      # x4 = x5 - x6 \nInstr 3: lw   x7, 0(x8)       # x7 = Memory[x8]\nInstr 4: sw   x9, 4(x10)      # Memory[x10+4] = x9\nInstr 5: beq  x11, x12, label # if(x11 == x12) goto label\n\nAnalysis:\n- In cycle 5, the first instruction completes while the fifth instruction begins\n- By cycle 5, all pipeline stages are active with different instructions\n- The pipeline reaches steady-state operation at cycle 5\n- Total cycles to execute 5 instructions: 9 (vs. 25 for non-pipelined)\n- Speedup = 25/9 \u2248 2.78\xd7 (not quite 5\xd7 due to pipeline fill/drain overhead)",explanation:"This example shows how five instructions flow through a 5-stage RISC-V pipeline. Each row represents an instruction, and each column represents a clock cycle. The pipeline fills gradually, reaching full utilization at cycle 5 when all stages are active with different instructions. After that, one instruction completes each cycle. Notice how the pipeline enables executing 5 instructions in just 9 cycles instead of the 25 cycles that would be required by a non-pipelined processor. The actual speedup is less than the ideal 5\xd7 because of the pipeline fill and drain overhead, which becomes less significant for longer instruction sequences."},{id:"example5_2",title:"Pipeline Hazard Detection",description:"Verilog implementation of a simple data hazard detection unit for a RISC-V pipeline",code:"module hazard_detector(\n  // Instruction fields from ID stage\n  input [4:0] id_rs1,    // First source register being read\n  input [4:0] id_rs2,    // Second source register being read\n  \n  // Destination registers from later pipeline stages\n  input [4:0] ex_rd,     // Destination register in EX stage\n  input ex_reg_write,    // Register write enable in EX stage\n  input [4:0] mem_rd,    // Destination register in MEM stage\n  input mem_reg_write,   // Register write enable in MEM stage\n  \n  // Additional control inputs\n  input ex_mem_read,     // Memory read in EX stage (for load instructions)\n  \n  // Hazard detection outputs\n  output reg stall,      // Stall signal for pipeline\n  output reg [1:0] forward_a, // Forwarding control for first ALU input\n  output reg [1:0] forward_b  // Forwarding control for second ALU input\n);\n\n  // Data hazard detection for load instructions (load-use hazard)\n  // This requires a pipeline stall\n  always @(*) begin\n    stall = 1'b0;\n    if (ex_mem_read && \n        ((ex_rd == id_rs1) || (ex_rd == id_rs2)) &&\n        (ex_rd != 5'b0)) begin\n      stall = 1'b1;  // Stall if load result needed by next instruction\n    end\n  end\n\n  // Data forwarding logic for ALU inputs\n  // 00 = use register file output\n  // 10 = forward from EX/MEM pipeline register (ALU result)\n  // 01 = forward from MEM/WB pipeline register (ALU result or memory data)\n  always @(*) begin\n    // Default: No forwarding\n    forward_a = 2'b00;\n    forward_b = 2'b00;\n    \n    // Forward from MEM stage for first ALU input\n    if (mem_reg_write && (mem_rd != 5'b0) && (mem_rd == id_rs1)) begin\n      forward_a = 2'b01;\n    end\n    \n    // Forward from EX stage for first ALU input (higher priority)\n    if (ex_reg_write && (ex_rd != 5'b0) && (ex_rd == id_rs1)) begin\n      forward_a = 2'b10;\n    end\n    \n    // Forward from MEM stage for second ALU input\n    if (mem_reg_write && (mem_rd != 5'b0) && (mem_rd == id_rs2)) begin\n      forward_b = 2'b01;\n    end\n    \n    // Forward from EX stage for second ALU input (higher priority)\n    if (ex_reg_write && (ex_rd != 5'b0) && (ex_rd == id_rs2)) begin\n      forward_b = 2'b10;\n    end\n  end\nendmodule",explanation:"This Verilog module implements a hazard detection unit for a RISC-V pipeline. It performs two main functions: detecting load-use hazards that require stalling the pipeline, and identifying data hazards that can be resolved by forwarding. The load-use hazard occurs when a load instruction is followed immediately by an instruction that uses the loaded value\u2014this can't be solved by forwarding because the data isn't available in time. For other data hazards, the unit generates forwarding control signals that direct the ALU to take inputs from later pipeline stages rather than the register file, allowing execution to continue without stalls. The forwarding logic prioritizes the most recent value when multiple hazards exist."}],quiz:{title:"Pipeline Fundamentals Quiz",questions:[{question:"What is the primary benefit of pipeline execution in a processor?",options:["Reducing the latency of individual instructions","Increasing instruction throughput by overlapping execution","Eliminating the need for branch prediction","Reducing the total number of transistors required"],correctAnswer:1,explanation:"The primary benefit of pipelining is increased throughput. By overlapping the execution of multiple instructions, a pipelined processor can complete more instructions per unit time than a non-pipelined design. While the latency for an individual instruction may remain similar or even increase slightly, the overall throughput improves significantly."},{question:"What does the IF stage do in a classic 5-stage RISC-V pipeline?",options:["Computes arithmetic results and evaluates branch conditions","Decodes instructions and reads register values","Fetches the next instruction from memory and increments the PC","Accesses data memory for loads and stores"],correctAnswer:2,explanation:"The Instruction Fetch (IF) stage fetches the next instruction from memory at the address contained in the Program Counter (PC) and increments the PC to point to the next instruction (typically PC+4). This fetched instruction is then stored in the IF/ID pipeline register."},{question:"What are pipeline registers used for in a pipelined processor?",options:["Temporary storage for general-purpose data","Storage for branch prediction information","Capturing and holding intermediate results between pipeline stages","Backup storage in case of pipeline stalls"],correctAnswer:2,explanation:"Pipeline registers are used to capture and hold intermediate results and control signals between pipeline stages. They create boundaries between stages, allowing each stage to operate independently on different instructions. Without pipeline registers, signals would propagate through multiple stages in a single cycle, defeating the purpose of pipelining."},{question:"Which of the following is NOT one of the three major types of pipeline hazards?",options:["Memory hazards","Data hazards","Control hazards","Structural hazards"],correctAnswer:0,explanation:"The three major types of pipeline hazards are: 1) Data hazards (dependencies between instructions), 2) Control hazards (branches and jumps that change instruction flow), and 3) Structural hazards (resource conflicts). 'Memory hazards' is not a standard classification, although memory access delays can cause stalls that impact pipeline performance."},{question:"What is the primary cause of control hazards in a pipelined processor?",options:["Multiple instructions attempting to use the same hardware resource","Instructions depending on results from previous instructions","Branch and jump instructions changing the instruction flow","Cache misses causing memory access delays"],correctAnswer:2,explanation:"Control hazards are primarily caused by branch and jump instructions that change the program's instruction flow. When a branch is encountered, the processor doesn't know which instruction to fetch next until the branch condition is evaluated (typically in the Execute stage), potentially causing pipeline stalls or requiring speculative execution."},{question:"What is a RAW (Read-After-Write) hazard?",options:["When an instruction attempts to read a register before a previous instruction writes to it","When an instruction attempts to write to a register before a previous instruction reads from it","When two instructions attempt to write to the same register","When two instructions attempt to read from the same register"],correctAnswer:0,explanation:"A Read-After-Write (RAW) hazard occurs when an instruction attempts to read a register before a previous instruction has written its result to that register. This is the most common type of data hazard and represents a true dependency between instructions. RAW hazards can be resolved through forwarding, stalling, or instruction reordering."},{question:"In an ideal 5-stage pipeline, what is the speedup compared to a non-pipelined processor?",options:["2\xd7","3\xd7","5\xd7","10\xd7"],correctAnswer:2,explanation:"The ideal speedup of a pipeline approaches the number of stages in the pipeline. For a 5-stage pipeline, the theoretical maximum speedup is 5\xd7. This assumes perfect pipeline utilization with no hazards or stalls. In practice, the actual speedup will be less due to hazards, branch mispredictions, and other factors that reduce pipeline efficiency."},{question:"What is the CPI (Cycles Per Instruction) of an ideal pipeline with no hazards or stalls?",options:["0.2 for a 5-stage pipeline","1.0 regardless of pipeline length","5.0 for a 5-stage pipeline","It varies based on the instruction mix"],correctAnswer:1,explanation:"The CPI of an ideal pipeline with no hazards or stalls is 1.0, regardless of the number of pipeline stages. This means the processor completes one instruction per clock cycle on average. The number of stages affects latency (how long it takes to complete a single instruction) but not throughput in an ideal case."},{question:"What happens during the WriteBack (WB) stage of the RISC-V pipeline?",options:["The ALU performs the specified operation","The memory is accessed for load or store instructions","Results are written back to the register file","The branch condition is evaluated"],correctAnswer:2,explanation:"During the WriteBack (WB) stage, results from the operation (either from the ALU or from a memory load) are written back to the register file. This is the final stage of instruction execution, where the instruction's effects on the processor state are committed."},{question:"What term is used to describe the wasted cycles when a pipeline cannot accept new instructions due to hazards?",options:["Pipeline flushes","Pipeline bubbles or stalls","Pipeline collisions","Pipeline deadlocks"],correctAnswer:1,explanation:"Pipeline bubbles or stalls refer to the wasted cycles when a pipeline cannot accept new instructions due to hazards. A bubble is essentially a 'no-op' that propagates through the pipeline, representing a cycle where productive work isn't being done. Stalls prevent new instructions from entering the pipeline while allowing existing instructions to proceed."}]}},completed:!1},{...{id:6,title:"Data Hazards and Forwarding",description:"Understanding and resolving data dependencies in pipelined processors",estimatedTime:"3 hours",completed:!1,sections:[{id:"6.1",title:"Data Dependencies in Pipelines",content:'\n        <h3>Understanding Instruction Dependencies</h3>\n        <p>Data dependencies between instructions are a major challenge in pipelined processors, potentially causing stalls that reduce performance.</p>\n        \n        <h4>Types of Data Dependencies</h4>\n        <p>There are three fundamental types of data dependencies between instructions:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Dependency Type</th>\n            <th>Description</th>\n            <th>Example</th>\n          </tr>\n          <tr>\n            <td><strong>Read After Write (RAW)</strong><br><em>True Dependency</em></td>\n            <td>Instruction J tries to read a register that instruction I writes to</td>\n            <td>\n              add x1, x2, x3<br>\n              sub x4, x1, x5  <em>\u2190 Reads x1 written by previous instruction</em>\n            </td>\n          </tr>\n          <tr>\n            <td><strong>Write After Read (WAR)</strong><br><em>Anti-dependency</em></td>\n            <td>Instruction J tries to write to a register that instruction I reads from</td>\n            <td>\n              add x1, x2, x3  <em>\u2190 Reads x2</em><br>\n              sub x2, x4, x5  <em>\u2190 Writes to x2</em>\n            </td>\n          </tr>\n          <tr>\n            <td><strong>Write After Write (WAW)</strong><br><em>Output dependency</em></td>\n            <td>Instruction J writes to the same register as instruction I</td>\n            <td>\n              add x1, x2, x3  <em>\u2190 Writes to x1</em><br>\n              sub x1, x4, x5  <em>\u2190 Also writes to x1</em>\n            </td>\n          </tr>\n        </table>\n        \n        <p>In a simple in-order pipeline like the classic 5-stage RISC-V pipeline, only RAW hazards cause execution problems, because WAR and WAW hazards don\'t occur due to the in-order instruction execution and register writes only happening in the last stage.</p>\n        \n        <h4>Dependency Distance</h4>\n        <p>The impact of a dependency depends on how close the dependent instructions are:</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/RVfZ7Lt.png" alt="Dependency Distances" style="max-width: 700px; width: 100%;">\n          <p><em>Different types of RAW dependencies based on distance</em></p>\n        </div>\n        \n        <ul>\n          <li><strong>Back-to-Back Dependency</strong>: Most severe, as the result is needed immediately in the next instruction</li>\n          <li><strong>One Instruction Gap</strong>: Still problematic, but potentially less impactful</li>\n          <li><strong>Multiple Instruction Gap</strong>: May not cause a hazard if the gap is large enough</li>\n        </ul>\n        \n        <h4>Dependency Analysis</h4>\n        <p>A common technique for visualizing and analyzing instruction dependencies is a dependency graph:</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/7Uh9qXj.png" alt="Dependency Graph" style="max-width: 500px; width: 100%;">\n          <p><em>Example dependency graph for a sequence of instructions</em></p>\n        </div>\n        \n        <p>In this graph:</p>\n        <ul>\n          <li>Nodes represent instructions</li>\n          <li>Edges represent dependencies between instructions</li>\n          <li>Edge labels indicate the register causing the dependency</li>\n        </ul>\n        \n        <p>This visualization helps identify critical paths and potential bottlenecks in the instruction sequence.</p>\n      '},{id:"6.2",title:"Stalls and Bubbles",content:'\n        <h3>Handling Dependencies Without Forwarding</h3>\n        <p>Without data forwarding, the simplest approach to handle data hazards is to stall the pipeline until the dependency is resolved.</p>\n        \n        <h4>Pipeline Stalling Mechanism</h4>\n        <p>When a data hazard is detected, the pipeline control unit must:</p>\n        <ol>\n          <li>Freeze the affected instruction and all following instructions</li>\n          <li>Allow preceding instructions to continue execution</li>\n          <li>Resume normal operation once the hazard is cleared</li>\n        </ol>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/bNtxnrU.png" alt="Pipeline Stall" style="max-width: 700px; width: 100%;">\n          <p><em>Pipeline stall caused by a RAW hazard</em></p>\n        </div>\n        \n        <h4>Pipeline Bubbles</h4>\n        <p>A pipeline bubble is essentially a "no-operation" (NOP) that propagates through the pipeline during a stall:</p>\n        <ul>\n          <li>Consumes execution resources but performs no useful work</li>\n          <li>Necessary to maintain the sequential behavior of the program</li>\n          <li>Each bubble represents one cycle of lost performance</li>\n        </ul>\n        \n        <p>Implementation of stalls typically involves:</p>\n        <ol>\n          <li>Preventing the PC from incrementing</li>\n          <li>Preventing the IF/ID register from changing</li>\n          <li>Inserting a bubble into the ID/EX register</li>\n        </ol>\n        \n        <h4>Load-Use Hazards</h4>\n        <p>A particularly problematic type of RAW hazard is the load-use hazard, where an instruction uses a value that was loaded by the immediately preceding instruction:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr>\n            <td><pre>\nlw  x1, 0(x2)    # Load value into x1\nadd x3, x1, x4   # Use value from x1 immediately\n            </pre></td>\n          </tr>\n        </table>\n        \n        <p>This is particularly challenging because:</p>\n        <ul>\n          <li>The loaded value isn\'t available until the MEM stage (cycle 4)</li>\n          <li>The ADD instruction needs the value in the EX stage (cycle 3)</li>\n          <li>Even with forwarding, this requires at least one pipeline stall</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/cSKTPFj.png" alt="Load-Use Hazard" style="max-width: 700px; width: 100%;">\n          <p><em>Pipeline showing a load-use hazard requiring a stall</em></p>\n        </div>\n        \n        <h4>Performance Impact of Stalls</h4>\n        <p>The impact of stalls on performance can be significant:</p>\n        <ul>\n          <li>Each stall adds one cycle to program execution</li>\n          <li>Common instruction sequences can have many dependencies</li>\n          <li>In a simple in-order pipeline without forwarding, up to 30-40% of cycles might be lost to stalls</li>\n        </ul>\n        \n        <p>This performance penalty is the primary motivation for implementing more sophisticated hazard mitigation techniques like data forwarding.</p>\n      '},{id:"6.3",title:"Data Forwarding Implementation",content:'\n        <h3>Bypassing the Pipeline</h3>\n        <p>Data forwarding (also called bypassing) is a technique that resolves data hazards by routing data values directly from where they\'re available to where they\'re needed, without waiting for them to be written to the register file.</p>\n        \n        <h4>Forwarding Concept</h4>\n        <p>The key insight behind forwarding is that the result of an ALU operation is available at the end of the EX stage, but isn\'t written to the register file until the WB stage (2 cycles later).</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/Xbpz0Ld.png" alt="Forwarding Paths" style="max-width: 700px; width: 100%;">\n          <p><em>Data forwarding paths in a 5-stage pipeline</em></p>\n        </div>\n        \n        <p>Forward paths typically include:</p>\n        <ul>\n          <li><strong>EX/MEM \u2192 EX</strong>: Forward from the output of the EX stage to the input of the EX stage</li>\n          <li><strong>MEM/WB \u2192 EX</strong>: Forward from the output of the MEM stage to the input of the EX stage</li>\n        </ul>\n        \n        <h4>Forwarding Control Logic</h4>\n        <p>Forwarding requires additional control logic to:</p>\n        <ol>\n          <li>Detect when forwarding is needed by comparing register numbers</li>\n          <li>Determine the correct forwarding source when multiple options exist</li>\n          <li>Configure multiplexers to select the appropriate data path</li>\n        </ol>\n        \n        <p>The basic conditions for forwarding to the EX stage are:</p>\n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n// Forward from EX/MEM pipeline register to first ALU input\nif (EX/MEM.RegWrite and (EX/MEM.RegisterRd \u2260 0) and \n    (EX/MEM.RegisterRd = ID/EX.RegisterRs1)) \n    ForwardA = 10\n\n// Forward from MEM/WB pipeline register to first ALU input\nelse if (MEM/WB.RegWrite and (MEM/WB.RegisterRd \u2260 0) and\n         (MEM/WB.RegisterRd = ID/EX.RegisterRs1))\n    ForwardA = 01\n\n// Use value from register file\nelse\n    ForwardA = 00</pre>\n        \n        <p>Similar logic applies for the ForwardB control signal that manages the second ALU input.</p>\n        \n        <h4>Forwarding Unit Implementation</h4>\n        <p>A hardware forwarding unit compares the destination register of instructions in later pipeline stages with the source registers of instructions in earlier stages:</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/ZfWJ9jW.png" alt="Forwarding Unit" style="max-width: 600px; width: 100%;">\n          <p><em>Simplified diagram of forwarding detection logic</em></p>\n        </div>\n        \n        <p>The forwarding unit needs access to:</p>\n        <ul>\n          <li>Register numbers from multiple pipeline stages</li>\n          <li>Control signals indicating whether registers will be written</li>\n          <li>Flags to determine if the instruction produces a valid result to forward</li>\n        </ul>\n        \n        <h4>Load-Use Hazards with Forwarding</h4>\n        <p>Even with forwarding, load-use hazards still require a pipeline stall:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Cycle</th>\n            <th>1</th>\n            <th>2</th>\n            <th>3</th>\n            <th>4</th>\n            <th>5</th>\n            <th>6</th>\n          </tr>\n          <tr>\n            <td>lw x1, 0(x2)</td>\n            <td>IF</td>\n            <td>ID</td>\n            <td>EX</td>\n            <td>MEM</td>\n            <td>WB</td>\n            <td></td>\n          </tr>\n          <tr>\n            <td>add x3, x1, x4</td>\n            <td></td>\n            <td>IF</td>\n            <td>ID</td>\n            <td>stall</td>\n            <td>EX</td>\n            <td>MEM</td>\n          </tr>\n        </table>\n        \n        <p>This occurs because:</p>\n        <ul>\n          <li>The load instruction doesn\'t have the data until after the MEM stage</li>\n          <li>The dependent instruction needs the data in the EX stage</li>\n          <li>Even with forwarding, there\'s still a timing gap that requires a stall</li>\n        </ul>\n        \n        <p>This is typically handled by a hazard detection unit that identifies load-use dependencies and inserts the necessary stall.</p>\n      '},{id:"6.4",title:"Advanced Forwarding Techniques",content:'\n        <h3>Beyond Basic Forwarding</h3>\n        <p>While basic forwarding resolves many data hazards, advanced techniques can further optimize pipeline performance.</p>\n        \n        <h4>Load-to-Use Scheduling</h4>\n        <p>Compilers can help reduce the impact of load-use hazards by scheduling code to avoid such dependencies:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr>\n            <td><strong>Original Code (stall required)</strong></td>\n            <td><strong>Scheduled Code (no stall)</strong></td>\n          </tr>\n          <tr>\n            <td>\n              <pre>\nlw  x1, 0(x2)\nadd x3, x1, x4  # Uses x1 \u2192 stall\n              </pre>\n            </td>\n            <td>\n              <pre>\nlw  x1, 0(x2)\nadd x5, x6, x7  # Independent instruction\nadd x3, x1, x4  # Uses x1 \u2192 no stall\n              </pre>\n            </td>\n          </tr>\n        </table>\n        \n        <p>This technique, known as <strong>instruction scheduling</strong>, can significantly reduce stalls if there are independent instructions available to execute between the load and its use.</p>\n        \n        <h4>Store Forwarding</h4>\n        <p>In addition to forwarding from arithmetic operations, processors often implement forwarding from store to load operations:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr>\n            <td>\n              <pre>\nsw  x1, 0(x2)    # Store value from x1\nlw  x3, 0(x2)    # Load from same address\n              </pre>\n            </td>\n          </tr>\n        </table>\n        \n        <p>Store-to-load forwarding requires:</p>\n        <ul>\n          <li>Detection of memory address matches between store and load instructions</li>\n          <li>Forwarding paths from the store data to the load result</li>\n          <li>Handling of partial overlaps (e.g., storing a byte and loading a word)</li>\n        </ul>\n        \n        <h4>Speculative Forwarding</h4>\n        <p>In complex processors, forwarding may sometimes be speculative:</p>\n        <ul>\n          <li>The processor might predict that two memory operations reference the same address</li>\n          <li>Data is forwarded based on this prediction</li>\n          <li>The prediction is verified once addresses are fully calculated</li>\n          <li>If incorrect, the pipeline is flushed and execution restarts</li>\n        </ul>\n        \n        <p>This technique trades occasional pipeline flushes for improved performance in the common case.</p>\n        \n        <h4>Hardware vs. Software Approaches</h4>\n        <p>Data hazards can be addressed through hardware and software techniques:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Hardware Approaches</th>\n            <th>Software (Compiler) Approaches</th>\n          </tr>\n          <tr>\n            <td>\n              <ul>\n                <li>Data forwarding with bypass networks</li>\n                <li>Stall detection and insertion</li>\n                <li>Out-of-order execution</li>\n                <li>Register renaming</li>\n              </ul>\n            </td>\n            <td>\n              <ul>\n                <li>Instruction scheduling</li>\n                <li>Loop unrolling</li>\n                <li>Software pipelining</li>\n                <li>Inserting NOPs manually</li>\n              </ul>\n            </td>\n          </tr>\n        </table>\n        \n        <p>Modern processors typically use a combination of hardware and software techniques to achieve the best performance.</p>\n        \n        <h4>Performance Analysis with Forwarding</h4>\n        <p>Forwarding can dramatically improve pipeline performance:</p>\n        <ul>\n          <li>Most RAW hazards can be resolved without stalls</li>\n          <li>Only load-use hazards and some complex operations still require stalls</li>\n          <li>In typical code, forwarding can eliminate 60-80% of data hazard stalls</li>\n        </ul>\n        \n        <p>However, forwarding adds complexity:</p>\n        <ul>\n          <li>Additional multiplexers in the data path</li>\n          <li>Complex hazard detection logic</li>\n          <li>Increased critical path length, potentially limiting clock frequency</li>\n        </ul>\n        \n        <p>The tradeoff between added hardware complexity and performance improvement is almost always worthwhile in modern processors.</p>\n      '}],examples:[{id:"example6_1",title:"Data Hazard Analysis",description:"Analysis of data hazards in a short instruction sequence",code:"# Instruction sequence with data dependencies\n# Register use shown as (Dest <- Src1, Src2)\n\n1. add x1, x2, x3    # x1 <- x2, x3\n2. sub x4, x1, x5    # x4 <- x1, x5  (RAW hazard on x1 from instr 1)\n3. and x6, x1, x7    # x6 <- x1, x7  (RAW hazard on x1 from instr 1)\n4. or  x1, x6, x8    # x1 <- x6, x8  (RAW hazard on x6 from instr 3)\n5. xor x9, x1, x4    # x9 <- x1, x4  (RAW hazard on x1 from instr 4, x4 from instr 2)\n\n# Pipeline execution without forwarding:\n#\n# Cycle:   1  2  3  4  5  6  7  8  9 10 11 12 13\n# add x1   IF ID EX ME WB\n# sub x4      IF ID -- -- EX ME WB       (stall 2 cycles waiting for x1)\n# and x6         IF ID -- -- -- EX ME WB    (stall 2 cycles waiting for x1)\n# or  x1            IF ID -- -- -- -- EX ME WB (stall 3 cycles waiting for x6)\n# xor x9               IF ID -- -- -- -- EX ME WB (stall 4 cycles waiting for x1,x4)\n#\n# Total execution time: 13 cycles (8 stall cycles)\n\n# Pipeline execution with full forwarding:\n#\n# Cycle:   1  2  3  4  5  6  7  8  9\n# add x1   IF ID EX ME WB\n# sub x4      IF ID EX ME WB          (forward x1 from EX/MEM to EX)\n# and x6         IF ID EX ME WB       (forward x1 from MEM/WB to EX)\n# or  x1            IF ID EX ME WB    (forward x6 from EX/MEM to EX)\n# xor x9               IF ID EX ME WB (forward x1 from EX/MEM to EX, x4 from MEM/WB to EX)\n#\n# Total execution time: 9 cycles (0 stall cycles)\n# Performance improvement: 4 cycles saved (30.8%)\n\n# Analysis:\n# 1. Without forwarding, each RAW dependency causes stalls until the value is written back\n# 2. With forwarding, most RAW dependencies can be resolved without stalls\n# 3. Dependencies on multiple registers compound the stall cycles in non-forwarding case\n# 4. Forwarding from different pipeline stages may be needed (EX/MEM or MEM/WB)",explanation:"This example analyzes a sequence of five RISC-V instructions with multiple data dependencies. It shows how the pipeline execution proceeds both with and without data forwarding. Without forwarding, the processor must stall until each dependency is resolved through the register file, resulting in 8 stall cycles and a total execution time of 13 cycles. With forwarding, the processor can route values directly from where they're produced to where they're needed next, eliminating all stalls and reducing execution time to 9 cycles\u2014a 30.8% improvement. The example also highlights different types of forwarding paths needed, such as forwarding from the EX/MEM pipeline register (for fresh results) and from the MEM/WB register (for older results)."},{id:"example6_2",title:"Forwarding Unit Verilog Implementation",description:"Verilog implementation of forwarding logic for a RISC-V pipeline",code:"module forwarding_unit(\n  // Instruction fields from ID/EX pipeline register\n  input [4:0] id_ex_rs1,      // First source register\n  input [4:0] id_ex_rs2,      // Second source register\n  \n  // Instruction fields from EX/MEM pipeline register\n  input [4:0] ex_mem_rd,      // Destination register\n  input ex_mem_reg_write,     // Register write enable\n  \n  // Instruction fields from MEM/WB pipeline register\n  input [4:0] mem_wb_rd,      // Destination register\n  input mem_wb_reg_write,     // Register write enable\n  \n  // Forwarding control outputs\n  output reg [1:0] forward_a, // Forwarding control for first ALU input\n  output reg [1:0] forward_b  // Forwarding control for second ALU input\n);\n\n  // Forwarding control values:\n  // 00 = No forwarding (use register file output)\n  // 10 = Forward from EX/MEM pipeline register\n  // 01 = Forward from MEM/WB pipeline register\n\n  // Forwarding logic for first ALU input (rs1)\n  always @(*) begin\n    // Default: No forwarding\n    forward_a = 2'b00;\n    \n    // Check for forwarding from EX/MEM (highest priority)\n    if (ex_mem_reg_write && \n        (ex_mem_rd != 5'b0) && \n        (ex_mem_rd == id_ex_rs1)) begin\n      // Forward from EX/MEM (previous instruction result)\n      forward_a = 2'b10;\n    end\n    // Check for forwarding from MEM/WB\n    else if (mem_wb_reg_write && \n             (mem_wb_rd != 5'b0) && \n             (mem_wb_rd == id_ex_rs1)) begin\n      // Forward from MEM/WB (two instructions ago)\n      forward_a = 2'b01;\n    end\n  end\n\n  // Forwarding logic for second ALU input (rs2)\n  always @(*) begin\n    // Default: No forwarding\n    forward_b = 2'b00;\n    \n    // Check for forwarding from EX/MEM (highest priority)\n    if (ex_mem_reg_write && \n        (ex_mem_rd != 5'b0) && \n        (ex_mem_rd == id_ex_rs2)) begin\n      // Forward from EX/MEM (previous instruction result)\n      forward_b = 2'b10;\n    end\n    // Check for forwarding from MEM/WB\n    else if (mem_wb_reg_write && \n             (mem_wb_rd != 5'b0) && \n             (mem_wb_rd == id_ex_rs2)) begin\n      // Forward from MEM/WB (two instructions ago)\n      forward_b = 2'b01;\n    end\n  end\nendmodule\n\n// Example hazard detection unit for load-use hazards\nmodule hazard_detection_unit(\n  // Instruction fields from ID stage\n  input [4:0] id_rs1,         // First source register\n  input [4:0] id_rs2,         // Second source register\n  \n  // Instruction fields from EX stage\n  input [4:0] ex_rd,          // Destination register\n  input ex_mem_read,          // Memory read enable (for loads)\n  \n  // Hazard control output\n  output reg stall            // Pipeline stall signal\n);\n\n  always @(*) begin\n    // Default: No stall\n    stall = 1'b0;\n    \n    // Check for load-use hazard\n    // This occurs when:\n    // 1. The instruction in EX stage is a load (ex_mem_read is true)\n    // 2. The load destination register matches one of the source\n    //    registers of the instruction in ID stage\n    // 3. The destination register is not x0\n    if (ex_mem_read && \n        ((ex_rd == id_rs1) || (ex_rd == id_rs2)) &&\n        (ex_rd != 5'b0)) begin\n      stall = 1'b1;  // Insert stall\n    end\n  end\nendmodule",explanation:"This Verilog implementation shows the two key components for handling data hazards in a RISC-V pipeline. The forwarding unit detects when a value needed by the current instruction is available in one of the pipeline registers rather than the register file. It generates control signals (forward_a and forward_b) that control multiplexers at the ALU inputs, allowing the processor to use the most recent value for each register. The forwarding logic checks both the EX/MEM and MEM/WB pipeline registers, prioritizing the more recent value when both contain relevant data. The hazard detection unit specifically handles load-use hazards by detecting when an instruction in the ID stage needs a value that's being loaded by an instruction in the EX stage. Since loads don't have the value until after the MEM stage, the pipeline must stall for one cycle to resolve this dependency, even with forwarding."}],quiz:{title:"Data Hazards and Forwarding Quiz",questions:[{question:"Which of the following is a true data dependency (RAW hazard)?",options:["Instruction 1 writes to register x1, Instruction 2 writes to register x1","Instruction 1 reads from register x1, Instruction 2 writes to register x1","Instruction 1 writes to register x1, Instruction 2 reads from register x1","Instruction 1 reads from register x1, Instruction 2 reads from register x1"],correctAnswer:2,explanation:"A Read-After-Write (RAW) hazard, or true data dependency, occurs when an instruction writes to a register and a subsequent instruction reads from that same register. This creates a dependency because the second instruction needs the result produced by the first instruction."},{question:"What is the primary benefit of data forwarding in a pipeline?",options:["It eliminates all pipeline stalls","It allows the processor to run at a higher clock frequency","It reduces the number of stall cycles needed for data dependencies","It completely eliminates the need for a register file"],correctAnswer:2,explanation:"The primary benefit of data forwarding is that it reduces the number of stall cycles needed to handle data dependencies. By routing data directly from where it's produced to where it's needed, most data hazards can be resolved without stalls. However, forwarding cannot eliminate all stalls (e.g., for load-use hazards) and doesn't necessarily allow higher clock frequencies."},{question:"Why does a load-use hazard still require a pipeline stall even with forwarding?",options:["The data from a load instruction isn't available until after the MEM stage, but the dependent instruction needs it in the EX stage","The register file can only handle one access at a time","Load instructions take multiple cycles to complete","The ALU can't process data from the memory"],correctAnswer:0,explanation:"A load-use hazard requires a stall even with forwarding because of timing: the loaded value isn't available until after the memory access (MEM) stage, but the subsequent instruction needs that value during its execute (EX) stage, which occurs one cycle before the data is available. No amount of forwarding can overcome this timing gap."},{question:"Which pipeline registers are typically involved in data forwarding for a 5-stage RISC-V pipeline?",options:["IF/ID and ID/EX","ID/EX and EX/MEM","EX/MEM and MEM/WB","MEM/WB and IF/ID"],correctAnswer:2,explanation:"Data forwarding typically involves the EX/MEM and MEM/WB pipeline registers. The EX/MEM register contains the results of the most recently executed instruction, while the MEM/WB register contains results from two instructions ago. These results can be forwarded to the EX stage of the current instruction when dependencies exist."},{question:"What does a pipeline bubble represent?",options:["A cycle where multiple instructions complete simultaneously","A cycle where no useful work is done in one or more pipeline stages","A hardware component that monitors data hazards","A buffer that stores temporary results"],correctAnswer:1,explanation:"A pipeline bubble represents a cycle where no useful work is done in one or more pipeline stages. It's essentially a 'no-operation' that propagates through the pipeline, consuming resources without producing useful results. Bubbles are inserted to handle hazards and maintain the correct program behavior."},{question:"Which component in a pipelined processor is responsible for detecting when forwarding is needed?",options:["The ALU","The register file","The forwarding unit","The PC incrementer"],correctAnswer:2,explanation:"The forwarding unit is responsible for detecting when forwarding is needed. It compares the register numbers being read by the current instruction with the destination registers of instructions in later pipeline stages, and generates control signals to route data appropriately when dependencies are found."},{question:"What is a typical compiler technique to reduce load-use hazards?",options:["Using fewer variables","Scheduling independent instructions between the load and its use","Using more memory operations","Removing all branches from the code"],correctAnswer:1,explanation:"A typical compiler technique to reduce load-use hazards is instruction scheduling, where the compiler identifies independent instructions that can be placed between a load instruction and the instruction that uses the loaded value. This fills the otherwise wasted cycles with useful work, improving overall performance."},{question:"In the context of data forwarding, what does the control signal value '00' typically indicate?",options:["Forward from the EX/MEM pipeline register","Forward from the MEM/WB pipeline register","No forwarding needed; use the value from the register file","Stall the pipeline"],correctAnswer:2,explanation:"In data forwarding control logic, the value '00' typically indicates that no forwarding is needed, and the processor should use the value read from the register file. Other values like '01' or '10' would indicate forwarding from specific pipeline registers."},{question:"What is store forwarding?",options:["Forwarding data from one store instruction to another store instruction","Forwarding data from the processor to memory","Forwarding data from a store instruction to a subsequent load from the same address","Forwarding the memory address calculation"],correctAnswer:2,explanation:"Store forwarding refers to forwarding data from a store instruction to a subsequent load instruction that accesses the same memory address. Rather than waiting for the store to write to memory and then reading it back, the processor can forward the data directly from the store to the load, eliminating potential stalls."},{question:"What is the primary challenge in implementing data forwarding in a processor pipeline?",options:["Detecting which registers need forwarding and from which pipeline stage","Finding space for the additional pipeline registers","Increasing the size of the register file","Synchronizing the clock to all pipeline stages"],correctAnswer:0,explanation:"The primary challenge in implementing data forwarding is correctly detecting which registers need forwarding and from which pipeline stage. This requires comparing register numbers across multiple pipeline stages, handling special cases (like register x0 in RISC-V), and ensuring the correct source is selected when multiple forwarding options exist."}]}},completed:!1},{...{id:7,title:"Control Hazards and Branch Prediction",description:"Understanding and mitigating control flow challenges in pipelined processors",estimatedTime:"3 hours",completed:!1,sections:[{id:"7.1",title:"Control Hazards in Pipelines",content:'\n        <h3>The Branching Problem</h3>\n        <p>Control hazards occur when the flow of instruction execution changes unexpectedly, primarily due to branch and jump instructions. These hazards can significantly impact pipeline performance.</p>\n        \n        <h4>The Branching Dilemma</h4>\n        <p>In a pipelined processor, branch instructions pose a fundamental challenge:</p>\n        <ul>\n          <li>The decision to branch or not (and the branch target) isn\'t known until the branch is executed</li>\n          <li>This typically happens in the EX stage (cycle 3) in a 5-stage pipeline</li>\n          <li>By this time, the processor has already fetched and perhaps begun processing instructions from after the branch</li>\n          <li>If the branch is taken, these instructions must be discarded, causing pipeline bubbles</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/tYVoeSb.png" alt="Branch Hazard" style="max-width: 700px; width: 100%;">\n          <p><em>Control hazard caused by a taken branch</em></p>\n        </div>\n        \n        <h4>Branch Penalty</h4>\n        <p>The cost of a taken branch without any mitigation strategies is significant:</p>\n        <ul>\n          <li><strong>Branch Resolution Stage</strong>: The stage where the branch decision is made (typically EX)</li>\n          <li><strong>Branch Penalty</strong>: Number of cycles wasted due to the control hazard</li>\n          <li><strong>Penalty Formula</strong>: Penalty = Branch Resolution Stage - 1</li>\n          <li><strong>Example</strong>: In a 5-stage pipeline with branch resolution in EX (stage 3), the penalty is 2 cycles</li>\n        </ul>\n        \n        <h4>Branch Performance Impact</h4>\n        <p>Control hazards can have a dramatic effect on pipeline performance:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Metric</th>\n            <th>Impact</th>\n          </tr>\n          <tr>\n            <td>Frequency of Branches</td>\n            <td>Typically 15-30% of dynamic instructions in most programs</td>\n          </tr>\n          <tr>\n            <td>Branch Taken Frequency</td>\n            <td>~60% of branches are taken on average</td>\n          </tr>\n          <tr>\n            <td>CPI Impact</td>\n            <td>Without mitigation: +0.2 to +0.5 CPI due to control hazards</td>\n          </tr>\n          <tr>\n            <td>Performance Loss</td>\n            <td>Up to 30% performance reduction in branch-heavy code</td>\n          </tr>\n        </table>\n        \n        <h4>Types of Control Transfer Instructions</h4>\n        <p>Different types of control instructions have varying impacts on the pipeline:</p>\n        <ul>\n          <li><strong>Conditional Branches</strong> (beq, bne, blt, etc.): Decision depends on register values</li>\n          <li><strong>Unconditional Jumps</strong> (j, jal): Always change control flow, but target is known early</li>\n          <li><strong>Indirect Jumps</strong> (jalr): Target address comes from a register, known only after register read</li>\n          <li><strong>Function Returns</strong>: Special case of indirect jumps, usually returning to the calling point</li>\n        </ul>\n        \n        <p>Each type requires potentially different mitigation strategies for optimal performance.</p>\n      '},{id:"7.2",title:"Basic Branch Handling Techniques",content:'\n        <h3>Simple Approaches to Control Hazards</h3>\n        <p>Before exploring advanced branch prediction, let\'s examine simpler techniques for handling control hazards.</p>\n        \n        <h4>1. Stall Until Branch Resolution</h4>\n        <p>The simplest approach is to stall the pipeline until the branch outcome is known:</p>\n        <ul>\n          <li>Freeze the fetch stage until the branch target is known</li>\n          <li>Resume fetching from the correct path once decided</li>\n          <li>This guarantees correct execution but incurs the full branch penalty</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/q2LPDYr.png" alt="Branch Stall" style="max-width: 700px; width: 100%;">\n          <p><em>Pipeline stall until branch resolution</em></p>\n        </div>\n        \n        <h4>2. Predict-Not-Taken</h4>\n        <p>Always assume branches are not taken and continue sequential execution:</p>\n        <ul>\n          <li>Continue fetching instructions after the branch</li>\n          <li>If branch turns out to be taken, flush the pipeline and fetch from branch target</li>\n          <li>No penalty for not-taken branches, full penalty for taken branches</li>\n        </ul>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n// Simplified branch handling with predict-not-taken\nif (EX_stage.is_branch && EX_stage.branch_taken) begin\n    // Branch is taken, flush pipeline\n    IF_ID_register <= 0;  // Clear instruction in decode\n    ID_EX_register <= 0;  // Clear instruction in execute\n    PC <= EX_stage.branch_target;  // Jump to branch target\nend else begin\n    // Normal sequential execution\n    PC <= PC + 4;\nend</pre>\n        \n        <h4>3. Predict-Taken</h4>\n        <p>Always assume branches are taken and fetch from the branch target:</p>\n        <ul>\n          <li>Calculate branch target address early (in ID stage)</li>\n          <li>Begin fetching from predicted branch target</li>\n          <li>If branch turns out not to be taken, flush the pipeline and resume sequential path</li>\n          <li>No penalty for taken branches, full penalty for not-taken branches</li>\n        </ul>\n        \n        <h4>4. Delayed Branches</h4>\n        <p>Rearrange code to make productive use of the branch delay slots:</p>\n        <ul>\n          <li>Define N "delay slots" after each branch (instructions that always execute)</li>\n          <li>The compiler places useful instructions in these slots</li>\n          <li>The processor always executes these instructions regardless of branch outcome</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/GHkdvlX.png" alt="Delayed Branch" style="max-width: 600px; width: 100%;">\n          <p><em>Branch delay slots filled with useful instructions</em></p>\n        </div>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n// Original code:          // With delay slot:\nbeq x1, x2, target         beq x1, x2, target\nadd x3, x4, x5             sub x7, x8, x9        // Delay slot (always executes)\nsub x7, x8, x9             add x3, x4, x5\n                          \ntarget:                    target:\nlw  x10, 0(x11)            lw  x10, 0(x11)</pre>\n        \n        <h4>Comparing Basic Approaches</h4>\n        <p>Each approach has different performance characteristics:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Approach</th>\n            <th>Advantages</th>\n            <th>Disadvantages</th>\n          </tr>\n          <tr>\n            <td>Stall Until Resolution</td>\n            <td>Simple hardware, predictable behavior</td>\n            <td>Always incurs full branch penalty</td>\n          </tr>\n          <tr>\n            <td>Predict-Not-Taken</td>\n            <td>Simple, works well for loop exit branches</td>\n            <td>Poor for loops and if-then-else structures</td>\n          </tr>\n          <tr>\n            <td>Predict-Taken</td>\n            <td>Works well for loops and backward branches</td>\n            <td>Poor for forward branches, requires early target calculation</td>\n          </tr>\n          <tr>\n            <td>Delayed Branches</td>\n            <td>No penalty with good compiler support</td>\n            <td>Complicates ISA, limited scalability, compiler challenge</td>\n          </tr>\n        </table>\n        \n        <p>While these basic approaches help, they don\'t address the fundamental unpredictability of branches. This limitation motivates more sophisticated branch prediction techniques.</p>\n      '},{id:"7.3",title:"Dynamic Branch Prediction",content:'\n        <h3>Adaptive Branch Prediction</h3>\n        <p>Dynamic branch prediction uses runtime behavior to predict future branch outcomes, adapting to program patterns during execution.</p>\n        \n        <h4>Branch History Table (BHT)</h4>\n        <p>A simple dynamic predictor uses a table indexed by branch address:</p>\n        <ul>\n          <li>Each entry stores a prediction bit (or bits) for a particular branch</li>\n          <li>Predictions are updated based on actual branch outcomes</li>\n          <li>Multiple branches may map to the same entry (aliasing)</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/ZcK4GnQ.png" alt="Branch History Table" style="max-width: 600px; width: 100%;">\n          <p><em>Branch History Table structure</em></p>\n        </div>\n        \n        <h4>1-Bit Predictor</h4>\n        <p>The simplest dynamic predictor uses a single bit per branch:</p>\n        <ul>\n          <li>If the branch was taken last time, predict taken</li>\n          <li>If the branch was not taken last time, predict not taken</li>\n          <li>Update the prediction bit after each branch resolution</li>\n        </ul>\n        \n        <p>While simple, 1-bit predictors struggle with loop branches:</p>\n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n// Loop with 9 iterations\nloop: \n    // loop body\n    beq x1, x9, exit   // Exit when x1 == 9\n    addi x1, x1, 1     // Increment counter\n    j loop             // Jump back to start\nexit:\n    // continue execution\n\n// For the branch \'beq x1, x9, exit\':\n// Iterations 1-8: Not Taken (mispredicts on iteration 2-8 after seeing first "not taken")\n// Iteration 9: Taken (mispredicts because last time was "not taken")\n// Total: 8 mispredictions out of 9 branches!</pre>\n        \n        <h4>2-Bit Predictors</h4>\n        <p>To address the loop exit problem, 2-bit predictors use a state machine with hysteresis:</p>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/9KlLd3G.png" alt="2-Bit Predictor" style="max-width: 500px; width: 100%;">\n          <p><em>2-bit predictor state transition diagram</em></p>\n        </div>\n        \n        <ul>\n          <li>Four states: Strongly Not Taken, Weakly Not Taken, Weakly Taken, Strongly Taken</li>\n          <li>Requires two consecutive wrong predictions to change the prediction direction</li>\n          <li>Works well for loop exit branches (only misses the actual exit and the first iteration)</li>\n        </ul>\n        \n        <h4>Correlating Predictors</h4>\n        <p>Some branches are correlated with previous branch outcomes. Correlating predictors use recent branch history to improve predictions:</p>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n// Example where prediction depends on previous branches\nif (x1 < 5) {         // Branch A\n    // Some code\n}\nif (x1 > 3) {         // Branch B - correlated with Branch A\n    // Some code\n}</pre>\n        \n        <p>A (2,2) correlating predictor:</p>\n        <ul>\n          <li>Uses 2 bits of global branch history</li>\n          <li>Combined with the branch address to index the prediction table</li>\n          <li>Each branch has 4 different prediction entries based on history</li>\n          <li>Can learn patterns like "if the last branch was taken, this one is likely not taken"</li>\n        </ul>\n        \n        <h4>Tournament Predictors</h4>\n        <p>Different predictors work better for different branches. Tournament predictors combine multiple prediction strategies:</p>\n        <ul>\n          <li>Maintain multiple predictors (e.g., local history and global history)</li>\n          <li>Use a meta-predictor to select which prediction to use for each branch</li>\n          <li>The meta-predictor learns which strategy works best for each branch</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/xsA7mh6.png" alt="Tournament Predictor" style="max-width: 600px; width: 100%;">\n          <p><em>Tournament predictor combining multiple strategies</em></p>\n        </div>\n        \n        <h4>Prediction Accuracy</h4>\n        <p>Modern branch predictors achieve impressive accuracy:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Predictor Type</th>\n            <th>Typical Accuracy</th>\n          </tr>\n          <tr>\n            <td>Static (Always Not Taken/Taken)</td>\n            <td>60-70%</td>\n          </tr>\n          <tr>\n            <td>1-Bit Dynamic</td>\n            <td>80-85%</td>\n          </tr>\n          <tr>\n            <td>2-Bit Dynamic</td>\n            <td>85-90%</td>\n          </tr>\n          <tr>\n            <td>Correlating (2,2)</td>\n            <td>90-95%</td>\n          </tr>\n          <tr>\n            <td>Tournament/Hybrid</td>\n            <td>95-98%</td>\n          </tr>\n          <tr>\n            <td>Modern Advanced (Neural, TAGE, etc.)</td>\n            <td>>98%</td>\n          </tr>\n        </table>\n        \n        <p>Higher prediction accuracy translates directly to better pipeline utilization and performance.</p>\n      '},{id:"7.4",title:"Branch Target Prediction and Speculation",content:'\n        <h3>Beyond Outcome Prediction</h3>\n        <p>Predicting whether a branch is taken is only part of the solution. The processor also needs to know where to fetch instructions from if the branch is taken.</p>\n        \n        <h4>Branch Target Buffer (BTB)</h4>\n        <p>A Branch Target Buffer caches the targets of previously executed branches:</p>\n        <ul>\n          <li>Indexed by branch instruction address</li>\n          <li>Stores target address of the branch</li>\n          <li>Often combined with a branch predictor</li>\n          <li>Allows target address to be known at fetch time</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/G4LIqKp.png" alt="Branch Target Buffer" style="max-width: 600px; width: 100%;">\n          <p><em>Branch Target Buffer structure and operation</em></p>\n        </div>\n        \n        <p>BTB operation during instruction fetch:</p>\n        <ol>\n          <li>Check if the PC matches any entry in the BTB</li>\n          <li>If hit and prediction is "taken," fetch from the stored target address</li>\n          <li>If hit and prediction is "not taken," fetch the next sequential instruction</li>\n          <li>If miss, assume "not taken" and fetch the next sequential instruction</li>\n        </ol>\n        \n        <h4>Return Address Stack (RAS)</h4>\n        <p>Function calls and returns have predictable behavior that can be exploited:</p>\n        <ul>\n          <li>A stack of return addresses for nested function calls</li>\n          <li>Push the return address on call instructions (jal, jalr used for calls)</li>\n          <li>Pop the predicted return address for ret instructions (jalr x0, 0(x1) in RISC-V)</li>\n          <li>Particularly effective for deeply nested function calls</li>\n        </ul>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n// RISC-V function call and return\nmain:\n    // ...code...\n    jal ra, function_a  // Call function_a, ra = return address\n    // ...more code...\n\nfunction_a:\n    // ...code...\n    jal ra, function_b  // Call function_b, ra = return address\n    // ...more code...\n    jalr zero, 0(ra)    // Return to caller (main)\n\nfunction_b:\n    // ...code...\n    jalr zero, 0(ra)    // Return to caller (function_a)\n\n// Return Address Stack operation:\n// 1. jal to function_a: Push PC+4 to RAS\n// 2. jal to function_b: Push PC+4 to RAS\n// 3. return from function_b: Pop address, predict return to function_a\n// 4. return from function_a: Pop address, predict return to main</pre>\n        \n        <h4>Speculative Execution</h4>\n        <p>Modern processors don\'t just predict branches\u2014they speculatively execute the predicted path:</p>\n        <ul>\n          <li>Execute instructions along the predicted path before knowing if the prediction is correct</li>\n          <li>Maintain processor state that can be restored if prediction is wrong</li>\n          <li>Commit results to architectural state only when predictions are confirmed</li>\n        </ul>\n        \n        <h4>Recovery from Misprediction</h4>\n        <p>When a branch is mispredicted, the processor must:</p>\n        <ol>\n          <li>Flush all incorrectly fetched instructions from the pipeline</li>\n          <li>Restore the processor state to what it was at the branch</li>\n          <li>Begin fetching from the correct path</li>\n          <li>Update branch prediction tables to reduce future mispredictions</li>\n        </ol>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/sSz4V3R.png" alt="Misprediction Recovery" style="max-width: 700px; width: 100%;">\n          <p><em>Pipeline recovery after branch misprediction</em></p>\n        </div>\n        \n        <h4>Branch Prediction in Modern Processors</h4>\n        <p>State-of-the-art branch prediction combines multiple techniques:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Component</th>\n            <th>Purpose</th>\n            <th>Typical Size</th>\n          </tr>\n          <tr>\n            <td>Branch Predictor</td>\n            <td>Predict whether branch is taken/not taken</td>\n            <td>8-64KB</td>\n          </tr>\n          <tr>\n            <td>Branch Target Buffer</td>\n            <td>Store branch target addresses</td>\n            <td>4-16KB</td>\n          </tr>\n          <tr>\n            <td>Return Address Stack</td>\n            <td>Predict function return addresses</td>\n            <td>16-64 entries</td>\n          </tr>\n          <tr>\n            <td>Indirect Branch Predictor</td>\n            <td>Predict targets of indirect jumps</td>\n            <td>1-4KB</td>\n          </tr>\n        </table>\n        \n        <p>These components work together to minimize branch penalties and keep the pipeline full of useful instructions.</p>\n      '}],examples:[{id:"example7_1",title:"2-Bit Predictor Operation",description:"Detailed operation of a 2-bit saturating counter branch predictor",code:'// Example operation of a 2-bit branch predictor for a loop branch\n// States: 00=Strongly Not Taken, 01=Weakly Not Taken, 10=Weakly Taken, 11=Strongly Taken\n\n// Branch at end of loop: beq x1, x10, exit\n// Loop iterates 10 times\n\n// Initial state: 00 (Strongly Not Taken)\n// We assume a cold predictor that initializes to "Not Taken"\n\nIteration 1:\n  Predict: Not Taken (00)\n  Actual: Not Taken\n  Correct? Yes\n  New state: 00 (Strongly Not Taken)\n\nIteration 2:\n  Predict: Not Taken (00)\n  Actual: Not Taken\n  Correct? Yes\n  New state: 00 (Strongly Not Taken)\n\n// ... same pattern for iterations 3-8 ...\n\nIteration 9:\n  Predict: Not Taken (00)\n  Actual: Not Taken\n  Correct? Yes\n  New state: 00 (Strongly Not Taken)\n\nIteration 10:\n  Predict: Not Taken (00)\n  Actual: Taken (loop exit)\n  Correct? No\n  New state: 01 (Weakly Not Taken)\n\nIf the loop runs again:\n\nIteration 1:\n  Predict: Not Taken (01)\n  Actual: Not Taken\n  Correct? Yes\n  New state: 00 (Strongly Not Taken)\n\n// And the pattern repeats...\n\nAnalysis:\n- The 2-bit predictor mispredicts only the loop exit (last iteration)\n- For a loop with N iterations, mispredict rate is 1/N\n- Compare to 1-bit predictor which would mispredict the first iteration after exit too\n- For frequently executed loops, the 2-bit predictor performs significantly better\n- The hysteresis property prevents thrashing on alternating patterns',explanation:"This example traces the behavior of a 2-bit saturating counter branch predictor for a loop branch. The predictor uses four states (Strongly Not Taken, Weakly Not Taken, Weakly Taken, Strongly Taken) and requires two consecutive mispredictions to completely change prediction direction. For the loop branch, the predictor correctly predicts 'not taken' for most iterations. It only mispredicts on the final iteration when the branch is actually taken to exit the loop. Unlike a 1-bit predictor, the 2-bit predictor won't immediately switch to predicting 'taken' after a single taken branch, which helps when the loop is executed multiple times. This demonstrates why 2-bit predictors are more effective for loop-heavy code than simpler 1-bit predictors."},{id:"example7_2",title:"Branch Predictor and BTB Implementation",description:"Verilog implementation of a simple branch prediction system with branch target buffer",code:"module branch_prediction_unit #(\n  parameter ADDR_WIDTH = 32,\n  parameter BTB_SIZE = 16,  // Branch Target Buffer entries (power of 2)\n  parameter BTB_INDEX_BITS = $clog2(BTB_SIZE)\n)(\n  input  wire                   clk,\n  input  wire                   rst_n,\n  \n  // Fetch stage interface\n  input  wire [ADDR_WIDTH-1:0]  fetch_pc,\n  output wire                   predict_taken,\n  output wire [ADDR_WIDTH-1:0]  predict_target,\n  \n  // Execute stage feedback\n  input  wire                   exec_is_branch,\n  input  wire [ADDR_WIDTH-1:0]  exec_pc,\n  input  wire                   exec_taken,     // Actual branch outcome\n  input  wire [ADDR_WIDTH-1:0]  exec_target     // Actual branch target\n);\n\n  // Branch Target Buffer\n  reg [ADDR_WIDTH-1:0] btb_tag    [BTB_SIZE-1:0];\n  reg [ADDR_WIDTH-1:0] btb_target [BTB_SIZE-1:0];\n  reg                  btb_valid  [BTB_SIZE-1:0];\n  \n  // 2-bit branch direction predictor\n  reg [1:0] branch_predictor [BTB_SIZE-1:0];\n  \n  // Decoder signals\n  wire [BTB_INDEX_BITS-1:0] fetch_index = fetch_pc[BTB_INDEX_BITS+1:2];\n  wire [BTB_INDEX_BITS-1:0] exec_index = exec_pc[BTB_INDEX_BITS+1:2];\n  wire                      fetch_btb_hit;\n  \n  // BTB hit detection\n  assign fetch_btb_hit = btb_valid[fetch_index] && (btb_tag[fetch_index] == fetch_pc);\n  \n  // Prediction logic\n  assign predict_taken = fetch_btb_hit && branch_predictor[fetch_index][1]; // MSB determines taken\n  assign predict_target = btb_target[fetch_index];\n  \n  // Update logic on feedback from execute stage\n  always @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n      // Reset BTB and predictors\n      for (int i = 0; i < BTB_SIZE; i++) begin\n        btb_valid[i] <= 1'b0;\n        branch_predictor[i] <= 2'b01; // Initialize to Weakly Not Taken\n      end\n    end else if (exec_is_branch) begin\n      // Update BTB entry\n      btb_tag[exec_index] <= exec_pc;\n      btb_target[exec_index] <= exec_target;\n      btb_valid[exec_index] <= 1'b1;\n      \n      // Update 2-bit saturating counter\n      case (branch_predictor[exec_index])\n        2'b00: // Strongly Not Taken\n          branch_predictor[exec_index] <= exec_taken ? 2'b01 : 2'b00;\n        2'b01: // Weakly Not Taken\n          branch_predictor[exec_index] <= exec_taken ? 2'b10 : 2'b00;\n        2'b10: // Weakly Taken\n          branch_predictor[exec_index] <= exec_taken ? 2'b11 : 2'b01;\n        2'b11: // Strongly Taken\n          branch_predictor[exec_index] <= exec_taken ? 2'b11 : 2'b10;\n      endcase\n    end\n  end\n\nendmodule",explanation:"This Verilog module implements a simple branch prediction system combining a Branch Target Buffer (BTB) with a 2-bit saturating counter predictor. The BTB stores target addresses for branch instructions, indexed by a portion of the branch instruction's address. When the fetch unit encounters a potential branch, it checks the BTB for a matching entry. If found and the predictor indicates 'taken', the fetch unit redirects to the predicted target address. The 2-bit predictor uses the state machine we discussed (Strongly Not Taken, Weakly Not Taken, Weakly Taken, Strongly Taken) to predict branch directions. When branch execution results become available, the module updates both the target address in the BTB and the prediction counter based on the actual outcome. This implementation is simplified for educational purposes\u2014real-world predictors typically use larger tables, more sophisticated indexing, and handling of aliasing issues."}],quiz:{title:"Control Hazards and Branch Prediction Quiz",questions:[{question:"What is the primary cause of control hazards in a pipelined processor?",options:["Data dependencies between instructions","Resource conflicts in the pipeline","Branch and jump instructions changing the flow of execution","Memory access latency"],correctAnswer:2,explanation:"Control hazards are primarily caused by branch and jump instructions that change the flow of execution. When a branch is encountered, the processor doesn't know which instructions to fetch next until the branch condition is evaluated, which typically happens in later pipeline stages. This creates uncertainty in the instruction stream and can lead to pipeline bubbles or incorrect instruction execution."},{question:"In a 5-stage pipeline where branch conditions are evaluated in the EX stage, what is the branch penalty without any prediction?",options:["0 cycles","1 cycle","2 cycles","5 cycles"],correctAnswer:2,explanation:"The branch penalty is calculated as (Branch Resolution Stage - 1). In a 5-stage pipeline where branches are resolved in the EX stage (stage 3), the penalty is 3 - 1 = 2 cycles. This means two instructions will have entered the pipeline before the branch outcome is known, and these instructions must be discarded if the branch is taken."},{question:"What is the primary disadvantage of the 'predict-not-taken' approach to branch handling?",options:["It requires complex hardware to implement","It performs poorly for loops where branches are usually taken","It can't be implemented in a RISC architecture","It always causes a pipeline stall regardless of the branch outcome"],correctAnswer:1,explanation:"The primary disadvantage of the 'predict-not-taken' approach is that it performs poorly for loops, where backward branches (jumping back to the loop start) are usually taken. Since this approach always predicts branches as not taken, it will mispredict most loop iterations except the final exit, leading to significant performance penalties in loop-heavy code."},{question:"What is the main advantage of a 2-bit branch predictor over a 1-bit predictor?",options:["It requires less hardware to implement","It can predict indirect jumps more accurately","It prevents prediction thrashing on alternating patterns and handles loop exits better","It always achieves 100% prediction accuracy"],correctAnswer:2,explanation:"The main advantage of a 2-bit predictor over a 1-bit predictor is that it prevents prediction thrashing on alternating patterns and handles loop exits better. The 2-bit predictor requires two consecutive mispredictions to change prediction direction, providing hysteresis that makes it more stable for common branch patterns like loops, where a single abnormal outcome (like a loop exit) shouldn't immediately change the prediction strategy."},{question:"What is the purpose of a Branch Target Buffer (BTB)?",options:["To predict whether a branch will be taken or not taken","To store the target address of previously executed branches for quick retrieval","To eliminate data hazards in the pipeline","To calculate the branch condition faster"],correctAnswer:1,explanation:"The purpose of a Branch Target Buffer (BTB) is to store the target addresses of previously executed branches for quick retrieval. When a potential branch instruction is fetched, the BTB provides the target address immediately, without waiting for the decode stage. This allows the processor to start fetching from the correct path earlier if the branch is predicted taken, reducing the branch penalty."},{question:"What is a correlating branch predictor?",options:["A predictor that uses the correlation between different pipeline stages","A predictor that uses the outcomes of previous branches to predict the current branch","A predictor that correlates branch addresses with memory addresses","A predictor that measures the correlation between compiler optimization and branch behavior"],correctAnswer:1,explanation:"A correlating branch predictor uses the outcomes of previous branches to predict the current branch. It recognizes that the behavior of some branches is correlated with the behavior of other recent branches. By tracking patterns in branch history (either global history across all branches or local history for specific branches), correlating predictors can achieve higher accuracy than simple predictors that only look at a single branch in isolation."},{question:"What is the purpose of a Return Address Stack (RAS)?",options:["To store local variables during function calls","To predict the target addresses of all types of branches","To specifically predict return addresses for function returns","To calculate the stack pointer value for each function"],correctAnswer:2,explanation:"A Return Address Stack (RAS) is specifically designed to predict return addresses for function returns. It operates like a hardware stack, pushing the return address (PC+4) when a function call is detected and popping an address when a return instruction is encountered. This specialized mechanism is very effective for nested function calls, which are common in most programs and would be difficult to predict accurately with standard branch prediction mechanisms."},{question:"In most programs, approximately what percentage of dynamic instructions are branches?",options:["5-10%","15-30%","40-50%","60-70%"],correctAnswer:1,explanation:"In most programs, approximately 15-30% of dynamically executed instructions are branches. This significant percentage means that efficient branch handling is critical for overall processor performance. Even a small improvement in branch prediction accuracy can have a substantial impact on program execution speed."},{question:"What happens during speculative execution when a branch is predicted?",options:["The processor stalls until the branch outcome is certain","The processor executes instructions from both possible paths simultaneously","The processor executes instructions along the predicted path before knowing if the prediction is correct","The processor only fetches but never executes instructions from the predicted path"],correctAnswer:2,explanation:"During speculative execution, the processor executes instructions along the predicted path before knowing if the prediction is correct. This allows the processor to make forward progress without waiting for branch resolution. However, the results of these speculative instructions are not committed to the architectural state (visible program state) until the branch prediction is confirmed correct. If the prediction turns out wrong, the speculative work is discarded and execution resumes from the correct path."},{question:"What is the main drawback of using delayed branch slots?",options:["They significantly increase program code size","They complicate the ISA and create challenges for compilers to fill slots effectively","They cause more data hazards than other approaches","They are impossible to implement in hardware"],correctAnswer:1,explanation:"The main drawback of delayed branch slots is that they complicate the Instruction Set Architecture (ISA) and create challenges for compilers to fill the slots effectively. Finding useful instructions to place in branch delay slots without changing program semantics can be difficult, especially with multiple delay slots. This approach also bakes a specific pipeline depth assumption into the ISA, making it harder to change the pipeline design in future processors without breaking backward compatibility."}]}},completed:!1},{...{id:8,title:"Advanced Pipeline Concepts",description:"Exploring modern techniques to enhance pipeline performance",estimatedTime:"3 hours",completed:!1,sections:[{id:"8.1",title:"Superscalar Architectures",content:'\n        <h3>Beyond Single-Instruction Issue</h3>\n        <p>Superscalar processors can fetch, decode, and execute multiple instructions in parallel, significantly improving throughput.</p>\n        \n        <h4>Superscalar Concept</h4>\n        <p>While pipelining improves processor throughput by overlapping instruction execution, superscalar architectures take parallelism further:</p>\n        <ul>\n          <li>Multiple instructions are issued in the same cycle</li>\n          <li>Multiple execution units operate in parallel</li>\n          <li>Multiple results can complete in the same cycle</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/EUyhX3M.png" alt="Superscalar vs Pipeline" style="max-width: 700px; width: 100%;">\n          <p><em>Comparison of scalar pipelined vs. superscalar execution</em></p>\n        </div>\n        \n        <h4>Instruction-Level Parallelism (ILP)</h4>\n        <p>The performance of superscalar processors depends on the amount of instruction-level parallelism available in the code:</p>\n        <ul>\n          <li><strong>ILP</strong>: The potential overlap among instructions</li>\n          <li><strong>Typical ILP</strong>: 2-5 instructions in general-purpose code</li>\n          <li><strong>Limiting factors</strong>: Data dependencies, control dependencies, resource constraints</li>\n        </ul>\n        \n        <h4>Superscalar Pipeline Design</h4>\n        <p>A superscalar pipeline must solve several challenges:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Pipeline Stage</th>\n            <th>Superscalar Challenges</th>\n          </tr>\n          <tr>\n            <td>Fetch</td>\n            <td>\n              <ul>\n                <li>Fetching multiple instructions per cycle</li>\n                <li>Predicting multiple branches</li>\n                <li>Aligning instructions from cache lines</li>\n              </ul>\n            </td>\n          </tr>\n          <tr>\n            <td>Decode</td>\n            <td>\n              <ul>\n                <li>Decoding multiple instructions in parallel</li>\n                <li>Detecting dependencies between instructions</li>\n                <li>Grouping instructions for execution</li>\n              </ul>\n            </td>\n          </tr>\n          <tr>\n            <td>Issue</td>\n            <td>\n              <ul>\n                <li>Selecting which instructions to issue</li>\n                <li>Routing instructions to appropriate execution units</li>\n                <li>Ensuring correct ordering for dependencies</li>\n              </ul>\n            </td>\n          </tr>\n          <tr>\n            <td>Execute</td>\n            <td>\n              <ul>\n                <li>Multiple parallel execution units</li>\n                <li>Different latencies across units</li>\n                <li>Resource contention</li>\n              </ul>\n            </td>\n          </tr>\n          <tr>\n            <td>Complete</td>\n            <td>\n              <ul>\n                <li>Multiple instructions completing out of order</li>\n                <li>Managing write ports to the register file</li>\n                <li>Handling exceptions from multiple instructions</li>\n              </ul>\n            </td>\n          </tr>\n        </table>\n        \n        <h4>Degree of Superscalarity</h4>\n        <p>The width of a superscalar processor refers to the maximum number of instructions it can issue per cycle:</p>\n        <ul>\n          <li><strong>2-way superscalar</strong>: Can issue up to 2 instructions per cycle</li>\n          <li><strong>4-way superscalar</strong>: Can issue up to 4 instructions per cycle</li>\n          <li><strong>8-way superscalar</strong>: Can issue up to 8 instructions per cycle</li>\n        </ul>\n        \n        <p>Modern high-performance processors are typically 4-way to 8-way superscalar, though the actual number of instructions issued each cycle is often lower due to dependency and resource constraints.</p>\n      '},{id:"8.2",title:"Out-of-Order Execution",content:'\n        <h3>Dynamic Instruction Scheduling</h3>\n        <p>Out-of-order execution allows processors to execute instructions in an order different from program order to maximize utilization of execution units and hide latency.</p>\n        \n        <h4>Limitations of In-Order Execution</h4>\n        <p>In an in-order pipeline, if an instruction stalls (e.g., due to a cache miss), all subsequent instructions also stall, even if they could execute independently:</p>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\nlw   x1, 0(x2)      # Load might miss in cache\nadd  x3, x4, x5     # Independent of the load, could proceed\nsub x6, x1, x7      # Depends on the load result, must wait\nor   x8, x9, x10    # Independent of all previous, could proceed</pre>\n        \n        <p>With in-order execution, all instructions after the load would stall, wasting potential execution opportunities.</p>\n        \n        <h4>Out-of-Order Concept</h4>\n        <p>Out-of-order execution decouples instruction fetch/decode from execution:</p>\n        <ol>\n          <li>Instructions are fetched and decoded in program order</li>\n          <li>They are dispatched to a buffer (reservation stations or instruction window)</li>\n          <li>Instructions execute when their operands are ready, potentially out of order</li>\n          <li>Results are reordered to maintain program semantics</li>\n        </ol>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/Fg5vPKG.png" alt="Out-of-Order Execution" style="max-width: 700px; width: 100%;">\n          <p><em>Simplified view of out-of-order execution pipeline</em></p>\n        </div>\n        \n        <h4>Tomasulo\'s Algorithm</h4>\n        <p>A foundational approach to out-of-order execution was developed by Robert Tomasulo at IBM in the 1960s:</p>\n        <ul>\n          <li>Uses reservation stations to queue operations waiting for operands</li>\n          <li>Implements register renaming to eliminate WAR and WAW hazards</li>\n          <li>Uses a common data bus (CDB) for broadcasting results</li>\n          <li>Implements tag-based operand tracking</li>\n        </ul>\n        \n        <h4>Instruction Lifecycle in Out-of-Order Processors</h4>\n        <p>An instruction goes through several stages in an out-of-order pipeline:</p>\n        \n        <ol>\n          <li><strong>Fetch/Decode</strong>: Instructions are fetched and decoded in program order</li>\n          <li><strong>Rename</strong>: Architectural registers are mapped to physical registers to eliminate false dependencies</li>\n          <li><strong>Dispatch</strong>: Instructions are sent to reservation stations</li>\n          <li><strong>Issue</strong>: When operands are ready, instructions are sent to execution units</li>\n          <li><strong>Execute</strong>: The operation is performed</li>\n          <li><strong>Complete</strong>: Results are calculated and made available to dependent instructions</li>\n          <li><strong>Retire/Commit</strong>: Results are committed to architectural state in program order</li>\n        </ol>\n        \n        <h4>Reorder Buffer (ROB)</h4>\n        <p>The reorder buffer enables in-order commitment of out-of-order executed instructions:</p>\n        <ul>\n          <li>Tracks all in-flight instructions in program order</li>\n          <li>Maintains the status of each instruction\'s execution</li>\n          <li>Ensures instructions modify architectural state in program order</li>\n          <li>Facilitates precise exception handling and speculation recovery</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/KcZlPVU.png" alt="Reorder Buffer" style="max-width: 600px; width: 100%;">\n          <p><em>Reorder buffer structure and operation</em></p>\n        </div>\n        \n        <h4>Performance Benefits</h4>\n        <p>Out-of-order execution provides several key advantages:</p>\n        <ul>\n          <li>Tolerates memory latency by executing independent instructions during cache misses</li>\n          <li>Improves utilization of functional units</li>\n          <li>Extracts more instruction-level parallelism</li>\n          <li>Adapts dynamically to runtime conditions</li>\n        </ul>\n        \n        <p>Modern out-of-order processors can sustain much higher instruction throughput than in-order designs, especially in code with variable latencies and mixed dependencies.</p>\n      '},{id:"8.3",title:"Register Renaming",content:'\n        <h3>Eliminating False Dependencies</h3>\n        <p>Register renaming is a technique used to eliminate name dependencies (WAR and WAW hazards) that would otherwise limit instruction-level parallelism.</p>\n        \n        <h4>Register Dependency Types</h4>\n        <p>Recall the three types of register dependencies:</p>\n        <ul>\n          <li><strong>RAW (Read-After-Write)</strong>: True dependency, cannot be eliminated</li>\n          <li><strong>WAR (Write-After-Read)</strong>: Anti-dependency, can be eliminated with renaming</li>\n          <li><strong>WAW (Write-After-Write)</strong>: Output dependency, can be eliminated with renaming</li>\n        </ul>\n        \n        <h4>Register Renaming Concept</h4>\n        <p>Register renaming separates architectural registers (visible to the programmer) from physical registers (actual storage locations in hardware):</p>\n        <ul>\n          <li>The processor maintains many more physical registers than architectural registers</li>\n          <li>Each write to an architectural register is mapped to a new physical register</li>\n          <li>Subsequent reads access the most recent mapping</li>\n          <li>Old mappings are freed when no longer needed</li>\n        </ul>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n# Original code with WAR hazard\nadd x1, x2, x3      # x1 <- x2 + x3\nsub x4, x1, x5      # x4 <- x1 - x5\nmul x1, x6, x7      # x1 <- x6 * x7 (WAR hazard with sub)\nxor x8, x1, x9      # x8 <- x1 XOR x9\n\n# After register renaming\nadd p1, p2, p3      # p1 corresponds to x1\nsub p4, p1, p5      # p4 corresponds to x4, reads from p1\nmul p6, p7, p8      # p6 corresponds to x1 (new mapping)\nxor p9, p6, p10     # p9 corresponds to x8, reads from p6\n\n# Note: No WAR hazard between sub and mul since they use different physical registers</pre>\n        \n        <h4>Renaming Mechanisms</h4>\n        <p>Processors implement register renaming using one of two primary approaches:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Approach</th>\n            <th>Description</th>\n            <th>Advantages</th>\n            <th>Disadvantages</th>\n          </tr>\n          <tr>\n            <td>Physical Register File</td>\n            <td>Uses a large physical register file with a register alias table (RAT) to map architectural to physical registers</td>\n            <td>Efficient storage, simpler logic for operand forwarding</td>\n            <td>Requires larger register file with many read/write ports</td>\n          </tr>\n          <tr>\n            <td>Reorder Buffer (ROB) with Renaming</td>\n            <td>Stores results in the reorder buffer until commit, with forwarding from ROB entries</td>\n            <td>Integrates well with speculative execution recovery</td>\n            <td>More complex operand forwarding, potentially higher latency</td>\n          </tr>\n        </table>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/zKAD2Xk.png" alt="Register Renaming" style="max-width: 650px; width: 100%;">\n          <p><em>Register renaming with a register alias table</em></p>\n        </div>\n        \n        <h4>Register Renaming Process</h4>\n        <p>The renaming process typically involves these steps:</p>\n        <ol>\n          <li><strong>Rename Destination Registers</strong>: Allocate a new physical register for each instruction result</li>\n          <li><strong>Map Source Registers</strong>: Find the current physical register mapping for each source operand</li>\n          <li><strong>Update Mapping Table</strong>: Update the architectural-to-physical register mapping</li>\n          <li><strong>Free Old Registers</strong>: Reclaim physical registers when their values are no longer needed</li>\n        </ol>\n        \n        <h4>Benefits of Register Renaming</h4>\n        <p>Register renaming provides several important benefits:</p>\n        <ul>\n          <li>Eliminates WAR and WAW hazards, enabling more out-of-order execution</li>\n          <li>Increases the effective register count, reducing register pressure</li>\n          <li>Simplifies the implementation of speculative execution</li>\n          <li>Enables more aggressive compiler optimizations by making register reuse less problematic</li>\n        </ul>\n        \n        <p>In modern processors, register renaming is essential for extracting high levels of instruction-level parallelism.</p>\n      '},{id:"8.4",title:"Exception Handling in Advanced Pipelines",content:'\n        <h3>Precise Exceptions in Out-of-Order Processors</h3>\n        <p>Handling exceptions correctly becomes more complex in processors with out-of-order execution and speculation.</p>\n        \n        <h4>Exception Handling Challenges</h4>\n        <p>In a simple in-order pipeline, exception handling is relatively straightforward. However, in advanced pipelines:</p>\n        <ul>\n          <li>Multiple instructions execute simultaneously</li>\n          <li>Instructions may complete out of order</li>\n          <li>Multiple exceptions might occur in the same cycle</li>\n          <li>Some instructions might be speculative</li>\n        </ul>\n        \n        <h4>Precise vs. Imprecise Exceptions</h4>\n        <p>A precise exception means the processor state is exactly as if the program executed sequentially up to the faulting instruction:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Type</th>\n            <th>Description</th>\n          </tr>\n          <tr>\n            <td><strong>Precise Exception</strong></td>\n            <td>\n              <ul>\n                <li>Instructions before the faulting instruction have completed</li>\n                <li>Instructions after the faulting instruction have not affected processor state</li>\n                <li>The program counter points to the faulting instruction</li>\n                <li>Execution can resume after exception handling</li>\n              </ul>\n            </td>\n          </tr>\n          <tr>\n            <td><strong>Imprecise Exception</strong></td>\n            <td>\n              <ul>\n                <li>Processor state does not reflect sequential execution</li>\n                <li>Instructions after the fault may have partially executed</li>\n                <li>Multiple exceptions might be reported together</li>\n                <li>Difficult to resume execution reliably</li>\n              </ul>\n            </td>\n          </tr>\n        </table>\n        \n        <p>Modern general-purpose processors almost always implement precise exceptions as they simplify programming, debugging, and operating system design.</p>\n        \n        <h4>Reorder Buffer for Exception Handling</h4>\n        <p>The reorder buffer (ROB) is crucial for implementing precise exceptions in out-of-order processors:</p>\n        <ul>\n          <li>Instructions enter the ROB in program order</li>\n          <li>Exception conditions are recorded but not handled immediately</li>\n          <li>Instructions retire from the ROB in program order</li>\n          <li>When a retiring instruction has an exception, the processor:\n            <ol>\n              <li>Flushes all subsequent instructions from the pipeline</li>\n              <li>Ensures all prior instructions have completed</li>\n              <li>Saves the precise processor state</li>\n              <li>Transfers control to the exception handler</li>\n            </ol>\n          </li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/pK5uYjD.png" alt="Exception Handling with ROB" style="max-width: 700px; width: 100%;">\n          <p><em>Exception handling using a reorder buffer</em></p>\n        </div>\n        \n        <h4>Types of Exceptions</h4>\n        <p>Processors handle different types of exceptions:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Exception Type</th>\n            <th>Examples</th>\n            <th>Handling Approach</th>\n          </tr>\n          <tr>\n            <td>Synchronous (Precise)</td>\n            <td>Illegal instruction, page fault, divide by zero</td>\n            <td>Handled precisely at instruction retirement via ROB</td>\n          </tr>\n          <tr>\n            <td>Asynchronous (External)</td>\n            <td>Interrupts, timer events</td>\n            <td>Handled at instruction boundaries, appear precise</td>\n          </tr>\n          <tr>\n            <td>Catastrophic</td>\n            <td>Power failure, hardware error</td>\n            <td>May be imprecise, often result in system reset</td>\n          </tr>\n        </table>\n        \n        <h4>Speculative Execution and Exceptions</h4>\n        <p>When speculatively executing instructions (e.g., beyond a predicted branch):</p>\n        <ul>\n          <li>Exceptions on speculative instructions are recorded but not immediately taken</li>\n          <li>If speculation is correct, the exception is handled normally at retirement</li>\n          <li>If speculation is incorrect, the exception is simply discarded with the instruction</li>\n        </ul>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n# Consider this code sequence\nbeq  x1, x2, skip    # Branch might be predicted incorrectly\nlw   x3, 0(x0)       # Invalid address, would cause exception\nadd  x4, x3, x5      # Uses result of faulting load\nskip:\naddi x6, x6, 1       # Execution continues here if branch taken\n\n# If branch is predicted not taken but actually is taken:\n# - Load and add are executed speculatively\n# - Load causes exception, but it\'s not processed immediately\n# - If branch resolves as taken, load and add are discarded along with exception\n# - Execution continues at "skip" label</pre>\n        \n        <p>This approach ensures that speculative instructions don\'t cause unnecessary exceptions that would disrupt execution.</p>\n      '}],examples:[{id:"example8_1",title:"Out-of-Order Execution Analysis",description:"Analyzing how an out-of-order processor handles instruction dependencies",code:"# Consider this instruction sequence\n# Register values before execution: x1 = 100, x2 = 200, x3 = 300, x4 = unknown\n\n1. lw  x5, 0(x1)     # Load from memory address 100, assume cache miss (100 cycle latency)\n2. add x6, x2, x3    # x6 = 200 + 300 = 500, independent of 1\n3. sub x7, x5, x2    # x7 = x5 - 200, depends on 1 (RAW on x5)\n4. mul x8, x6, x3    # x8 = x6 * 300 = 150000, depends on 2 (RAW on x6)\n5. div x9, x7, x6    # x9 = x7 / x6, depends on 3 and 4 (RAW on x7 and x6)\n6. add x10, x8, x4   # x10 = x8 + x4, depends on 4 (RAW on x8)\n\n# In-order execution timeline (each operation takes 1 cycle except lw and div):\nCycle 1: Instruction 1 starts (lw)  - cache miss occurs\nCycle 2-101: Waiting for load to complete\nCycle 102: Instruction 1 completes (lw)\nCycle 103: Instruction 2 executes (add)\nCycle 104: Instruction 3 executes (sub)\nCycle 105: Instruction 4 executes (mul)\nCycle 106: Instruction 5 starts (div) - assume 10 cycles for division\nCycle 116: Instruction 5 completes (div)\nCycle 117: Instruction 6 executes (add)\nTotal: 117 cycles\n\n# Out-of-order execution timeline with a 3-wide superscalar processor:\nCycle 1: Instruction 1 starts (lw) - cache miss occurs\n         Instruction 2 starts (add)\nCycle 2: Instruction 2 completes (add)\n         Instruction 4 starts (mul)\nCycle 3: Instruction 4 completes (mul)\n         Instruction 6 starts (add)\nCycle 4: Instruction 6 completes (add)\n         (waiting for load to complete)\nCycle 101: Instruction 1 completes (lw)\n           Instruction 3 starts (sub)\nCycle 102: Instruction 3 completes (sub)\n           Instruction 5 starts (div)\nCycle 112: Instruction 5 completes (div)\nTotal: 112 cycles\n\n# Analysis:\n# 1. The out-of-order processor executes independent instructions during the cache miss\n# 2. Instructions 2, 4, and 6 complete much earlier than in the in-order case\n# 3. The total execution time is slightly lower (112 vs 117 cycles)\n# 4. With more independent instructions, the benefit would be even greater\n# 5. Instructions commit in original program order despite executing out of order\n# 6. Register renaming would be used to track dependencies correctly",explanation:"This example demonstrates how an out-of-order processor executes instructions based on data availability rather than program order. When the load instruction causes a cache miss, the in-order processor stalls completely until the data is available. In contrast, the out-of-order processor continues executing independent instructions (those not dependent on the load result) during the cache miss, improving overall throughput. Despite executing instructions out of order, the processor ensures that architectural state is updated in program order through mechanisms like the reorder buffer. This example illustrates the fundamental benefit of out-of-order execution: hiding latency by finding and executing independent instructions."},{id:"example8_2",title:"Register Renaming Implementation",description:"Implementation details of register renaming in an out-of-order processor",code:"// Example register renaming system with register alias table (RAT)\n// Architectural registers: x0-x31 (RISC-V)\n// Physical registers: p0-p63 (64 physical registers)\n\n// Register Alias Table: maps architectural registers to physical registers\n// Free List: tracks available physical registers\n// Reorder Buffer: tracks in-flight instructions\n\n// Initial state:\n// - Architectural registers x0-x31 mapped to physical registers p0-p31\n// - Physical registers p32-p63 on free list\n// - x0 is hardwired to zero (p0 always contains 0)\n\n// Assembly code sequence:\n//   add x1, x2, x3   # x1 = x2 + x3\n//   sub x4, x1, x5   # x4 = x1 - x5\n//   mul x1, x6, x7   # x1 = x6 * x7\n//   add x8, x1, x4   # x8 = x1 + x4\n\n// Renaming process:\n\n// Instruction 1: add x1, x2, x3\n// - Rename destination: x1 -> allocate p32 from free list\n// - Rename sources: x2 -> p2, x3 -> p3 (from RAT)\n// - Update RAT: x1 maps to p32\n// - Renamed instruction: add p32, p2, p3\n// - ROB entry 1: Writing p32 (for x1), old mapping was p1\n\n// Instruction 2: sub x4, x1, x5\n// - Rename destination: x4 -> allocate p33 from free list\n// - Rename sources: x1 -> p32 (from RAT), x5 -> p5 (from RAT)\n// - Update RAT: x4 maps to p33\n// - Renamed instruction: sub p33, p32, p5\n// - ROB entry 2: Writing p33 (for x4), old mapping was p4\n\n// Instruction 3: mul x1, x6, x7\n// - Rename destination: x1 -> allocate p34 from free list\n// - Rename sources: x6 -> p6, x7 -> p7 (from RAT)\n// - Update RAT: x1 maps to p34 (overwriting previous mapping to p32)\n// - Renamed instruction: mul p34, p6, p7\n// - ROB entry 3: Writing p34 (for x1), old mapping was p32\n\n// Instruction 4: add x8, x1, x4\n// - Rename destination: x8 -> allocate p35 from free list\n// - Rename sources: x1 -> p34 (from RAT), x4 -> p33 (from RAT)\n// - Update RAT: x8 maps to p35\n// - Renamed instruction: add p35, p34, p33\n// - ROB entry 4: Writing p35 (for x8), old mapping was p8\n\n// After renaming, RAT state:\n// x0 -> p0 (zero)   x8 -> p35 (new)   x16 -> p16   x24 -> p24\n// x1 -> p34 (new)   x9 -> p9          x17 -> p17   x25 -> p25\n// x2 -> p2          x10 -> p10        x18 -> p18   x26 -> p26\n// x3 -> p3          x11 -> p11        x19 -> p19   x27 -> p27\n// x4 -> p33 (new)   x12 -> p12        x20 -> p20   x28 -> p28\n// x5 -> p5          x13 -> p13        x21 -> p21   x29 -> p29\n// x6 -> p6          x14 -> p14        x22 -> p22   x30 -> p30\n// x7 -> p7          x15 -> p15        x23 -> p23   x31 -> p31\n\n// Free list: p36-p63 (p32-p35 have been allocated)\n\n// When instructions commit, in program order:\n// - ROB entry 1 commits: p1 can be added to free list\n// - ROB entry 2 commits: p4 can be added to free list\n// - ROB entry 3 commits: p32 can be added to free list\n// - ROB entry 4 commits: p8 can be added to free list\n\n// Key observations:\n// 1. WAW hazard between instructions 1 and 3 is eliminated (they write to different physical registers)\n// 2. Instruction 4 correctly gets the value from instruction 3 for x1, not instruction 1\n// 3. Physical registers are freed only after the instruction that overwrites them commits\n// 4. Register x0 is never renamed as it always contains zero",explanation:"This example shows the detailed operation of register renaming in an out-of-order processor. The processor maintains a Register Alias Table (RAT) that maps architectural registers (visible to the programmer) to physical registers (actual hardware locations). Each time an instruction writes to an architectural register, a new physical register is allocated from the free list. This eliminates WAR and WAW hazards by ensuring that each register write has its own unique destination. The example demonstrates how the RAT is updated for each instruction and how dependencies are tracked using physical register numbers. When instructions commit, physical registers that are no longer needed are returned to the free list. This mechanism is essential for enabling out-of-order execution while maintaining correct program behavior."}],quiz:{title:"Advanced Pipeline Concepts Quiz",questions:[{question:"What is the primary advantage of a superscalar processor over a scalar pipelined processor?",options:["It can execute instructions from multiple threads simultaneously","It can fetch, decode, and execute multiple instructions per cycle","It eliminates the need for branch prediction","It uses a higher clock frequency"],correctAnswer:1,explanation:"The primary advantage of a superscalar processor is that it can fetch, decode, and execute multiple instructions per cycle. While a scalar pipelined processor overlaps the execution of multiple instructions, it still only issues one instruction per cycle. Superscalar processors have multiple execution units that can operate in parallel, significantly increasing throughput."},{question:"What problem does out-of-order execution primarily solve?",options:["Branch mispredictions","Memory access latency","Limited register count","Power consumption"],correctAnswer:1,explanation:"Out-of-order execution primarily addresses memory access latency by allowing independent instructions to execute while waiting for long-latency operations (like cache misses) to complete. Instead of stalling the entire pipeline when one instruction is waiting for data, the processor can continue executing other instructions that don't depend on the pending result."},{question:"Which types of hazards does register renaming eliminate?",options:["RAW hazards only","WAR hazards only","WAW hazards only","Both WAR and WAW hazards"],correctAnswer:3,explanation:"Register renaming eliminates both WAR (Write-After-Read) and WAW (Write-After-Write) hazards by mapping architectural registers to a larger set of physical registers. Each write operation gets a new physical register, ensuring that writes to the same architectural register don't interfere with each other and that readers can access the correct version of a register."},{question:"What is a reorder buffer (ROB) used for in an out-of-order processor?",options:["Storing branch prediction information","Maintaining a mapping of architectural to physical registers","Tracking in-flight instructions and ensuring in-order commitment","Holding instructions waiting for execution"],correctAnswer:2,explanation:"A reorder buffer (ROB) is used to track all in-flight instructions in program order and ensure they commit (update the architectural state) in program order, even though they may execute out of order. The ROB enables precise exception handling and proper speculative execution recovery by maintaining the status of each instruction's execution."},{question:"What is meant by a 'precise exception' in the context of advanced pipelines?",options:["An exception that is detected with high accuracy","An exception where the processor state reflects sequential execution up to the faulting instruction","An exception that can be handled without operating system intervention","An exception that occurs at a predictable point in the program"],correctAnswer:1,explanation:"A precise exception means the processor state is exactly as if the program executed sequentially up to the faulting instruction. Instructions before the faulting instruction have completed, instructions after it have not affected processor state, and the program counter points to the faulting instruction. This allows for reliable exception handling and program resumption."},{question:"In the context of superscalar processors, what is 'instruction-level parallelism' (ILP)?",options:["The ability to execute multiple instructions from different threads","The potential overlap between instructions that can be exploited for parallel execution","The number of pipeline stages in the processor","The technique of combining multiple simple instructions into a complex one"],correctAnswer:1,explanation:"Instruction-level parallelism (ILP) refers to the potential overlap among instructions that can be exploited for parallel execution. It represents how many instructions can be executed simultaneously without dependencies between them. The performance of superscalar processors depends heavily on the amount of ILP available in the code."},{question:"When a speculative instruction causes an exception in an out-of-order processor, what happens?",options:["The exception is immediately handled by the exception handler","The exception is recorded but not taken until the instruction is committed","The processor stalls until the speculation is resolved","The exception is always ignored regardless of whether the speculation was correct"],correctAnswer:1,explanation:"When a speculative instruction causes an exception in an out-of-order processor, the exception is recorded but not immediately taken. If the speculation turns out to be correct, the exception will be handled when the instruction commits (reaches the head of the reorder buffer). If the speculation was incorrect, the instruction and its exception are simply discarded when the pipeline is flushed."},{question:"What is the key limitation that determines how many instructions a superscalar processor can effectively execute per cycle?",options:["The number of execution units","The amount of instruction-level parallelism in the code","The size of the instruction cache","The clock frequency"],correctAnswer:1,explanation:"The key limitation that determines how many instructions a superscalar processor can effectively execute per cycle is the amount of instruction-level parallelism (ILP) available in the code. Even with many execution units, if instructions have dependencies between them (data or control), they cannot execute in parallel. Real programs typically have limited ILP, which is why actual throughput is often lower than the processor's theoretical maximum."},{question:"In register renaming, when is a physical register freed and returned to the free list?",options:["As soon as the instruction that writes to it completes execution","When the next instruction that writes to the same architectural register executes","When the instruction that overwrites its corresponding architectural register commits","At the end of the current program's execution"],correctAnswer:2,explanation:"In register renaming, a physical register is freed and returned to the free list when the instruction that overwrites its corresponding architectural register commits (not just executes). This ensures that if a pipeline flush occurs (due to branch misprediction or exception), the processor can recover the correct register mappings. Freeing registers too early could lead to incorrect execution if speculation fails."},{question:"What is Tomasulo's algorithm primarily known for?",options:["An efficient branch prediction technique","A method for precise exception handling","A dynamic scheduling approach that enables out-of-order execution","A technique for reducing power consumption in processors"],correctAnswer:2,explanation:"Tomasulo's algorithm is primarily known as a dynamic scheduling approach that enables out-of-order execution. Developed by Robert Tomasulo at IBM in the 1960s, it uses reservation stations, register renaming, and a common data bus to track operand availability and allow instructions to execute as soon as their operands are ready, regardless of program order. It forms the conceptual foundation for most modern out-of-order execution implementations."}]}},completed:!1},{...{id:9,title:"Memory Hierarchy and Caches",description:"Understanding memory system design for high-performance processors",estimatedTime:"3 hours",completed:!1,sections:[{id:"9.1",title:"Memory Hierarchy Fundamentals",content:'\n        <h3>The Memory Bottleneck</h3>\n        <p>While processor performance has improved dramatically over the years, memory performance has not kept pace, creating what is known as the "memory wall."</p>\n        \n        <h4>Memory Access Gap</h4>\n        <p>The disparity between processor and memory speeds presents a critical challenge:</p>\n        <ul>\n          <li>Modern processors can execute instructions in less than 1 nanosecond</li>\n          <li>DRAM access times are typically 50-100 nanoseconds</li>\n          <li>Without mitigation, memory access would stall the processor for dozens of cycles</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/NXhB9uG.png" alt="Processor-Memory Gap" style="max-width: 700px; width: 100%;">\n          <p><em>The widening gap between processor and memory performance over time</em></p>\n        </div>\n        \n        <h4>Memory Hierarchy Concept</h4>\n        <p>The memory hierarchy addresses this gap by providing multiple layers of storage with different characteristics:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Level</th>\n            <th>Type</th>\n            <th>Typical Size</th>\n            <th>Access Time</th>\n            <th>Location</th>\n          </tr>\n          <tr>\n            <td>Level 0</td>\n            <td>Registers</td>\n            <td>1KB</td>\n            <td>1 cycle</td>\n            <td>On CPU core</td>\n          </tr>\n          <tr>\n            <td>Level 1</td>\n            <td>L1 Cache</td>\n            <td>32-64KB</td>\n            <td>2-4 cycles</td>\n            <td>On CPU core</td>\n          </tr>\n          <tr>\n            <td>Level 2</td>\n            <td>L2 Cache</td>\n            <td>256KB-1MB</td>\n            <td>10-20 cycles</td>\n            <td>On CPU chip</td>\n          </tr>\n          <tr>\n            <td>Level 3</td>\n            <td>L3 Cache</td>\n            <td>2MB-32MB</td>\n            <td>30-60 cycles</td>\n            <td>On CPU chip, shared</td>\n          </tr>\n          <tr>\n            <td>Level 4</td>\n            <td>Main Memory</td>\n            <td>4GB-1TB</td>\n            <td>100-300 cycles</td>\n            <td>DRAM modules</td>\n          </tr>\n          <tr>\n            <td>Level 5</td>\n            <td>Storage</td>\n            <td>100GB-10TB</td>\n            <td>millions of cycles</td>\n            <td>SSD/HDD</td>\n          </tr>\n        </table>\n        \n        <h4>Locality Principles</h4>\n        <p>The memory hierarchy leverages two fundamental properties of program behavior:</p>\n        <ul>\n          <li><strong>Temporal Locality</strong>: If a memory location is accessed, it\'s likely to be accessed again soon</li>\n          <li><strong>Spatial Locality</strong>: If a memory location is accessed, nearby locations are likely to be accessed soon</li>\n        </ul>\n        \n        <p>By exploiting these patterns, the hierarchy can deliver the illusion of having a large memory with the speed of the fastest level.</p>\n        \n        <h4>Memory Performance Metrics</h4>\n        <p>Key metrics for evaluating memory system performance include:</p>\n        <ul>\n          <li><strong>Hit Rate</strong>: Percentage of accesses found in a given level of the hierarchy</li>\n          <li><strong>Miss Rate</strong>: Percentage of accesses not found (1 - Hit Rate)</li>\n          <li><strong>Hit Time</strong>: Time to access data when it\'s found at a given level</li>\n          <li><strong>Miss Penalty</strong>: Additional time required when data is not found</li>\n          <li><strong>Average Memory Access Time (AMAT)</strong>: Hit Time + (Miss Rate \xd7 Miss Penalty)</li>\n        </ul>\n        \n        <p>The goal of memory hierarchy design is to minimize the average memory access time while balancing cost and power constraints.</p>\n      '},{id:"9.2",title:"Cache Organization",content:'\n        <h3>Cache Structure and Operation</h3>\n        <p>Caches are small, fast memories that store recently accessed data to reduce average memory access time.</p>\n        \n        <h4>Basic Cache Structure</h4>\n        <p>A cache consists of a collection of cache blocks (or cache lines), each holding:</p>\n        <ul>\n          <li><strong>Tag</strong>: Bits from the memory address that identify which memory location is cached</li>\n          <li><strong>Data</strong>: The actual data from memory (typically 64 bytes per block)</li>\n          <li><strong>Status bits</strong>: Valid bit, dirty bit, etc.</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/QJfT1Mj.png" alt="Cache Structure" style="max-width: 650px; width: 100%;">\n          <p><em>Basic structure of a cache memory</em></p>\n        </div>\n        \n        <h4>Address Mapping</h4>\n        <p>Memory addresses are divided into three parts for cache access:</p>\n        <ul>\n          <li><strong>Tag</strong>: Used to identify if the correct block is in the cache</li>\n          <li><strong>Index</strong>: Determines which cache set to check</li>\n          <li><strong>Offset</strong>: Identifies the specific byte within the cache block</li>\n        </ul>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\nMemory Address (32-bit example):\n|----- Tag (20 bits) -----|-Index (8 bits)-|-Offset (4 bits)-|\n31                        12               4                 0</pre>\n        \n        <h4>Cache Mapping Methods</h4>\n        <p>There are three primary ways to organize the mapping between memory addresses and cache locations:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Method</th>\n            <th>Description</th>\n            <th>Advantages</th>\n            <th>Disadvantages</th>\n          </tr>\n          <tr>\n            <td>Direct-Mapped</td>\n            <td>Each memory address maps to exactly one location in the cache</td>\n            <td>Simple hardware, fast lookup</td>\n            <td>Conflicts between addresses that map to same location</td>\n          </tr>\n          <tr>\n            <td>Fully Associative</td>\n            <td>A memory block can be placed in any cache location</td>\n            <td>Maximum flexibility, minimal conflicts</td>\n            <td>Complex hardware, slower lookup, expensive</td>\n          </tr>\n          <tr>\n            <td>Set-Associative</td>\n            <td>A memory block can go in any location within a specific set</td>\n            <td>Good balance of flexibility and complexity</td>\n            <td>More complex than direct-mapped, some conflict potential</td>\n          </tr>\n        </table>\n        \n        <p>Most modern caches use N-way set-associative mapping (where N is typically 4, 8, or 16), providing a good balance between simplicity and conflict reduction.</p>\n        \n        <h4>Cache Placement and Replacement</h4>\n        <p>When a cache miss occurs, the processor must:</p>\n        <ol>\n          <li>Fetch the missing data from a lower level of the memory hierarchy</li>\n          <li>Decide where to place it in the cache</li>\n          <li>Potentially evict an existing cache line to make room</li>\n        </ol>\n        \n        <p>Common replacement policies include:</p>\n        <ul>\n          <li><strong>Least Recently Used (LRU)</strong>: Replace the line that hasn\'t been accessed for the longest time</li>\n          <li><strong>Random</strong>: Select a victim line randomly</li>\n          <li><strong>Not Most Recently Used (NMRU)</strong>: Avoid replacing the most recently used line</li>\n          <li><strong>Pseudo-LRU</strong>: Approximation of LRU with less hardware overhead</li>\n        </ul>\n        \n        <h4>Write Policies</h4>\n        <p>Caches must handle writes carefully to maintain memory coherence:</p>\n        <ul>\n          <li><strong>Write-Through</strong>: Write to both cache and memory immediately</li>\n          <li><strong>Write-Back</strong>: Write only to cache, update memory when line is evicted</li>\n          <li><strong>Write-Allocate</strong>: On a write miss, fetch the block into cache first</li>\n          <li><strong>No-Write-Allocate</strong>: On a write miss, write directly to memory, don\'t fetch into cache</li>\n        </ul>\n        \n        <p>Modern caches typically use write-back with write-allocate for best performance.</p>\n      '},{id:"9.3",title:"Cache Performance Optimization",content:'\n        <h3>Improving Cache Efficiency</h3>\n        <p>Various techniques can improve cache performance beyond the basic organization.</p>\n        \n        <h4>Miss Types and Optimization</h4>\n        <p>Cache misses are typically categorized into "Three Cs":</p>\n        <ul>\n          <li><strong>Compulsory Misses</strong>: First access to a block (cold start)</li>\n          <li><strong>Capacity Misses</strong>: Cache is too small to hold all needed blocks</li>\n          <li><strong>Conflict Misses</strong>: Multiple blocks map to the same set, causing evictions</li>\n        </ul>\n        \n        <p>Different optimization techniques target different miss types:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Miss Type</th>\n            <th>Optimization Techniques</th>\n          </tr>\n          <tr>\n            <td>Compulsory</td>\n            <td>\n              <ul>\n                <li>Prefetching</li>\n                <li>Larger block sizes</li>\n              </ul>\n            </td>\n          </tr>\n          <tr>\n            <td>Capacity</td>\n            <td>\n              <ul>\n                <li>Larger cache</li>\n                <li>More cache levels</li>\n                <li>Better replacement policies</li>\n              </ul>\n            </td>\n          </tr>\n          <tr>\n            <td>Conflict</td>\n            <td>\n              <ul>\n                <li>Higher associativity</li>\n                <li>Victim caches</li>\n                <li>Better indexing functions</li>\n              </ul>\n            </td>\n          </tr>\n        </table>\n        \n        <h4>Cache Prefetching</h4>\n        <p>Prefetching reduces compulsory misses by speculatively loading data before it\'s requested:</p>\n        <ul>\n          <li><strong>Hardware Prefetching</strong>: Automatically fetches sequential blocks or detects patterns</li>\n          <li><strong>Software Prefetching</strong>: Uses explicit prefetch instructions inserted by compiler</li>\n          <li><strong>Stride Prefetching</strong>: Detects and prefetches regular access patterns (e.g., array traversal)</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/gM8vtAX.png" alt="Cache Prefetching" style="max-width: 600px; width: 100%;">\n          <p><em>Hardware prefetching reducing latency by anticipating memory accesses</em></p>\n        </div>\n        \n        <h4>Reducing Conflict Misses</h4>\n        <p>Several techniques can reduce conflict misses:</p>\n        <ul>\n          <li><strong>Victim Cache</strong>: Small fully-associative cache that holds recently evicted blocks</li>\n          <li><strong>Skewed Associative Cache</strong>: Different hash functions for different ways</li>\n          <li><strong>XOR Mapping</strong>: Use XOR of address bits to create index, reducing conflicts</li>\n        </ul>\n        \n        <h4>Multilevel Cache Hierarchy</h4>\n        <p>Modern processors use multiple cache levels to balance access time and capacity:</p>\n        <ul>\n          <li><strong>L1 Cache</strong>: Optimized for speed (small, low associativity)</li>\n          <li><strong>L2 Cache</strong>: Balances speed and capacity (larger, higher associativity)</li>\n          <li><strong>L3 Cache</strong>: Optimized for capacity (large, high associativity, often shared among cores)</li>\n        </ul>\n        \n        <p>This approach creates an effective "filter" where most accesses hit in the fast L1 cache, while the larger lower-level caches capture a high percentage of the remaining misses.</p>\n        \n        <h4>Software Optimization for Caches</h4>\n        <p>Programmers and compilers can optimize code for better cache performance:</p>\n        <ul>\n          <li><strong>Loop Blocking</strong>: Restructure loops to reuse data while it\'s in cache</li>\n          <li><strong>Loop Fusion</strong>: Combine loops that access the same data</li>\n          <li><strong>Data Structure Layout</strong>: Arrange data to improve spatial locality</li>\n          <li><strong>Array Padding</strong>: Add padding to eliminate cache conflicts in array traversals</li>\n        </ul>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n// Original code with poor cache behavior\nfor (i = 0; i < N; i++)\n    for (j = 0; j < N; j++)\n        sum += A[j][i];  // Column-wise traversal in row-major array\n\n// Cache-friendly version\nfor (i = 0; i < N; i++)\n    for (j = 0; j < N; j++)\n        sum += A[i][j];  // Row-wise traversal in row-major array</pre>\n        \n        <p>Understanding the cache architecture can lead to dramatic performance improvements through better data locality.</p>\n      '},{id:"9.4",title:"Virtual Memory and TLBs",content:'\n        <h3>Memory Virtualization</h3>\n        <p>Virtual memory provides memory isolation, protection, and the illusion of a large contiguous address space.</p>\n        \n        <h4>Virtual Memory Basics</h4>\n        <p>In a virtual memory system:</p>\n        <ul>\n          <li>Programs use <strong>virtual addresses</strong>, not physical addresses</li>\n          <li>Virtual address space is divided into fixed-size <strong>pages</strong> (typically 4KB)</li>\n          <li>Physical memory is divided into <strong>frames</strong> of the same size</li>\n          <li>A <strong>page table</strong> maps virtual pages to physical frames</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/ILDDr37.png" alt="Virtual Memory" style="max-width: 650px; width: 100%;">\n          <p><em>Virtual to physical address translation</em></p>\n        </div>\n        \n        <h4>Address Translation</h4>\n        <p>Each virtual address is divided into:</p>\n        <ul>\n          <li><strong>Virtual Page Number (VPN)</strong>: Index into the page table</li>\n          <li><strong>Page Offset</strong>: Byte offset within the page</li>\n        </ul>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\nVirtual Address (32-bit, 4KB pages):\n|------ VPN (20 bits) ------|--Offset (12 bits)--|\n31                          12                    0</pre>\n        \n        <p>The page table provides the physical frame number, which is combined with the page offset to form the physical address.</p>\n        \n        <h4>Translation Lookaside Buffer (TLB)</h4>\n        <p>The TLB is a specialized cache for page table entries:</p>\n        <ul>\n          <li>Stores recently used virtual-to-physical address translations</li>\n          <li>Dramatically reduces the cost of address translation</li>\n          <li>Organized as a small, highly-associative cache</li>\n          <li>Typical sizes range from 16 to 1024 entries</li>\n        </ul>\n        \n        <p>Without a TLB, every memory access would require multiple memory accesses to traverse the page table.</p>\n        \n        <h4>TLB Operation in the Pipeline</h4>\n        <p>In a pipelined processor, address translation occurs in parallel with cache access:</p>\n        <ol>\n          <li>The virtual address is presented to both the TLB and the virtually-indexed cache</li>\n          <li>The TLB is checked for a hit (translation is in the TLB)</li>\n          <li>On a TLB hit, the physical address is compared with the cache tag</li>\n          <li>On a TLB miss, the page table must be walked to find the translation</li>\n        </ol>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/JOWiluL.png" alt="TLB and Cache Access" style="max-width: 700px; width: 100%;">\n          <p><em>Parallel TLB and cache access in the pipeline</em></p>\n        </div>\n        \n        <h4>Multi-level Page Tables</h4>\n        <p>For large address spaces, hierarchical page tables reduce memory overhead:</p>\n        <ul>\n          <li>Single-level page tables for 32-bit addresses would require 4MB per process</li>\n          <li>Multi-level tables allow parts of the table to be paged out</li>\n          <li>Only the portions actively in use need to be in memory</li>\n          <li>RISC-V supports several page table formats, including Sv32 (32-bit), Sv39 (39-bit), and Sv48 (48-bit)</li>\n        </ul>\n        \n        <h4>RISC-V Memory Management Unit</h4>\n        <p>The RISC-V MMU includes:</p>\n        <ul>\n          <li>Page table pointer register (SATP in privileged architecture)</li>\n          <li>Page-based protection and access control</li>\n          <li>Support for multiple page sizes (4KB, 2MB, 1GB "superpages")</li>\n          <li>TLB management instructions (SFENCE.VMA for TLB invalidation)</li>\n        </ul>\n        \n        <p>Virtual memory support is implemented in the privileged architecture specification, not the base ISA, giving implementers flexibility in designs ranging from simple embedded systems to complex servers.</p>\n      '}],examples:[{id:"example9_1",title:"Cache Access Analysis",description:"Step-by-step analysis of how a set-associative cache handles memory accesses",code:"// Example for a 4-way set-associative cache\n// Total size: 16 KB\n// Block size: 64 bytes\n// Number of sets: 64\n\n// Calculate the address breakdown:\n// Block offset: log2(64) = 6 bits\n// Set index: log2(64) = 6 bits\n// Tag: 32 - 6 - 6 = 20 bits\n\n// 32-bit address format:\n// | Tag (20 bits) | Set Index (6 bits) | Block Offset (6 bits) |\n// |    31 - 12    |      11 - 6       |         5 - 0         |\n\n// Example memory access sequence (addresses in hex):\n// 0x12345678, 0x12345698, 0x1234A700, 0x12345678, 0x1234B200\n\n// Access 1: 0x12345678\n// Tag = 0x12345, Set Index = 0x1E (30), Offset = 0x38 (56)\n// Cache initially empty - miss (compulsory)\n// Load block from memory into way 0 of set 30\n// Result: Miss\n\n// Access 2: 0x12345698\n// Tag = 0x12345, Set Index = 0x1A (26), Offset = 0x18 (24)\n// Different set than Access 1, but same tag\n// Cache miss (compulsory), load block into way 0 of set 26\n// Result: Miss\n\n// Access 3: 0x1234A700\n// Tag = 0x1234A, Set Index = 0x1C (28), Offset = 0x00 (0)\n// Different tag and set\n// Cache miss (compulsory), load block into way 0 of set 28\n// Result: Miss\n\n// Access 4: 0x12345678\n// Tag = 0x12345, Set Index = 0x1E (30), Offset = 0x38 (56)\n// Same address as Access 1\n// Hit in way 0 of set 30\n// Result: Hit\n\n// Access 5: 0x1234B200\n// Tag = 0x1234B, Set Index = 0x08 (8), Offset = 0x00 (0)\n// Different tag and set\n// Cache miss (compulsory), load block into way 0 of set 8\n// Result: Miss\n\n// Cache state after all accesses:\n// Set 8, Way 0: Tag=0x1234B, Valid=1, from Access 5\n// Set 26, Way 0: Tag=0x12345, Valid=1, from Access 2\n// Set 28, Way 0: Tag=0x1234A, Valid=1, from Access 3\n// Set 30, Way 0: Tag=0x12345, Valid=1, from Access 1/4\n\n// Performance analysis:\n// Total accesses: 5\n// Cache hits: 1\n// Cache misses: 4\n// Hit rate: 1/5 = 20%\n\n// Now consider changing the cache to direct-mapped:\n// Access 4 would still hit, same as before\n// Overall behavior would be the same in this example\n\n// Now consider a fully associative cache:\n// Behavior would be the same for this example, since there are no conflict misses\n// However, replacement policy would matter if the cache filled up",explanation:"This example walks through a sequence of memory accesses to a 4-way set-associative cache, showing how each address is broken down into tag, set index, and offset components. It demonstrates the cache lookup process, handling of hits and misses, and how the cache state evolves over time. For this simple sequence, we see only compulsory misses (first access to each block) and one temporal locality hit (repeated access to the same address). The example also briefly considers how different cache organizations (direct-mapped or fully associative) would handle the same access pattern. This illustrates the fundamental mechanics of cache operation that are essential for understanding processor memory systems."},{id:"example9_2",title:"Virtual to Physical Address Translation",description:"Implementation example of virtual address translation with a TLB",code:"// Example virtual memory system parameters:\n// - 32-bit virtual address space\n// - 4KB (2^12 bytes) page size\n// - 20-bit physical address space (1MB)\n// - Two-level page table\n// - 16-entry fully associative TLB\n\n// Virtual address breakdown (32 bits):\n// | L1 Index (10 bits) | L2 Index (10 bits) | Page Offset (12 bits) |\n// |     31 - 22        |      21 - 12       |       11 - 0          |\n\n// Translation step 1: Check TLB\nfunction check_tlb(virtual_address) {\n  uint32_t vpn = (virtual_address >> 12); // Upper 20 bits form the Virtual Page Number\n  \n  for (int i = 0; i < TLB_SIZE; i++) {\n    if (tlb[i].valid && tlb[i].vpn == vpn) {\n      // TLB hit\n      return {\n        hit: true,\n        pfn: tlb[i].pfn,\n        protection_bits: tlb[i].protection\n      };\n    }\n  }\n  \n  // TLB miss\n  return { hit: false };\n}\n\n// Translation step 2: Page table walk\nfunction page_table_walk(virtual_address) {\n  uint32_t l1_index = (virtual_address >> 22) & 0x3FF;\n  uint32_t l2_index = (virtual_address >> 12) & 0x3FF;\n  \n  // Get the L1 page table base from privileged register\n  uint32_t l1_base = satp.ppn << 12;\n  \n  // Access the L1 page table entry\n  uint32_t l1_entry_addr = l1_base + (l1_index * 4); // Each entry is 4 bytes\n  uint32_t l1_entry = memory_read(l1_entry_addr);\n  \n  if (!(l1_entry & PTE_VALID)) {\n    // L1 page table entry not valid - page fault\n    trigger_page_fault(virtual_address);\n    return { fault: true };\n  }\n  \n  // Get L2 page table base from L1 entry\n  uint32_t l2_base = (l1_entry & PTE_PPN_MASK) << 12;\n  \n  // Access the L2 page table entry\n  uint32_t l2_entry_addr = l2_base + (l2_index * 4);\n  uint32_t l2_entry = memory_read(l2_entry_addr);\n  \n  if (!(l2_entry & PTE_VALID)) {\n    // L2 page table entry not valid - page fault\n    trigger_page_fault(virtual_address);\n    return { fault: true };\n  }\n  \n  // Check access permissions\n  if (!check_permissions(l2_entry)) {\n    trigger_protection_fault(virtual_address);\n    return { fault: true };\n  }\n  \n  // Extract physical frame number from L2 entry\n  uint32_t pfn = (l2_entry & PTE_PPN_MASK);\n  \n  // Update TLB\n  update_tlb(vpn, pfn, l2_entry & PTE_PROTECTION_MASK);\n  \n  return {\n    fault: false,\n    pfn: pfn,\n    protection_bits: l2_entry & PTE_PROTECTION_MASK\n  };\n}\n\n// Complete virtual to physical translation\nfunction translate_address(virtual_address) {\n  // Check TLB first\n  let result = check_tlb(virtual_address);\n  \n  if (!result.hit) {\n    // TLB miss - do page table walk\n    result = page_table_walk(virtual_address);\n    \n    if (result.fault) {\n      return { fault: true };\n    }\n  }\n  \n  // Combine physical frame number with page offset\n  uint32_t page_offset = virtual_address & 0xFFF; // Lower 12 bits\n  uint32_t physical_address = (result.pfn << 12) | page_offset;\n  \n  return {\n    fault: false,\n    physical_address: physical_address\n  };\n}\n\n// Example virtual address access:\n// 0x3FFB2C48\n// L1 Index = 0x3FF (1023), L2 Index = 0xB2 (178), Offset = 0xC48 (3144)\n\n// TLB lookup result: Miss\n// Page table walk:\n//   1. Access L1 entry 1023\n//   2. Get L2 page table base\n//   3. Access L2 entry 178\n//   4. Extract PFN = 0x4A (74)\n//   5. Update TLB with mapping VPN 0x3FFB2 -> PFN 0x4A\n// Physical address = 0x4A000 + 0xC48 = 0x4AC48\n\n// If we access 0x3FFB2100 next (same page):\n// - TLB hit for VPN 0x3FFB2\n// - Physical address = 0x4A000 + 0x100 = 0x4A100",explanation:"This example demonstrates the virtual-to-physical address translation process in a RISC-V processor with a two-level page table and TLB. It shows the code structure for address translation, including TLB lookup and page table walk procedures. The example breaks down a specific virtual address (0x3FFB2C48) into its component parts and traces the translation process from the initial TLB check through the page table walk to the final physical address determination. It also illustrates how subsequent accesses to the same page benefit from the TLB, avoiding the costly page table walk. This translation process is critical for understanding virtual memory systems in modern processors and is involved in every memory access in systems that use virtual memory."}],quiz:{title:"Memory Hierarchy and Caches Quiz",questions:[{question:"What is the primary reason for the 'memory wall' problem in computer architecture?",options:["The limited size of physical memory available","The disparity between processor speed and memory access time","The complexity of cache coherence protocols","The high power consumption of DRAM technology"],correctAnswer:1,explanation:"The 'memory wall' refers to the growing disparity between processor speed and memory access time. While processor performance has improved at a rate of roughly 60% per year historically, memory access time has improved much more slowly (about 10% per year). This means that without mitigating techniques like caches, memory access would stall the processor for increasingly more cycles over time."},{question:"What are the two main types of locality that memory hierarchies exploit?",options:["Spatial locality and power locality","Temporal locality and frequency locality","Temporal locality and spatial locality","Linear locality and random locality"],correctAnswer:2,explanation:"Memory hierarchies exploit two main types of locality: temporal locality (if a memory location is accessed, it's likely to be accessed again soon) and spatial locality (if a memory location is accessed, nearby locations are likely to be accessed soon). These patterns of program behavior allow caches to deliver significant performance improvements by keeping frequently and recently used data in fast storage."},{question:"In a direct-mapped cache, where can a specific memory block be placed?",options:["Anywhere in the cache","In exactly one specific location","In any location within a specific set","Only at the beginning or end of the cache"],correctAnswer:1,explanation:"In a direct-mapped cache, each memory block can be placed in exactly one specific location determined by the index portion of the address. This makes hardware simple but can lead to conflicts when different addresses map to the same cache location. Direct mapping is defined by the formula: (block address) modulo (number of cache blocks)."},{question:"What are the 'Three Cs' that categorize all cache misses?",options:["Compulsory, Capacity, and Conflict","Cold, Congestion, and Coherence","Compulsory, Correction, and Collision","Cache, Cycle, and Contention"],correctAnswer:0,explanation:"The 'Three Cs' that categorize all cache misses are: Compulsory misses (first access to a block), Capacity misses (cache is too small to hold all needed blocks), and Conflict misses (multiple blocks map to the same set, causing evictions). Understanding these categories helps in designing appropriate cache optimization strategies."},{question:"What is the purpose of a Translation Lookaside Buffer (TLB)?",options:["To store frequently accessed data","To cache virtual-to-physical address translations","To buffer memory writes before they go to main memory","To translate between different instruction set architectures"],correctAnswer:1,explanation:"A Translation Lookaside Buffer (TLB) caches virtual-to-physical address translations. Without a TLB, each memory access would require multiple memory accesses to traverse the page table, significantly slowing down the system. The TLB allows most address translations to be performed without accessing the page table in memory."},{question:"What happens during a write to memory in a write-back cache with write-allocate policy?",options:["Data is written to both the cache and main memory immediately","Data is written only to main memory, bypassing the cache","Data is written to the cache, and the block is marked dirty; memory is updated only when the block is evicted","Data is duplicated in multiple cache locations for redundancy"],correctAnswer:2,explanation:"In a write-back cache with write-allocate policy, when a write occurs, the data is written only to the cache, and the block is marked as dirty. The main memory is updated only when the block is eventually evicted from the cache. On a write miss, the block is first loaded into the cache (allocate), then the write is performed to the cache."},{question:"What is the effect of increasing cache associativity?",options:["It increases capacity misses but reduces conflict misses","It reduces both capacity and compulsory misses","It reduces conflict misses but potentially increases hit time","It only affects compulsory misses"],correctAnswer:2,explanation:"Increasing cache associativity reduces conflict misses by allowing multiple blocks that map to the same set to coexist in the cache. However, it potentially increases hit time due to the need to check multiple ways within a set. Higher associativity also adds hardware complexity and power consumption but doesn't affect capacity or compulsory misses."},{question:"In a virtual memory system with 4KB pages and 32-bit virtual addresses, how many bits are used for the page offset?",options:["10 bits","12 bits","20 bits","22 bits"],correctAnswer:1,explanation:"In a virtual memory system with 4KB (2^12 bytes) pages, 12 bits are needed for the page offset to address any byte within a page. This is calculated as log2(page size) = log2(4096) = 12 bits. The remaining bits of the 32-bit address (32 - 12 = 20 bits) form the virtual page number (VPN)."},{question:"Which cache optimization technique specifically targets compulsory misses?",options:["Increasing cache size","Increasing associativity","Prefetching","Using a victim cache"],correctAnswer:2,explanation:"Prefetching specifically targets compulsory misses by proactively loading data into the cache before it is explicitly requested by the processor. This eliminates the compulsory miss that would normally occur on first access. Increasing cache size primarily addresses capacity misses, increasing associativity targets conflict misses, and victim caches help with conflict misses as well."},{question:"What is the role of the page offset in virtual address translation?",options:["It is used to index into the TLB","It is translated to a different value in the physical address","It passes unchanged from virtual to physical address","It determines which page table to use"],correctAnswer:2,explanation:"The page offset passes unchanged from virtual to physical address. During address translation, only the virtual page number (VPN) is translated to a physical frame number (PFN). The page offset, which identifies the specific byte within a page, remains the same because both virtual pages and physical frames have the same size, and the relative position within the page doesn't change."}]}},completed:!1},{...{id:10,title:"Multiprocessor Systems and Cache Coherence",description:"Understanding parallel processing architectures and memory consistency challenges",estimatedTime:"3 hours",completed:!1,sections:[{id:"10.1",title:"Multiprocessor Architecture Fundamentals",content:'\n        <h3>Parallel Processing Systems</h3>\n        <p>Modern computing increasingly relies on multiprocessor systems to deliver performance improvements as single-core frequency scaling has slowed.</p>\n        \n        <h4>Parallelism Taxonomy</h4>\n        <p>Parallel processing can be classified along several dimensions:</p>\n        <ul>\n          <li><strong>Instruction-Level Parallelism (ILP)</strong>: Executing multiple instructions simultaneously within a single processor</li>\n          <li><strong>Thread-Level Parallelism (TLP)</strong>: Executing multiple threads of control in parallel</li>\n          <li><strong>Data-Level Parallelism (DLP)</strong>: Performing the same operation on multiple data elements simultaneously</li>\n        </ul>\n        \n        <h4>Multiprocessor System Architectures</h4>\n        <p>Different ways to organize multiprocessor systems include:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Architecture</th>\n            <th>Description</th>\n            <th>Characteristics</th>\n          </tr>\n          <tr>\n            <td>Symmetric Multiprocessing (SMP)</td>\n            <td>Multiple identical processors connected to a shared memory</td>\n            <td>\n              <ul>\n                <li>Uniform memory access (UMA)</li>\n                <li>Shared memory bus or interconnect</li>\n                <li>Centralized shared memory</li>\n                <li>Common in small-scale systems (2-8 cores)</li>\n              </ul>\n            </td>\n          </tr>\n          <tr>\n            <td>Non-Uniform Memory Access (NUMA)</td>\n            <td>Memory access time depends on memory location relative to processor</td>\n            <td>\n              <ul>\n                <li>Memory physically distributed among processors</li>\n                <li>Local memory access faster than remote access</li>\n                <li>Interconnection network between nodes</li>\n                <li>Better scalability than SMP</li>\n              </ul>\n            </td>\n          </tr>\n          <tr>\n            <td>Distributed Memory Systems</td>\n            <td>Each processor has its own private memory address space</td>\n            <td>\n              <ul>\n                <li>Communication via message passing</li>\n                <li>No hardware-managed cache coherence</li>\n                <li>High scalability</li>\n                <li>More complex programming model</li>\n              </ul>\n            </td>\n          </tr>\n        </table>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/1C40Xpf.png" alt="Multiprocessor Architectures" style="max-width: 700px; width: 100%;">\n          <p><em>Comparison of SMP, NUMA, and distributed memory architectures</em></p>\n        </div>\n        \n        <h4>Chip Multiprocessors (CMPs)</h4>\n        <p>Modern multicore processors integrate multiple CPU cores onto a single chip:</p>\n        <ul>\n          <li>Shared last-level cache (LLC) typically connects cores</li>\n          <li>Private L1/L2 caches per core</li>\n          <li>On-chip interconnect replaces traditional bus</li>\n          <li>Integrated memory controllers</li>\n        </ul>\n        \n        <h4>Memory Consistency Models</h4>\n        <p>Memory consistency defines the order in which memory operations appear to execute to software:</p>\n        <ul>\n          <li><strong>Sequential Consistency</strong>: All processors see the same order of memory operations</li>\n          <li><strong>Relaxed Consistency</strong>: Hardware can reorder operations for performance</li>\n          <li><strong>Release Consistency</strong>: Special synchronization operations enforce ordering</li>\n        </ul>\n        \n        <p>RISC-V defines several memory consistency models:\n        <ul>\n          <li><strong>RVWMO</strong>: RISC-V Weak Memory Ordering (default)</li>\n          <li><strong>RVTSO</strong>: RISC-V Total Store Ordering (optional extension)</li>\n        </ul>\n        Explicit fence instructions allow software to enforce ordering when needed.</p>\n      '},{id:"10.2",title:"The Cache Coherence Problem",content:'\n        <h3>Maintaining Consistent Views of Memory</h3>\n        <p>In systems with private caches, multiple copies of the same memory location can exist, creating the potential for inconsistency.</p>\n        \n        <h4>The Cache Coherence Problem</h4>\n        <p>Consider this sequence of operations on two processors sharing memory:</p>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\nInitial state: Memory location X contains 0\n\nProcessor 1:              Processor 2:\n1. Read X (gets 0)        \n2. X = X + 1              \n3. Write X (now 1)        \n                          4. Read X (should get 1)\n                          5. X = X + 1\n                          6. Write X (should be 2)\n</pre>\n\n        <p>If both processors cache X, Processor 2 might read the old value (0) from its cache instead of the updated value (1) from Processor 1, leading to an incorrect final value of 1 instead of 2.</p>\n        \n        <h4>Coherence vs. Consistency</h4>\n        <p>Two related but distinct concepts:</p>\n        <ul>\n          <li><strong>Cache Coherence</strong>: Ensures that multiple caches provide a consistent view of individual memory locations</li>\n          <li><strong>Memory Consistency</strong>: Defines the ordering constraints for memory operations across all locations</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/RMpfjgm.png" alt="Coherence Problem" style="max-width: 650px; width: 100%;">\n          <p><em>The cache coherence problem with write-back caches</em></p>\n        </div>\n        \n        <h4>Coherence Requirements</h4>\n        <p>A cache coherence protocol must maintain these invariants:</p>\n        <ol>\n          <li><strong>Single-Writer, Multiple-Reader (SWMR)</strong>: At any time, either multiple processors can have read-only copies, or a single processor can have a writable copy</li>\n          <li><strong>Data-Value Invariant</strong>: The value read from a memory location is the last value written to it</li>\n        </ol>\n        \n        <h4>Coherence Protocol Approaches</h4>\n        <p>Two main approaches to implementing cache coherence:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Approach</th>\n            <th>Description</th>\n            <th>Pros and Cons</th>\n          </tr>\n          <tr>\n            <td>Snooping Protocols</td>\n            <td>All caches monitor a shared interconnect for relevant transactions</td>\n            <td>\n              <ul>\n                <li>Simpler implementation</li>\n                <li>Lower latency for small systems</li>\n                <li>Limited scalability due to bandwidth</li>\n                <li>Works well with bus-based systems</li>\n              </ul>\n            </td>\n          </tr>\n          <tr>\n            <td>Directory-Based Protocols</td>\n            <td>Centralized or distributed directory tracks which caches hold copies of each block</td>\n            <td>\n              <ul>\n                <li>Better scalability</li>\n                <li>Targeted invalidations reduce bandwidth</li>\n                <li>Higher implementation complexity</li>\n                <li>Greater coherence latency</li>\n              </ul>\n            </td>\n          </tr>\n        </table>\n        \n        <h4>False Sharing</h4>\n        <p>An important performance issue in coherent systems:</p>\n        <ul>\n          <li>Occurs when different processors access different variables that happen to share the same cache block</li>\n          <li>Creates "ping-ponging" of the cache block between processors</li>\n          <li>Can significantly degrade performance despite no actual data sharing</li>\n          <li>Common in multithreaded programs with poor data layout</li>\n        </ul>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n// Example of false sharing in a multithreaded program\nstruct {\n    int counter1;  // Used by Thread 1\n    int counter2;  // Used by Thread 2\n} counters;\n\n// Thread 1 function          // Thread 2 function\nwhile (true) {                while (true) {\n    counters.counter1++;          counters.counter2++;\n}                            }\n\n// Both counters likely share a cache line, causing coherence traffic\n// despite no logical data sharing between threads</pre>\n      '},{id:"10.3",title:"Cache Coherence Protocols",content:'\n        <h3>Protocol Implementation Details</h3>\n        <p>Cache coherence protocols use state machines to track the status of each cache block and determine appropriate actions.</p>\n        \n        <h4>MSI Protocol</h4>\n        <p>The simplest coherence protocol with three states:</p>\n        <ul>\n          <li><strong>Modified (M)</strong>: Block has been modified; cache has the only valid copy</li>\n          <li><strong>Shared (S)</strong>: Block is unmodified and may exist in other caches</li>\n          <li><strong>Invalid (I)</strong>: Block does not contain valid data</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/JxQJIjW.png" alt="MSI Protocol State Diagram" style="max-width: 600px; width: 100%;">\n          <p><em>State transition diagram for the MSI protocol</em></p>\n        </div>\n        \n        <h4>MESI Protocol</h4>\n        <p>An extension of MSI that adds an Exclusive state to optimize the common case of single-processor access:</p>\n        <ul>\n          <li><strong>Modified (M)</strong>: Block has been modified locally</li>\n          <li><strong>Exclusive (E)</strong>: Block is unmodified but exists only in this cache</li>\n          <li><strong>Shared (S)</strong>: Block is unmodified and may exist in other caches</li>\n          <li><strong>Invalid (I)</strong>: Block does not contain valid data</li>\n        </ul>\n        \n        <p>The key advantage of the E state is that it allows silent transitions to M on writes without generating coherence traffic, since the cache knows it has the only copy.</p>\n        \n        <h4>MOESI Protocol</h4>\n        <p>Further extends MESI with an Owned state to reduce unnecessary writebacks:</p>\n        <ul>\n          <li><strong>Modified (M)</strong>: Block has been modified locally</li>\n          <li><strong>Owned (O)</strong>: Block is modified and shared; this cache is responsible for writing back</li>\n          <li><strong>Exclusive (E)</strong>: Block is unmodified but exists only in this cache</li>\n          <li><strong>Shared (S)</strong>: Block is unmodified and may exist in other caches</li>\n          <li><strong>Invalid (I)</strong>: Block does not contain valid data</li>\n        </ul>\n        \n        <h4>Snooping Protocol Implementation</h4>\n        <p>In a snooping protocol:</p>\n        <ul>\n          <li>All cache controllers monitor the shared bus for transactions</li>\n          <li>Each controller takes appropriate action based on observed transactions and local state</li>\n          <li>Write-invalidate: invalidate all other copies before writing</li>\n          <li>Write-update: update all other copies when writing (less common)</li>\n        </ul>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Bus Transaction</th>\n            <th>Initiating Processor Action</th>\n            <th>Snooping Processor Action</th>\n          </tr>\n          <tr>\n            <td>BusRd (Read)</td>\n            <td>Issue when reading a block not in cache</td>\n            <td>\n              <ul>\n                <li>If M: Provide data and transition to S</li>\n                <li>If E: Provide data and transition to S</li>\n                <li>If S: No action</li>\n                <li>If I: No action</li>\n              </ul>\n            </td>\n          </tr>\n          <tr>\n            <td>BusRdX (Read Exclusive)</td>\n            <td>Issue when writing to a block not in M/E state</td>\n            <td>\n              <ul>\n                <li>If M: Provide data and transition to I</li>\n                <li>If E: Transition to I</li>\n                <li>If S: Transition to I</li>\n                <li>If I: No action</li>\n              </ul>\n            </td>\n          </tr>\n          <tr>\n            <td>BusUpgr (Upgrade)</td>\n            <td>Issue when writing to a block in S state</td>\n            <td>\n              <ul>\n                <li>If S: Transition to I</li>\n                <li>If I: No action</li>\n              </ul>\n            </td>\n          </tr>\n        </table>\n        \n        <h4>Directory-Based Protocol Implementation</h4>\n        <p>In a directory-based protocol:</p>\n        <ul>\n          <li>A directory entry exists for each memory block, tracking which caches have copies</li>\n          <li>Directory can be centralized or distributed with home nodes</li>\n          <li>Each entry typically stores presence bits and state information</li>\n          <li>On memory access, the directory is consulted to determine required actions</li>\n          <li>Invalidation or update messages are sent only to relevant caches</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/2KXcjNb.png" alt="Directory Protocol" style="max-width: 650px; width: 100%;">\n          <p><em>Example of a directory-based coherence system</em></p>\n        </div>\n      '},{id:"10.4",title:"Synchronization and Consistency",content:'\n        <h3>Coordinating Access in Parallel Systems</h3>\n        <p>Effective parallel programming requires proper synchronization and understanding of the memory consistency model.</p>\n        \n        <h4>Atomic Operations</h4>\n        <p>Hardware support for atomic operations enables efficient synchronization:</p>\n        <ul>\n          <li><strong>Test-and-Set</strong>: Atomically tests and sets a memory location</li>\n          <li><strong>Compare-and-Swap (CAS)</strong>: Updates a value only if it matches expected value</li>\n          <li><strong>Load-Linked/Store-Conditional (LL/SC)</strong>: Conditionally stores only if no intervening stores</li>\n          <li><strong>Fetch-and-Op</strong>: Atomically performs an operation (add, and, or, etc.)</li>\n        </ul>\n        \n        <p>RISC-V provides atomic operations through the A (Atomic) extension:</p>\n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n# RISC-V atomic operations example - Compare and Swap\n# a0 = pointer to memory location\n# a1 = expected value\n# a2 = new value\n# a0 returns 1 if successful, 0 if failed\n\ncas:\n    lr.w t0, (a0)           # Load-reserved word from address in a0\n    bne t0, a1, fail        # If not expected value, fail\n    sc.w a0, a2, (a0)       # Store-conditional new value\n    ret                     # a0 contains success/failure (0=success, 1=failure)\nfail:\n    li a0, 0                # Return 0 (failure)\n    ret</pre>\n        \n        <h4>Synchronization Primitives</h4>\n        <p>Higher-level synchronization constructs built from atomic operations:</p>\n        <ul>\n          <li><strong>Locks/Mutexes</strong>: Ensure mutual exclusion for critical sections</li>\n          <li><strong>Semaphores</strong>: Control access to a limited number of resources</li>\n          <li><strong>Barriers</strong>: Synchronize threads at specific points in execution</li>\n          <li><strong>Condition Variables</strong>: Allow threads to wait for specific conditions</li>\n        </ul>\n        \n        <h4>Memory Consistency Challenges</h4>\n        <p>Different memory consistency models affect how programmers must reason about parallel code:</p>\n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Consistency Model</th>\n            <th>Description</th>\n            <th>Programming Implications</th>\n          </tr>\n          <tr>\n            <td>Sequential Consistency</td>\n            <td>All operations appear in a sequential order consistent with program order</td>\n            <td>\n              <ul>\n                <li>More intuitive for programmers</li>\n                <li>Limits hardware optimization</li>\n                <li>No need for memory barriers in most cases</li>\n              </ul>\n            </td>\n          </tr>\n          <tr>\n            <td>Relaxed Consistency</td>\n            <td>Operations may be reordered for performance (varies by architecture)</td>\n            <td>\n              <ul>\n                <li>Better performance</li>\n                <li>Requires explicit synchronization</li>\n                <li>Memory barriers/fences needed to enforce ordering</li>\n              </ul>\n            </td>\n          </tr>\n        </table>\n        \n        <h4>RISC-V Memory Ordering</h4>\n        <p>RISC-V defines a relatively relaxed memory model (RVWMO) with explicit fence instructions:</p>\n        <ul>\n          <li><strong>fence</strong>: General memory ordering fence</li>\n          <li><strong>fence.i</strong>: Instruction fetch fence</li>\n        </ul>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n# Example of using fence in RISC-V\n# Thread 1:\n  sw x1, 0(x2)      # Store data\n  fence w, w        # Ensure all writes are visible before next write\n  sw x0, 0(x3)      # Set flag\n\n# Thread 2:\n  lw x4, 0(x3)      # Check flag\n  beqz x4, spin     # Loop if flag not set\n  fence r, r        # Ensure subsequent reads see all prior stores\n  lw x5, 0(x2)      # Read data (guaranteed to see Thread 1\'s store)</pre>\n        \n        <h4>Lock Implementation</h4>\n        <p>Example of a simple spin lock implementation in RISC-V:</p>\n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n# Simple spin lock implementation using RISC-V atomic instructions\n# a0 = pointer to lock\n\nacquire_lock:\n    li t0, 1                # Lock value\nacquire_retry:\n    amoswap.w.aq t1, t0, (a0) # Atomically swap and acquire\n    bnez t1, acquire_retry  # If we got non-zero, lock was held\n    ret                     # Return with lock acquired\n\nrelease_lock:\n    amoswap.w.rl zero, zero, (a0) # Release lock with release semantics\n    ret</pre>\n      '}],examples:[{id:"example10_1",title:"MESI Protocol State Transitions",description:"Detailed walkthrough of cache coherence protocol state transitions",code:"// Consider a system with two processors (P1 and P2) with private caches\n// Both share a memory system with address X (initially containing value 0)\n\n// Initial state: Both caches have X in Invalid (I) state\n\n// Step 1: P1 reads X\n// - P1's cache controller issues BusRd\n// - Memory responds with data (0)\n// - No other cache has a valid copy\n// - P1's cache sets state to Exclusive (E)\n\n// Cache states after Step 1:\n// P1: X in E state, value = 0\n// P2: X in I state\n\n// Step 2: P1 writes value 1 to X\n// - Since P1's cache has X in E state, it can transition silently to Modified (M)\n// - No bus transaction required\n// - Memory is now out of date\n\n// Cache states after Step 2:\n// P1: X in M state, value = 1\n// P2: X in I state\n\n// Step 3: P2 reads X\n// - P2's cache controller issues BusRd\n// - P1's cache sees this request and must respond since it has modified data\n// - P1 provides data (1) to P2 and transitions to Shared (S) state\n// - Memory is updated with the new value\n// - P2's cache sets state to Shared (S)\n\n// Cache states after Step 3:\n// P1: X in S state, value = 1\n// P2: X in S state, value = 1\n// Memory: X = 1\n\n// Step 4: P2 writes value 2 to X\n// - P2's cache controller issues BusRdX (or BusUpgr since it has S state)\n// - P1's cache sees this and invalidates its copy of X\n// - P2's cache transitions to Modified (M) state\n\n// Cache states after Step 4:\n// P1: X in I state\n// P2: X in M state, value = 2\n// Memory: X = 1 (out of date)\n\n// Step 5: P1 writes value 3 to X\n// - P1's cache controller issues BusRdX\n// - P2's cache sees this and must provide the latest data\n// - P2 provides data (2) and transitions to Invalid (I)\n// - P1's cache receives data, updates it to 3, and transitions to Modified (M)\n\n// Cache states after Step 5:\n// P1: X in M state, value = 3\n// P2: X in I state\n// Memory: X = 2 (out of date)\n\n// This example demonstrates how the MESI protocol maintains coherence\n// while minimizing bus traffic by:\n// 1. Using the Exclusive state to allow silent transitions to Modified\n// 2. Allowing direct cache-to-cache transfers of modified data\n// 3. Ensuring only one cache can have write permission at a time\n// 4. Maintaining the Single-Writer, Multiple-Reader invariant",explanation:"This example walks through a sequence of operations in a two-processor system implementing the MESI cache coherence protocol. It demonstrates how the protocol handles reads and writes to ensure that all caches maintain a coherent view of memory. Key aspects illustrated include silent transitions from Exclusive to Modified states, intervention by caches with modified data, invalidation of stale copies, and the maintenance of the Single-Writer, Multiple-Reader invariant. The example shows how coherence traffic is generated only when necessary, such as when a second processor needs access to data modified by the first processor, helping to minimize the performance impact of maintaining coherence."},{id:"example10_2",title:"Implementing a Parallel Counter with Atomics",description:"Comparison of different approaches to implementing a thread-safe counter",code:"// Problem: Implement a thread-safe counter that can be incremented by multiple threads\n\n// Method 1: Using a simple load and store (INCORRECT)\n// This approach is not thread-safe and will lead to lost updates\n\n// Thread 1              Thread 2\nload r1, counter         load r1, counter\nadd r1, r1, 1            add r1, r1, 1\nstore r1, counter        store r1, counter\n\n// If counter = 5 initially, and both threads execute interleaved:\n// Thread 1 loads 5, Thread 2 loads 5,\n// Both increment to 6, both store 6\n// Final value is 6, not 7 as expected (lost update)\n\n// Method 2: Using a lock/mutex\n// This is correct but has overhead and potential contention\n\n// Pseudocode:\ncounter_increment():\n    acquire_lock(counter_lock)\n    counter++\n    release_lock(counter_lock)\n\n// RISC-V implementation:\ncounter_increment:\n    addi sp, sp, -16     # Adjust stack pointer\n    sd ra, 8(sp)         # Save return address\n    \n    la a0, counter_lock  # Load address of lock\n    call acquire_lock    # Acquire the lock\n    \n    la a0, counter       # Load counter address\n    lw a1, 0(a0)         # Load counter value\n    addi a1, a1, 1       # Increment\n    sw a1, 0(a0)         # Store back\n    \n    la a0, counter_lock  # Load address of lock\n    call release_lock    # Release the lock\n    \n    ld ra, 8(sp)         # Restore return address\n    addi sp, sp, 16      # Restore stack pointer\n    ret\n\n// Method 3: Using atomic operations (most efficient)\n// RISC-V implementation using A extension:\n\ncounter_increment:\n    la a0, counter       # Load counter address\n    li a1, 1             # Load increment value\n    amoadd.w zero, a1, (a0) # Atomic add; old value discarded\n    ret\n\n// Alternatively, using Load-Reserved/Store-Conditional:\ncounter_increment:\n    la a0, counter       # Load counter address\nincrement_retry:\n    lr.w a1, (a0)        # Load-reserved\n    addi a1, a1, 1       # Increment\n    sc.w a2, a1, (a0)    # Store-conditional\n    bnez a2, increment_retry # Retry if store failed\n    ret\n\n// Performance comparison:\n// 1. Incorrect version: Fast but wrong\n// 2. Lock version: Correct but has contention and overhead\n// 3. Atomic version: Best combination of correctness and performance\n\n// Scaling characteristics:\n// - Lock version: Performance degrades with more threads due to contention\n// - Atomic version: Still has coherence traffic but better than locks\n// - For very high contention: Consider techniques like:\n//   - Per-thread counters that are periodically combined\n//   - Reduction trees to distribute the contention",explanation:"This example compares three different approaches to implementing a shared counter that can be safely incremented by multiple threads. The first approach using simple loads and stores is incorrect and will lead to lost updates due to race conditions. The second approach using locks correctly protects the counter but introduces overhead and potential contention. The third approach using atomic operations provides the best combination of correctness and performance, especially for simple operations like increments. The example includes RISC-V implementations using both the atomic instructions from the A extension and the more portable Load-Reserved/Store-Conditional approach. It also discusses scaling characteristics, highlighting how different approaches behave as the number of threads increases and suggesting optimizations for high-contention scenarios."}],quiz:{title:"Multiprocessor Systems and Cache Coherence Quiz",questions:[{question:"What is the primary reason cache coherence is needed in multiprocessor systems?",options:["To reduce the total number of memory accesses","To maintain a consistent view of memory across multiple caches","To improve the performance of single-threaded applications","To eliminate the need for virtual memory"],correctAnswer:1,explanation:"Cache coherence is needed to maintain a consistent view of memory across multiple caches. Without coherence, different processors might see different values for the same memory location due to local caching, leading to incorrect program behavior. Coherence protocols ensure that when one processor modifies a cached value, other processors will see that update."},{question:"Which approach to multiprocessor architecture has memory access times that vary depending on the location of memory relative to the processor?",options:["Symmetric Multiprocessing (SMP)","Uniform Memory Access (UMA)","Non-Uniform Memory Access (NUMA)","Distributed Memory Systems"],correctAnswer:2,explanation:"Non-Uniform Memory Access (NUMA) architectures have varying memory access times depending on the location of memory relative to the processor. In NUMA systems, each processor has local memory that it can access quickly, while accessing memory attached to other processors takes longer. This is in contrast to UMA systems like basic SMP, where all memory accesses take the same time from any processor."},{question:"In the MESI cache coherence protocol, what does the 'E' state represent?",options:["Enabled - the cache line is enabled for writing","Error - the cache line contains corrupt data","Exclusive - the cache line is only in this cache and is unmodified","Extended - the cache line has been extended with additional metadata"],correctAnswer:2,explanation:"In the MESI protocol, the 'E' state stands for Exclusive, meaning the cache line exists only in this cache (no other cache has a copy) and is unmodified (matches memory). The exclusive state is an optimization that allows a processor to modify a cache line without generating coherence traffic if it's the only one with a copy. It can transition silently to the Modified state on a write."},{question:"What is the key difference between snooping-based and directory-based cache coherence protocols?",options:["Snooping protocols are only used in distributed memory systems","Directory protocols require specialized hardware that snooping protocols don't need","Snooping protocols broadcast coherence messages, while directory protocols send targeted messages","Directory protocols cannot support write-back caches"],correctAnswer:2,explanation:"The key difference is that snooping protocols broadcast coherence messages to all caches (via a shared bus or interconnect that all caches monitor), while directory protocols use a directory structure to track which caches have copies of each block and send targeted messages only to relevant caches. This makes directory protocols more scalable for larger systems by reducing coherence traffic, though they have higher implementation complexity and latency per coherence operation."},{question:"What coherence problem can occur when two processors share a variable without proper synchronization?",options:["Memory leakage","Stack overflow","Lost updates","Heap fragmentation"],correctAnswer:2,explanation:"Lost updates can occur when two processors share a variable without proper synchronization. For example, if two processors try to increment a shared counter by reading, incrementing, and writing back the value, one of the updates may be lost if the second processor reads the value before the first processor's write becomes visible. This is why atomic operations or proper synchronization primitives are needed for correct concurrent access to shared data."},{question:"What is false sharing in the context of cache coherence?",options:["When a processor claims to have data it doesn't actually have","When two processors access different variables that happen to be in the same cache line","When coherence protocol messages are dropped due to network errors","When a processor incorrectly shares private data with other processors"],correctAnswer:1,explanation:"False sharing occurs when two or more processors access different variables that happen to be located in the same cache line. Although the processors are not accessing the same data (not truly sharing), the coherence protocol operates at the granularity of cache lines, causing coherence traffic and performance degradation as the cache line 'ping-pongs' between processors. This is a common performance issue in parallel programs that can be mitigated by careful data layout."},{question:"Which RISC-V instructions provide atomic memory operations?",options:["The C extension (compressed instructions)","The M extension (integer multiplication and division)","The A extension (atomic instructions)","The F extension (single-precision floating point)"],correctAnswer:2,explanation:"The A extension in RISC-V provides atomic memory operations. This extension includes instructions for atomic load-and-operate operations like atomic add, swap, and compare-and-swap, as well as load-reserved/store-conditional (LR/SC) instructions. These atomic operations are essential for implementing synchronization primitives and concurrent data structures in multiprocessor systems."},{question:"What is the primary advantage of using directory-based cache coherence over snooping-based coherence?",options:["Lower implementation complexity","Faster coherence operations","Better scalability to larger numbers of processors","Support for more complex consistency models"],correctAnswer:2,explanation:"The primary advantage of directory-based cache coherence over snooping-based coherence is better scalability to larger numbers of processors. Snooping protocols require broadcasting messages to all caches, which creates bandwidth bottlenecks as the system scales. Directory protocols send targeted messages only to relevant caches by tracking which caches have copies of each block, significantly reducing coherence traffic in large systems."},{question:"What is memory consistency in the context of multiprocessor systems?",options:["The property that ensures memory is consistently allocated and deallocated","The property that ensures all processors have the same amount of cache","The property that defines the order in which memory operations from different processors appear to execute","The property that ensures all memory is error-checked before use"],correctAnswer:2,explanation:"Memory consistency defines the order in which memory operations from different processors appear to execute in a multiprocessor system. It specifies what values can be legally returned by read operations based on the ordering of previous read and write operations from all processors. Different architectures implement different memory consistency models, ranging from strict sequential consistency to various relaxed models that allow more reordering for better performance."},{question:"Which of the following is a key challenge in the design of chip multiprocessors (CMPs) compared to traditional multiprocessor systems?",options:["Integrating the memory controller on the same chip","Managing thermal constraints and power consumption","Supporting virtual memory","Running multiple operating systems"],correctAnswer:1,explanation:"Managing thermal constraints and power consumption is a key challenge in the design of chip multiprocessors (CMPs). With multiple cores integrated on a single chip, heat generation and power consumption become critical limiting factors. CMP designs must carefully balance performance against these constraints, often incorporating sophisticated power management features and heterogeneous core designs. This is less of an issue in traditional multiprocessor systems where processors are physically separated."}]}},completed:!1},{...{id:11,title:"RISC-V Extensions and Customization",description:"Exploring the extensible nature of RISC-V and custom instruction set design",estimatedTime:"2.5 hours",completed:!1,sections:[{id:"11.1",title:"RISC-V Base ISA and Standard Extensions",content:'\n        <h3>The Modular RISC-V Architecture</h3>\n        <p>RISC-V is designed with modularity in mind, consisting of a small base ISA with optional standard extensions.</p>\n        \n        <h4>Base ISA Variants</h4>\n        <p>RISC-V defines multiple base integer instruction sets:</p>\n        <ul>\n          <li><strong>RV32I</strong>: 32-bit base integer instruction set</li>\n          <li><strong>RV64I</strong>: 64-bit base integer instruction set</li>\n          <li><strong>RV128I</strong>: 128-bit base integer instruction set (less common)</li>\n        </ul>\n        \n        <p>Each base ISA provides fundamental integer operations, control flow, and memory access instructions using a fixed-length encoding.</p>\n        \n        <h4>Standard Extensions</h4>\n        <p>RISC-V defines official standard extensions, each identified by a letter:</p>\n        \n        <table border="1" cellpadding="8" cellspacing="0" style="width:100%; border-collapse: collapse;">\n          <tr style="background-color:#f0f0f0">\n            <th>Extension</th>\n            <th>Name</th>\n            <th>Description</th>\n          </tr>\n          <tr>\n            <td>M</td>\n            <td>Integer Multiplication/Division</td>\n            <td>Adds integer multiply and divide instructions</td>\n          </tr>\n          <tr>\n            <td>A</td>\n            <td>Atomic Instructions</td>\n            <td>Adds atomic memory operations for multiprocessor synchronization</td>\n          </tr>\n          <tr>\n            <td>F</td>\n            <td>Single-Precision Floating-Point</td>\n            <td>Adds 32-bit floating-point instructions</td>\n          </tr>\n          <tr>\n            <td>D</td>\n            <td>Double-Precision Floating-Point</td>\n            <td>Adds 64-bit floating-point instructions</td>\n          </tr>\n          <tr>\n            <td>C</td>\n            <td>Compressed Instructions</td>\n            <td>Adds 16-bit instruction encodings for improved code density</td>\n          </tr>\n          <tr>\n            <td>G</td>\n            <td>General-Purpose</td>\n            <td>Shorthand for the combination of IMAFD</td>\n          </tr>\n          <tr>\n            <td>V</td>\n            <td>Vector Operations</td>\n            <td>Adds vector processing capabilities</td>\n          </tr>\n          <tr>\n            <td>B</td>\n            <td>Bit Manipulation</td>\n            <td>Adds bit manipulation operations</td>\n          </tr>\n        </table>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/Wx2SGZS.png" alt="RISC-V Extension Hierarchy" style="max-width: 700px; width: 100%;">\n          <p><em>RISC-V modular ISA with base and extensions</em></p>\n        </div>\n        \n        <h4>Privilege Levels and System Extensions</h4>\n        <p>RISC-V defines multiple privilege levels and system extensions:</p>\n        <ul>\n          <li><strong>Machine Mode (M-mode)</strong>: Highest privilege level, present in all RISC-V implementations</li>\n          <li><strong>Supervisor Mode (S-mode)</strong>: For operating systems, includes virtual memory support</li>\n          <li><strong>User Mode (U-mode)</strong>: For application programs with the least privileges</li>\n        </ul>\n        \n        <p>Standard profiles combine specific ISA features for different application domains:</p>\n        <ul>\n          <li><strong>RV32E</strong>: Embedded profile with reduced register set (16 registers)</li>\n          <li><strong>RV32GC</strong>: 32-bit general-purpose profile with compressed instructions</li>\n          <li><strong>RV64GC</strong>: 64-bit general-purpose profile with compressed instructions</li>\n        </ul>\n      '},{id:"11.2",title:"Vector Extension (RVV)",content:'\n        <h3>Vector Processing in RISC-V</h3>\n        <p>The RISC-V Vector Extension (RVV) provides flexible vector processing capabilities, enabling efficient data-parallel operations.</p>\n        \n        <h4>Key Concepts</h4>\n        <p>RVV introduces a vector programming model with several innovative features:</p>\n        <ul>\n          <li><strong>Vector Length Agnostic</strong>: Code works regardless of physical vector length</li>\n          <li><strong>Configurable Vector Length</strong>: Application can set maximum vector length</li>\n          <li><strong>Vector Predication</strong>: Conditional execution using mask registers</li>\n          <li><strong>Vector Types</strong>: Support for various element widths (8-bit to 64-bit)</li>\n          <li><strong>Masked Operations</strong>: Selective operation on vector elements</li>\n        </ul>\n        \n        <h4>Vector Registers</h4>\n        <p>RVV uses a set of vector registers whose size can vary across implementations:</p>\n        <ul>\n          <li>Vector registers named v0-v31</li>\n          <li>Each register can hold multiple elements of various data types</li>\n          <li>Configuration registers determine active vector length (vl) and maximum length (vtype)</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/jMhNDVr.png" alt="RISC-V Vector Registers" style="max-width: 650px; width: 100%;">\n          <p><em>RISC-V vector register organization with different element widths</em></p>\n        </div>\n        \n        <h4>Example Vector Operations</h4>\n        <p>RVV provides various vector arithmetic and memory operations:</p>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n# Vector length configuration\nvsetvli t0, a0, e32,m4    # Set vector length based on a0 elements\n                         # e32 = 32-bit elements, m4 = using 4 registers per group\n\n# Vector load/store\nvle32.v v4, (a1)         # Load vector of 32-bit elements from address in a1\nvse32.v v4, (a2)         # Store vector of 32-bit elements to address in a2\n\n# Vector arithmetic\nvadd.vv v8, v4, v12      # Vector-vector add\nvmul.vx v8, v4, a3       # Vector-scalar multiply\n\n# Masked operations\nvsetvli t0, a0, e32,m1   # Set vector length\nvmseq.vx v0, v4, zero    # Compare v4 elements with zero, set mask in v0\nvadd.vv v8, v4, v12, v0.t # Add only where mask bit is 1</pre>\n        \n        <h4>Benefits of RISC-V Vectors</h4>\n        <p>RVV offers several advantages over traditional SIMD approaches:</p>\n        <ul>\n          <li><strong>Scalability</strong>: Same code runs on narrow or wide vector implementations</li>\n          <li><strong>Binary Compatibility</strong>: Applications run on any RVV implementation</li>\n          <li><strong>Reduced Code Size</strong>: No need for multiple specialized paths</li>\n          <li><strong>Auto-vectorization</strong>: Compiler-friendly design for automatic parallelization</li>\n          <li><strong>Energy Efficiency</strong>: Better performance-per-watt for data-parallel workloads</li>\n        </ul>\n      '},{id:"11.3",title:"Custom Extensions",content:'\n        <h3>Extending RISC-V with Custom Instructions</h3>\n        <p>One of RISC-V\'s key advantages is the ability to add custom instructions for specialized domains.</p>\n        \n        <h4>Reserved Opcode Space</h4>\n        <p>RISC-V reserves specific opcode spaces for custom extensions:</p>\n        <ul>\n          <li><strong>Custom-0/1/2/3</strong>: Standard-length (32-bit) custom instruction spaces</li>\n          <li><strong>Custom-0.1/1.1</strong>: Compressed (16-bit) custom instruction spaces</li>\n        </ul>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\nRISC-V 32-bit Instruction Format:\n  31        25 24     20 19     15 14  12 11      7 6            0\n +------------+---------+---------+------+---------+-------------+\n | funct7     | rs2     | rs1     |funct3| rd      | opcode      |\n +------------+---------+---------+------+---------+-------------+\n\nCustom Opcodes:\n  - 0001011: custom-0 (32-bit)\n  - 0101011: custom-1 (32-bit)\n  - 1011011: custom-2 (32-bit)\n  - 1111011: custom-3 (32-bit)</pre>\n        \n        <h4>Use Cases for Custom Extensions</h4>\n        <p>Custom instructions are valuable for various specialized domains:</p>\n        <ul>\n          <li><strong>Cryptography</strong>: AES, SHA, public key algorithms</li>\n          <li><strong>Digital Signal Processing</strong>: FFT, filters, convolutions</li>\n          <li><strong>Machine Learning</strong>: Matrix operations, activation functions, quantization</li>\n          <li><strong>Graphics</strong>: Texture mapping, rasterization operations</li>\n          <li><strong>Domain-Specific Acceleration</strong>: Genomics, financial modeling</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/sMLDhcS.png" alt="RISC-V Custom Extensions" style="max-width: 650px; width: 100%;">\n          <p><em>Adding custom accelerators to a RISC-V core</em></p>\n        </div>\n        \n        <h4>Extension Development Process</h4>\n        <p>Developing a custom extension involves several steps:</p>\n        <ol>\n          <li>Identify computational bottlenecks in the target application</li>\n          <li>Define new instructions that can accelerate these operations</li>\n          <li>Design instruction encoding within the reserved opcode space</li>\n          <li>Implement hardware support in RTL (typically in Verilog or VHDL)</li>\n          <li>Extend assembler/compiler toolchain for the new instructions</li>\n          <li>Create intrinsics or compiler directives for software access</li>\n        </ol>\n        \n        <h4>Custom Extension Example: Cryptography</h4>\n        <p>Example of custom instructions for AES encryption:</p>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n# RISC-V AES custom instruction example\n.macro aes_encrypt rd, rs1, rs2\n  .insn r CUSTOM_0, 0, 0x01, \rd, \rs1, \rs2\n.endm\n\n# Usage in assembly:\naes_encrypt a0, a1, a2   # a0 = AES encrypt block in a1 using key in a2\n\n# Hardware implementation (pseudocode):\nwhen opcode is CUSTOM_0 and funct7 is 0x01:\n  perform AES encryption on rs1 using key in rs2\n  place result in rd</pre>\n      '},{id:"11.4",title:"Designing Domain-Specific RISC-V Processors",content:'\n        <h3>Tailoring RISC-V for Specific Applications</h3>\n        <p>The extensibility of RISC-V allows designing highly optimized processors for specific domains.</p>\n        \n        <h4>Design Methodology</h4>\n        <p>Creating a domain-specific RISC-V processor involves:</p>\n        <ol>\n          <li><strong>Domain Analysis</strong>: Understand computational patterns and requirements</li>\n          <li><strong>Extension Selection</strong>: Choose appropriate standard extensions</li>\n          <li><strong>Custom Extension Design</strong>: Develop application-specific instructions</li>\n          <li><strong>Microarchitecture Optimization</strong>: Tune pipeline, caches, etc.</li>\n          <li><strong>Verification</strong>: Ensure correctness with domain-specific workloads</li>\n          <li><strong>Software Ecosystem</strong>: Develop libraries, compilers, and tools</li>\n        </ol>\n        \n        <h4>Balancing Specialization and Generality</h4>\n        <p>Key considerations when designing a domain-specific processor:</p>\n        <ul>\n          <li><strong>Performance vs. Flexibility</strong>: More specialization may reduce general-purpose capabilities</li>\n          <li><strong>Area and Power Constraints</strong>: Custom logic increases silicon area and potentially power</li>\n          <li><strong>Development Cost</strong>: Custom extensions require additional verification and toolchain support</li>\n          <li><strong>Backward Compatibility</strong>: Maintaining compatibility with existing RISC-V software</li>\n        </ul>\n        \n        <h4>Case Study: AI and Machine Learning</h4>\n        <p>A RISC-V processor optimized for machine learning might include:</p>\n        <ul>\n          <li>Standard extensions: RV64GCV (base, compression, vector)</li>\n          <li>Custom matrix multiplication instructions</li>\n          <li>Specialized activation function units</li>\n          <li>Quantization/dequantization support</li>\n          <li>Tensor addressing modes</li>\n          <li>Scratchpad memories for activations and weights</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/RJTqlvw.png" alt="Domain-Specific RISC-V" style="max-width: 700px; width: 100%;">\n          <p><em>Architecture of a RISC-V processor with ML-specific extensions</em></p>\n        </div>\n        \n        <h4>Hardware/Software Co-design</h4>\n        <p>Effective domain-specific processors require tight integration between hardware and software:</p>\n        <ul>\n          <li><strong>Compiler Support</strong>: Auto-vectorization, specialized intrinsics</li>\n          <li><strong>Libraries</strong>: Domain-specific functions leveraging custom instructions</li>\n          <li><strong>Programming Models</strong>: Domain-appropriate abstractions</li>\n          <li><strong>Profiling and Tuning</strong>: Tools for analyzing performance on custom hardware</li>\n        </ul>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n// Example C code using compiler intrinsics for a machine learning RISC-V extension\n\n// Matrix multiplication with custom instruction\nvoid matrix_multiply(float *C, float *A, float *B, int M, int N, int K) {\n  for (int i = 0; i < M; i++) {\n    for (int j = 0; j < N; j++) {\n      float sum = 0.0f;\n      \n      // Use custom instruction for dot product of rows and columns\n      // Regular code for comparison:\n      // for (int k = 0; k < K; k++) {\n      //   sum += A[i*K + k] * B[k*N + j];\n      // }\n      \n      // Using custom extension via intrinsic:\n      sum = __builtin_riscv_dot_product(&A[i*K], &B[j], N, K);\n      \n      C[i*N + j] = sum;\n    }\n  }\n}</pre>\n      '}],examples:[{id:"example11_1",title:"Vector Processing with RVV",description:"Implementing a vector addition kernel using RISC-V Vector Extension",code:"// Vector addition kernel in C and RISC-V assembly with RVV\n// C function: void vadd(float* a, float* b, float* c, size_t n)\n// RISC-V RVV implementation\n\n// C/C++ function with RVV intrinsics\n#include <riscv_vector.h>\n\nvoid vadd_intrinsics(float* a, float* b, float* c, size_t n) {\n  size_t vl;\n  for (size_t i = 0; i < n; i += vl) {\n    // Set vector length based on remaining elements\n    vl = __riscv_vsetvl_e32m8(n - i);\n    \n    // Load vectors from a and b\n    vfloat32m8_t va = __riscv_vle32_v_f32m8(a + i, vl);\n    vfloat32m8_t vb = __riscv_vle32_v_f32m8(b + i, vl);\n    \n    // Add vectors\n    vfloat32m8_t vc = __riscv_vfadd_vv_f32m8(va, vb, vl);\n    \n    // Store result to c\n    __riscv_vse32_v_f32m8(c + i, vc, vl);\n  }\n}\n\n// Pure RISC-V assembly implementation\n// a0 = pointer to a\n// a1 = pointer to b\n// a2 = pointer to c\n// a3 = n (number of elements)\n\nvadd:\n    mv t0, a3            # t0 = n\n    li t1, 0             # t1 = i = 0\n    \nloop:\n    beq t1, t0, done     # if i >= n, exit loop\n    sub t2, t0, t1       # t2 = n - i\n    \n    # Configure vector unit for maximum efficiency\n    # e32 = 32-bit elements, m8 = use 8 registers per group\n    vsetvli t3, t2, e32, m8  # t3 = vl (vector length for this iteration)\n    \n    # Calculate addresses\n    slli t4, t1, 2       # t4 = i * 4 (size of float)\n    add t5, a0, t4       # t5 = &a[i]\n    add t6, a1, t4       # t6 = &b[i]\n    add t4, a2, t4       # t4 = &c[i]\n    \n    # Vector load from memory\n    vle32.v v8, (t5)     # v8 = a[i:i+vl-1]\n    vle32.v v16, (t6)    # v16 = b[i:i+vl-1]\n    \n    # Vector add\n    vfadd.vv v24, v8, v16  # v24 = v8 + v16\n    \n    # Vector store to memory\n    vse32.v v24, (t4)    # c[i:i+vl-1] = v24\n    \n    # Update loop counter\n    add t1, t1, t3       # i += vl\n    j loop\n    \ndone:\n    ret\n\n// Key features demonstrated:\n// 1. Vector-length agnostic (VLA) programming\n// 2. Auto-vectorization with strip mining\n// 3. Configurable vector length with vsetvli\n// 4. Vector load/store operations\n// 5. Vector floating-point arithmetic",explanation:"This example demonstrates vector processing using the RISC-V Vector Extension (RVV). It implements a simple vector addition function that computes C = A + B for arrays of floating-point values. The implementation is shown both using C with vector intrinsics and in pure RISC-V assembly language. The code illustrates key features of RVV, including vector-length agnostic programming, where the same code works regardless of the hardware's vector register width. The vsetvli instruction configures the vector unit for the current iteration, handling the remaining elements in the array. This approach automatically handles the 'strip mining' loop pattern required for vector processing. The example also shows vector load (vle32.v), vector arithmetic (vfadd.vv), and vector store (vse32.v) operations. This vector implementation can achieve significant speedups over scalar code by processing multiple elements in parallel."},{id:"example11_2",title:"Custom Extension for AES Encryption",description:"Designing and implementing custom instructions for AES encryption",code:'// Custom RISC-V extension for AES encryption\n// This example demonstrates both the hardware design and software use\n\n// 1. Instruction Definition\n// New custom instructions using the custom-0 opcode space (0001011)\n// aes.enc rd, rs1, rs2    # AES encrypt round: rd = AES_Round(rs1, rs2)\n// aes.dec rd, rs1, rs2    # AES decrypt round: rd = AES_Inv_Round(rs1, rs2)\n// aes.keyexp rd, rs1, imm # AES key expansion: rd = KeyExpansion(rs1, imm)\n\n// 2. Hardware Implementation (Verilog pseudocode)\nmodule aes_extension(\n  input         clock,\n  input         reset,\n  input  [31:0] instruction,\n  input  [31:0] rs1_data,\n  input  [31:0] rs2_data,\n  output [31:0] rd_data,\n  output        busy\n);\n  // Instruction decode\n  wire is_aes_instr = (instruction[6:0] == 7\'b0001011);\n  wire [2:0] funct3 = instruction[14:12];\n  \n  // Instruction variants\n  wire is_aes_enc = is_aes_instr && (funct3 == 3\'b000);\n  wire is_aes_dec = is_aes_instr && (funct3 == 3\'b001);\n  wire is_aes_keyexp = is_aes_instr && (funct3 == 3\'b010);\n  \n  // AES state and key registers\n  reg [127:0] aes_state;\n  reg [127:0] aes_key;\n  \n  // AES hardware modules (simplified)\n  wire [127:0] enc_result = aes_encrypt_round(aes_state, aes_key);\n  wire [127:0] dec_result = aes_decrypt_round(aes_state, aes_key);\n  wire [127:0] keyexp_result = aes_key_expansion(aes_key, rs2_data[7:0]);\n  \n  // Result selection\n  assign rd_data = is_aes_enc ? enc_result[31:0] :\n                  is_aes_dec ? dec_result[31:0] :\n                  is_aes_keyexp ? keyexp_result[31:0] :\n                  32\'h0;\n  \n  // Busy signal (encryption takes multiple cycles)\n  reg [1:0] cycle_count;\n  assign busy = (cycle_count != 0);\n  \n  // Processing state machine (simplified)\n  always @(posedge clock) begin\n    if (reset) begin\n      cycle_count <= 0;\n    end else if (is_aes_instr && cycle_count == 0) begin\n      // Start operation\n      cycle_count <= 3;\n      // Load state and key registers\n      aes_state <= {rs1_data, 96\'h0}; // Simplified, actual impl would buffer multiple words\n      aes_key <= {rs2_data, 96\'h0};\n    end else if (cycle_count > 0) begin\n      cycle_count <= cycle_count - 1;\n    end\n  end\nendmodule\n\n// 3. Software Integration: Assembly\n\n// Assembly macros for the custom instructions\n.macro aes_enc rd, rs1, rs2\n  .insn r CUSTOM_0, 0, 0, \rd, \rs1, \rs2\n.endm\n\n.macro aes_dec rd, rs1, rs2\n  .insn r CUSTOM_0, 1, 0, \rd, \rs1, \rs2\n.endm\n\n.macro aes_keyexp rd, rs1, imm\n  .insn i CUSTOM_0, 2, \rd, \rs1, imm\n.endm\n\n// Assembly code using the custom instructions\naes_encrypt_block:\n  // a0 = pointer to 16-byte output buffer\n  // a1 = pointer to 16-byte input block\n  // a2 = pointer to expanded key (11 round keys for AES-128)\n  \n  // Load input block\n  lw t0, 0(a1)\n  lw t1, 4(a1)\n  lw t2, 8(a1)\n  lw t3, 12(a1)\n  \n  // Load first round key\n  lw t4, 0(a2)\n  lw t5, 4(a2)\n  lw t6, 8(a2)\n  lw a3, 12(a2)\n  \n  // Initial AddRoundKey\n  xor t0, t0, t4\n  xor t1, t1, t5\n  xor t2, t2, t6\n  xor t3, t3, a3\n  \n  // Process 9 main rounds\n  li t4, 9          // Round counter\n  addi a2, a2, 16   // Point to next round key\n  \nencrypt_loop:\n  // Execute AES round using custom instruction\n  // Simplified - actual implementation would process full 128-bit state\n  aes_enc t0, t0, 0(a2)\n  aes_enc t1, t1, 4(a2)\n  aes_enc t2, t2, 8(a2)\n  aes_enc t3, t3, 12(a2)\n  \n  addi a2, a2, 16   // Point to next round key\n  addi t4, t4, -1   // Decrement round counter\n  bnez t4, encrypt_loop\n  \n  // Final round (different from main rounds in AES)\n  // Simplified - would use different instruction variant\n  aes_enc t0, t0, 0(a2)\n  aes_enc t1, t1, 4(a2)\n  aes_enc t2, t2, 8(a2)\n  aes_enc t3, t3, 12(a2)\n  \n  // Store result\n  sw t0, 0(a0)\n  sw t1, 4(a0)\n  sw t2, 8(a0)\n  sw t3, 12(a0)\n  \n  ret\n\n// 4. C/C++ Interface with Intrinsics\n// Compiler intrinsics to access the custom instructions\n\n#include <stdint.h>\n\n// Intrinsic declarations\nstatic inline uint32_t __aes_enc(uint32_t state, uint32_t key) {\n  uint32_t result;\n  asm volatile("custom0 %0, %1, %2" : "=r"(result) : "r"(state), "r"(key));\n  return result;\n}\n\nstatic inline uint32_t __aes_dec(uint32_t state, uint32_t key) {\n  uint32_t result;\n  asm volatile("custom0 %0, %1, %2, 0x1" : "=r"(result) : "r"(state), "r"(key));\n  return result;\n}\n\n// User-friendly C function using the intrinsics\nvoid aes_encrypt_block(uint8_t *output, const uint8_t *input, const uint8_t *key) {\n  // Implementation using intrinsics\n  // Similar to assembly version but in C\n}',explanation:"This example illustrates the design and implementation of custom RISC-V instructions for AES encryption. It shows the complete process from instruction definition to hardware implementation and software integration. The hardware portion demonstrates how to decode and execute custom instructions within the RISC-V custom-0 opcode space, including state machine design for multi-cycle operations. The software portion shows how to use these custom instructions at both the assembly level (with appropriate macros) and C/C++ level (using compiler intrinsics). AES encryption is a perfect candidate for custom instructions as it involves computationally intensive operations like substitution, permutation, and mixing that can be significantly accelerated in hardware. By implementing these operations as custom instructions, an AES-enabled RISC-V processor can achieve much higher encryption performance compared to a software-only implementation. The example demonstrates how RISC-V's extensibility enables domain-specific optimizations while maintaining compatibility with the base ISA."}],quiz:{title:"RISC-V Extensions and Customization Quiz",questions:[{question:"What is the primary advantage of RISC-V's modular approach to extensions?",options:["It allows for a smaller compiler implementation","It reduces the cost of silicon manufacturing","It enables processors to include only the features needed for specific applications","It guarantees backward compatibility with all software"],correctAnswer:2,explanation:"The primary advantage of RISC-V's modular approach to extensions is that it allows processors to include only the features needed for specific applications. This means implementations can be optimized for different domains (embedded, server, AI, etc.) without carrying unnecessary overhead, while still maintaining compatibility within the ecosystem. This approach helps balance performance, power consumption, and area based on the target application's requirements."},{question:"Which RISC-V standard extension provides atomic memory operations needed for multiprocessor synchronization?",options:["The M extension","The A extension","The C extension","The F extension"],correctAnswer:1,explanation:"The A extension (Atomic Instructions) provides atomic memory operations needed for multiprocessor synchronization in RISC-V. This extension includes instructions like atomic load-and-add, atomic swap, and load-reserved/store-conditional pairs that are essential for implementing synchronization primitives such as locks, semaphores, and atomic counters in multi-core systems."},{question:"What is the key feature of the RISC-V Vector Extension (RVV) that distinguishes it from fixed-width SIMD architectures?",options:["Support for double-precision floating point","Larger number of vector registers","Vector-length agnostic programming model","Ability to process complex numbers"],correctAnswer:2,explanation:"The key distinguishing feature of the RISC-V Vector Extension (RVV) is its vector-length agnostic programming model. This means code written for RVV can run unchanged across RISC-V implementations with different vector register widths. The same binary can automatically adapt to the hardware capabilities, processing as many elements as the physical vector length allows per iteration. This is different from fixed-width SIMD architectures like SSE/AVX, where code often needs to be rewritten for different vector widths."},{question:"Which opcode space is specifically reserved in RISC-V for custom extensions?",options:["0000000","0001011 (custom-0)","1111111","0110011"],correctAnswer:1,explanation:"The opcode 0001011 (custom-0) is specifically reserved in RISC-V for custom extensions, along with custom-1, custom-2, and custom-3. These reserved opcode spaces allow implementers to add application-specific instructions without conflicting with standard RISC-V instructions. This intentional design feature enables the extensibility that makes RISC-V suitable for domain-specific optimizations."},{question:"What does the 'G' in RV64G stand for?",options:["Graphics instructions","General-purpose (combination of IMAFD extensions)","Government-approved security features","Gigabit networking support"],correctAnswer:1,explanation:"The 'G' in RV64G stands for General-purpose, which is a shorthand notation for the combination of the base integer instruction set (I) plus the standard extensions M (Integer Multiplication/Division), A (Atomic Instructions), F (Single-Precision Floating-Point), and D (Double-Precision Floating-Point). RV64G is a common configuration for general-purpose computing that provides a good balance of features for most applications."},{question:"In the RISC-V Vector Extension, what does the vsetvli instruction do?",options:["Sets vector register v0 to a literal immediate value","Configures the vector length and element size for subsequent vector operations","Selects which vector registers are enabled","Initializes the vector unit to a known state"],correctAnswer:1,explanation:"The vsetvli instruction in the RISC-V Vector Extension configures the vector length and element size for subsequent vector operations. It takes into account the available hardware resources, the desired element width, and the number of elements to be processed. This instruction is key to the vector-length agnostic programming model, allowing software to adapt to the physical vector length of the hardware while maintaining portability."},{question:"What is the main advantage of designing domain-specific instructions for a RISC-V processor?",options:["Lower manufacturing costs","Improved compatibility with existing software","Significantly higher performance and efficiency for specific workloads","Simplified verification process"],correctAnswer:2,explanation:"The main advantage of designing domain-specific instructions for a RISC-V processor is significantly higher performance and efficiency for specific workloads. Custom instructions can accelerate critical operations that are frequently used in a particular application domain, such as cryptography, signal processing, or machine learning. These specialized instructions can often achieve orders of magnitude better performance and energy efficiency compared to implementing the same operations using general-purpose instructions."},{question:"Which privilege level is present in all RISC-V implementations?",options:["User Mode (U-mode)","Supervisor Mode (S-mode)","Hypervisor Mode (H-mode)","Machine Mode (M-mode)"],correctAnswer:3,explanation:"Machine Mode (M-mode) is present in all RISC-V implementations. It is the highest privilege level and provides low-level access to the hardware. Even the simplest RISC-V implementations support M-mode, while other privilege levels like User Mode (U-mode) and Supervisor Mode (S-mode) are optional and typically included based on the intended application of the processor."},{question:"What is the key challenge when developing custom RISC-V extensions?",options:["Limited documentation for the base ISA","Balancing specialization with compatibility and maintenance of software tools","High cost of RISC-V licensing","Inability to use standard development tools"],correctAnswer:1,explanation:"The key challenge when developing custom RISC-V extensions is balancing specialization with compatibility and maintenance of software tools. While custom extensions can provide significant performance benefits for specific applications, they require updates to the entire toolchain (assembler, compiler, debugger) and can create incompatibilities with standard software. Developers must carefully consider whether the performance benefits justify the additional development and maintenance costs."},{question:"What is the purpose of the RISC-V 'C' extension?",options:["Adding support for the C programming language","Improving code density with compressed 16-bit instructions","Implementing cache control instructions","Supporting complex number arithmetic"],correctAnswer:1,explanation:"The purpose of the RISC-V 'C' extension is improving code density with compressed 16-bit instructions. This extension provides shorter encodings for common instructions, reducing program size by typically 25-30%. The compressed instructions maintain full compatibility with the base ISA, as each 16-bit instruction has a 32-bit equivalent. This is particularly valuable for embedded systems where memory size and bandwidth are constrained."}]}},completed:!1},{...{id:12,title:"Future Trends and Emerging RISC-V Applications",description:"Exploring the future of RISC-V and its impact on emerging computing domains",estimatedTime:"2 hours",completed:!1,sections:[{id:"12.1",title:"RISC-V Ecosystem Growth",content:'\n        <h3>The Expanding RISC-V Landscape</h3>\n        <p>RISC-V has rapidly evolved from an academic project to a global industry standard with growing adoption.</p>\n        \n        <h4>Industry Adoption</h4>\n        <p>Major companies and organizations investing in RISC-V:</p>\n        <ul>\n          <li><strong>Semiconductor Companies</strong>: Western Digital, Nvidia, Qualcomm, Intel</li>\n          <li><strong>Cloud Providers</strong>: Google, Amazon, Alibaba</li>\n          <li><strong>Nations and Governments</strong>: EU, China, India</li>\n          <li><strong>Research Organizations</strong>: DARPA, CERN, national labs</li>\n        </ul>\n        \n        <h4>Commercial RISC-V Implementations</h4>\n        <p>The market now includes a wide range of RISC-V processors:</p>\n        <ul>\n          <li><strong>Microcontrollers</strong>: SiFive Freedom, GreenWaves GAP, Andes cores</li>\n          <li><strong>Application Processors</strong>: SiFive Performance series, Esperanto ET-SoCs</li>\n          <li><strong>Vector/AI Accelerators</strong>: Esperanto Maxion, Andes NX series</li>\n          <li><strong>FPGA Soft Cores</strong>: VexRiscv, Rocket, BOOM</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/PdmHc9V.png" alt="RISC-V Ecosystem Growth" style="max-width: 700px; width: 100%;">\n          <p><em>Growth of RISC-V ecosystem participants and commercial products</em></p>\n        </div>\n        \n        <h4>Open-Source Hardware Development</h4>\n        <p>RISC-V has catalyzed an explosion in open hardware projects:</p>\n        <ul>\n          <li><strong>Core Implementations</strong>: PULP Platform, OpenHW Group cores, LowRISC</li>\n          <li><strong>Verification</strong>: RISC-V Formal, Google\'s RISCV-DV, OneSpin</li>\n          <li><strong>Development Boards</strong>: HiFive, Arty FPGA boards, BeagleV</li>\n          <li><strong>Research Platforms</strong>: FireSim, Chipyard, Bluespec</li>\n        </ul>\n        \n        <h4>Software Ecosystem Maturity</h4>\n        <p>Key developments in RISC-V software support:</p>\n        <ul>\n          <li><strong>Compilers</strong>: GCC, LLVM, commercial offerings with optimization</li>\n          <li><strong>Operating Systems</strong>: Linux, FreeRTOS, Zephyr, RTOS options</li>\n          <li><strong>Simulators</strong>: Spike, QEMU, Renode, commercial simulators</li>\n          <li><strong>Debuggers</strong>: GDB, OpenOCD, commercial debug solutions</li>\n          <li><strong>IDEs</strong>: Eclipse, Visual Studio Code, vendor-specific environments</li>\n        </ul>\n      '},{id:"12.2",title:"RISC-V in Edge Computing and IoT",content:'\n        <h3>Revolutionizing the Edge</h3>\n        <p>RISC-V is particularly well-positioned for edge computing and IoT applications due to its scalability and efficiency.</p>\n        \n        <h4>Advantages for IoT Applications</h4>\n        <p>RISC-V offers several benefits for edge devices:</p>\n        <ul>\n          <li><strong>Power Efficiency</strong>: Customizable cores with only necessary features</li>\n          <li><strong>Scalability</strong>: From tiny microcontrollers to multi-core processors</li>\n          <li><strong>Security</strong>: Custom security extensions and physical security features</li>\n          <li><strong>Cost</strong>: Royalty-free architecture reduces per-unit costs</li>\n          <li><strong>Longevity</strong>: Freedom from vendor lock-in and obsolescence</li>\n        </ul>\n        \n        <h4>Smart Sensors and Wearables</h4>\n        <p>RISC-V enables innovation in small-form-factor devices:</p>\n        <ul>\n          <li>Ultra-low-power microcontrollers for battery-operated devices</li>\n          <li>Integrated sensor hubs with local processing capabilities</li>\n          <li>Customized instruction sets for sensor fusion algorithms</li>\n          <li>Hardware acceleration for specific sensing modalities</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/S2F3uAr.png" alt="RISC-V IoT Applications" style="max-width: 650px; width: 100%;">\n          <p><em>RISC-V application spectrum from tiny sensors to edge servers</em></p>\n        </div>\n        \n        <h4>Edge AI and Machine Learning</h4>\n        <p>Specialized RISC-V implementations for AI at the edge:</p>\n        <ul>\n          <li><strong>Vector Extensions</strong>: Efficient matrix operations for neural networks</li>\n          <li><strong>Custom AI Accelerators</strong>: ML-specific instructions and hardware</li>\n          <li><strong>Heterogeneous Computing</strong>: RISC-V cores managing specialized accelerators</li>\n          <li><strong>Tiny ML</strong>: RISC-V cores optimized for sub-watt ML inference</li>\n        </ul>\n        \n        <h4>Industrial IoT and Control Systems</h4>\n        <p>RISC-V adoption in industrial applications:</p>\n        <ul>\n          <li>Deterministic real-time processing for control systems</li>\n          <li>Functional safety extensions for critical applications</li>\n          <li>Long-term availability and support for industrial lifecycles</li>\n          <li>Mixed-criticality systems with security isolation</li>\n        </ul>\n      '},{id:"12.3",title:"RISC-V in High-Performance Computing",content:'\n        <h3>Scaling RISC-V to Supercomputing</h3>\n        <p>While traditionally focused on embedded applications, RISC-V is increasingly targeting high-performance computing domains.</p>\n        \n        <h4>RISC-V for Servers and Data Centers</h4>\n        <p>Developments pushing RISC-V into server markets:</p>\n        <ul>\n          <li><strong>Multi-core, High-Performance Designs</strong>: 64-bit designs with high clock frequencies</li>\n          <li><strong>Memory Hierarchy Optimization</strong>: Large caches and advanced memory controllers</li>\n          <li><strong>PCIe and Networking Integration</strong>: High-speed I/O for server workloads</li>\n          <li><strong>Virtualization Support</strong>: Hardware virtualization extensions</li>\n        </ul>\n        \n        <h4>Specialized Accelerators</h4>\n        <p>RISC-V as a foundation for heterogeneous computing:</p>\n        <ul>\n          <li><strong>Reconfigurable Computing</strong>: RISC-V cores combined with FPGA fabric</li>\n          <li><strong>Domain-Specific Accelerators</strong>: AI, cryptography, networking</li>\n          <li><strong>SmartNIC and DPU Architectures</strong>: RISC-V for network processing</li>\n          <li><strong>Storage Controllers</strong>: Computational storage with RISC-V cores</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/BKqOjVc.png" alt="RISC-V HPC" style="max-width: 700px; width: 100%;">\n          <p><em>RISC-V-based heterogeneous computing architecture</em></p>\n        </div>\n        \n        <h4>Exascale and Scientific Computing</h4>\n        <p>Research initiatives exploring RISC-V for supercomputing:</p>\n        <ul>\n          <li>European Processor Initiative (EPI) exploring RISC-V for exascale computing</li>\n          <li>Vector extensions optimized for scientific workloads</li>\n          <li>Open-source hardware approach for scientific community customization</li>\n          <li>Specialized instructions for physics simulations and computational chemistry</li>\n        </ul>\n        \n        <h4>Energy-Efficient HPC</h4>\n        <p>RISC-V\'s potential advantages for sustainable computing:</p>\n        <ul>\n          <li>Specialized cores optimized for specific HPC workloads</li>\n          <li>Fine-grained power management with custom extensions</li>\n          <li>Removal of unnecessary features to improve energy efficiency</li>\n          <li>Domain-specific acceleration to improve performance per watt</li>\n        </ul>\n      '},{id:"12.4",title:"Future Research Directions and Challenges",content:'\n        <h3>The Road Ahead for RISC-V</h3>\n        <p>Despite rapid progress, RISC-V faces important challenges and opportunities for future development.</p>\n        \n        <h4>Emerging Extensions and Standards</h4>\n        <p>Active development areas in the RISC-V specification:</p>\n        <ul>\n          <li><strong>Advanced Security</strong>: TEEs, advanced cryptographic extensions, secure boot</li>\n          <li><strong>Hypervisor Support</strong>: Enhanced virtualization for cloud environments</li>\n          <li><strong>Advanced Vector Processing</strong>: Evolving the vector specification</li>\n          <li><strong>Memory Model Refinements</strong>: Addressing the challenges of modern memory hierarchies</li>\n          <li><strong>Real-Time Extensions</strong>: Deterministic execution for critical applications</li>\n        </ul>\n        \n        <h4>Technical Challenges</h4>\n        <p>Key obstacles for broader RISC-V adoption:</p>\n        <ul>\n          <li><strong>Verification and Validation</strong>: Ensuring correctness across diverse implementations</li>\n          <li><strong>Legacy Software Porting</strong>: Moving existing code bases to RISC-V</li>\n          <li><strong>Fragmentation Risk</strong>: Balancing customization with compatibility</li>\n          <li><strong>Toolchain Maturity</strong>: Optimizing compilers and development tools</li>\n          <li><strong>Talent Pool Development</strong>: Building workforce expertise in RISC-V</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/dNruUEk.png" alt="RISC-V Roadmap" style="max-width: 700px; width: 100%;">\n          <p><em>Roadmap of emerging RISC-V extensions and standards</em></p>\n        </div>\n        \n        <h4>Research Opportunities</h4>\n        <p>Exciting areas for future RISC-V research:</p>\n        <ul>\n          <li><strong>Post-von Neumann Architectures</strong>: Near-memory and in-memory computing</li>\n          <li><strong>Quantum Computing Control</strong>: RISC-V for quantum system management</li>\n          <li><strong>Neuromorphic Computing</strong>: Brain-inspired computing models</li>\n          <li><strong>Extreme-Scale Computing</strong>: Massive parallelism beyond current limits</li>\n          <li><strong>Ultra-Low Power Design</strong>: Pushing the boundaries of energy efficiency</li>\n        </ul>\n        \n        <h4>Democratizing Hardware Design</h4>\n        <p>The broader impact of the open hardware movement:</p>\n        <ul>\n          <li>Lower barriers to entry for hardware startups and innovators</li>\n          <li>Academic and educational benefits of open architectures</li>\n          <li>Greater transparency and trust in critical computing infrastructure</li>\n          <li>Collaborative innovation across traditional industry boundaries</li>\n        </ul>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n"The value of RISC-V lies not just in what it is today, \nbut in what it enables for tomorrow\'s computing landscape.\nIt represents a fundamental shift from closed, proprietary \narchitectures to an open, collaborative approach to hardware \ndesign that mirrors the revolution open source brought to software."\n\n- Krste Asanovi\u0107, Co-founder of RISC-V</pre>\n      '}],examples:[{id:"example12_1",title:"Edge AI Processor Design",description:"Conceptual design of a RISC-V-based edge AI processor",code:"// System architecture diagram for a RISC-V-based edge AI processor\n// This conceptual design shows the integration of RISC-V cores with specialized accelerators\n\n/*\n+-------------------------------------------------------------------------+\n|                                                                         |\n|  +---------------+    +---------------+    +---------------+            |\n|  | RISC-V RV64GC |    | RISC-V RV64GC |    | RISC-V RV32EC |            |\n|  | Application   |    | Application   |    | System        |            |\n|  | Core 0        |    | Core 1        |    | Controller    |            |\n|  +-------+-------+    +-------+-------+    +-------+-------+            |\n|          |                    |                    |                    |\n|        L1 I/D              L1 I/D                L1 I/D                |\n|          |                    |                    |                    |\n|  +-------v---------+----------v--------+-----------v-------+            |\n|  |                         Mesh NoC                        |            |\n|  +--+----------+------------+----------+------------+------+            |\n|     |          |            |          |            |                   |\n|  +--v--+    +--v--+      +--v--+    +--v--+      +-v----+              |\n|  | L2  |    | L2  |      | L2  |    | L2  |      | Boot |              |\n|  | $   |    | $   |      | $   |    | $   |      | ROM  |              |\n|  +--+--+    +--+--+      +--+--+    +--+--+      +------+              |\n|     |          |            |          |                                |\n|  +--v----------v------------v----------v-----------------------+        |\n|  |                      Shared L3 Cache                        |        |\n|  +--+--------------------------------------------------------+-+        |\n|     |                                                        |          |\n|     |                                                        |          |\n|  +--v------------------------+        +---------------------+v+         |\n|  |   Memory Controller       |        |  Peripheral Control  ||         |\n|  |   (LPDDR4/5)              |        |  (GPIO, I2C, SPI)    ||         |\n|  +--+------------------------+        +----------------------++         |\n|     |                                                        |          |\n|     |      +---------------------------------------------+   |          |\n|     |      |            Accelerator Complex              |   |          |\n|     |      |  +----------+  +----------+  +----------+   |   |          |\n|     |      |  | Vector   |  | Tensor   |  | CNN/DNN  |   |   |          |\n|     |      |  | Proc Unit|  | Proc Unit|  | Engine   |   |   |          |\n|     |      |  +----------+  +----------+  +----------+   |   |          |\n|     |      |  +----------+  +----------+                 |   |          |\n|     |      |  | FFT/DSP  |  | Crypto   |                 |   |          |\n|     |      |  | Engine   |  | Engine   |                 |   |          |\n|     |      |  +----------+  +----------+                 |   |          |\n|     |      +---------------------------------------------+   |          |\n|     |                                                        |          |\n+-----v--------------------------------------------------------v----------+\n      |                                                        |\n      v                                                        v\n   LPDDR4/5                                                External I/O\n   Memory                                               (Camera, Sensors, etc.)\n*/\n\n// Key design features:\n// 1. Heterogeneous RISC-V cores:\n//    - Two RV64GC application cores with vector extensions\n//    - One RV32EC management core for system control\n// 2. Memory hierarchy:\n//    - Private L1 caches\n//    - Distributed L2 cache slices\n//    - Shared L3 cache\n// 3. Network-on-Chip (NoC) for interconnect\n// 4. Specialized accelerators:\n//    - Vector Processing Unit (VPU) using RVV\n//    - Tensor Processing Unit (TPU) for matrix operations\n//    - CNN/DNN engine for neural network acceleration\n//    - FFT/DSP engine for signal processing\n//    - Cryptographic engine for security\n// 5. Power management:\n//    - Fine-grained power domains\n//    - Dynamic voltage and frequency scaling\n//    - Sleep and low-power modes\n\n// Example software stack running on this hardware:\n// - RTOS or lightweight Linux on application cores\n// - Bare-metal firmware on system controller\n// - ML framework (TensorFlow Lite, ONNX Runtime)\n// - Sensor fusion middleware\n// - Edge inferencing applications\n\n// Power/Performance targets:\n// - 0.5-2W power envelope\n// - 5-10 TOPS for 8-bit integer operations\n// - 100-500 GFLOPS for floating-point operations\n// - Sub-millisecond inferencing latency",explanation:"This example presents a conceptual design for a RISC-V-based edge AI processor targeting smart devices, industrial control, and IoT applications. The architecture illustrates several emerging trends in RISC-V processor design: heterogeneous multi-core configurations, specialized accelerators, and system-on-chip integration. The design features both general-purpose RISC-V cores (RV64GC application processors) and a smaller control core (RV32EC) for system management. These are complemented by domain-specific accelerators for AI workloads, signal processing, and security functions. The design showcases how RISC-V's extensibility enables the creation of specialized computing platforms that balance general-purpose programmability with domain-specific acceleration. Such architectures are particularly valuable for edge AI applications that require local processing of sensor data with stringent power constraints. This represents a growing trend in RISC-V adoption, where the base ISA provides the foundation for integrating custom extensions and accelerators in a coherent system architecture."},{id:"example12_2",title:"RISC-V Security Extensions",description:"Implementing hardware security features with RISC-V custom extensions",code:'// RISC-V Security Extensions for Trusted Execution Environment (TEE)\n// This example demonstrates emerging security extensions for RISC-V\n\n// 1. Physical Memory Protection (PMP) Configuration \n// PMP allows defining protected memory regions with specific access permissions\n\n// Configure PMP for a secure enclave\nvoid configure_secure_enclave(void) {\n    // Define secure memory region (example: 0x80000000-0x8000FFFF)\n    unsigned long secure_start = 0x80000000;\n    unsigned long secure_size = 0x10000; // 64KB\n    \n    // Set PMP configuration\n    // Use TOR (Top of Range) mode, with read/write/execute permissions for M-mode only\n    unsigned long pmpaddr = (secure_start + secure_size) >> 2;\n    unsigned long pmpcfg = (PMP_TOR << 3) | (PMP_R | PMP_W | PMP_X);\n    \n    // Write to PMP configuration CSRs\n    asm volatile("csrw pmpaddr0, %0" :: "r"(pmpaddr));\n    asm volatile("csrw pmpcfg0, %0" :: "r"(pmpcfg));\n}\n\n// 2. Future Trusted Execution Environment Instructions\n// These represent conceptual extensions for secure enclaves (not yet standardized)\n\n// Enter secure execution mode\ninline void enter_secure_mode(void* entry_point, void* args) {\n    asm volatile(\n        "mv a0, %0\n"\n        "mv a1, %1\n"\n        "tee.enter\n" // Hypothetical instruction for entering TEE\n        :: "r"(entry_point), "r"(args)\n        : "a0", "a1"\n    );\n}\n\n// Generate attestation report\ninline void generate_attestation(void* report, size_t report_size) {\n    asm volatile(\n        "mv a0, %0\n"\n        "mv a1, %1\n"\n        "tee.attest\n" // Hypothetical instruction for attestation\n        :: "r"(report), "r"(report_size)\n        : "a0", "a1"\n    );\n}\n\n// Measure code segment for integrity\ninline uint64_t measure_code(void* code_base, size_t code_size) {\n    uint64_t measurement;\n    asm volatile(\n        "mv a0, %1\n"\n        "mv a1, %2\n"\n        "tee.measure\n" // Hypothetical instruction for secure measurement\n        "mv %0, a0\n"\n        : "=r"(measurement)\n        : "r"(code_base), "r"(code_size)\n        : "a0", "a1"\n    );\n    return measurement;\n}\n\n// 3. Hardware Random Number Generation\n// Example of using a potential RISC-V entropy source extension\n\ninline uint64_t get_hardware_random(void) {\n    uint64_t random_value;\n    asm volatile(\n        "entropy.random %0\n" // Hypothetical instruction for hardware RNG\n        : "=r"(random_value)\n    );\n    return random_value;\n}\n\n// 4. Secure Boot Implementation\n// Conceptual secure boot sequence for RISC-V systems\n\nvoid perform_secure_boot(void) {\n    // Stage 0: ROM-based root of trust\n    // (implemented in hardware, not shown in code)\n    \n    // Stage 1: Verify and measure bootloader\n    void* bootloader_base = (void*)0x1000;\n    size_t bootloader_size = 0x5000;\n    uint64_t expected_measurement = 0xabcdef1234567890; // From OTP/fuses\n    \n    uint64_t actual_measurement = measure_code(bootloader_base, bootloader_size);\n    if (actual_measurement != expected_measurement) {\n        // Boot measurement failed - halt or recovery\n        while(1) { /* Secure failure mode */ }\n    }\n    \n    // Stage 2: Set up memory protection\n    configure_secure_enclave();\n    \n    // Stage 3: Jump to verified bootloader\n    void (*bootloader_entry)(void) = (void(*)(void))bootloader_base;\n    bootloader_entry();\n}\n\n// 5. Secure Enclave API Example\n// Conceptual API for a RISC-V-based secure enclave\n\ntypedef struct {\n    uint8_t data[16];\n} aes_key_t;\n\n// Encrypt data using hardware-protected key\nbool enclave_encrypt(uint8_t* plaintext, size_t plaintext_len,\n                    uint8_t* ciphertext, size_t ciphertext_len) {\n    bool result = false;\n    \n    // Enter secure mode to perform sensitive operation\n    enter_secure_mode((void*)secure_encrypt_function, (void*)&encrypt_params);\n    \n    // Result is populated by the secure function\n    return result;\n}\n\n// Future directions for RISC-V security:\n// - Standardized TEE extensions\n// - Side-channel resistant instructions\n// - Memory encryption and integrity protection\n// - Secure multi-tenant virtualization\n// - Post-quantum cryptography acceleration\n// - Remote attestation protocols\n// - Secure provisioning mechanisms',explanation:"This example explores emerging security extensions for RISC-V processors, focusing on technologies that enable trusted execution environments (TEEs) and secure enclaves. The code demonstrates both existing security features like Physical Memory Protection (PMP) and conceptual extensions that are under development or consideration by the RISC-V security community. The example includes implementations of secure mode transitions, hardware-based attestation, integrity measurement, and hardware random number generation. It also outlines a secure boot implementation and a simple secure enclave API. While some of these extensions are still evolving and not yet standardized, they represent important directions in RISC-V security research and development. As security becomes increasingly critical for edge devices, IoT, and cloud computing, these types of extensions will be essential for RISC-V to compete in security-sensitive markets. The open nature of RISC-V allows security researchers and industry experts to collaboratively develop and standardize these extensions, potentially leading to more transparent and thoroughly vetted security mechanisms compared to proprietary architectures."}],quiz:{title:"Future Trends and Emerging RISC-V Applications Quiz",questions:[{question:"What is a key advantage of RISC-V for IoT devices compared to proprietary architectures?",options:["Higher performance in all applications","Built-in wireless connectivity","Customizability to include only necessary features for power efficiency","Automatic compliance with security regulations"],correctAnswer:2,explanation:"A key advantage of RISC-V for IoT devices is its customizability, allowing designers to include only the necessary features for a specific application. This leads to improved power efficiency, which is critical for battery-operated IoT devices. Unlike proprietary architectures that may include features not needed for a specific application (increasing power consumption), RISC-V allows for precise tailoring of the processor to the application requirements."},{question:"Which factor represents a significant challenge for RISC-V adoption in high-performance computing?",options:["Verification and validation across diverse implementations","Lack of vector processing capabilities","Inability to scale beyond 64 bits","Legal restrictions on supercomputer applications"],correctAnswer:0,explanation:"Verification and validation across diverse implementations represents a significant challenge for RISC-V adoption in high-performance computing. As RISC-V allows for customization and extensions, ensuring correctness and compatibility across different implementations becomes more complex. This challenge is particularly important for HPC applications where reliability and performance consistency are critical."},{question:"What is a key characteristic of the RISC-V Vector Extension (RVV) that makes it particularly suitable for edge AI applications?",options:["Fixed 256-bit vector width for all implementations","Vector-length agnostic programming model that adapts to hardware capabilities","Dedicated neural network instructions unavailable in other architectures","Compatibility with x86 SIMD code"],correctAnswer:1,explanation:"The vector-length agnostic programming model is a key characteristic of RISC-V Vector Extension (RVV) that makes it particularly suitable for edge AI applications. This feature allows the same code to run efficiently on implementations with different vector register widths, enabling software portability across a range of devices with varying computational resources\u2014from tiny edge devices to more powerful systems, without requiring code changes or recompilation."},{question:"How does the open-source nature of RISC-V potentially impact hardware security?",options:["It makes all RISC-V systems inherently less secure than proprietary systems","It prevents the implementation of hardware security features","It allows for transparent security mechanism development and community review","It requires all security implementations to be publicly disclosed"],correctAnswer:2,explanation:"The open-source nature of RISC-V potentially impacts hardware security by allowing for transparent security mechanism development and community review. Unlike proprietary architectures where security features might be developed behind closed doors, RISC-V security extensions can benefit from broader scrutiny by security researchers and experts, potentially leading to more robust and thoroughly vetted security mechanisms. This doesn't mean all implementations must disclose their security details, but the base mechanisms can be openly reviewed."},{question:"Which emerging application area is particularly well-suited for domain-specific RISC-V processors with custom extensions?",options:["General-purpose desktop computing","Legacy enterprise applications","Edge AI and machine learning inference","Running unmodified x86 software"],correctAnswer:2,explanation:"Edge AI and machine learning inference is particularly well-suited for domain-specific RISC-V processors with custom extensions. These workloads have specific computational patterns that can benefit from specialized instructions and accelerators, such as matrix operations, tensor manipulation, and neural network activation functions. RISC-V's extensibility allows designers to add these custom features while maintaining software compatibility with the base architecture, creating highly efficient solutions for edge AI applications."},{question:"What is a key advantage of heterogeneous multi-core RISC-V designs for edge computing?",options:["Simplified programming model compared to homogeneous designs","Lower manufacturing costs regardless of design complexity","Ability to optimize different cores for specific tasks and power profiles","Automatic compatibility with all existing software"],correctAnswer:2,explanation:"A key advantage of heterogeneous multi-core RISC-V designs for edge computing is the ability to optimize different cores for specific tasks and power profiles. For example, a system might combine high-performance cores for compute-intensive tasks, low-power cores for background operations, and specialized cores for real-time control or security functions. This approach allows for more efficient use of silicon area and power, which is especially important in power-constrained edge devices."},{question:"Which software ecosystem development is most critical for broader RISC-V adoption in commercial applications?",options:["Development of RISC-V-specific programming languages","Mature toolchains with competitive optimization capabilities","Elimination of all assembly language programming","Mandatory open-source licensing for all RISC-V software"],correctAnswer:1,explanation:"Mature toolchains with competitive optimization capabilities are most critical for broader RISC-V adoption in commercial applications. High-quality compilers, debuggers, profilers, and other development tools that can generate efficient code are essential for RISC-V to compete with established architectures. Without these tools, developers would struggle to achieve the performance and efficiency promised by the hardware, making commercial adoption difficult regardless of the hardware's theoretical advantages."},{question:"What is a potential advantage of RISC-V in post-von Neumann computing architectures?",options:["RISC-V was specifically designed for quantum computing","RISC-V's fixed ISA cannot be modified for new computing paradigms","RISC-V's openness allows for novel extensions to support new memory-centric computing models","RISC-V automatically translates code to run on neuromorphic hardware"],correctAnswer:2,explanation:"A potential advantage of RISC-V in post-von Neumann computing architectures is that its openness allows for novel extensions to support new memory-centric computing models. As computing moves toward paradigms like near-memory processing, in-memory computing, or neuromorphic designs, RISC-V's extensible nature provides a foundation for creating specialized instructions and hardware interfaces to these new computational models, without abandoning software compatibility with existing code."},{question:"How does RISC-V's approach to physical memory protection (PMP) enhance security in embedded systems?",options:["By requiring all memory to be encrypted","By allowing fine-grained control over memory access permissions for different privilege levels","By preventing any modification to program code after compilation","By requiring biometric authentication for all memory access"],correctAnswer:1,explanation:"RISC-V's approach to physical memory protection (PMP) enhances security in embedded systems by allowing fine-grained control over memory access permissions for different privilege levels. PMP allows system designers to precisely define which memory regions can be accessed by code running at different privilege levels, with what permissions (read, write, execute). This mechanism can prevent unprivileged code from accessing sensitive memory regions, helping to contain security breaches and enforce isolation between different components of a system."},{question:"What trend is represented by the integration of RISC-V cores with domain-specific accelerators in system-on-chip designs?",options:["A return to single-core computing principles","A move toward heterogeneous computing with specialized processing elements","The replacement of general-purpose computing with fixed-function logic","The separation of CPU and accelerator markets"],correctAnswer:1,explanation:"The integration of RISC-V cores with domain-specific accelerators in system-on-chip designs represents a move toward heterogeneous computing with specialized processing elements. This trend acknowledges that different workloads have different computational characteristics, and a combination of general-purpose processors with specialized accelerators can provide better performance and energy efficiency than either approach alone. RISC-V serves as the general-purpose control and processing foundation, while custom accelerators handle specialized tasks like AI inference, signal processing, or cryptography."}]}},completed:!1},{...{id:13,title:"FPGA Implementation",description:"Implementing RISC-V processors on FPGA platforms",estimatedTime:"4 hours",completed:!1,sections:[{id:"13.1",title:"FPGA Design Flow",content:'\n        <h3>FPGA Implementation Workflow for RISC-V Processors</h3>\n        <p>Field-Programmable Gate Arrays (FPGAs) offer an ideal platform for prototyping and deploying RISC-V processors, providing a balance of flexibility, performance, and time-to-market advantages.</p>\n        \n        <h4>RTL Synthesis for FPGA Targets</h4>\n        <p>The synthesis process for FPGA targets involves transforming your Verilog/VHDL RISC-V design into the FPGA\'s configurable logic blocks:</p>\n        <ul>\n          <li><strong>Tool Chains</strong>: Major FPGA vendors provide their own synthesis tools (Vivado for Xilinx/AMD, Quartus for Intel, Libero for Microchip)</li>\n          <li><strong>Optimization Goals</strong>: Synthesis can be configured to prioritize area, speed, or power consumption</li>\n          <li><strong>Technology Mapping</strong>: The process of mapping generic RTL constructs to FPGA-specific resources (LUTs, FFs, DSPs, BRAMs)</li>\n          <li><strong>Platform-Specific Considerations</strong>: Different FPGA families have different architectures and resources that influence synthesis decisions</li>\n        </ul>\n        \n        <h4>Constraint Management</h4>\n        <p>Constraints guide the tools to achieve your design requirements:</p>\n        <ul>\n          <li><strong>Timing Constraints</strong>: Specify clock frequencies, setup/hold requirements, and timing relationships</li>\n          <li><strong>Physical Constraints</strong>: Define pin assignments, placement regions, and I/O standards</li>\n          <li><strong>Resource Constraints</strong>: Control resource utilization and allocation</li>\n          <li><strong>Cross-Clock Domain</strong>: Specify relationships between different clock domains</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/hVzRGnx.png" alt="FPGA Design Flow" style="max-width: 700px; width: 100%;">\n          <p><em>Comprehensive FPGA design flow for RISC-V implementations</em></p>\n        </div>\n        \n        <h4>Place and Route Optimization</h4>\n        <p>After synthesis, the place and route process determines the physical implementation:</p>\n        <ul>\n          <li><strong>Placement</strong>: Assigns synthesized components to specific physical locations on the FPGA</li>\n          <li><strong>Routing</strong>: Creates connections between components using the FPGA\'s routing resources</li>\n          <li><strong>Iterative Refinement</strong>: Tools perform multiple passes to optimize the implementation</li>\n          <li><strong>Congestion Management</strong>: Detecting and resolving routing congestion</li>\n        </ul>\n        \n        <h4>Timing Closure Techniques</h4>\n        <p>Achieving timing closure is often the most challenging aspect of FPGA implementation:</p>\n        <ul>\n          <li><strong>Critical Path Analysis</strong>: Identifying and optimizing the longest timing paths</li>\n          <li><strong>Pipelining</strong>: Adding pipeline stages to break long combinational paths</li>\n          <li><strong>Retiming</strong>: Repositioning registers to balance combinational logic between clock cycles</li>\n          <li><strong>Clock Domain Management</strong>: Proper handling of clock domain crossings</li>\n          <li><strong>False Path Identification</strong>: Marking paths that are not relevant for timing analysis</li>\n        </ul>\n        \n        <h4>Resource Utilization Analysis</h4>\n        <p>Understanding and optimizing resource usage is essential for efficient designs:</p>\n        <ul>\n          <li><strong>Resource Reports</strong>: Analyzing LUT, FF, BRAM, DSP utilization</li>\n          <li><strong>Bottleneck Identification</strong>: Determining which resources limit your design</li>\n          <li><strong>Architectural Tradeoffs</strong>: Exploring alternative implementations for resource-intensive modules</li>\n          <li><strong>Utilization Maps</strong>: Visualizing resource distribution across the FPGA</li>\n        </ul>\n      '},{id:"13.2",title:"FPGA-specific Optimizations",content:'\n        <h3>Specialized Techniques for RISC-V on FPGAs</h3>\n        <p>FPGA architectures offer unique resources that can be leveraged to optimize RISC-V implementations.</p>\n        \n        <h4>BRAM Utilization for Memory</h4>\n        <p>Block RAMs are dedicated memory resources that should be efficiently used:</p>\n        <ul>\n          <li><strong>Register File Implementation</strong>: Using dual-port BRAMs for the RISC-V register file</li>\n          <li><strong>Instruction Cache</strong>: Implementing instruction memories with appropriate BRAM configurations</li>\n          <li><strong>Data Cache</strong>: Optimizing data cache structures for BRAM architecture</li>\n          <li><strong>Memory Controller</strong>: Efficient BRAM usage for memory controller buffers</li>\n          <li><strong>BRAM Inference</strong>: Writing RTL that efficiently infers BRAM resources</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/XhPZS4W.png" alt="FPGA Resource Optimization" style="max-width: 700px; width: 100%;">\n          <p><em>FPGA resource optimization techniques for RISC-V implementations</em></p>\n        </div>\n        \n        <h4>DSP Block Usage for Arithmetic</h4>\n        <p>DSP blocks accelerate arithmetic operations within the RISC-V processor:</p>\n        <ul>\n          <li><strong>ALU Implementation</strong>: Mapping arithmetic operations to DSP resources</li>\n          <li><strong>Multiplier Units</strong>: Efficiently using DSP blocks for the M-extension</li>\n          <li><strong>Floating-Point Units</strong>: Leveraging DSPs for F/D-extensions</li>\n          <li><strong>Address Calculation</strong>: Using DSPs for fast address generation</li>\n          <li><strong>DSP Inference</strong>: RTL coding styles that ensure proper DSP utilization</li>\n        </ul>\n        \n        <h4>Clock Management</h4>\n        <p>Effective clock strategies are essential for high-performance designs:</p>\n        <ul>\n          <li><strong>Clock Generation</strong>: Using MMCM/PLL resources for clock synthesis</li>\n          <li><strong>Clock Distribution</strong>: Leveraging dedicated clock networks</li>\n          <li><strong>Clock Domain Crossing</strong>: Techniques for reliable CDC in FPGAs</li>\n          <li><strong>Clock Gating</strong>: FPGA-friendly approaches to clock gating for power reduction</li>\n          <li><strong>Dynamic Frequency Scaling</strong>: Runtime clock frequency adjustment</li>\n        </ul>\n        \n        <h4>I/O Planning</h4>\n        <p>Carefully designed I/O interfaces enhance system integration:</p>\n        <ul>\n          <li><strong>Pin Assignment</strong>: Strategic allocation of FPGA pins for peripherals</li>\n          <li><strong>I/O Standards</strong>: Selecting appropriate electrical standards</li>\n          <li><strong>High-Speed Interfaces</strong>: Implementing SERDES for fast communication</li>\n          <li><strong>Input Synchronization</strong>: Proper synchronization of asynchronous inputs</li>\n          <li><strong>Output Buffering</strong>: Ensuring clean output signals</li>\n        </ul>\n        \n        <h4>Debug Insertion (ILA, VIO)</h4>\n        <p>FPGA-based debugging infrastructure facilitates RISC-V processor verification:</p>\n        <ul>\n          <li><strong>Integrated Logic Analyzer (ILA)</strong>: Capturing internal signals for analysis</li>\n          <li><strong>Virtual I/O (VIO)</strong>: Interactive control of design parameters at runtime</li>\n          <li><strong>Debug Hub</strong>: Centralized management of debug cores</li>\n          <li><strong>Trace Buffers</strong>: Recording processor execution history</li>\n          <li><strong>Trigger Conditions</strong>: Configuring sophisticated capture conditions</li>\n        </ul>\n      '},{id:"13.3",title:"SoC FPGA Integration",content:'\n        <h3>Building Complete RISC-V Systems on FPGA</h3>\n        <p>Modern FPGA platforms enable the integration of RISC-V processors with peripherals and accelerators to form complete systems-on-chip.</p>\n        \n        <h4>Soft vs. Hard Processor Cores</h4>\n        <p>Understanding the tradeoffs between soft RISC-V cores and hard ARM/RISC-V cores in SoC FPGAs:</p>\n        <ul>\n          <li><strong>Soft Cores</strong>: Implemented in FPGA fabric, offering maximum flexibility but lower performance</li>\n          <li><strong>Hard Cores</strong>: Dedicated silicon with higher performance, lower power, but fixed functionality</li>\n          <li><strong>Hybrid Approaches</strong>: Using hard cores for main processing and soft cores for specialized tasks</li>\n          <li><strong>Customization Tradeoffs</strong>: Hard cores offer less customization but better performance</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/dNVk2pB.png" alt="RISC-V SoC FPGA" style="max-width: 700px; width: 100%;">\n          <p><em>RISC-V SoC architecture with integrated peripherals and accelerators</em></p>\n        </div>\n        \n        <h4>Memory Controller Integration</h4>\n        <p>Connecting RISC-V processors to on-chip and off-chip memory:</p>\n        <ul>\n          <li><strong>DRAM Controllers</strong>: Implementing DDR3/4/5 memory interfaces</li>\n          <li><strong>On-Chip Memory</strong>: Efficient utilization of BRAM resources</li>\n          <li><strong>Cache Controllers</strong>: Optimized cache implementations for FPGA</li>\n          <li><strong>Memory Hierarchy</strong>: Balancing latency, throughput, and resource usage</li>\n          <li><strong>Hard Memory Controllers</strong>: Leveraging built-in memory interfaces in SoC FPGAs</li>\n        </ul>\n        \n        <h4>Peripherals Implementation</h4>\n        <p>Adding essential peripherals to complete the RISC-V system:</p>\n        <ul>\n          <li><strong>UART, SPI, I2C</strong>: Standard communication interfaces</li>\n          <li><strong>GPIO</strong>: General-purpose I/O for external connections</li>\n          <li><strong>Timers and Counters</strong>: Essential timing resources</li>\n          <li><strong>Interrupt Controllers</strong>: PLIC/CLIC implementations</li>\n          <li><strong>DMA Controllers</strong>: Efficient data transfer without CPU involvement</li>\n          <li><strong>Ethernet MAC</strong>: Network connectivity</li>\n        </ul>\n        \n        <h4>Bus Infrastructure</h4>\n        <p>Interconnect architectures for RISC-V SoCs on FPGA:</p>\n        <ul>\n          <li><strong>AXI4/AXI4-Lite</strong>: Industry-standard high-performance bus</li>\n          <li><strong>TileLink</strong>: RISC-V native interconnect protocol</li>\n          <li><strong>Wishbone</strong>: Simpler open-source interconnect</li>\n          <li><strong>Crossbar vs. Bus Matrix</strong>: Connectivity topologies and tradeoffs</li>\n          <li><strong>Clock Domain Crossing</strong>: Managing multiple clock domains in the interconnect</li>\n        </ul>\n        \n        <h4>Test and Debug Infrastructure</h4>\n        <p>Essential components for system verification and debugging:</p>\n        <ul>\n          <li><strong>JTAG Interface</strong>: Standard debug port implementation</li>\n          <li><strong>Debug Module</strong>: RISC-V Debug Specification implementation</li>\n          <li><strong>Trace Capability</strong>: Instruction and data trace for debugging</li>\n          <li><strong>Performance Counters</strong>: Monitoring system metrics</li>\n          <li><strong>UART Debug Console</strong>: Simple text-based debugging interface</li>\n        </ul>\n      '},{id:"13.4",title:"Commercial FPGA Platforms",content:'\n        <h3>FPGA Platforms for RISC-V Implementation</h3>\n        <p>A variety of commercial FPGA offerings provide different capabilities and price points for RISC-V development.</p>\n        \n        <h4>Xilinx/AMD FPGA Families</h4>\n        <p>The Xilinx (now AMD) portfolio offers a range of options:</p>\n        <ul>\n          <li><strong>Artix</strong>: Cost-optimized FPGAs suitable for simple RISC-V cores</li>\n          <li><strong>Kintex</strong>: Mid-range FPGAs for balanced performance and cost</li>\n          <li><strong>Virtex</strong>: High-performance FPGAs for complex multi-core RISC-V systems</li>\n          <li><strong>Versal</strong>: Adaptive Compute Acceleration Platforms (ACAP) combining FPGA, ARM cores, and AI engines</li>\n          <li><strong>Zynq</strong>: SoC FPGAs with integrated ARM cores that can be complemented with RISC-V acceleration</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/jKl9Yj2.png" alt="FPGA Platform Comparison" style="max-width: 700px; width: 100%;">\n          <p><em>Comparison of FPGA platforms for RISC-V implementation</em></p>\n        </div>\n        \n        <h4>Intel FPGA Options</h4>\n        <p>Intel offers several FPGA families suitable for RISC-V:</p>\n        <ul>\n          <li><strong>Cyclone</strong>: Low-cost FPGAs for simpler designs</li>\n          <li><strong>Arria</strong>: Mid-range FPGAs with good performance/cost balance</li>\n          <li><strong>Stratix</strong>: High-end FPGAs for complex systems</li>\n          <li><strong>Agilex</strong>: Latest-generation FPGAs with advanced features</li>\n          <li><strong>eASIC</strong>: Structured ASIC option for higher volume production</li>\n        </ul>\n        \n        <h4>Microchip/Microsemi PolarFire</h4>\n        <p>Microchip\'s PolarFire family offers unique advantages:</p>\n        <ul>\n          <li><strong>Low Power Consumption</strong>: Flash-based FPGAs with lower static power</li>\n          <li><strong>PolarFire SoC</strong>: Integrated RISC-V hard cores (RV64GC) with FPGA fabric</li>\n          <li><strong>Security Features</strong>: Enhanced security for IoT and industrial applications</li>\n          <li><strong>Radiation Tolerance</strong>: Options for space and military applications</li>\n          <li><strong>Mi-V Ecosystem</strong>: Microchip\'s RISC-V development platform</li>\n        </ul>\n        \n        <h4>Lattice FPGA Solutions</h4>\n        <p>Lattice specializes in small, low-power FPGAs:</p>\n        <ul>\n          <li><strong>ECP5</strong>: Excellent platform for moderate-complexity RISC-V systems</li>\n          <li><strong>CrossLink</strong>: Optimized for video bridging applications</li>\n          <li><strong>iCE40</strong>: Ultra-low power FPGAs for tiny RISC-V implementations</li>\n          <li><strong>Certus-NX/Nexus</strong>: Newer platforms with enhanced capabilities</li>\n          <li><strong>Lattice Propel</strong>: Design environment with RISC-V support</li>\n        </ul>\n        \n        <h4>Emerging FPGA Vendors</h4>\n        <p>New entrants offering interesting alternatives:</p>\n        <ul>\n          <li><strong>Efinix</strong>: Trion and Titanium FPGAs with innovative architecture</li>\n          <li><strong>Achronix</strong>: High-performance Speedster FPGAs</li>\n          <li><strong>QuickLogic</strong>: Ultra-low power FPGAs with embedded RISC-V options</li>\n          <li><strong>Gowin</strong>: Cost-effective FPGAs gaining market share</li>\n          <li><strong>Cologne Chip</strong>: GateMate FPGAs with European roots</li>\n        </ul>\n      '},{id:"13.5",title:"High-Level Synthesis",content:'\n        <h3>Accelerating RISC-V Design with HLS</h3>\n        <p>High-Level Synthesis (HLS) enables faster development of specialized accelerators and peripherals for RISC-V systems.</p>\n        \n        <h4>C/C++ to RTL Flows</h4>\n        <p>Modern HLS tools transform high-level code into RTL:</p>\n        <ul>\n          <li><strong>Vitis HLS</strong>: AMD/Xilinx\'s HLS tool for C/C++/OpenCL to RTL</li>\n          <li><strong>Intel HLS Compiler</strong>: Intel\'s C++ based HLS solution</li>\n          <li><strong>Catapult HLS</strong>: Siemens EDA\'s commercial HLS tool</li>\n          <li><strong>Stratus HLS</strong>: Cadence\'s HLS offering</li>\n          <li><strong>LegUp</strong>: Academic/commercial open-source HLS</li>\n          <li><strong>Bambu</strong>: Open-source HLS from Politecnico di Milano</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/RuW3tpV.png" alt="HLS Design Flow" style="max-width: 700px; width: 100%;">\n          <p><em>High-Level Synthesis workflow for RISC-V accelerator development</em></p>\n        </div>\n        \n        <h4>HLS Optimization Directives</h4>\n        <p>Key directives that influence the generated hardware:</p>\n        <ul>\n          <li><strong>Loop Unrolling</strong>: Parallelizing loop iterations</li>\n          <li><strong>Loop Pipelining</strong>: Overlapping loop iterations</li>\n          <li><strong>Array Partitioning</strong>: Breaking arrays into multiple memories for parallel access</li>\n          <li><strong>Function Inlining</strong>: Eliminating function call overhead</li>\n          <li><strong>Interface Specification</strong>: Controlling port protocols (AXI, memory, etc.)</li>\n          <li><strong>Resource Allocation</strong>: Limiting or specifying hardware resources</li>\n        </ul>\n        \n        <h4>Interface Synthesis</h4>\n        <p>Generating hardware interfaces for RISC-V integration:</p>\n        <ul>\n          <li><strong>AXI4/AXI4-Lite</strong>: Standard bus interfaces for SoC integration</li>\n          <li><strong>Memory Interfaces</strong>: BRAM, external memory connections</li>\n          <li><strong>Streaming Interfaces</strong>: AXI-Stream for data flow applications</li>\n          <li><strong>Control Registers</strong>: Configuration and status register interfaces</li>\n          <li><strong>DMA Interfaces</strong>: Efficient data movement</li>\n        </ul>\n        \n        <h4>Verification of HLS Designs</h4>\n        <p>Ensuring correctness of HLS-generated hardware:</p>\n        <ul>\n          <li><strong>C/C++ Testbenches</strong>: High-level verification before synthesis</li>\n          <li><strong>Co-Simulation</strong>: Comparing C++ and RTL simulation results</li>\n          <li><strong>Formal Equivalence Checking</strong>: Mathematically proving equivalence</li>\n          <li><strong>Coverage Analysis</strong>: Ensuring complete verification</li>\n          <li><strong>Hardware Emulation</strong>: FPGA-accelerated verification</li>\n        </ul>\n        \n        <h4>Integration with Handwritten RTL</h4>\n        <p>Combining HLS-generated components with traditional RTL:</p>\n        <ul>\n          <li><strong>Integration Interfaces</strong>: Clean boundaries between HLS and RTL blocks</li>\n          <li><strong>Black Box Integration</strong>: Including RTL modules in HLS designs</li>\n          <li><strong>Combined Verification</strong>: Testing integrated systems</li>\n          <li><strong>Performance Analysis</strong>: Ensuring system-level timing closure</li>\n          <li><strong>Implementation Strategies</strong>: Place and route considerations</li>\n        </ul>\n      '}],examples:[{id:"example13_1",title:"FPGA Configuration for RISC-V Design",description:"XDC constraints file for a RISC-V processor implementation on a Xilinx Artix-7 FPGA",code:"# XDC Constraints for RISC-V Core on Digilent Arty A7-35T Board\n# Clock signal\nset_property -dict { PACKAGE_PIN E3 IOSTANDARD LVCMOS33 } [get_ports { clk_100mhz }];\ncreate_clock -add -name sys_clk_pin -period 10.00 -waveform {0 5} [get_ports { clk_100mhz }];\n\n# Reset signal\nset_property -dict { PACKAGE_PIN C2 IOSTANDARD LVCMOS33 } [get_ports { reset_n }];\n\n# UART pins\nset_property -dict { PACKAGE_PIN D10 IOSTANDARD LVCMOS33 } [get_ports { uart_rxd }];\nset_property -dict { PACKAGE_PIN A9  IOSTANDARD LVCMOS33 } [get_ports { uart_txd }];\n\n# LEDs\nset_property -dict { PACKAGE_PIN G6  IOSTANDARD LVCMOS33 } [get_ports { leds[0] }];\nset_property -dict { PACKAGE_PIN G3  IOSTANDARD LVCMOS33 } [get_ports { leds[1] }];\nset_property -dict { PACKAGE_PIN J3  IOSTANDARD LVCMOS33 } [get_ports { leds[2] }];\nset_property -dict { PACKAGE_PIN K1  IOSTANDARD LVCMOS33 } [get_ports { leds[3] }];\n\n# Switches\nset_property -dict { PACKAGE_PIN A8  IOSTANDARD LVCMOS33 } [get_ports { switches[0] }];\nset_property -dict { PACKAGE_PIN C11 IOSTANDARD LVCMOS33 } [get_ports { switches[1] }];\nset_property -dict { PACKAGE_PIN C10 IOSTANDARD LVCMOS33 } [get_ports { switches[2] }];\nset_property -dict { PACKAGE_PIN A10 IOSTANDARD LVCMOS33 } [get_ports { switches[3] }];\n\n# JTAG interface\nset_property -dict { PACKAGE_PIN F4 IOSTANDARD LVCMOS33 } [get_ports { jtag_tms }];\nset_property -dict { PACKAGE_PIN F3 IOSTANDARD LVCMOS33 } [get_ports { jtag_tdi }];\nset_property -dict { PACKAGE_PIN E2 IOSTANDARD LVCMOS33 } [get_ports { jtag_tdo }];\nset_property -dict { PACKAGE_PIN D2 IOSTANDARD LVCMOS33 } [get_ports { jtag_tck }];\n\n# Configuration settings\nset_property CFGBVS VCCO [current_design];\nset_property CONFIG_VOLTAGE 3.3 [current_design];\n\n# Timing constraints\nset_false_path -from [get_ports {reset_n}];\nset_false_path -from [get_ports {switches*}];\nset_false_path -to [get_ports {leds*}];\n\n# Clock domain crossing constraints\nset_max_delay -datapath_only -from [get_clocks clk_core] -to [get_clocks clk_periph] 5.0;\nset_max_delay -datapath_only -from [get_clocks clk_periph] -to [get_clocks clk_core] 5.0;"},{id:"example13_2",title:"RISC-V SoC Top-Level Design",description:"Top-level SystemVerilog module for a RISC-V SoC on FPGA",code:"module riscv_soc_top (\n  input  logic        clk_100mhz,\n  input  logic        reset_n,\n  input  logic        uart_rxd,\n  output logic        uart_txd,\n  input  logic [3:0]  switches,\n  output logic [3:0]  leds,\n  // JTAG interface\n  input  logic        jtag_tms,\n  input  logic        jtag_tdi,\n  output logic        jtag_tdo,\n  input  logic        jtag_tck\n);\n\n  // Internal signals\n  logic clk_core;          // Processor clock\n  logic clk_periph;        // Peripheral clock\n  logic pll_locked;        // PLL lock indicator\n  logic reset_sync_n;      // Synchronized reset\n\n  // Clocking wizard instantiation\n  clk_wiz_0 clk_gen (\n    .clk_in1(clk_100mhz),\n    .clk_out1(clk_core),    // 50 MHz core clock\n    .clk_out2(clk_periph),  // 25 MHz peripheral clock\n    .reset(~reset_n),\n    .locked(pll_locked)\n  );\n\n  // Reset synchronizer\n  reset_sync reset_synchronizer (\n    .clk(clk_core),\n    .reset_n_in(reset_n & pll_locked),\n    .reset_n_out(reset_sync_n)\n  );\n\n  // AXI interconnect signals\n  // (simplified for brevity)\n  logic [31:0] axi_awaddr, axi_araddr, axi_wdata, axi_rdata;\n  logic axi_awvalid, axi_awready, axi_wvalid, axi_wready;\n  logic axi_arvalid, axi_arready, axi_rvalid, axi_rready;\n  \n  // RISC-V processor core\n  riscv_core #(\n    .XLEN(32),\n    .EXTENSION_C(1),\n    .EXTENSION_M(1),\n    .RESET_ADDR(32'h0000_0000)\n  ) core (\n    .clk(clk_core),\n    .rst_n(reset_sync_n),\n    // AXI Master interface\n    .m_axi_awaddr(axi_awaddr),\n    .m_axi_awvalid(axi_awvalid),\n    .m_axi_awready(axi_awready),\n    .m_axi_wdata(axi_wdata),\n    .m_axi_wvalid(axi_wvalid),\n    .m_axi_wready(axi_wready),\n    .m_axi_araddr(axi_araddr),\n    .m_axi_arvalid(axi_arvalid),\n    .m_axi_arready(axi_arready),\n    .m_axi_rdata(axi_rdata),\n    .m_axi_rvalid(axi_rvalid),\n    .m_axi_rready(axi_rready),\n    // Debug interface\n    .debug_tms(jtag_tms),\n    .debug_tdi(jtag_tdi),\n    .debug_tdo(jtag_tdo),\n    .debug_tck(jtag_tck)\n  );\n\n  // Memory subsystem (BRAM-based)\n  memory_subsystem #(\n    .MEM_SIZE(32'h0001_0000)  // 64KB\n  ) memory (\n    .clk(clk_core),\n    .rst_n(reset_sync_n),\n    // AXI Slave interface\n    .s_axi_awaddr(axi_awaddr),\n    .s_axi_awvalid(axi_awvalid),\n    .s_axi_awready(axi_awready),\n    .s_axi_wdata(axi_wdata),\n    .s_axi_wvalid(axi_wvalid),\n    .s_axi_wready(axi_wready),\n    .s_axi_araddr(axi_araddr),\n    .s_axi_arvalid(axi_arvalid),\n    .s_axi_arready(axi_arready),\n    .s_axi_rdata(axi_rdata),\n    .s_axi_rvalid(axi_rvalid),\n    .s_axi_rready(axi_rready)\n  );\n\n  // UART controller\n  uart_controller uart (\n    .clk(clk_periph),\n    .rst_n(reset_sync_n),\n    .rx(uart_rxd),\n    .tx(uart_txd),\n    // AXI-Lite slave interface\n    // (simplified for brevity)\n  );\n\n  // GPIO controller for LEDs and switches\n  gpio_controller gpio (\n    .clk(clk_periph),\n    .rst_n(reset_sync_n),\n    .switches(switches),\n    .leds(leds),\n    // AXI-Lite slave interface\n    // (simplified for brevity)\n  );\n\nendmodule\n"}]},completed:!1},{...{id:14,title:"ASIC Implementation",description:"Designing RISC-V processors as application-specific integrated circuits",estimatedTime:"4 hours",completed:!1,sections:[{id:"14.1",title:"ASIC Design Flow",content:'\n        <h3>The Journey from RTL to Silicon</h3>\n        <p>Application-Specific Integrated Circuit (ASIC) implementation of RISC-V processors enables maximum performance, power efficiency, and volume scaling compared to FPGA alternatives.</p>\n        \n        <h4>Front-end Design</h4>\n        <p>The initial phase of ASIC design transforms RTL to gate-level representation:</p>\n        <ul>\n          <li><strong>Specification Development</strong>: Detailed documentation of functionality, performance, power, and area goals</li>\n          <li><strong>RTL Design</strong>: RISC-V implementation in Verilog/VHDL/SystemVerilog</li>\n          <li><strong>Functional Verification</strong>: Extensive testing using simulation, formal methods, and emulation</li>\n          <li><strong>Logic Synthesis</strong>: Conversion from RTL to technology-specific gate-level netlist</li>\n          <li><strong>Gate-Level Simulation</strong>: Verifying functionality after synthesis</li>\n          <li><strong>Design for Test (DFT)</strong>: Adding testability structures</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/ZMYnDjP.png" alt="ASIC Design Flow" style="max-width: 700px; width: 100%;">\n          <p><em>Complete ASIC design flow for RISC-V processor implementation</em></p>\n        </div>\n        \n        <h4>Logic Synthesis</h4>\n        <p>The process of transforming RTL to gate-level representation:</p>\n        <ul>\n          <li><strong>Technology Library Mapping</strong>: Converting logic to target process node cells</li>\n          <li><strong>Constraint-Driven Optimization</strong>: Meeting timing, area, and power goals</li>\n          <li><strong>Sequential Optimization</strong>: Retiming, register balancing, and clock gating insertion</li>\n          <li><strong>Multiple Corner Analysis</strong>: Ensuring functionality across PVT variations</li>\n          <li><strong>Multi-Threshold Libraries</strong>: Using different Vt cells for performance vs. power tradeoffs</li>\n          <li><strong>Logic Equivalence Checking</strong>: Verifying synthesis preserves functionality</li>\n        </ul>\n        \n        <h4>Floorplanning</h4>\n        <p>Organizing the physical layout of the RISC-V processor:</p>\n        <ul>\n          <li><strong>Hierarchical Planning</strong>: Determining block placement and boundaries</li>\n          <li><strong>Aspect Ratio Determination</strong>: Setting the chip shape</li>\n          <li><strong>I/O Ring Planning</strong>: Organizing external connections</li>\n          <li><strong>Power Planning</strong>: Structuring the power distribution network</li>\n          <li><strong>Macro Placement</strong>: Positioning large blocks like SRAMs (register file, caches, etc.)</li>\n          <li><strong>Clock Planning</strong>: Organizing clock distribution network</li>\n        </ul>\n        \n        <h4>Place and Route</h4>\n        <p>Transforming the gate-level netlist into a physical layout:</p>\n        <ul>\n          <li><strong>Cell Placement</strong>: Determining the location of each standard cell</li>\n          <li><strong>Clock Tree Synthesis</strong>: Building balanced, low-skew clock distribution</li>\n          <li><strong>Routing</strong>: Connecting cells with metal traces</li>\n          <li><strong>Optimization</strong>: Iterative refinement for timing, congestion, and DRC</li>\n          <li><strong>Fill Generation</strong>: Adding filler cells for manufacturability</li>\n          <li><strong>Engineering Change Orders (ECOs)</strong>: Late-stage design modifications</li>\n        </ul>\n        \n        <h4>Static Timing Analysis</h4>\n        <p>Ensuring the design meets timing requirements:</p>\n        <ul>\n          <li><strong>Setup and Hold Analysis</strong>: Verifying proper signal timing relationships</li>\n          <li><strong>Multi-Corner Analysis</strong>: Checking timing across process, voltage, and temperature variations</li>\n          <li><strong>On-Chip Variation (OCV) Analysis</strong>: Accounting for within-die variations</li>\n          <li><strong>Clock Domain Crossing Verification</strong>: Ensuring proper CDC handling</li>\n          <li><strong>Signal Integrity Analysis</strong>: Checking for crosstalk and noise effects</li>\n          <li><strong>IR Drop Analysis</strong>: Verifying power integrity</li>\n        </ul>\n      '},{id:"14.2",title:"Physical Design Considerations",content:'\n        <h3>Implementation Details for RISC-V Silicon</h3>\n        <p>Physical implementation of RISC-V processors involves numerous technical considerations that affect performance, power, and manufacturability.</p>\n        \n        <h4>Standard Cell Libraries</h4>\n        <p>Selecting and using standard cell libraries effectively:</p>\n        <ul>\n          <li><strong>Library Selection</strong>: Choosing appropriate libraries for the design goals</li>\n          <li><strong>Cell Characterization</strong>: Understanding timing, power, and noise characteristics</li>\n          <li><strong>Multi-Vt Strategy</strong>: Using high, standard, and low threshold voltage cells appropriately</li>\n          <li><strong>Drive Strength Selection</strong>: Balancing performance and power</li>\n          <li><strong>Special Cells</strong>: Utilizing clock cells, level shifters, isolation cells</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/A2SYnqw.png" alt="ASIC Physical Design" style="max-width: 700px; width: 100%;">\n          <p><em>Physical design considerations for a RISC-V processor implementation</em></p>\n        </div>\n        \n        <h4>Clock Tree Synthesis</h4>\n        <p>Building an effective clock distribution network:</p>\n        <ul>\n          <li><strong>Clock Tree Topology</strong>: H-tree, mesh, hybrid approaches</li>\n          <li><strong>Buffer Insertion</strong>: Balancing skew and latency with appropriate buffering</li>\n          <li><strong>Clock Gating</strong>: Strategic placement of clock gates for power savings</li>\n          <li><strong>Skew Management</strong>: Controlling clock arrival variation</li>\n          <li><strong>OCV Derating</strong>: Accounting for on-chip variation</li>\n          <li><strong>Multi-Corner Optimization</strong>: Ensuring robust operation across conditions</li>\n        </ul>\n        \n        <h4>Power Distribution Network</h4>\n        <p>Designing the power delivery infrastructure:</p>\n        <ul>\n          <li><strong>Power Grid Planning</strong>: Arranging power rings and straps</li>\n          <li><strong>IR Drop Analysis</strong>: Ensuring voltage integrity throughout the design</li>\n          <li><strong>Decoupling Capacitors</strong>: Strategic placement for noise suppression</li>\n          <li><strong>Multiple Power Domains</strong>: Managing different voltage regions</li>\n          <li><strong>Power Gating</strong>: Implementing sleep transistors for unused blocks</li>\n          <li><strong>Electromigration Analysis</strong>: Ensuring long-term reliability</li>\n        </ul>\n        \n        <h4>Signal Integrity Analysis</h4>\n        <p>Maintaining reliable signal transmission:</p>\n        <ul>\n          <li><strong>Crosstalk Analysis</strong>: Identifying and mitigating interference between signals</li>\n          <li><strong>Noise Immunity</strong>: Ensuring robust operation in presence of noise</li>\n          <li><strong>Shielding Strategies</strong>: Protecting sensitive signals</li>\n          <li><strong>Antenna Effects</strong>: Addressing charge accumulation during manufacturing</li>\n          <li><strong>EM/IR Analysis</strong>: Checking for electromagnetic and resistive effects</li>\n        </ul>\n        \n        <h4>DRC/LVS Verification</h4>\n        <p>Ensuring manufacturability and correctness:</p>\n        <ul>\n          <li><strong>Design Rule Checking (DRC)</strong>: Verifying compliance with process manufacturing rules</li>\n          <li><strong>Layout vs. Schematic (LVS)</strong>: Confirming layout matches logical design</li>\n          <li><strong>Electrical Rule Checking (ERC)</strong>: Verifying proper electrical connections</li>\n          <li><strong>Metal Density Checks</strong>: Ensuring uniform metal distribution</li>\n          <li><strong>Antenna Rule Checking</strong>: Preventing charge damage during manufacturing</li>\n          <li><strong>Advanced Node Rules</strong>: Handling complex requirements of modern processes</li>\n        </ul>\n      '},{id:"14.3",title:"DFT and Testability",content:'\n        <h3>Ensuring Testable RISC-V Implementations</h3>\n        <p>Design for Test (DFT) methodologies are crucial for verifying that manufactured RISC-V processors function correctly.</p>\n        \n        <h4>Scan Insertion</h4>\n        <p>Implementing scan chains for structural testing:</p>\n        <ul>\n          <li><strong>Scan Architecture</strong>: Determining scan chain organization</li>\n          <li><strong>Scan Cell Selection</strong>: Choosing appropriate scan flip-flops</li>\n          <li><strong>Scan Insertion Flow</strong>: Integrating scan into the design process</li>\n          <li><strong>Scan Compression</strong>: Reducing test data volume and test time</li>\n          <li><strong>Scan Power Optimization</strong>: Preventing excessive power during scan testing</li>\n          <li><strong>Clock Domain Management</strong>: Handling multiple clock domains in scan mode</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/nU8Ctks.png" alt="DFT Architecture" style="max-width: 700px; width: 100%;">\n          <p><em>Design for Test architecture for a RISC-V processor</em></p>\n        </div>\n        \n        <h4>ATPG (Automatic Test Pattern Generation)</h4>\n        <p>Creating effective test patterns:</p>\n        <ul>\n          <li><strong>Stuck-at Fault Testing</strong>: Detecting nodes stuck at logical 0 or 1</li>\n          <li><strong>Transition Fault Testing</strong>: Verifying proper signal transitions</li>\n          <li><strong>Path Delay Testing</strong>: Checking critical timing paths</li>\n          <li><strong>Bridging Fault Testing</strong>: Finding unintended connections between signals</li>\n          <li><strong>Pattern Compaction</strong>: Optimizing test pattern count</li>\n          <li><strong>Fault Coverage Analysis</strong>: Measuring test effectiveness</li>\n        </ul>\n        \n        <h4>Memory BIST</h4>\n        <p>Testing SRAM structures within the RISC-V processor:</p>\n        <ul>\n          <li><strong>MBIST Architecture</strong>: Building memory test infrastructure</li>\n          <li><strong>MBIST Controllers</strong>: Implementing test sequence generation</li>\n          <li><strong>Test Algorithms</strong>: March tests, checkerboard patterns, and other test sequences</li>\n          <li><strong>Repair Mechanisms</strong>: Implementing redundancy for yield improvement</li>\n          <li><strong>At-Speed Testing</strong>: Verifying memory performance</li>\n          <li><strong>Memory Fault Models</strong>: Addressing various memory defect types</li>\n        </ul>\n        \n        <h4>Boundary Scan (JTAG)</h4>\n        <p>Implementing IEEE 1149.1 for board-level testing:</p>\n        <ul>\n          <li><strong>JTAG TAP Controller</strong>: Implementing the test access port state machine</li>\n          <li><strong>Boundary Scan Cells</strong>: Adding I/O testing capabilities</li>\n          <li><strong>JTAG Instructions</strong>: Standard and custom test operations</li>\n          <li><strong>Integration with RISC-V Debug</strong>: Leveraging JTAG for processor debugging</li>\n          <li><strong>Boundary Scan Description Language (BSDL)</strong>: Documenting the implementation</li>\n        </ul>\n        \n        <h4>DFT for At-Speed Testing</h4>\n        <p>Verifying dynamic operation at full speed:</p>\n        <ul>\n          <li><strong>Launch-Capture Testing</strong>: Using scan for at-speed verification</li>\n          <li><strong>Clock Control</strong>: Generating test clocks for dynamic testing</li>\n          <li><strong>PLL Testing</strong>: Verifying clock generation circuitry</li>\n          <li><strong>Critical Path Testing</strong>: Focusing on timing-critical parts of the design</li>\n          <li><strong>Test Power Management</strong>: Controlling power during high-speed tests</li>\n        </ul>\n      '},{id:"14.4",title:"Power Optimization",content:'\n        <h3>Achieving Energy-Efficient RISC-V Processors</h3>\n        <p>Power optimization techniques are essential for creating competitive RISC-V implementations, especially for battery-powered and thermally-constrained applications.</p>\n        \n        <h4>Dynamic Power Reduction Techniques</h4>\n        <p>Minimizing power consumption during active operation:</p>\n        <ul>\n          <li><strong>Clock Gating</strong>: Disabling clocks to unused circuits</li>\n          <li><strong>Operand Isolation</strong>: Preventing unnecessary switching in datapaths</li>\n          <li><strong>Pipelining</strong>: Reducing logic depth to enable lower voltage operation</li>\n          <li><strong>Logic Restructuring</strong>: Optimizing for reduced switching activity</li>\n          <li><strong>Memory Access Optimization</strong>: Minimizing energy-intensive memory operations</li>\n          <li><strong>Bus Encoding</strong>: Reducing transitions on high-capacitance nets</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/c2OYfva.png" alt="Power Optimization" style="max-width: 700px; width: 100%;">\n          <p><em>Power optimization techniques for RISC-V processors</em></p>\n        </div>\n        \n        <h4>Static Power Management</h4>\n        <p>Controlling leakage power consumption:</p>\n        <ul>\n          <li><strong>Multi-Vt Cell Strategy</strong>: Using high-Vt cells in non-critical paths</li>\n          <li><strong>Power Gating</strong>: Shutting down power to unused blocks</li>\n          <li><strong>Retention Strategies</strong>: Preserving state while minimizing leakage</li>\n          <li><strong>Biasing Techniques</strong>: Applying body bias to control threshold voltage</li>\n          <li><strong>Channel Length Optimization</strong>: Using longer channel devices for less leakage</li>\n        </ul>\n        \n        <h4>Power Domains and Isolation</h4>\n        <p>Implementing sophisticated power management schemes:</p>\n        <ul>\n          <li><strong>Multiple Voltage Domains</strong>: Partitioning the design into power regions</li>\n          <li><strong>Level Shifters</strong>: Interfacing between different voltage domains</li>\n          <li><strong>Isolation Cells</strong>: Preventing signal corruption during power transitions</li>\n          <li><strong>Retention Registers</strong>: Preserving critical state during power gating</li>\n          <li><strong>Power Controllers</strong>: Sequencing and managing power state transitions</li>\n          <li><strong>Always-On Domains</strong>: Maintaining critical functionality</li>\n        </ul>\n        \n        <h4>Clock Gating Strategies</h4>\n        <p>Advanced approaches to clock power reduction:</p>\n        <ul>\n          <li><strong>Fine-Grained Clock Gating</strong>: Individual register or small block control</li>\n          <li><strong>Hierarchical Clock Gating</strong>: Multi-level control for efficient switching</li>\n          <li><strong>Activity-Based Gating</strong>: Dynamic enabling based on operations</li>\n          <li><strong>Architectural Clock Gating</strong>: Instruction-aware power management</li>\n          <li><strong>Glitch-Free Clock Gating</strong>: Preventing timing hazards</li>\n        </ul>\n        \n        <h4>Power-Aware Place and Route</h4>\n        <p>Physical implementation for power efficiency:</p>\n        <ul>\n          <li><strong>Power Grid Optimization</strong>: Balancing IR drop and routing resources</li>\n          <li><strong>Clock Tree Power Optimization</strong>: Minimizing clock network power</li>\n          <li><strong>Placement for Reduced Wire Length</strong>: Minimizing capacitance</li>\n          <li><strong>Thermal-Aware Placement</strong>: Distributing heat generators</li>\n          <li><strong>Power-Driven Routing</strong>: Considering power in routing decisions</li>\n          <li><strong>Integrated Power Analysis</strong>: In-design power estimation and optimization</li>\n        </ul>\n      '},{id:"14.5",title:"Open-Source PDKs and ASIC Flow",content:'\n        <h3>Democratizing RISC-V Silicon Implementation</h3>\n        <p>Open-source Process Design Kits (PDKs) and ASIC design flows are enabling broader access to custom silicon implementation for RISC-V projects.</p>\n        \n        <h4>SkyWater 130nm PDK</h4>\n        <p>The first fully open-source PDK for physical implementation:</p>\n        <ul>\n          <li><strong>Open-Source License</strong>: Apache 2.0 licensed PDK developed by Google and SkyWater Technology</li>\n          <li><strong>130nm Technology</strong>: Mature node with reasonable performance and cost</li>\n          <li><strong>Standard Cell Libraries</strong>: Fully characterized digital standard cells</li>\n          <li><strong>Special Cells</strong>: I/O cells, memory compilers, and analog primitives</li>\n          <li><strong>Community Support</strong>: Growing ecosystem of users and tools</li>\n          <li><strong>Manufacturing Access</strong>: Multiple paths to silicon fabrication</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/aPkzxLh.png" alt="Open PDK Flow" style="max-width: 700px; width: 100%;">\n          <p><em>Open-source ASIC implementation flow for RISC-V processors</em></p>\n        </div>\n        \n        <h4>Google/efabless Flow</h4>\n        <p>Open-source chip design and fabrication initiative:</p>\n        <ul>\n          <li><strong>Open MPW Program</strong>: Multi-project wafer shuttles with sponsored fabrication</li>\n          <li><strong>Caravel Harness</strong>: Standard SoC template with management core</li>\n          <li><strong>Submission Process</strong>: Standardized verification and integration flow</li>\n          <li><strong>Community Designs</strong>: Growing repository of open-source silicon</li>\n          <li><strong>RISC-V Focus</strong>: Many successful RISC-V based designs fabricated</li>\n        </ul>\n        \n        <h4>OpenLANE Automation</h4>\n        <p>End-to-end open-source ASIC implementation flow:</p>\n        <ul>\n          <li><strong>RTL-to-GDSII Flow</strong>: Complete automation from Verilog to final layout</li>\n          <li><strong>Tool Integration</strong>: Coordinating open-source EDA tools</li>\n          <li><strong>Design Exploration</strong>: Automated configuration for best results</li>\n          <li><strong>DRC/LVS Sign-off</strong>: Integrated physical verification</li>\n          <li><strong>RISC-V Success</strong>: Multiple RISC-V implementations demonstrated</li>\n          <li><strong>Active Development</strong>: Continuous improvement and feature additions</li>\n        </ul>\n        \n        <h4>OpenROAD Project</h4>\n        <p>Academic-led initiative for open-source physical design:</p>\n        <ul>\n          <li><strong>DARPA-funded Project</strong>: Creating industry-competitive open tools</li>\n          <li><strong>Unified Database</strong>: Common data model for consistent tool interaction</li>\n          <li><strong>Machine Learning Integration</strong>: AI-assisted optimization</li>\n          <li><strong>Advanced Algorithms</strong>: Modern approaches to physical design challenges</li>\n          <li><strong>Multi-Node Support</strong>: Expanding beyond 130nm to other process nodes</li>\n        </ul>\n        \n        <h4>Tapeout Considerations</h4>\n        <p>Practical aspects of fabricating a RISC-V chip:</p>\n        <ul>\n          <li><strong>Cost Factors</strong>: Understanding NRE, masks, testing, and packaging expenses</li>\n          <li><strong>Shuttle Options</strong>: Multi-project wafer opportunities for cost sharing</li>\n          <li><strong>Timeline Planning</strong>: Typical schedules from design to silicon</li>\n          <li><strong>Design Preparation</strong>: Final verification and validation before submission</li>\n          <li><strong>Post-Silicon Validation</strong>: Testing methodologies after fabrication</li>\n          <li><strong>Packaging Choices</strong>: Options from QFN to flip-chip and beyond</li>\n        </ul>\n      '}],examples:[{id:"example14_1",title:"Clock Gating Implementation for RISC-V Pipeline",description:"SystemVerilog implementation of fine-grained clock gating in a RISC-V pipeline",code:"module pipeline_clock_gating (\n  input  logic        clk_in,\n  input  logic        rst_n,\n  input  logic [4:0]  enable_stages,  // One bit per pipeline stage\n  input  logic        sleep_mode,     // Global sleep signal\n  output logic [4:0]  clk_gated       // Gated clocks for each stage\n);\n\n  // Individual integrated clock gates for each pipeline stage\n  // Using synchronous enable for glitch-free clock gating\n  \n  // Fetch stage clock gating\n  logic fetch_enable_latched;\n  \n  always_latch begin\n    if (~clk_in)\n      fetch_enable_latched <= enable_stages[0] & ~sleep_mode;\n  end\n  \n  assign clk_gated[0] = clk_in & fetch_enable_latched;\n  \n  // Decode stage clock gating\n  logic decode_enable_latched;\n  \n  always_latch begin\n    if (~clk_in)\n      decode_enable_latched <= enable_stages[1] & ~sleep_mode;\n  end\n  \n  assign clk_gated[1] = clk_in & decode_enable_latched;\n  \n  // Execute stage clock gating\n  logic execute_enable_latched;\n  \n  always_latch begin\n    if (~clk_in)\n      execute_enable_latched <= enable_stages[2] & ~sleep_mode;\n  end\n  \n  assign clk_gated[2] = clk_in & execute_enable_latched;\n  \n  // Memory stage clock gating\n  logic memory_enable_latched;\n  \n  always_latch begin\n    if (~clk_in)\n      memory_enable_latched <= enable_stages[3] & ~sleep_mode;\n  end\n  \n  assign clk_gated[3] = clk_in & memory_enable_latched;\n  \n  // Writeback stage clock gating\n  logic writeback_enable_latched;\n  \n  always_latch begin\n    if (~clk_in)\n      writeback_enable_latched <= enable_stages[4] & ~sleep_mode;\n  end\n  \n  assign clk_gated[4] = clk_in & writeback_enable_latched;\n\nendmodule"},{id:"example14_2",title:"Power Domain Crossing Logic for RISC-V SoC",description:"Example of level shifters and isolation cells for power domain crossings",code:"module power_domain_interface (\n  // Always-on domain signals (VDD_ALWAYS_ON)\n  input  logic        clk_aon,\n  input  logic        rst_n_aon,\n  input  logic        power_on_core,     // Control signal to power on CPU domain\n  input  logic [31:0] data_to_cpu,       // Data going to CPU domain\n  output logic [31:0] data_from_cpu,     // Data coming from CPU domain\n  \n  // CPU domain signals (VDD_CPU - can be powered down)\n  input  logic        clk_cpu,\n  input  logic        rst_n_cpu,\n  output logic [31:0] cpu_data_in,       // Connected to CPU input\n  input  logic [31:0] cpu_data_out       // Connected to CPU output\n);\n\n  // Isolation control - active low when CPU domain is powered\n  logic iso_en_n;\n  assign iso_en_n = power_on_core;\n  \n  // Level shifter and isolation for data going to CPU domain\n  // (from always-on to CPU domain)\n  // In real implementation, these would be special cells from library\n  genvar i;\n  generate\n    for (i = 0; i < 32; i++) begin : level_shift_to_cpu\n      // Level shifter (from VDD_ALWAYS_ON to VDD_CPU)\n      level_shifter_up ls_to_cpu (\n        .data_in(data_to_cpu[i]),       // Always-on domain\n        .data_out(cpu_data_in[i]),      // CPU domain\n        .vdd_in(1'b1),                  // Always-on domain is powered\n        .vdd_out(power_on_core)         // CPU domain power control\n      );\n    end\n  endgenerate\n  \n  // Level shifter and isolation for data coming from CPU domain\n  // (from CPU to always-on domain)\n  generate\n    for (i = 0; i < 32; i++) begin : level_shift_from_cpu\n      // Isolation cell (holds safe value when CPU domain is off)\n      isolation_cell iso_from_cpu (\n        .data_in(cpu_data_out[i]),       // CPU domain (potentially unpowered)\n        .data_out(iso_data[i]),          // Isolated output\n        .iso_en_n(iso_en_n),             // Isolation control (active low)\n        .safe_value(1'b0)                // Safe value when isolated\n      );\n      \n      // Level shifter (from VDD_CPU to VDD_ALWAYS_ON)\n      level_shifter_down ls_from_cpu (\n        .data_in(iso_data[i]),          // Isolated CPU domain data\n        .data_out(data_from_cpu[i]),    // Always-on domain\n        .vdd_in(power_on_core),         // CPU domain power control\n        .vdd_out(1'b1)                  // Always-on domain is powered\n      );\n    end\n  endgenerate\n  \n  // Retention register example for saving state when powering down\n  logic [31:0] retention_reg;\n  \n  always_ff @(posedge clk_aon or negedge rst_n_aon) begin\n    if (!rst_n_aon) begin\n      retention_reg <= 32'h0;\n    end\n    else if (!power_on_core) begin\n      // Save state from CPU when powering down\n      retention_reg <= data_from_cpu;\n    end\n  end\n\n  // Power state controller (simplified)\n  typedef enum logic [1:0] {\n    POWER_OFF = 2'b00,\n    POWER_UP  = 2'b01,\n    POWER_ON  = 2'b10,\n    POWER_DOWN= 2'b11\n  } power_state_t;\n  \n  power_state_t current_state, next_state;\n  \n  // Power state machine\n  always_ff @(posedge clk_aon or negedge rst_n_aon) begin\n    if (!rst_n_aon)\n      current_state <= POWER_OFF;\n    else\n      current_state <= next_state;\n  end\n  \n  // Power state transitions\n  always_comb begin\n    next_state = current_state;\n    \n    case (current_state)\n      POWER_OFF: if (power_on_core) next_state = POWER_UP;\n      POWER_UP:  next_state = POWER_ON;  // Simple transition, could add delay\n      POWER_ON:  if (!power_on_core) next_state = POWER_DOWN;\n      POWER_DOWN: next_state = POWER_OFF; // Simple transition, could add delay\n    endcase\n  end\n\nendmodule\n\n// Note: These modules would typically be provided by the standard cell library\n// They are simplified here for illustration\nmodule level_shifter_up (\n  input  logic data_in,\n  output logic data_out,\n  input  logic vdd_in,\n  input  logic vdd_out\n);\n  assign data_out = vdd_out ? data_in : 1'b0;\nendmodule\n\nmodule level_shifter_down (\n  input  logic data_in,\n  output logic data_out,\n  input  logic vdd_in,\n  input  logic vdd_out\n);\n  assign data_out = vdd_out ? (vdd_in ? data_in : 1'b0) : 1'b0;\nendmodule\n\nmodule isolation_cell (\n  input  logic data_in,\n  output logic data_out,\n  input  logic iso_en_n,\n  input  logic safe_value\n);\n  assign data_out = iso_en_n ? data_in : safe_value;\nendmodule"}]},completed:!1},{...{id:15,title:"Advanced Topics and Future Directions",description:"Exploring cutting-edge research and emerging applications in RISC-V architecture",estimatedTime:"3 hours",completed:!1,sections:[{id:"15.1",title:"Near-Memory Processing",content:'\n        <h3>Rethinking the Memory-Compute Relationship</h3>\n        <p>Near-memory processing represents a paradigm shift in computing architecture that addresses the growing "memory wall" problem by moving computation closer to data.</p>\n        \n        <h4>Processing-in-memory Concepts</h4>\n        <p>Fundamental approaches to integrating computation with memory:</p>\n        <ul>\n          <li><strong>Compute-Near-Memory (CNM)</strong>: Placing processors close to memory to reduce access latency</li>\n          <li><strong>Processing-In-Memory (PIM)</strong>: Embedding computational elements within memory arrays</li>\n          <li><strong>Computational RAM</strong>: Adding ALU functionality to sense amplifiers in DRAM</li>\n          <li><strong>Logic-in-Memory</strong>: Using memory cells themselves as computational elements</li>\n          <li><strong>RISC-V Role</strong>: Serving as control processors and accelerator managers</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/gPj4w6K.png" alt="Near-Memory Processing Architecture" style="max-width: 700px; width: 100%;">\n          <p><em>Near-memory processing architecture with RISC-V control cores</em></p>\n        </div>\n        \n        <h4>3D-stacked Memory Integration</h4>\n        <p>Advanced packaging technologies enabling near-memory computation:</p>\n        <ul>\n          <li><strong>HBM (High Bandwidth Memory)</strong>: Multiple DRAM dies stacked with logic die</li>\n          <li><strong>Through-Silicon Vias (TSVs)</strong>: Vertical connections for die-to-die communication</li>\n          <li><strong>Logic Layer Integration</strong>: Embedding RISC-V cores in the logic layer of HBM</li>\n          <li><strong>Interposer Technology</strong>: Silicon interposers for heterogeneous integration</li>\n          <li><strong>Chiplet Approaches</strong>: Modular integration of memory and compute chiplets</li>\n        </ul>\n        \n        <h4>Smart Memory Controllers</h4>\n        <p>Enhancing memory controllers with computational capabilities:</p>\n        <ul>\n          <li><strong>RISC-V-based Memory Controllers</strong>: Adding programmable cores to memory subsystems</li>\n          <li><strong>In-line Processing</strong>: Performing operations during data transfer</li>\n          <li><strong>Data Filtering</strong>: Reducing data movement by filtering at the source</li>\n          <li><strong>Scatter-Gather Operations</strong>: Intelligent data movement without CPU involvement</li>\n          <li><strong>Atomics and Reductions</strong>: Performing atomic operations near memory</li>\n        </ul>\n        \n        <h4>Compute Near Memory Architectures</h4>\n        <p>System architectures optimized for memory-centric computing:</p>\n        <ul>\n          <li><strong>Memory-Side Accelerators</strong>: Dedicated compute units adjacent to memory banks</li>\n          <li><strong>Vector Processing Units</strong>: Leveraging RISC-V "V" extension for memory-intensive operations</li>\n          <li><strong>Sparse Compute Engines</strong>: Specialized hardware for sparse data operations</li>\n          <li><strong>Domain-Specific Processing</strong>: Memory-coupled accelerators for specific workloads</li>\n          <li><strong>Programming Models</strong>: Software abstractions for near-memory processing</li>\n        </ul>\n        \n        <h4>Memory-Centric Computing</h4>\n        <p>Paradigm shifts enabled by memory-centric architectures:</p>\n        <ul>\n          <li><strong>Data-Centric Programming</strong>: Moving algorithms to data rather than data to algorithms</li>\n          <li><strong>Energy Efficiency</strong>: Reducing the energy cost of data movement</li>\n          <li><strong>Scalability</strong>: Addressing bandwidth limitations in large systems</li>\n          <li><strong>Non-von Neumann Computing</strong>: Breaking free from traditional computing models</li>\n          <li><strong>RISC-V Implications</strong>: Extending the ISA for memory-centric operations</li>\n        </ul>\n      '},{id:"15.2",title:"Domain-Specific Accelerators",content:'\n        <h3>Specialized Compute Engines for Emerging Workloads</h3>\n        <p>Domain-specific accelerators tailored to particular computation patterns offer orders-of-magnitude improvements in performance and energy efficiency compared to general-purpose processors.</p>\n        \n        <h4>AI/ML Accelerators</h4>\n        <p>Hardware specifically optimized for machine learning workloads:</p>\n        <ul>\n          <li><strong>Tensor Processing Units</strong>: Matrix multiplication engines for neural networks</li>\n          <li><strong>CNN Accelerators</strong>: Specialized hardware for convolutional neural networks</li>\n          <li><strong>Sparse Neural Network Engines</strong>: Exploiting sparsity for efficiency</li>\n          <li><strong>Quantized Computation</strong>: Reduced-precision arithmetic for inference</li>\n          <li><strong>RISC-V Control Cores</strong>: Managing accelerator operation and data flow</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/WcsBvtI.png" alt="Domain-Specific Accelerator Architecture" style="max-width: 700px; width: 100%;">\n          <p><em>RISC-V system with domain-specific accelerators for various workloads</em></p>\n        </div>\n        \n        <h4>DSP Accelerators</h4>\n        <p>Hardware for efficient digital signal processing:</p>\n        <ul>\n          <li><strong>FFT Engines</strong>: Fast Fourier Transform acceleration</li>\n          <li><strong>FIR/IIR Filters</strong>: Digital filtering hardware</li>\n          <li><strong>Audio/Video Processing</strong>: Specialized blocks for media applications</li>\n          <li><strong>Software-Defined Radio</strong>: Flexible radio processing accelerators</li>\n          <li><strong>RISC-V Integration</strong>: P-extension and custom DSP instructions</li>\n        </ul>\n        \n        <h4>Cryptographic Accelerators</h4>\n        <p>Dedicated hardware for secure and efficient cryptographic operations:</p>\n        <ul>\n          <li><strong>AES Acceleration</strong>: Hardware for symmetric encryption</li>\n          <li><strong>Public Key Cryptography</strong>: RSA, ECC, and post-quantum cryptography</li>\n          <li><strong>Hash Functions</strong>: SHA-2/3 and other secure hashing algorithms</li>\n          <li><strong>Random Number Generation</strong>: True and pseudo-random number generators</li>\n          <li><strong>RISC-V K-extension</strong>: Standardized cryptographic instructions</li>\n        </ul>\n        \n        <h4>Custom Extension Integration Points</h4>\n        <p>RISC-V architectural features supporting accelerator integration:</p>\n        <ul>\n          <li><strong>Custom Instructions</strong>: Reserved opcodes for processor-integrated accelerators</li>\n          <li><strong>Coprocessor Interface</strong>: Standard interface for tightly-coupled accelerators</li>\n          <li><strong>Memory-Mapped Accelerators</strong>: Integration through the memory system</li>\n          <li><strong>Loosely-Coupled Accelerators</strong>: Command queue and shared memory models</li>\n          <li><strong>Heterogeneous Scheduler</strong>: Intelligent workload distribution</li>\n        </ul>\n        \n        <h4>Accelerator Coherence Interfaces</h4>\n        <p>Maintaining data consistency between accelerators and cores:</p>\n        <ul>\n          <li><strong>Cache Coherence Protocols</strong>: Extending coherence to accelerators</li>\n          <li><strong>Coherent Accelerator Interface</strong>: Standardized coherence mechanisms</li>\n          <li><strong>Non-Coherent Access</strong>: Explicit synchronization models</li>\n          <li><strong>Shared Virtual Memory</strong>: Address translation for accelerators</li>\n          <li><strong>Memory Consistency Models</strong>: Defining ordering guarantees</li>\n        </ul>\n      '},{id:"15.3",title:"High-Performance Computing",content:'\n        <h3>Scaling RISC-V to Supercomputing</h3>\n        <p>RISC-V is increasingly targeting high-performance computing applications, challenging established architectures in this demanding space.</p>\n        \n        <h4>Vector Processing for HPC</h4>\n        <p>Leveraging the RISC-V vector extension for scientific computing:</p>\n        <ul>\n          <li><strong>RVV Vector Extension</strong>: Scalable vector length for different implementations</li>\n          <li><strong>Vector Arithmetic</strong>: Efficient computation on large data sets</li>\n          <li><strong>Gather-Scatter Operations</strong>: Handling non-contiguous data access patterns</li>\n          <li><strong>Vector Predication</strong>: Conditional execution for complex algorithms</li>\n          <li><strong>HPC-specific Optimizations</strong>: Vector operations tuned for scientific workloads</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/3uW25Jc.png" alt="RISC-V HPC Architecture" style="max-width: 700px; width: 100%;">\n          <p><em>RISC-V based high-performance computing architecture</em></p>\n        </div>\n        \n        <h4>Scalable Multi-core Designs</h4>\n        <p>Building RISC-V processors that scale to many cores:</p>\n        <ul>\n          <li><strong>Tile-based Architectures</strong>: Modular approach to multi-core scaling</li>\n          <li><strong>Network-on-Chip</strong>: Efficient communication between cores</li>\n          <li><strong>Memory Hierarchy Optimization</strong>: Caches and interconnects for bandwidth</li>\n          <li><strong>Shared vs. Distributed Memory</strong>: Programming model implications</li>\n          <li><strong>Core Clustering</strong>: Hierarchical organization for locality</li>\n        </ul>\n        \n        <h4>Coherence Protocols for Large Systems</h4>\n        <p>Maintaining data consistency in many-core RISC-V systems:</p>\n        <ul>\n          <li><strong>Directory-Based Coherence</strong>: Scalable approach for large systems</li>\n          <li><strong>Hierarchical Coherence</strong>: Multi-level coherence domains</li>\n          <li><strong>Scalable Coherence Interconnects</strong>: Networks designed for coherence traffic</li>\n          <li><strong>Hybrid Coherence Schemes</strong>: Combining snooping and directory approaches</li>\n          <li><strong>Coherence Extensions</strong>: RISC-V specifications for large systems</li>\n        </ul>\n        \n        <h4>Memory Consistency Models</h4>\n        <p>Defining the rules for memory operation ordering:</p>\n        <ul>\n          <li><strong>RISC-V Memory Model</strong>: RVWMO (RISC-V Weak Memory Ordering)</li>\n          <li><strong>Relaxed Consistency</strong>: Performance benefits of relaxed ordering</li>\n          <li><strong>Fences and Barriers</strong>: Explicit ordering control</li>\n          <li><strong>Atomic Operations</strong>: Synchronized memory access</li>\n          <li><strong>Programming Implications</strong>: Synchronization patterns and best practices</li>\n        </ul>\n        \n        <h4>HPC-specific Extensions</h4>\n        <p>Specialized RISC-V features for high-performance scientific computing:</p>\n        <ul>\n          <li><strong>Extended Floating-Point</strong>: Enhanced precision and special functions</li>\n          <li><strong>SIMD Extensions</strong>: Beyond vector for specific operations</li>\n          <li><strong>Tensor Operations</strong>: Direct support for tensor mathematics</li>\n          <li><strong>Scientific Function Accelerators</strong>: Specialized units for common functions</li>\n          <li><strong>Custom HPC Instructions</strong>: Application-specific extensions</li>\n        </ul>\n      '},{id:"15.4",title:"Low-Power Design Techniques",content:'\n        <h3>Pushing the Efficiency Frontier</h3>\n        <p>RISC-V\'s clean-slate design enables cutting-edge power optimization techniques that are increasingly important as energy becomes a primary constraint in computing systems.</p>\n        \n        <h4>Subthreshold Operation</h4>\n        <p>Operating processors at ultra-low voltages for maximum efficiency:</p>\n        <ul>\n          <li><strong>Near/Sub-Threshold Design</strong>: Running circuits below the transistor threshold voltage</li>\n          <li><strong>Process Optimization</strong>: Special manufacturing processes for low voltage</li>\n          <li><strong>Microarchitectural Considerations</strong>: Designs robust to variation</li>\n          <li><strong>Energy per Operation</strong>: Minimizing energy for computational tasks</li>\n          <li><strong>RISC-V Implementation Examples</strong>: Academic and commercial ultra-low power cores</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/9tXeUdL.png" alt="Low Power RISC-V Techniques" style="max-width: 700px; width: 100%;">\n          <p><em>Low-power design techniques for RISC-V processors</em></p>\n        </div>\n        \n        <h4>DVFS (Dynamic Voltage Frequency Scaling)</h4>\n        <p>Adapting power consumption to computational demands:</p>\n        <ul>\n          <li><strong>Voltage-Frequency Islands</strong>: Independent control of processor regions</li>\n          <li><strong>Workload-Aware Scaling</strong>: Adjusting to computational requirements</li>\n          <li><strong>Fast Transition Techniques</strong>: Minimizing mode switching overhead</li>\n          <li><strong>Predictive DVFS</strong>: Anticipating workload changes</li>\n          <li><strong>RISC-V Power Management Extensions</strong>: ISA support for DVFS control</li>\n        </ul>\n        \n        <h4>Adaptive Clocking</h4>\n        <p>Innovative clock generation and distribution techniques:</p>\n        <ul>\n          <li><strong>Adaptive Clock Generation</strong>: Adjusting clock parameters to conditions</li>\n          <li><strong>Resilient Timing</strong>: Error detection and correction for timing margins</li>\n          <li><strong>Dynamic Margin Adaptation</strong>: Adjusting timing margins at runtime</li>\n          <li><strong>Resonant Clocking</strong>: Energy-efficient clock distribution</li>\n          <li><strong>Asynchronous Design</strong>: Clockless circuit techniques</li>\n        </ul>\n        \n        <h4>Power Gating Strategies</h4>\n        <p>Techniques for completely shutting down unused circuits:</p>\n        <ul>\n          <li><strong>Fine-Grained Power Gating</strong>: Individual block control</li>\n          <li><strong>State Retention</strong>: Preserving critical information during shutdown</li>\n          <li><strong>Leakage Reduction</strong>: Minimizing static power consumption</li>\n          <li><strong>Wake-up Sequencing</strong>: Controlled power-up to prevent issues</li>\n          <li><strong>Power Gating Infrastructure</strong>: Physical implementation considerations</li>\n        </ul>\n        \n        <h4>Energy Harvesting Compatibility</h4>\n        <p>Designing RISC-V systems for unreliable power sources:</p>\n        <ul>\n          <li><strong>Intermittent Computing</strong>: Execution despite power interruptions</li>\n          <li><strong>State Checkpointing</strong>: Saving and restoring execution state</li>\n          <li><strong>Energy-Aware Task Scheduling</strong>: Adapting to available energy</li>\n          <li><strong>Power Supply Monitoring</strong>: Tracking available energy</li>\n          <li><strong>RISC-V for Energy Harvesting</strong>: Architectural adaptations for harvested power</li>\n        </ul>\n      '},{id:"15.5",title:"Emerging Research Areas",content:'\n        <h3>The Frontier of RISC-V Innovation</h3>\n        <p>RISC-V\'s open nature makes it an ideal platform for exploring radical new directions in computer architecture research.</p>\n        \n        <h4>Non-volatile Processors</h4>\n        <p>RISC-V designs incorporating emerging non-volatile memory technologies:</p>\n        <ul>\n          <li><strong>Non-volatile Memory Technologies</strong>: MRAM, RRAM, PCM, FeRAM integration</li>\n          <li><strong>Non-volatile Register Files</strong>: Instant-on capability with state preservation</li>\n          <li><strong>Normally-Off Computing</strong>: Zero static power with rapid wake-up</li>\n          <li><strong>Hybrid Memory Hierarchies</strong>: Combining volatile and non-volatile memories</li>\n          <li><strong>RISC-V Adaptations</strong>: Architectural modifications for NVM operation</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/vX2mP9S.png" alt="Emerging RISC-V Research" style="max-width: 700px; width: 100%;">\n          <p><em>Emerging research directions in RISC-V processor architecture</em></p>\n        </div>\n        \n        <h4>Cryogenic Computing</h4>\n        <p>RISC-V processors designed for ultra-low temperature operation:</p>\n        <ul>\n          <li><strong>Superconducting Logic</strong>: RSFQ and other superconducting approaches</li>\n          <li><strong>Quantum Control Processors</strong>: RISC-V cores managing quantum systems</li>\n          <li><strong>Cryo-CMOS</strong>: Silicon operating at liquid helium temperatures</li>\n          <li><strong>Device Physics Changes</strong>: Adapting to cryogenic behavior</li>\n          <li><strong>Applications</strong>: Quantum computing, space exploration, scientific instruments</li>\n        </ul>\n        \n        <h4>Quantum Control Processors</h4>\n        <p>RISC-V as the classical control layer for quantum systems:</p>\n        <ul>\n          <li><strong>Quantum-Classical Interface</strong>: Bridging conventional and quantum computation</li>\n          <li><strong>Quantum Instruction Dispatch</strong>: Managing quantum operations</li>\n          <li><strong>Error Correction Control</strong>: Classical processing for quantum error correction</li>\n          <li><strong>Real-time Feedback</strong>: Low-latency control loops</li>\n          <li><strong>Specialized Extensions</strong>: RISC-V instructions for quantum control</li>\n        </ul>\n        \n        <h4>Neuromorphic Architectures</h4>\n        <p>Brain-inspired computing approaches using RISC-V:</p>\n        <ul>\n          <li><strong>Spiking Neural Networks</strong>: Event-based neural processing</li>\n          <li><strong>RISC-V + Neuromorphic Accelerators</strong>: Hybrid architectures</li>\n          <li><strong>Bio-inspired Learning</strong>: Implementing plasticity and adaptation</li>\n          <li><strong>Sensory Processing Systems</strong>: Vision, audition, and multi-modal processing</li>\n          <li><strong>Programming Models</strong>: Software abstractions for neuromorphic hardware</li>\n        </ul>\n        \n        <h4>Open-source EDA Advancement</h4>\n        <p>Development of the tools enabling RISC-V hardware design:</p>\n        <ul>\n          <li><strong>Open-source Synthesis Tools</strong>: Yosys and emerging alternatives</li>\n          <li><strong>Place and Route</strong>: NextPNR and other physical design tools</li>\n          <li><strong>Verification Frameworks</strong>: Formal verification and simulation</li>\n          <li><strong>Hardware Description Languages</strong>: Chisel, SpinalHDL, Amaranth</li>\n          <li><strong>Design Automation</strong>: Generator-based approaches to RISC-V implementation</li>\n        </ul>\n        \n        <pre style="background-color: #f5f5f5; padding: 10px; border-radius: 5px;">\n"We\'re witnessing only the beginning of RISC-V\'s impact. The architecture\'s \nopenness creates a uniquely fertile ground for radical innovation that isn\'t \npossible with proprietary ISAs. From ultra-low power IoT devices to exascale \nsupercomputers, from conventional von Neumann machines to exotic new computing \nparadigms, RISC-V provides the foundation upon which the next generation of \ncomputer architecture will be built."\n\n- David Patterson, Co-creator of RISC and RISC-V</pre>\n      '}],examples:[{id:"example15_1",title:"Near-Memory Processing Architecture",description:"Conceptual design of a RISC-V-based near-memory processing system",code:"// System-level architecture for a RISC-V-based near-memory processing system\n// This is a conceptual block diagram representation\n\n/*\n+-----------------------------------------------------------------------+\n|                                                                       |\n|                        RISC-V SoC with NMP Architecture               |\n|                                                                       |\n|  +----------------+     +----------------+     +----------------+     |\n|  |   RISC-V Core  |     |   RISC-V Core  |     |   RISC-V Core  |     |\n|  |    (RV64GC)    |     |    (RV64GC)    |     |    (RV64GC)    |     |\n|  +-------+--------+     +-------+--------+     +-------+--------+     |\n|          |                      |                      |              |\n|  +-------v--------+     +-------v--------+     +-------v--------+     |\n|  |    L1 Cache    |     |    L1 Cache    |     |    L1 Cache    |     |\n|  +-------+--------+     +-------+--------+     +-------+--------+     |\n|          |                      |                      |              |\n|  +-------v--------------------------------------------------+         |\n|  |                       L2 Shared Cache                    |         |\n|  +--+-------------------+-------------------+---------------+         |\n|     |                   |                   |                         |\n|     |                   |                   |                         |\n|  +--v---+            +--v---+            +--v---+                     |\n|  |Memory|            |Memory|            |Memory|                     |\n|  |Ctrl 0|            |Ctrl 1|            |Ctrl 2|                     |\n|  +--+---+            +--+---+            +--+---+                     |\n|     |                   |                   |                         |\n|  +--v-------------------v-------------------v--+                      |\n|  |            System Interconnect             |                       |\n|  +--+-------------------+-------------------+--+                      |\n|     |                   |                   |                         |\n|     |                   |                   |                         |\n|  +--v---+            +--v---+            +--v---+                     |\n|  | HBM  |            | HBM  |            | HBM  |                     |\n|  |Stack 0|           |Stack 1|           |Stack 2|                    |\n|  +--+---+            +--+---+            +--+---+                     |\n|     |                   |                   |                         |\n|  +--v---+            +--v---+            +--v---+                     |\n|  | Near |            | Near |            | Near |                     |\n|  |Memory|            |Memory|            |Memory|                     |\n|  | Proc |            | Proc |            | Proc |                     |\n|  | Unit |            | Unit |            | Unit |                     |\n|  +------+            +------+            +------+                     |\n|                                                                       |\n+-----------------------------------------------------------------------+\n\nNear-Memory Processing Unit Architecture:\n\n+----------------------------------------------------------------------+\n|                                                                      |\n|                 Near-Memory Processing Unit                          |\n|                                                                      |\n|  +----------------+     +--------------------+                       |\n|  | RISC-V RV32IMC |     | Vector Processing  |                       |\n|  | Control Core   |     | Unit (RVV)         |                       |\n|  +-------+--------+     +----------+---------+                       |\n|          |                         |                                 |\n|  +-------v-------------------------v---------+                       |\n|  |              Local Control Bus            |                       |\n|  +--+--------------------+------------------++                       |\n|     |                    |                   |                       |\n|  +--v----+           +--v-----+          +--v------+                |\n|  | Local |           | Stream |          | Special |                |\n|  | SRAM  |           | Buffers|          | Function|                |\n|  | Cache |           |        |          | Units   |                |\n|  +--+----+           +--+-----+          +--+------+                |\n|     |                    |                   |                       |\n|  +--v--------------------v-------------------v-----+                 |\n|  |            HBM Interface Controller             |                 |\n|  +--+-------------------------------------------+--+                 |\n|     |                                           |                    |\n|     |                                           |                    |\n|     v                                           v                    |\n| To/From HBM Stack                          Command Queue             |\n|                                           From Main Cores            |\n|                                                                      |\n+----------------------------------------------------------------------+\n\nKey Processing Capabilities:\n- Data filtering before sending to main CPU\n- In-place sorting and searching\n- Pattern matching and regular expressions\n- Graph processing primitives\n- Tensor operations for ML inference\n- Compression/decompression\n- Encryption/decryption\n*/"},{id:"example15_2",title:"RISC-V Custom Extension for Quantum Control",description:"Extension to the RISC-V ISA for quantum computing control",code:"// RISC-V Custom Extension for Quantum Control Systems\n// This example shows a conceptual ISA extension for controlling quantum hardware\n\n/*\nQuantum Control Extension (RV64Q):\n- Extends RISC-V with instructions for efficient control of quantum systems\n- Designed for real-time feedback and quantum error correction\n- Compatible with RV64GC base architecture\n\nInstruction Format:\n31       25 24     20 19     15 14  12 11      7 6     0\n+----------+---------+---------+------+---------+-------+\n| funct7   | rs2     | rs1     |funct3| rd      | opcode|\n+----------+---------+---------+------+---------+-------+\n\nNew \"Q\" Extension Opcode: 0x7b (custom-3)\n*/\n\n// ---------------------------------------------------------------\n// Example Assembly Code with Q Extension Instructions\n// ---------------------------------------------------------------\n\n// Initialize quantum control registers\nqcsr    x1, QC_CTRL      // Read quantum control CSR\nori     x1, x1, 0x1      // Set enable bit\nqcsw    x1, QC_CTRL      // Write to quantum control CSR\n\n// Load quantum operation sequence\nla      x2, q_operations\nla      x3, q_params\nlw      x4, 0(x2)        // Load operation code\nlw      x5, 0(x3)        // Load operation parameters\n\n// Execute quantum operation (X gate on qubit 5)\nqgate   x4, x5, x0       // Apply quantum gate operation\nqsync                    // Ensure quantum operation completed\n\n// Read measurement result\nqmeas   x6, 5            // Measure qubit 5, result in x6\nbnez    x6, q_feedback   // Branch based on measurement\n\n// Conditional feedback based on measurement\nq_feedback:\n  addi    x5, x0, 12     // Set parameter for Y gate\n  addi    x4, x0, 2      // Y gate operation code\n  qgate   x4, x5, x0     // Apply corrective Y gate\n\n// Wait for quantum coherence time with precise timing\nqtimer  x7, 500          // Set timer for 500 cycles\nqwait   x7               // Wait until timer expires\n\n// ---------------------------------------------------------------\n// C function using intrinsics for Q extension\n// ---------------------------------------------------------------\n\n// Example C code using compiler intrinsics for the Q extension\nvoid quantum_error_correction(int num_qubits) {\n  // Initialize stabilizer circuit\n  unsigned int ctrl_reg = __read_qcsr(QC_CTRL);\n  ctrl_reg |= QCTRL_ENABLE | QCTRL_LOWLATENCY;\n  __write_qcsr(QC_CTRL, ctrl_reg);\n  \n  // Configure error syndrome extraction\n  for (int i = 0; i < num_qubits; i++) {\n    // Apply Hadamard gates to ancilla qubits\n    __quantum_gate(QGATE_H, i + num_qubits, 0);\n  }\n  \n  // Apply CNOT gates for syndrome extraction\n  for (int i = 0; i < num_qubits; i++) {\n    __quantum_gate(QGATE_CNOT, i, i + num_qubits);\n  }\n  \n  // Insert barrier to ensure operations complete\n  __quantum_barrier();\n  \n  // Measure syndrome qubits\n  uint32_t syndrome = 0;\n  for (int i = 0; i < num_qubits; i++) {\n    syndrome |= (__quantum_measure(i + num_qubits) << i);\n  }\n  \n  // Apply error correction based on syndrome\n  if (syndrome != 0) {\n    apply_correction(syndrome);\n  }\n  \n  // Wait for decoherence protection\n  __quantum_wait(QCYCLES_PROTECT);\n}\n\n// ---------------------------------------------------------------\n// Verilog implementation of quantum control instruction decode\n// ---------------------------------------------------------------\n\n// Simplified decoder logic for Q extension (conceptual)\nmodule q_extension_decoder (\n  input  logic [31:0] instruction,\n  input  logic        valid,\n  output logic        is_q_instr,\n  output logic [3:0]  q_operation,\n  output logic [4:0]  q_rd,\n  output logic [4:0]  q_rs1,\n  output logic [4:0]  q_rs2,\n  output logic [11:0] q_immediate\n);\n\n  // Instruction fields\n  logic [6:0] opcode;\n  logic [2:0] funct3;\n  logic [6:0] funct7;\n  \n  assign opcode = instruction[6:0];\n  assign funct3 = instruction[14:12];\n  assign funct7 = instruction[31:25];\n  assign q_rd   = instruction[11:7];\n  assign q_rs1  = instruction[19:15];\n  assign q_rs2  = instruction[24:20];\n  \n  // Q extension opcode detection\n  assign is_q_instr = valid && (opcode == 7'h7b);\n  \n  // Q operation decoding\n  always_comb begin\n    if (is_q_instr) begin\n      case (funct3)\n        3'b000: q_operation = 4'b0001;  // qgate\n        3'b001: q_operation = 4'b0010;  // qmeas\n        3'b010: q_operation = 4'b0011;  // qsync\n        3'b011: q_operation = 4'b0100;  // qwait\n        3'b100: q_operation = 4'b0101;  // qtimer\n        3'b101: q_operation = 4'b0110;  // qcsr\n        3'b110: q_operation = 4'b0111;  // qcsw\n        default: q_operation = 4'b0000; // invalid\n      endcase\n    end else begin\n      q_operation = 4'b0000;\n    end\n  end\n  \n  // Immediate value for certain operations\n  assign q_immediate = {funct7, q_rs2};\n\nendmodule"}]},completed:!1},{...{id:16,title:"Practical Labs and Projects",description:"Hands-on implementation projects for RISC-V processor design",estimatedTime:"8 hours",completed:!1,sections:[{id:"16.1",title:"Single-Cycle Core Implementation",content:'\n        <h3>Building a Basic RISC-V Processor</h3>\n        <p>This lab guides you through implementing a functional RV32I single-cycle processor core from scratch.</p>\n        \n        <h4>RV32I Core Implementation in Verilog/VHDL</h4>\n        <p>The implementation process follows these steps:</p>\n        <ul>\n          <li><strong>Project Setup</strong>: Creating the file structure and testing infrastructure</li>\n          <li><strong>Implementation Scope</strong>: Starting with a subset of RV32I instructions</li>\n          <li><strong>Module Hierarchy</strong>: Designing the top-level module and its subcomponents</li>\n          <li><strong>Building Incrementally</strong>: Testing each component before integration</li>\n          <li><strong>Step-by-step Verification</strong>: Ensuring correctness at each stage</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/JKl3mGK.png" alt="Single-Cycle Core" style="max-width: 700px; width: 100%;">\n          <p><em>Single-cycle RISC-V processor architecture</em></p>\n        </div>\n        \n        <h4>ALU and Register File Design</h4>\n        <p>Implementing key datapath components:</p>\n        <ul>\n          <li><strong>Register File</strong>: 32\xd732-bit register array with dual read ports and single write port</li>\n          <li><strong>ALU Operations</strong>: Addition, subtraction, logical, and shift operations</li>\n          <li><strong>Parameterized Design</strong>: Configurable bit width and feature set</li>\n          <li><strong>Zero Detection</strong>: Flag for branch decisions</li>\n          <li><strong>Hardware Resource Optimization</strong>: Balancing performance and area</li>\n        </ul>\n        \n        <h4>Control Unit Development</h4>\n        <p>Creating the brain of the processor:</p>\n        <ul>\n          <li><strong>Instruction Decoder</strong>: Parsing instruction fields (opcode, funct3, etc.)</li>\n          <li><strong>Control Signal Generation</strong>: Determining operations for each instruction</li>\n          <li><strong>Branch Logic</strong>: Handling conditional branches and jumps</li>\n          <li><strong>Memory Control</strong>: Managing load and store operations</li>\n          <li><strong>Implementation Options</strong>: Hardwired vs. microcode approaches</li>\n        </ul>\n        \n        <h4>Testing with Assembly Programs</h4>\n        <p>Verifying the core with real code:</p>\n        <ul>\n          <li><strong>Test Program Development</strong>: Writing assembly code to exercise the processor</li>\n          <li><strong>Assembler Usage</strong>: Converting assembly to machine code</li>\n          <li><strong>Memory Initialization</strong>: Loading programs into instruction memory</li>\n          <li><strong>Waveform Analysis</strong>: Examining signal behavior in simulation</li>\n          <li><strong>Debugging Techniques</strong>: Identifying and fixing implementation issues</li>\n        </ul>\n        \n        <h4>Performance and Resource Utilization Analysis</h4>\n        <p>Evaluating the implementation:</p>\n        <ul>\n          <li><strong>CPI Analysis</strong>: Calculating cycles per instruction (always 1 for single-cycle)</li>\n          <li><strong>Critical Path Identification</strong>: Finding the speed-limiting path</li>\n          <li><strong>Resource Usage</strong>: Measuring LUTs, FFs, memory usage</li>\n          <li><strong>Performance Bottlenecks</strong>: Understanding design limitations</li>\n          <li><strong>Enhancement Possibilities</strong>: Identifying potential improvements</li>\n        </ul>\n      '},{id:"16.2",title:"Pipelined Core Development",content:'\n        <h3>Advancing to Pipelined Architecture</h3>\n        <p>This project extends the single-cycle design to a more efficient pipelined implementation.</p>\n        \n        <h4>5-stage Pipeline Implementation</h4>\n        <p>Transforming the design into a classic RISC pipeline:</p>\n        <ul>\n          <li><strong>Pipeline Stages</strong>: Instruction Fetch (IF), Decode (ID), Execute (EX), Memory (MEM), Writeback (WB)</li>\n          <li><strong>Pipeline Registers</strong>: Adding storage between stages</li>\n          <li><strong>Control Signal Propagation</strong>: Passing control signals through the pipeline</li>\n          <li><strong>Stage-by-Stage Implementation</strong>: Incremental development and testing</li>\n          <li><strong>Structural Refactoring</strong>: Reorganizing the single-cycle design</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/R3TYPqd.png" alt="Pipelined Core" style="max-width: 700px; width: 100%;">\n          <p><em>5-stage pipelined RISC-V processor architecture</em></p>\n        </div>\n        \n        <h4>Hazard Detection and Forwarding Logic</h4>\n        <p>Addressing data dependencies in the pipeline:</p>\n        <ul>\n          <li><strong>Data Hazard Types</strong>: RAW, WAR, WAW dependencies</li>\n          <li><strong>Hazard Detection Unit</strong>: Identifying potential conflicts</li>\n          <li><strong>Forwarding Paths</strong>: Bypassing results to earlier stages</li>\n          <li><strong>Forwarding Control</strong>: Determining when and what to forward</li>\n          <li><strong>Pipeline Stalling</strong>: Handling hazards that can\'t be forwarded</li>\n        </ul>\n        \n        <h4>Branch Prediction Implementation</h4>\n        <p>Reducing the branch penalty:</p>\n        <ul>\n          <li><strong>Static Prediction Schemes</strong>: Always-taken, always-not-taken, BTFN</li>\n          <li><strong>Branch Resolution</strong>: Determining actual branch outcome</li>\n          <li><strong>Pipeline Flushing</strong>: Handling mispredictions</li>\n          <li><strong>Branch Target Calculation</strong>: Early computation of branch destinations</li>\n          <li><strong>Performance Impact Analysis</strong>: Measuring prediction effectiveness</li>\n        </ul>\n        \n        <h4>Pipeline Performance Analysis</h4>\n        <p>Evaluating the pipelined implementation:</p>\n        <ul>\n          <li><strong>Throughput Measurement</strong>: Instructions per cycle (IPC)</li>\n          <li><strong>Stall Analysis</strong>: Identifying sources of pipeline bubbles</li>\n          <li><strong>Critical Path Evaluation</strong>: Maximum frequency potential</li>\n          <li><strong>Hazard Impact</strong>: Quantifying performance loss from hazards</li>\n          <li><strong>Resource Utilization</strong>: Comparing with single-cycle design</li>\n        </ul>\n        \n        <h4>Comparison with Single-Cycle Design</h4>\n        <p>Understanding the tradeoffs:</p>\n        <ul>\n          <li><strong>Performance Comparison</strong>: Throughput and latency analysis</li>\n          <li><strong>Resource Usage</strong>: Additional hardware requirements</li>\n          <li><strong>Design Complexity</strong>: Implementation and verification challenges</li>\n          <li><strong>Clock Frequency</strong>: Maximum operating frequency comparison</li>\n          <li><strong>Power Efficiency</strong>: Energy per instruction analysis</li>\n        </ul>\n      '},{id:"16.3",title:"Memory Hierarchy Implementation",content:'\n        <h3>Building an Efficient Memory System</h3>\n        <p>This project focuses on implementing a complete memory hierarchy for the RISC-V processor.</p>\n        \n        <h4>Cache Controller Design</h4>\n        <p>Implementing the brain of the cache system:</p>\n        <ul>\n          <li><strong>Cache Controller FSM</strong>: State machine for handling requests</li>\n          <li><strong>Tag Comparison Logic</strong>: Determining cache hits/misses</li>\n          <li><strong>Replacement Policy</strong>: Implementing LRU or other algorithms</li>\n          <li><strong>Write Policy</strong>: Write-through or write-back handling</li>\n          <li><strong>Memory Interface</strong>: Communication with lower memory levels</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/8WIL5sK.png" alt="Memory Hierarchy" style="max-width: 700px; width: 100%;">\n          <p><em>RISC-V processor memory hierarchy architecture</em></p>\n        </div>\n        \n        <h4>Parameterized Cache Implementation</h4>\n        <p>Creating flexible cache structures:</p>\n        <ul>\n          <li><strong>Configurable Cache Size</strong>: Adjustable total capacity</li>\n          <li><strong>Associativity Options</strong>: Direct-mapped to fully-associative</li>\n          <li><strong>Line Size Selection</strong>: Configurable cache line width</li>\n          <li><strong>Tag and Data Storage</strong>: Efficient memory implementation</li>\n          <li><strong>Status Bits</strong>: Valid, dirty, LRU tracking</li>\n        </ul>\n        \n        <h4>Virtual Memory Implementation</h4>\n        <p>Adding address translation capabilities:</p>\n        <ul>\n          <li><strong>TLB Design</strong>: Translation lookaside buffer structure</li>\n          <li><strong>Page Table Walker</strong>: Hardware or software page table traversal</li>\n          <li><strong>Address Translation Process</strong>: Virtual to physical mapping</li>\n          <li><strong>Memory Protection</strong>: Permission checking</li>\n          <li><strong>Exception Handling</strong>: Managing page faults</li>\n        </ul>\n        \n        <h4>Memory System Benchmarking</h4>\n        <p>Measuring and optimizing performance:</p>\n        <ul>\n          <li><strong>Cache Hit Rate Analysis</strong>: Measuring and improving hit ratios</li>\n          <li><strong>Access Latency</strong>: Timing for different memory operations</li>\n          <li><strong>Bandwidth Measurement</strong>: Data transfer rates</li>\n          <li><strong>Benchmark Programs</strong>: Representative workloads for testing</li>\n          <li><strong>Configuration Exploration</strong>: Finding optimal parameters</li>\n        </ul>\n      '},{id:"16.4",title:"Full SoC Integration",content:'\n        <h3>Creating a Complete RISC-V System</h3>\n        <p>This project combines the processor core with peripherals to create a functional system-on-chip.</p>\n        \n        <h4>Adding Peripherals (UART, GPIO, Timers)</h4>\n        <p>Implementing essential I/O capabilities:</p>\n        <ul>\n          <li><strong>UART Controller</strong>: Serial communication interface</li>\n          <li><strong>GPIO Module</strong>: General-purpose input/output management</li>\n          <li><strong>Timer/Counter</strong>: Time keeping and event generation</li>\n          <li><strong>Interrupt Controllers</strong>: Coordinating device interrupts</li>\n          <li><strong>Memory-Mapped I/O</strong>: Register interface for peripherals</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/2pFGn9K.png" alt="RISC-V SoC" style="max-width: 700px; width: 100%;">\n          <p><em>Complete RISC-V SoC with peripherals and interconnect</em></p>\n        </div>\n        \n        <h4>Bus Interconnect Implementation</h4>\n        <p>Creating the communication fabric:</p>\n        <ul>\n          <li><strong>Bus Protocol Selection</strong>: Implementing AXI, TileLink, or custom protocol</li>\n          <li><strong>Address Decoding</strong>: Routing transactions to appropriate peripherals</li>\n          <li><strong>Arbitration</strong>: Managing multiple masters</li>\n          <li><strong>Data Width Conversion</strong>: Handling different interface widths</li>\n          <li><strong>Clock Domain Crossing</strong>: Managing different timing domains</li>\n        </ul>\n        \n        <h4>Interrupt Controller Integration</h4>\n        <p>Managing external events:</p>\n        <ul>\n          <li><strong>PLIC Implementation</strong>: Platform-level interrupt controller</li>\n          <li><strong>CLIC Alternative</strong>: Core-local interrupt controller</li>\n          <li><strong>Interrupt Prioritization</strong>: Handling multiple simultaneous interrupts</li>\n          <li><strong>Interrupt Context Saving</strong>: Preserving processor state</li>\n          <li><strong>Vectored Interrupts</strong>: Efficient handler dispatch</li>\n        </ul>\n        \n        <h4>Bare-metal Software Development</h4>\n        <p>Programming the integrated system:</p>\n        <ul>\n          <li><strong>Boot Code</strong>: Initialization sequence implementation</li>\n          <li><strong>Device Drivers</strong>: Software interfaces for peripherals</li>\n          <li><strong>Interrupt Handlers</strong>: Servicing external events</li>\n          <li><strong>Memory Map Definition</strong>: Software-visible address space</li>\n          <li><strong>Example Applications</strong>: Demonstrating system capabilities</li>\n        </ul>\n        \n        <h4>OS Porting (FreeRTOS or Linux)</h4>\n        <p>Adding operating system support:</p>\n        <ul>\n          <li><strong>FreeRTOS Port</strong>: Real-time operating system integration</li>\n          <li><strong>Linux Porting</strong>: Supporting a full-featured OS</li>\n          <li><strong>Boot Loader</strong>: Multi-stage boot process</li>\n          <li><strong>Device Tree</strong>: Hardware description for the OS</li>\n          <li><strong>System Calls</strong>: Supporting privileged operations</li>\n        </ul>\n      '},{id:"16.5",title:"Advanced Implementation Projects",content:'\n        <h3>Exploring Advanced RISC-V Features</h3>\n        <p>These projects extend basic implementations with sophisticated capabilities.</p>\n        \n        <h4>Vector Processor Extension</h4>\n        <p>Implementing RISC-V vector capabilities:</p>\n        <ul>\n          <li><strong>Vector Register File</strong>: Storage for vector data</li>\n          <li><strong>Vector ALU</strong>: Parallel arithmetic operations</li>\n          <li><strong>Vector Memory Unit</strong>: Efficient vector loads/stores</li>\n          <li><strong>Vector Length Configuration</strong>: Dynamic vector length handling</li>\n          <li><strong>Mask Processing</strong>: Conditional vector operations</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/NMYPcK3.png" alt="Advanced RISC-V Features" style="max-width: 700px; width: 100%;">\n          <p><em>Advanced RISC-V processor implementations</em></p>\n        </div>\n        \n        <h4>Out-of-order Execution Features</h4>\n        <p>Building a superscalar RISC-V core:</p>\n        <ul>\n          <li><strong>Instruction Window</strong>: Managing multiple in-flight instructions</li>\n          <li><strong>Register Renaming</strong>: Eliminating false dependencies</li>\n          <li><strong>Reservation Stations</strong>: Instruction waiting for operands</li>\n          <li><strong>Reorder Buffer</strong>: Ensuring in-order commitment</li>\n          <li><strong>Branch Prediction</strong>: Advanced prediction techniques</li>\n        </ul>\n        \n        <h4>Multi-core Implementation</h4>\n        <p>Creating a parallel processing system:</p>\n        <ul>\n          <li><strong>Multi-core Architecture</strong>: Connecting multiple processor cores</li>\n          <li><strong>Cache Coherence Protocol</strong>: Maintaining memory consistency</li>\n          <li><strong>Atomic Operations</strong>: Supporting synchronization primitives</li>\n          <li><strong>Interconnect Topology</strong>: Core-to-core communication</li>\n          <li><strong>Symmetric Multiprocessing</strong>: Balancing workloads</li>\n        </ul>\n        \n        <h4>Custom Instruction Extension</h4>\n        <p>Adding specialized instructions:</p>\n        <ul>\n          <li><strong>Instruction Encoding</strong>: Defining custom opcodes</li>\n          <li><strong>Datapath Extensions</strong>: Hardware for new operations</li>\n          <li><strong>Control Logic Modifications</strong>: Supporting custom execution</li>\n          <li><strong>Compiler Support</strong>: Enabling software use of extensions</li>\n          <li><strong>Performance Analysis</strong>: Measuring improvement from customization</li>\n        </ul>\n        \n        <h4>Domain-specific Accelerator Integration</h4>\n        <p>Adding specialized compute engines:</p>\n        <ul>\n          <li><strong>Accelerator Interface</strong>: Connecting to the processor</li>\n          <li><strong>Data Transfer Mechanisms</strong>: Moving data to/from accelerators</li>\n          <li><strong>Control and Status</strong>: Managing accelerator operation</li>\n          <li><strong>Memory Coherence</strong>: Handling shared data</li>\n          <li><strong>Software Stack</strong>: Programming model for the accelerator</li>\n        </ul>\n      '},{id:"16.6",title:"Full-System Demonstration",content:'\n        <h3>Showcasing a Complete RISC-V System</h3>\n        <p>This capstone project demonstrates a fully functional RISC-V implementation running real applications.</p>\n        \n        <h4>Application Development</h4>\n        <p>Creating software to demonstrate system capabilities:</p>\n        <ul>\n          <li><strong>Demo Applications</strong>: Showcasing system features</li>\n          <li><strong>Benchmark Programs</strong>: Measuring performance</li>\n          <li><strong>Interactive Demonstrations</strong>: User-facing applications</li>\n          <li><strong>Software Development Tools</strong>: Compiler and debugger setup</li>\n          <li><strong>OS Integration</strong>: Operating system support</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/L5DcRzX.png" alt="Full System Demonstration" style="max-width: 700px; width: 100%;">\n          <p><em>Complete RISC-V system demonstration architecture</em></p>\n        </div>\n        \n        <h4>System Performance Benchmarking</h4>\n        <p>Measuring and analyzing system performance:</p>\n        <ul>\n          <li><strong>Standard Benchmarks</strong>: CoreMark, Dhrystone, Embench</li>\n          <li><strong>Application-specific Tests</strong>: Relevant workload performance</li>\n          <li><strong>Performance Profiling</strong>: Identifying bottlenecks</li>\n          <li><strong>Comparative Analysis</strong>: Benchmarking against alternatives</li>\n          <li><strong>Performance Visualization</strong>: Graphing results</li>\n        </ul>\n        \n        <h4>Power and Area Optimization</h4>\n        <p>Refining the implementation for efficiency:</p>\n        <ul>\n          <li><strong>Power Analysis</strong>: Measuring consumption under different workloads</li>\n          <li><strong>Power Optimization</strong>: Reducing energy usage</li>\n          <li><strong>Area Reduction</strong>: Minimizing resource utilization</li>\n          <li><strong>Critical Path Optimization</strong>: Improving timing margins</li>\n          <li><strong>Implementation Tradeoffs</strong>: Balancing various constraints</li>\n        </ul>\n        \n        <h4>Documentation and Presentation</h4>\n        <p>Preparing project artifacts:</p>\n        <ul>\n          <li><strong>Technical Documentation</strong>: Architecture and implementation details</li>\n          <li><strong>User Guides</strong>: Instructions for using the system</li>\n          <li><strong>Design Rationale</strong>: Explaining implementation choices</li>\n          <li><strong>Presentation Materials</strong>: Slides and demonstration scripts</li>\n          <li><strong>Project Repository</strong>: Well-organized code and documentation</li>\n        </ul>\n        \n        <h4>Future Enhancement Roadmap</h4>\n        <p>Planning for continued development:</p>\n        <ul>\n          <li><strong>Feature Extensions</strong>: Additional capabilities to add</li>\n          <li><strong>Performance Improvements</strong>: Opportunities for optimization</li>\n          <li><strong>Integration Options</strong>: Potential system expansions</li>\n          <li><strong>Research Directions</strong>: Areas for further exploration</li>\n          <li><strong>Technology Transfer</strong>: Paths to practical application</li>\n        </ul>\n      '}],examples:[{id:"example16_1",title:"Single-Cycle RISC-V Core (Top Module)",description:"Verilog implementation of a simple RV32I single-cycle processor top module",code:"module riscv_core_single_cycle (\n  input  logic        clk,\n  input  logic        rst_n,\n  // Instruction memory interface\n  output logic [31:0] instr_addr,\n  input  logic [31:0] instr_data,\n  // Data memory interface\n  output logic [31:0] data_addr,\n  output logic [31:0] data_wdata,\n  input  logic [31:0] data_rdata,\n  output logic        data_we,\n  output logic [3:0]  data_be,  // Byte enable\n  // Debug signals\n  output logic [31:0] debug_pc,\n  output logic [31:0] debug_reg_x10\n);\n\n  // Internal signals\n  logic [31:0] pc_current;\n  logic [31:0] pc_next;\n  logic [31:0] instr;\n  logic [31:0] reg_rdata1, reg_rdata2;\n  logic [31:0] alu_result;\n  logic [31:0] immediate;\n  logic [31:0] alu_op2;\n  logic [31:0] writeback_data;\n  \n  // Control signals\n  logic        branch;\n  logic        jump;\n  logic        alu_src;\n  logic [3:0]  alu_op;\n  logic        mem_write;\n  logic        mem_read;\n  logic        mem_to_reg;\n  logic        reg_write;\n  logic [2:0]  imm_sel;\n  logic        zero_flag;\n  logic        branch_taken;\n\n  // Program Counter Logic\n  always_ff @(posedge clk or negedge rst_n) begin\n    if (!rst_n)\n      pc_current <= 32'h00000000;\n    else\n      pc_current <= pc_next;\n  end\n  \n  // PC Next calculation logic\n  assign branch_taken = branch & (zero_flag ^ instr[12]);  // BEQZ or BNEZ\n  assign pc_next = branch_taken ? (pc_current + immediate) :\n                  jump         ? (pc_current + immediate) :\n                                 (pc_current + 4);\n  \n  // Instruction fetch\n  assign instr_addr = pc_current;\n  assign instr = instr_data;\n  \n  // Debug outputs\n  assign debug_pc = pc_current;\n  \n  // Control Unit\n  control_unit control (\n    .opcode(instr[6:0]),\n    .funct3(instr[14:12]),\n    .funct7(instr[31:25]),\n    .branch(branch),\n    .jump(jump),\n    .alu_src(alu_src),\n    .alu_op(alu_op),\n    .mem_write(mem_write),\n    .mem_read(mem_read),\n    .mem_to_reg(mem_to_reg),\n    .reg_write(reg_write),\n    .imm_sel(imm_sel)\n  );\n  \n  // Immediate Generation\n  immediate_gen imm_gen (\n    .instr(instr),\n    .imm_sel(imm_sel),\n    .immediate(immediate)\n  );\n  \n  // Register File\n  register_file reg_file (\n    .clk(clk),\n    .rst_n(rst_n),\n    .rs1_addr(instr[19:15]),\n    .rs2_addr(instr[24:20]),\n    .rd_addr(instr[11:7]),\n    .rd_data(writeback_data),\n    .reg_write(reg_write),\n    .rs1_data(reg_rdata1),\n    .rs2_data(reg_rdata2),\n    .x10_data(debug_reg_x10)  // Debug output\n  );\n  \n  // ALU input mux\n  assign alu_op2 = alu_src ? immediate : reg_rdata2;\n  \n  // ALU\n  alu alu_unit (\n    .op1(reg_rdata1),\n    .op2(alu_op2),\n    .operation(alu_op),\n    .result(alu_result),\n    .zero(zero_flag)\n  );\n  \n  // Memory interface\n  assign data_addr = alu_result;\n  assign data_wdata = reg_rdata2;\n  assign data_we = mem_write;\n  assign data_be = 4'b1111;  // For now, all byte enables active\n  \n  // Writeback mux\n  assign writeback_data = mem_to_reg ? data_rdata : alu_result;\n\nendmodule\n\n// Sub-modules would be implemented separately:\n// - control_unit\n// - immediate_gen\n// - register_file\n// - alu"},{id:"example16_2",title:"Hazard Detection and Forwarding Unit",description:"Verilog implementation of hazard detection and forwarding logic for a pipelined RISC-V processor",code:"module hazard_forwarding_unit (\n  // Instruction information from different pipeline stages\n  input  logic [4:0]  id_rs1,\n  input  logic [4:0]  id_rs2,\n  input  logic        id_rs1_used,\n  input  logic        id_rs2_used,\n  input  logic [4:0]  ex_rd,\n  input  logic        ex_reg_write,\n  input  logic        ex_mem_read,\n  input  logic [4:0]  mem_rd, \n  input  logic        mem_reg_write,\n  input  logic [4:0]  wb_rd,\n  input  logic        wb_reg_write,\n  \n  // Forwarding control outputs\n  output logic [1:0]  forward_op1_sel,\n  output logic [1:0]  forward_op2_sel,\n  \n  // Hazard control outputs\n  output logic        pipeline_stall\n);\n\n  // Forwarding logic for ALU operand 1\n  always_comb begin\n    if (ex_reg_write && ex_rd != 0 && ex_rd == id_rs1 && id_rs1_used)\n      forward_op1_sel = 2'b01;  // Forward from EX stage\n    else if (mem_reg_write && mem_rd != 0 && mem_rd == id_rs1 && id_rs1_used)\n      forward_op1_sel = 2'b10;  // Forward from MEM stage\n    else if (wb_reg_write && wb_rd != 0 && wb_rd == id_rs1 && id_rs1_used)\n      forward_op1_sel = 2'b11;  // Forward from WB stage\n    else\n      forward_op1_sel = 2'b00;  // No forwarding, use reg file output\n  end\n  \n  // Forwarding logic for ALU operand 2\n  always_comb begin\n    if (ex_reg_write && ex_rd != 0 && ex_rd == id_rs2 && id_rs2_used)\n      forward_op2_sel = 2'b01;  // Forward from EX stage\n    else if (mem_reg_write && mem_rd != 0 && mem_rd == id_rs2 && id_rs2_used)\n      forward_op2_sel = 2'b10;  // Forward from MEM stage\n    else if (wb_reg_write && wb_rd != 0 && wb_rd == id_rs2 && id_rs2_used)\n      forward_op2_sel = 2'b11;  // Forward from WB stage\n    else\n      forward_op2_sel = 2'b00;  // No forwarding, use reg file output\n  end\n  \n  // Load-use hazard detection (when a load is followed by an instruction that uses the result)\n  assign pipeline_stall = ex_mem_read && ((ex_rd == id_rs1 && id_rs1_used) || \n                                        (ex_rd == id_rs2 && id_rs2_used));\n\nendmodule\n\n// Example of how this unit integrates into the pipeline\nmodule pipeline_integration_example (\n  input  logic        clk,\n  input  logic        rst_n,\n  // Other inputs and outputs...\n);\n\n  // Pipeline stage registers\n  // IF/ID pipeline registers\n  logic [31:0] if_id_pc;\n  logic [31:0] if_id_instruction;\n  \n  // ID/EX pipeline registers\n  logic [31:0] id_ex_pc;\n  logic [31:0] id_ex_reg_data1;\n  logic [31:0] id_ex_reg_data2;\n  logic [4:0]  id_ex_rs1;\n  logic [4:0]  id_ex_rs2;\n  logic [4:0]  id_ex_rd;\n  logic        id_ex_reg_write;\n  logic        id_ex_mem_read;\n  // ... other control signals\n  \n  // EX/MEM pipeline registers\n  logic [31:0] ex_mem_alu_result;\n  logic [31:0] ex_mem_write_data;\n  logic [4:0]  ex_mem_rd;\n  logic        ex_mem_reg_write;\n  // ... other control signals\n  \n  // MEM/WB pipeline registers\n  logic [31:0] mem_wb_alu_result;\n  logic [31:0] mem_wb_read_data;\n  logic [4:0]  mem_wb_rd;\n  logic        mem_wb_reg_write;\n  // ... other control signals\n  \n  // Hazard and forwarding control signals\n  logic [1:0]  forward_op1_sel;\n  logic [1:0]  forward_op2_sel;\n  logic        pipeline_stall;\n  logic        flush_if_id;\n  \n  // Internal signals\n  logic [31:0] alu_op1;\n  logic [31:0] alu_op2;\n  logic [31:0] alu_result;\n  \n  // Hazard detection and forwarding unit\n  hazard_forwarding_unit hazard_forward (\n    .id_rs1(if_id_instruction[19:15]),\n    .id_rs2(if_id_instruction[24:20]),\n    .id_rs1_used(rs1_used),  // Derived from instruction decode\n    .id_rs2_used(rs2_used),  // Derived from instruction decode\n    .ex_rd(id_ex_rd),\n    .ex_reg_write(id_ex_reg_write),\n    .ex_mem_read(id_ex_mem_read),\n    .mem_rd(ex_mem_rd),\n    .mem_reg_write(ex_mem_reg_write),\n    .wb_rd(mem_wb_rd),\n    .wb_reg_write(mem_wb_reg_write),\n    .forward_op1_sel(forward_op1_sel),\n    .forward_op2_sel(forward_op2_sel),\n    .pipeline_stall(pipeline_stall)\n  );\n  \n  // Example of the forwarding mux for ALU operand 1\n  always_comb begin\n    case (forward_op1_sel)\n      2'b00: alu_op1 = id_ex_reg_data1;             // Normal path from register file\n      2'b01: alu_op1 = alu_result;                  // Forward from ALU output (EX stage)\n      2'b10: alu_op1 = ex_mem_alu_result;           // Forward from MEM stage\n      2'b11: alu_op1 = mem_wb_reg_write_data;       // Forward from WB stage\n    endcase\n  end\n  \n  // Stall and flush control for pipeline registers\n  always_ff @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n      // Reset all pipeline registers\n    end else begin\n      // Update IF/ID registers (stall if needed)\n      if (!pipeline_stall) begin\n        if (flush_if_id) begin\n          if_id_instruction <= 32'h00000013;  // NOP (addi x0, x0, 0)\n          if_id_pc <= if_id_pc;\n        end else begin\n          if_id_instruction <= instruction_memory_output;\n          if_id_pc <= pc_current;\n        end\n      end\n      \n      // Other pipeline registers...\n    end\n  end\n  \n  // Rest of the pipeline implementation...\n\nendmodule"}]},completed:!1},{...{id:17,title:"Final Project and Evaluation",description:"Comprehensive assessment of RISC-V processor design skills through project implementation and evaluation",estimatedTime:"16 hours",completed:!1,sections:[{id:"17.1",title:"Project Planning and Requirements",content:'\n        <h3>Defining Your RISC-V Processor Project</h3>\n        <p>The culmination of this course is a comprehensive RISC-V processor design project that demonstrates your understanding of computer architecture principles and implementation techniques.</p>\n        \n        <h4>Project Selection Guidelines</h4>\n        <p>Choose a project that matches your interests and goals:</p>\n        <ul>\n          <li><strong>Implementation Depth</strong>: Single-cycle, pipelined, superscalar, or out-of-order processor</li>\n          <li><strong>ISA Compliance</strong>: RV32I, RV32IM, RV32IMF, or other RISC-V subsets</li>\n          <li><strong>Implementation Platform</strong>: FPGA, ASIC, or high-level simulation</li>\n          <li><strong>Application Focus</strong>: General-purpose, low-power, high-performance, or domain-specific</li>\n          <li><strong>Verification Strategy</strong>: Methodologies for ensuring correctness</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/DvX3Z2E.png" alt="Project Planning Process" style="max-width: 700px; width: 100%;">\n          <p><em>Structured approach to RISC-V processor project planning</em></p>\n        </div>\n        \n        <h4>Requirements Definition</h4>\n        <p>Clearly specify your project\'s objectives and constraints:</p>\n        <ul>\n          <li><strong>Architectural Requirements</strong>: ISA features, memory hierarchy, pipeline structure</li>\n          <li><strong>Performance Targets</strong>: CPI/IPC goals, clock frequency, throughput</li>\n          <li><strong>Power Constraints</strong>: Maximum power consumption or energy per instruction</li>\n          <li><strong>Area Limitations</strong>: Resource utilization bounds for FPGA or die size for ASIC</li>\n          <li><strong>Verification Requirements</strong>: Test coverage targets and validation methods</li>\n        </ul>\n        \n        <h4>Project Scope and Schedule</h4>\n        <p>Develop a realistic plan for completing your design:</p>\n        <ul>\n          <li><strong>Work Breakdown Structure</strong>: Decomposing the project into manageable tasks</li>\n          <li><strong>Task Dependencies</strong>: Identifying critical path activities</li>\n          <li><strong>Timeline Development</strong>: Creating a schedule with milestones</li>\n          <li><strong>Resource Allocation</strong>: Tools, computing resources, and reference materials</li>\n          <li><strong>Risk Assessment</strong>: Identifying potential obstacles and mitigation plans</li>\n        </ul>\n        \n        <h4>Design Approach Selection</h4>\n        <p>Determine your implementation methodology:</p>\n        <ul>\n          <li><strong>Top-down vs. Bottom-up</strong>: Starting with high-level architecture or building blocks</li>\n          <li><strong>Iterative Refinement</strong>: Progressive implementation with increasing functionality</li>\n          <li><strong>Reference Model Utilization</strong>: Building upon existing designs vs. clean-slate</li>\n          <li><strong>Implementation Language</strong>: SystemVerilog, VHDL, Chisel, or high-level synthesis</li>\n          <li><strong>Tool Selection</strong>: Development environment, simulator, and synthesis tools</li>\n        </ul>\n        \n        <h4>Documentation Framework</h4>\n        <p>Establish a structure for documenting your design:</p>\n        <ul>\n          <li><strong>Architecture Specification</strong>: High-level design and interfaces</li>\n          <li><strong>Microarchitecture Documentation</strong>: Detailed implementation decisions</li>\n          <li><strong>Interface Definitions</strong>: Protocols and signal descriptions</li>\n          <li><strong>Test Plans</strong>: Verification strategy and test cases</li>\n          <li><strong>Project Report Template</strong>: Framework for final documentation</li>\n        </ul>\n      '},{id:"17.2",title:"Design Implementation",content:'\n        <h3>Bringing Your RISC-V Processor to Life</h3>\n        <p>The implementation phase transforms your architecture specification into a working design through careful coding, integration, and iterative refinement.</p>\n        \n        <h4>Architectural Implementation</h4>\n        <p>Building the core components of your processor:</p>\n        <ul>\n          <li><strong>Instruction Fetch Unit</strong>: Program counter management and instruction retrieval</li>\n          <li><strong>Decode Logic</strong>: Instruction parsing and control signal generation</li>\n          <li><strong>Execution Units</strong>: ALU, branch unit, and specialized functional blocks</li>\n          <li><strong>Memory Access System</strong>: Load/store unit and cache interfaces</li>\n          <li><strong>Register File</strong>: General-purpose and special registers</li>\n          <li><strong>Writeback Logic</strong>: Result propagation and architectural state update</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/xSeU2gN.png" alt="Implementation Process" style="max-width: 700px; width: 100%;">\n          <p><em>Systematic approach to RISC-V processor implementation</em></p>\n        </div>\n        \n        <h4>Pipeline Integration</h4>\n        <p>For pipelined designs, implementing efficient stage connections:</p>\n        <ul>\n          <li><strong>Pipeline Register Design</strong>: Defining stage boundaries and data forwarding</li>\n          <li><strong>Hazard Detection</strong>: Identifying and resolving data, control, and structural hazards</li>\n          <li><strong>Forwarding Logic</strong>: Implementing bypass paths for data dependencies</li>\n          <li><strong>Pipeline Control</strong>: Stall and flush mechanisms</li>\n          <li><strong>Exception Handling</strong>: Managing precise exceptions in the pipeline</li>\n        </ul>\n        \n        <h4>Memory Hierarchy Development</h4>\n        <p>Implementing the memory subsystem:</p>\n        <ul>\n          <li><strong>Cache Architecture</strong>: L1 instruction and data cache implementation</li>\n          <li><strong>Memory Controller</strong>: Interface to main memory or external memory</li>\n          <li><strong>Virtual Memory</strong>: Address translation and protection mechanisms</li>\n          <li><strong>Memory Coherence</strong>: For multi-core implementations</li>\n          <li><strong>Memory Model Compliance</strong>: Ensuring conformance to RISC-V memory ordering</li>\n        </ul>\n        \n        <h4>Control and Datapath Integration</h4>\n        <p>Connecting control logic with the processor datapath:</p>\n        <ul>\n          <li><strong>Control Unit Implementation</strong>: Hardwired or microcode-based control</li>\n          <li><strong>Control Signal Distribution</strong>: Routing control throughout the design</li>\n          <li><strong>Timing Analysis</strong>: Ensuring control signals arrive when needed</li>\n          <li><strong>Special Instruction Handling</strong>: CSR, fence, and system instructions</li>\n          <li><strong>Interface Consistency</strong>: Maintaining clean control-datapath boundaries</li>\n        </ul>\n        \n        <h4>Peripherals and System Integration</h4>\n        <p>Building a complete system around your processor:</p>\n        <ul>\n          <li><strong>System Bus Implementation</strong>: AXI, TileLink, or custom interconnect</li>\n          <li><strong>Basic Peripherals</strong>: UART, timers, interrupt controller</li>\n          <li><strong>I/O Interfaces</strong>: External device connections</li>\n          <li><strong>Debug Infrastructure</strong>: RISC-V debug specification implementation</li>\n          <li><strong>Boot Sequence</strong>: Reset handling and initialization logic</li>\n        </ul>\n      '},{id:"17.3",title:"Verification and Testing",content:'\n        <h3>Ensuring Correctness of Your RISC-V Implementation</h3>\n        <p>Comprehensive verification is essential to confirm that your processor correctly implements the RISC-V specification and meets your design requirements.</p>\n        \n        <h4>Instruction-Level Testing</h4>\n        <p>Verifying correct execution of the RISC-V instruction set:</p>\n        <ul>\n          <li><strong>Individual Instruction Tests</strong>: Verifying each instruction\'s functionality</li>\n          <li><strong>Instruction Sequences</strong>: Testing interaction between instructions</li>\n          <li><strong>Corner Cases</strong>: Boundary conditions and special situations</li>\n          <li><strong>Illegal Instructions</strong>: Proper exception generation</li>\n          <li><strong>RISC-V Compliance Tests</strong>: Official test suite for specification conformance</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/PmLTjWU.png" alt="Verification Methodology" style="max-width: 700px; width: 100%;">\n          <p><em>Comprehensive verification strategy for RISC-V processor designs</em></p>\n        </div>\n        \n        <h4>Microarchitectural Verification</h4>\n        <p>Ensuring the implementation details work as intended:</p>\n        <ul>\n          <li><strong>Pipeline Hazard Testing</strong>: Verifying data forwarding and hazard resolution</li>\n          <li><strong>Cache Behavior</strong>: Confirming proper cache operation</li>\n          <li><strong>Branch Prediction</strong>: Validating prediction and recovery mechanisms</li>\n          <li><strong>Exception Handling</strong>: Testing precise exception support</li>\n          <li><strong>Performance Counter Validation</strong>: Ensuring accurate performance monitoring</li>\n        </ul>\n        \n        <h4>System-Level Testing</h4>\n        <p>Validating the processor in a complete system context:</p>\n        <ul>\n          <li><strong>Boot Sequence Verification</strong>: Testing initialization flow</li>\n          <li><strong>Peripheral Integration</strong>: Verifying device interaction</li>\n          <li><strong>Interrupt Handling</strong>: Testing interrupt response</li>\n          <li><strong>Memory-Mapped I/O</strong>: Validating device register access</li>\n          <li><strong>Software Execution</strong>: Running complex programs</li>\n        </ul>\n        \n        <h4>Formal Verification</h4>\n        <p>Using mathematical methods to prove correctness:</p>\n        <ul>\n          <li><strong>Property Specification</strong>: Defining behaviors to verify</li>\n          <li><strong>Assertion-Based Verification</strong>: Embedding checks in the design</li>\n          <li><strong>Model Checking</strong>: Exhaustive state space exploration</li>\n          <li><strong>Equivalence Checking</strong>: Comparing implementation against reference</li>\n          <li><strong>Formal Coverage Analysis</strong>: Identifying unverified behaviors</li>\n        </ul>\n        \n        <h4>Coverage-Driven Verification</h4>\n        <p>Ensuring thorough testing of the design:</p>\n        <ul>\n          <li><strong>Code Coverage</strong>: Line, branch, expression coverage</li>\n          <li><strong>Functional Coverage</strong>: Tracking feature verification</li>\n          <li><strong>Cross-Coverage</strong>: Combinations of conditions</li>\n          <li><strong>Coverage Closure</strong>: Addressing verification gaps</li>\n          <li><strong>Coverage Reporting</strong>: Documenting verification completeness</li>\n        </ul>\n      '},{id:"17.4",title:"Performance Evaluation",content:'\n        <h3>Measuring and Analyzing Your RISC-V Processor Performance</h3>\n        <p>Evaluating your processor implementation against established metrics provides insight into its effectiveness and areas for improvement.</p>\n        \n        <h4>Performance Metrics</h4>\n        <p>Key measurements for processor evaluation:</p>\n        <ul>\n          <li><strong>Instruction Throughput</strong>: Instructions per cycle (IPC) or cycles per instruction (CPI)</li>\n          <li><strong>Clock Frequency</strong>: Maximum operating frequency</li>\n          <li><strong>Execution Time</strong>: Total time to complete benchmark programs</li>\n          <li><strong>Cache Performance</strong>: Hit rates and miss penalties</li>\n          <li><strong>Branch Prediction Accuracy</strong>: Percentage of correct predictions</li>\n          <li><strong>Memory System Latency</strong>: Access times for different memory levels</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/LZYSvg2.png" alt="Performance Analysis" style="max-width: 700px; width: 100%;">\n          <p><em>Systematic performance evaluation methodology for RISC-V processors</em></p>\n        </div>\n        \n        <h4>Benchmark Selection</h4>\n        <p>Choosing appropriate workloads for evaluation:</p>\n        <ul>\n          <li><strong>RISC-V Dhrystone</strong>: Standard integer performance benchmark</li>\n          <li><strong>CoreMark</strong>: Industry-standard processor benchmark</li>\n          <li><strong>Embench</strong>: Modern embedded benchmark suite</li>\n          <li><strong>SPEC CPU</strong>: Desktop/server performance benchmarks (if supported)</li>\n          <li><strong>Application-Specific Benchmarks</strong>: Domain-relevant workloads</li>\n          <li><strong>Microbenchmarks</strong>: Targeted tests for specific features</li>\n        </ul>\n        \n        <h4>Resource Utilization Analysis</h4>\n        <p>Examining the efficiency of implementation:</p>\n        <ul>\n          <li><strong>Logic Utilization</strong>: LUTs or gate count</li>\n          <li><strong>Memory Resources</strong>: BRAM or memory bits</li>\n          <li><strong>Critical Path Analysis</strong>: Timing bottlenecks</li>\n          <li><strong>Routing Congestion</strong>: Wiring complexity</li>\n          <li><strong>Component Distribution</strong>: Balance of resources across design</li>\n        </ul>\n        \n        <h4>Power Analysis</h4>\n        <p>Evaluating energy efficiency:</p>\n        <ul>\n          <li><strong>Static Power</strong>: Leakage consumption</li>\n          <li><strong>Dynamic Power</strong>: Switching activity power</li>\n          <li><strong>Power Density</strong>: Power per unit area</li>\n          <li><strong>Energy Per Instruction</strong>: Power efficiency metric</li>\n          <li><strong>Power Breakdown</strong>: Distribution across components</li>\n          <li><strong>Thermal Analysis</strong>: Hotspot identification</li>\n        </ul>\n        \n        <h4>Comparative Analysis</h4>\n        <p>Contextualizing your results:</p>\n        <ul>\n          <li><strong>Reference Designs</strong>: Comparison with established processors</li>\n          <li><strong>Design Variants</strong>: Analysis of architectural alternatives</li>\n          <li><strong>Performance/Area/Power Tradeoffs</strong>: Multi-dimensional comparison</li>\n          <li><strong>Pareto Frontier</strong>: Identifying optimal design points</li>\n          <li><strong>Scaling Analysis</strong>: Performance trends with resource changes</li>\n        </ul>\n      '},{id:"17.5",title:"Documentation and Presentation",content:'\n        <h3>Communicating Your RISC-V Design</h3>\n        <p>Comprehensive documentation and effective presentation of your processor design are essential for demonstrating your accomplishments and enabling future extensions or modifications.</p>\n        \n        <h4>Technical Documentation</h4>\n        <p>Creating detailed design documentation:</p>\n        <ul>\n          <li><strong>Architecture Specification</strong>: High-level design and interfaces</li>\n          <li><strong>Microarchitecture Details</strong>: Implementation decisions and rationale</li>\n          <li><strong>Module Documentation</strong>: Function, interfaces, and behavior of each component</li>\n          <li><strong>Interface Control Documents</strong>: Signal definitions and protocols</li>\n          <li><strong>Design Constraints</strong>: Timing, area, and power requirements</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/bYqxcfW.png" alt="Documentation Process" style="max-width: 700px; width: 100%;">\n          <p><em>Structured approach to RISC-V processor design documentation</em></p>\n        </div>\n        \n        <h4>Results Analysis and Report</h4>\n        <p>Documenting the outcomes of your implementation:</p>\n        <ul>\n          <li><strong>Performance Results</strong>: Benchmark outcomes and analysis</li>\n          <li><strong>Resource Utilization</strong>: Area and component usage</li>\n          <li><strong>Power Consumption</strong>: Energy efficiency metrics</li>\n          <li><strong>Verification Results</strong>: Test coverage and validation outcome</li>\n          <li><strong>Known Limitations</strong>: Documented restrictions or incomplete features</li>\n        </ul>\n        \n        <h4>Source Code Organization</h4>\n        <p>Structuring your implementation for clarity and maintainability:</p>\n        <ul>\n          <li><strong>Directory Structure</strong>: Logical organization of source files</li>\n          <li><strong>Code Documentation</strong>: Comments and annotations</li>\n          <li><strong>Naming Conventions</strong>: Consistent terminology</li>\n          <li><strong>Version Control</strong>: History of development and changes</li>\n          <li><strong>Build System</strong>: Compilation and simulation infrastructure</li>\n        </ul>\n        \n        <h4>Project Presentation</h4>\n        <p>Preparing to communicate your design effectively:</p>\n        <ul>\n          <li><strong>Presentation Structure</strong>: Logical flow of information</li>\n          <li><strong>Visual Aids</strong>: Diagrams, graphs, and illustrations</li>\n          <li><strong>Live Demonstrations</strong>: Showing the processor in action</li>\n          <li><strong>Technical Depth Balance</strong>: Appropriate level of detail</li>\n          <li><strong>Q&A Preparation</strong>: Anticipating and addressing questions</li>\n        </ul>\n        \n        <h4>Future Work Identification</h4>\n        <p>Documenting potential extensions and improvements:</p>\n        <ul>\n          <li><strong>Feature Enhancements</strong>: Additional capabilities</li>\n          <li><strong>Performance Optimizations</strong>: Identified improvements</li>\n          <li><strong>Alternative Implementations</strong>: Different architectural approaches</li>\n          <li><strong>Integration Opportunities</strong>: System-level enhancements</li>\n          <li><strong>Research Directions</strong>: Open questions and exploration areas</li>\n        </ul>\n      '},{id:"17.6",title:"Project Evaluation Criteria",content:'\n        <h3>Assessment Framework for RISC-V Processor Designs</h3>\n        <p>Understanding the evaluation criteria helps focus your efforts on the most important aspects of your processor design project.</p>\n        \n        <h4>Functional Correctness</h4>\n        <p>Assessing the fundamental correctness of your implementation:</p>\n        <ul>\n          <li><strong>ISA Compliance</strong>: Correct implementation of all specified instructions</li>\n          <li><strong>Exception Handling</strong>: Proper response to exceptional conditions</li>\n          <li><strong>Memory Consistency</strong>: Adherence to RISC-V memory model</li>\n          <li><strong>Privilege Modes</strong>: Correct implementation of specified privilege levels</li>\n          <li><strong>Test Compliance</strong>: Passing standard RISC-V test suites</li>\n        </ul>\n        \n        <div style="text-align: center; margin: 20px 0;">\n          <img src="https://i.imgur.com/KTYPm2W.png" alt="Evaluation Framework" style="max-width: 700px; width: 100%;">\n          <p><em>Comprehensive evaluation framework for RISC-V processor design projects</em></p>\n        </div>\n        \n        <h4>Design Quality</h4>\n        <p>Evaluating the technical merit of your implementation:</p>\n        <ul>\n          <li><strong>Architecture Elegance</strong>: Clean, logical design structure</li>\n          <li><strong>Implementation Efficiency</strong>: Appropriate use of resources</li>\n          <li><strong>Modularity</strong>: Well-defined components with clear interfaces</li>\n          <li><strong>Scalability</strong>: Ability to extend or modify the design</li>\n          <li><strong>Design Tradeoffs</strong>: Appropriate balance of competing factors</li>\n        </ul>\n        \n        <h4>Performance Achievements</h4>\n        <p>Measuring the effectiveness of your processor:</p>\n        <ul>\n          <li><strong>Benchmark Performance</strong>: Results on standard workloads</li>\n          <li><strong>Resource Efficiency</strong>: Performance relative to resource usage</li>\n          <li><strong>Power Efficiency</strong>: Performance per watt</li>\n          <li><strong>Timing Closure</strong>: Achievable clock frequency</li>\n          <li><strong>Special Feature Performance</strong>: Effectiveness of unique capabilities</li>\n        </ul>\n        \n        <h4>Innovation and Creativity</h4>\n        <p>Recognizing unique contributions and approaches:</p>\n        <ul>\n          <li><strong>Novel Architectural Features</strong>: Original design elements</li>\n          <li><strong>Creative Solutions</strong>: Innovative approaches to challenges</li>\n          <li><strong>Optimization Techniques</strong>: Unique performance improvements</li>\n          <li><strong>Specialization Benefits</strong>: Advantages for targeted applications</li>\n          <li><strong>Research Relevance</strong>: Connection to cutting-edge topics</li>\n        </ul>\n        \n        <h4>Documentation and Communication</h4>\n        <p>Evaluating the presentation of your work:</p>\n        <ul>\n          <li><strong>Documentation Completeness</strong>: Thorough coverage of the design</li>\n          <li><strong>Documentation Clarity</strong>: Clear explanation of concepts</li>\n          <li><strong>Code Quality</strong>: Readable, well-structured implementation</li>\n          <li><strong>Results Analysis</strong>: Thoughtful interpretation of outcomes</li>\n          <li><strong>Presentation Effectiveness</strong>: Compelling communication of achievements</li>\n        </ul>\n      '}],examples:[{id:"example17_1",title:"Final Project Technical Specification Template",description:"Example structure for a RISC-V processor project technical specification document",code:"# RISC-V Processor Design Project Technical Specification\n\n## 1. Project Overview\n   1.1 Project Goals and Objectives\n   1.2 Target Applications\n   1.3 Design Approach\n   1.4 Team Structure and Responsibilities\n\n## 2. Architecture Specification\n   2.1 ISA Implementation\n      2.1.1 Base Integer Instruction Set (RV32I/RV64I)\n      2.1.2 Extensions (M, A, F, D, C, etc.)\n      2.1.3 Privilege Modes\n   2.2 Pipeline Organization\n      2.2.1 Pipeline Stages\n      2.2.2 Hazard Management\n      2.2.3 Branch Prediction\n   2.3 Memory Hierarchy\n      2.3.1 Cache Architecture\n      2.3.2 Memory Interface\n      2.3.3 Virtual Memory Support\n\n## 3. Microarchitecture Details\n   3.1 Instruction Fetch Unit\n      3.1.1 PC Management\n      3.1.2 Branch Target Buffer\n      3.1.3 Return Address Stack\n   3.2 Decode Logic\n      3.2.1 Instruction Decoding\n      3.2.2 Register File Interface\n      3.2.3 Immediate Generation\n   3.3 Execution Units\n      3.3.1 ALU Design\n      3.3.2 Branch/Jump Unit\n      3.3.3 Multiplication/Division Unit (if applicable)\n      3.3.4 Floating-Point Unit (if applicable)\n   3.4 Memory Access Unit\n      3.4.1 Load/Store Logic\n      3.4.2 Cache Interface\n      3.4.3 Memory Ordering\n   3.5 Writeback Stage\n      3.5.1 Result Selection\n      3.5.2 Register File Update\n   3.6 Control and Status Registers\n      3.6.1 CSR Implementation\n      3.6.2 Exception Handling\n      3.6.3 Interrupt Management\n\n## 4. System Integration\n   4.1 System Bus Interface\n      4.1.1 Protocol Specification\n      4.1.2 Address Map\n   4.2 Peripherals\n      4.2.1 Included Peripherals\n      4.2.2 Interface Specifications\n   4.3 Debug Infrastructure\n      4.3.1 Debug Module Implementation\n      4.3.2 Trace Capabilities\n\n## 5. Implementation Platform\n   5.1 Target Technology\n      5.1.1 FPGA Model (if applicable)\n      5.1.2 ASIC Process (if applicable)\n   5.2 Tool Chain\n      5.2.1 Development Tools\n      5.2.2 Simulation Environment\n      5.2.3 Synthesis/Implementation Tools\n\n## 6. Performance Targets\n   6.1 Clock Frequency\n   6.2 CPI/IPC Expectations\n   6.3 Power Targets\n   6.4 Area Constraints\n   6.5 Benchmark Goals\n\n## 7. Verification Plan\n   7.1 Verification Strategy\n   7.2 Test Suite Structure\n   7.3 Coverage Goals\n   7.4 Formal Verification Approach\n\n## 8. Project Schedule\n   8.1 Major Milestones\n   8.2 Task Dependencies\n   8.3 Resource Allocation\n   8.4 Critical Path Analysis\n\n## 9. Appendices\n   9.1 Reference Documentation\n   9.2 Related Research Papers\n   9.3 External IP Components\n   9.4 Glossary"},{id:"example17_2",title:"Project Performance Analysis Report",description:"Example structure for documenting and analyzing RISC-V processor implementation results",code:"# RISC-V Processor Performance Analysis Report\n\n## 1. Executive Summary\n   - Brief overview of the processor design\n   - Key performance metrics and achievements\n   - Major design tradeoffs and decisions\n   - Top-level conclusions\n\n## 2. Implementation Summary\n   - Target platform details\n   - Core microarchitecture review\n   - Implementation parameters\n   - Resource utilization summary\n\n## 3. Performance Metrics\n   \n   ### 3.1 Benchmark Results\n   | Benchmark     | Instructions | Cycles | IPC    | Execution Time | Relative Performance |\n   |---------------|-------------|--------|--------|----------------|----------------------|\n   | Dhrystone     | 5,327,450   | 8,523,920 | 0.625  | 85.24 ms       | 1.00 (baseline)      |\n   | CoreMark      | 9,856,322   | 12,320,403 | 0.800  | 123.20 ms      | 1.28                 |\n   | Embench-IoT   | 3,421,673   | 5,474,677 | 0.625  | 54.75 ms       | 1.00                 |\n   | Matrix Mult   | 10,485,760  | 13,107,200 | 0.800  | 131.07 ms      | 1.28                 |\n   | Quicksort     | 8,388,608   | 13,421,773 | 0.625  | 134.22 ms      | 1.00                 |\n   \n   ### 3.2 Resource Utilization\n   | Resource      | Used       | Available  | Utilization |\n   |---------------|------------|------------|-------------|\n   | LUTs          | 12,845     | 53,200     | 24.1%       |\n   | Registers     | 8,932      | 106,400    | 8.4%        |\n   | BRAM          | 32         | 140        | 22.9%       |\n   | DSPs          | 8          | 220        | 3.6%        |\n   \n   ### 3.3 Timing Analysis\n   | Clock Domain  | Target Frequency | Achieved Frequency | Slack    |\n   |---------------|-----------------|-------------------|----------|\n   | Core          | 100 MHz         | 95.2 MHz          | -0.5 ns  |\n   | Memory        | 100 MHz         | 112.4 MHz         | 1.12 ns  |\n   | Peripherals   | 50 MHz          | 67.8 MHz          | 3.56 ns  |\n   \n   ### 3.4 Power Analysis\n   | Component     | Dynamic Power | Static Power | Total Power |\n   |---------------|--------------|-------------|-------------|\n   | Core Logic    | 124 mW       | 15 mW       | 139 mW      |\n   | Caches        | 86 mW        | 12 mW       | 98 mW       |\n   | Memory System | 43 mW        | 8 mW        | 51 mW       |\n   | Peripherals   | 37 mW        | 5 mW        | 42 mW       |\n   | **Total**     | **290 mW**   | **40 mW**   | **330 mW**  |\n\n## 4. Pipeline Analysis\n   \n   ### 4.1 Pipeline Efficiency\n   - CPI breakdown by instruction class\n   - Stall analysis (causes and frequencies)\n   - Branch misprediction statistics\n   - Pipeline bubble distribution\n   \n   ### 4.2 Execution Unit Utilization\n   - ALU usage statistics\n   - Memory unit access patterns\n   - Specialized unit utilization\n   \n   ### 4.3 Critical Path Analysis\n   - Identification of timing bottlenecks\n   - Improvement opportunities\n   - Pipeline stage balance\n\n## 5. Memory Hierarchy Performance\n   \n   ### 5.1 Cache Statistics\n   | Cache     | Size    | Associativity | Line Size | Hit Rate | MPKI    |\n   |-----------|---------|--------------|-----------|----------|---------|\n   | I-Cache   | 16 KB   | 4-way        | 64 bytes  | 96.8%    | 8.2     |\n   | D-Cache   | 16 KB   | 4-way        | 64 bytes  | 92.4%    | 19.7    |\n   | L2 Cache  | 128 KB  | 8-way        | 64 bytes  | 78.6%    | 4.2     |\n   \n   ### 5.2 Memory Access Patterns\n   - Spatial/temporal locality analysis\n   - Cache set distribution\n   - Memory bandwidth utilization\n\n## 6. Comparative Analysis\n   \n   ### 6.1 Design Variants Comparison\n   | Variant    | IPC  | Frequency | Area   | Power | Energy Efficiency |\n   |------------|------|-----------|--------|-------|------------------|\n   | Baseline   | 0.65 | 95 MHz    | 24.1%  | 330mW | 1.00x            |\n   | No Branch  | 0.52 | 105 MHz   | 19.8%  | 290mW | 0.88x            |\n   | Superscalar| 0.98 | 85 MHz    | 36.7%  | 410mW | 1.12x            |\n   | Minimal    | 0.42 | 120 MHz   | 14.2%  | 210mW | 1.04x            |\n   \n   ### 6.2 Performance vs. Resources\n   - Pareto analysis\n   - Efficiency metrics\n   - Scaling trends\n\n## 7. Conclusions and Recommendations\n   \n   ### 7.1 Design Strengths\n   - Key architectural advantages\n   - Successful optimization techniques\n   - Notable achievements\n   \n   ### 7.2 Design Limitations\n   - Performance bottlenecks\n   - Resource constraints\n   - Implementation challenges\n   \n   ### 7.3 Future Improvements\n   - Short-term optimizations\n   - Architectural enhancements\n   - Research directions"}]},completed:!1}],exercises:[{id:"ex1",title:"ALU Implementation",description:"Implement the Arithmetic Logic Unit for the RISC-V processor supporting all standard operations used in RV32I.",difficulty:"Medium",type:"Coding",points:100,estimatedTime:"3 hours",completed:!1,industryRelevance:"ALU design is a fundamental component in processor interviews at companies like Intel, AMD, and ARM."},{id:"ex2",title:"Register File Design",description:"Design a 32x32 register file with dual read ports and single write port, optimized for both performance and power efficiency.",difficulty:"Medium",type:"Coding",points:125,estimatedTime:"4 hours",completed:!1,industryRelevance:"Register file optimization is critical in modern low-power processor designs at companies like Apple and Qualcomm."},{id:"ex3",title:"Single-Cycle CPU",description:"Implement a single-cycle RISC-V CPU that supports basic RV32I instructions, with complete testing and verification.",difficulty:"Hard",type:"Project",points:200,estimatedTime:"8 hours",completed:!1,industryRelevance:"Understanding the complete CPU datapath is essential for roles at RISC-V focused companies like SiFive and Western Digital."},{id:"ex4",title:"5-Stage Pipeline",description:"Extend your CPU design to a 5-stage pipeline with comprehensive hazard handling and branch prediction.",difficulty:"Very Hard",type:"Project",points:300,estimatedTime:"12 hours",completed:!1,industryRelevance:"Pipeline design is a core skill tested in interviews at all major processor companies including NVIDIA, Intel, and ARM."},{id:"ex5",title:"Cache Memory Subsystem",description:"Design and implement a configurable cache memory subsystem for your RISC-V processor.",difficulty:"Very Hard",type:"Project",points:350,estimatedTime:"15 hours",completed:!1,industryRelevance:"Cache design expertise is highly valued at companies working on high-performance processors like AMD and NVIDIA."}],relatedModules:[{id:"verilog-fundamentals",title:"Verilog Fundamentals",description:"Master the Verilog hardware description language for digital design",level:"Beginner",image:"https://tse1.mm.bing.net/th?id=OIP.jz0YXGGr51-sLiHhII4g5wHaEM&pid=Api&P=0&h=180"},{id:"system-verification",title:"System Verification",description:"Learn advanced verification techniques for complex digital systems",level:"Advanced",image:"https://tse1.mm.bing.net/th?id=OIP.xTfbaCirE3pvtPMZwDHJRgHaHa&pid=Api&P=0&h=180"}],codeExamples:[{title:"RV32I ALU Implementation",code:"module rv32i_alu(\n  input  logic [31:0] a, b,\n  input  logic [3:0]  alu_ctrl,\n  output logic [31:0] result,\n  output logic        zero\n);\n\n  // ALU control codes\n  localparam ALU_ADD  = 4'b0000;\n  localparam ALU_SUB  = 4'b1000;\n  localparam ALU_SLL  = 4'b0001;\n  localparam ALU_SLT  = 4'b0010;\n  localparam ALU_SLTU = 4'b0011;\n  localparam ALU_XOR  = 4'b0100;\n  localparam ALU_SRL  = 4'b0101;\n  localparam ALU_SRA  = 4'b1101;\n  localparam ALU_OR   = 4'b0110;\n  localparam ALU_AND  = 4'b0111;\n  \n  // Main ALU operation\n  always_comb begin\n    case (alu_ctrl)\n      ALU_ADD:  result = a + b;\n      ALU_SUB:  result = a - b;\n      ALU_SLL:  result = a << b[4:0];\n      ALU_SLT:  result = $signed(a) < $signed(b) ? 32'b1 : 32'b0;\n      ALU_SLTU: result = a < b ? 32'b1 : 32'b0;\n      ALU_XOR:  result = a ^ b;\n      ALU_SRL:  result = a >> b[4:0];\n      ALU_SRA:  result = $signed(a) >>> b[4:0];\n      ALU_OR:   result = a | b;\n      ALU_AND:  result = a & b;\n      default:  result = a + b; // Default to ADD\n    endcase\n  end\n  \n  // Zero flag\n  assign zero = (result == 32'b0);\nendmodule"},{title:"RISC-V Register File",code:"module rv32i_regfile(\n  input  logic        clk,\n  input  logic        rst_n,\n  // Read port 1\n  input  logic [4:0]  rs1_addr,\n  output logic [31:0] rs1_data,\n  // Read port 2\n  input  logic [4:0]  rs2_addr,\n  output logic [31:0] rs2_data,\n  // Write port\n  input  logic        we,\n  input  logic [4:0]  rd_addr,\n  input  logic [31:0] rd_data\n);\n  \n  // 32 32-bit registers (x0 hardwired to 0)\n  logic [31:0] registers [31:1];\n  \n  // Read operations (asynchronous)\n  assign rs1_data = (rs1_addr == 5'b0) ? 32'b0 : registers[rs1_addr];\n  assign rs2_data = (rs2_addr == 5'b0) ? 32'b0 : registers[rs2_addr];\n  \n  // Write operation (synchronous)\n  always_ff @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n      for (int i = 1; i < 32; i++) begin\n        registers[i] <= 32'b0;\n      end\n    end\n    else if (we && rd_addr != 5'b0) begin\n      registers[rd_addr] <= rd_data;\n    end\n  end\nendmodule"}],resources:[{title:"RISC-V Specifications",url:"https://riscv.org/specifications/",type:"Reference"},{title:"The RISC-V Reader",url:"https://www.riscvbook.com/",type:"Book"}],sampleQuestions:[{question:"What is the primary advantage of RISC-V's modular ISA design?",options:["It allows for implementing only necessary features, reducing complexity and power consumption","It makes verification more challenging, ensuring better quality","It requires more silicon area than fixed ISAs","It forces all implementations to include floating-point support"],answer:0},{question:"In a RISC-V pipelined processor, what type of hazard is most effectively addressed by forwarding?",options:["Control hazards","Structural hazards","Data hazards","Memory hazards"],answer:2},{question:"Which RISC-V extension adds atomic memory operations for multi-processor synchronization?",options:["M extension","A extension","F extension","C extension"],answer:1}],practicalExamples:[{id:"rv-ex1",title:"RV32I ALU Implementation",description:"Design a complete Arithmetic Logic Unit (ALU) for the RV32I instruction set, supporting all standard ALU operations.",difficulty:"Medium",type:"Hardware Design",completed:!1,code:"module rv32i_alu (\n  input  logic [31:0] operand_a,\n  input  logic [31:0] operand_b,\n  input  logic [3:0]  alu_op,\n  output logic [31:0] result,\n  output logic        zero\n);\n\n  // ALU operation codes\n  localparam ALU_ADD  = 4'b0000;\n  localparam ALU_SUB  = 4'b1000;\n  localparam ALU_SLL  = 4'b0001;\n  localparam ALU_SLT  = 4'b0010;\n  localparam ALU_SLTU = 4'b0011;\n  localparam ALU_XOR  = 4'b0100;\n  localparam ALU_SRL  = 4'b0101;\n  localparam ALU_SRA  = 4'b1101;\n  localparam ALU_OR   = 4'b0110;\n  localparam ALU_AND  = 4'b0111;\n\n  // Main ALU operation\n  always_comb begin\n    case (alu_op)\n      ALU_ADD:  result = operand_a + operand_b;\n      ALU_SUB:  result = operand_a - operand_b;\n      ALU_SLL:  result = operand_a << operand_b[4:0];\n      ALU_SLT:  result = $signed(operand_a) < $signed(operand_b) ? 32'b1 : 32'b0;\n      ALU_SLTU: result = operand_a < operand_b ? 32'b1 : 32'b0;\n      ALU_XOR:  result = operand_a ^ operand_b;\n      ALU_SRL:  result = operand_a >> operand_b[4:0];\n      ALU_SRA:  result = $signed(operand_a) >>> operand_b[4:0];\n      ALU_OR:   result = operand_a | operand_b;\n      ALU_AND:  result = operand_a & operand_b;\n      default:  result = operand_a + operand_b; // Default to ADD\n    endcase\n  end\n\n  // Zero flag for branch operations\n  assign zero = (result == 32'b0);\nendmodule",testbench:"module rv32i_alu_tb;\n  // Test signals\n  logic [31:0] operand_a;\n  logic [31:0] operand_b;\n  logic [3:0]  alu_op;\n  logic [31:0] result;\n  logic        zero;\n  \n  // Instantiate the ALU\n  rv32i_alu dut (\n    .operand_a(operand_a),\n    .operand_b(operand_b),\n    .alu_op(alu_op),\n    .result(result),\n    .zero(zero)\n  );\n  \n  // ALU operation codes for reference\n  localparam ALU_ADD  = 4'b0000;\n  localparam ALU_SUB  = 4'b1000;\n  localparam ALU_SLL  = 4'b0001;\n  localparam ALU_SLT  = 4'b0010;\n  localparam ALU_SLTU = 4'b0011;\n  localparam ALU_XOR  = 4'b0100;\n  localparam ALU_SRL  = 4'b0101;\n  localparam ALU_SRA  = 4'b1101;\n  localparam ALU_OR   = 4'b0110;\n  localparam ALU_AND  = 4'b0111;\n  \n  // Test sequence\n  initial begin\n    $display(\"Starting RV32I ALU Testbench\");\n    \n    // Test ADD operation\n    operand_a = 32'h0000_00A5;\n    operand_b = 32'h0000_00C3;\n    alu_op = ALU_ADD;\n    #10;\n    $display(\"ADD: %h + %h = %h\", operand_a, operand_b, result);\n    \n    // Test SUB operation\n    operand_a = 32'h0000_00A5;\n    operand_b = 32'h0000_0025;\n    alu_op = ALU_SUB;\n    #10;\n    $display(\"SUB: %h - %h = %h\", operand_a, operand_b, result);\n    \n    // Test SLT operation (signed comparison)\n    operand_a = 32'hFFFF_FFFF; // -1 in two's complement\n    operand_b = 32'h0000_0001; // 1\n    alu_op = ALU_SLT;\n    #10;\n    $display(\"SLT: %h < %h = %h (expected 1)\", operand_a, operand_b, result);\n    \n    // Test SLTU operation (unsigned comparison)\n    operand_a = 32'hFFFF_FFFF; // Max unsigned value\n    operand_b = 32'h0000_0001; // 1\n    alu_op = ALU_SLTU;\n    #10;\n    $display(\"SLTU: %h < %h = %h (expected 0)\", operand_a, operand_b, result);\n    \n    // Test XOR operation\n    operand_a = 32'hFFFF_0000;\n    operand_b = 32'h0000_FFFF;\n    alu_op = ALU_XOR;\n    #10;\n    $display(\"XOR: %h ^ %h = %h\", operand_a, operand_b, result);\n    \n    // Test SRL operation (logical right shift)\n    operand_a = 32'h8000_0000;\n    operand_b = 32'h0000_0004; // Shift by 4 bits\n    alu_op = ALU_SRL;\n    #10;\n    $display(\"SRL: %h >> %d = %h\", operand_a, operand_b[4:0], result);\n    \n    // Test SRA operation (arithmetic right shift)\n    operand_a = 32'h8000_0000;\n    operand_b = 32'h0000_0004; // Shift by 4 bits\n    alu_op = ALU_SRA;\n    #10;\n    $display(\"SRA: %h >>> %d = %h\", operand_a, operand_b[4:0], result);\n    \n    // Test zero flag\n    operand_a = 32'h0000_000A;\n    operand_b = 32'h0000_000A;\n    alu_op = ALU_SUB;\n    #10;\n    $display(\"ZERO: %h - %h = %h, zero = %b\", operand_a, operand_b, result, zero);\n    \n    $display(\"RV32I ALU Tests Complete\");\n    $finish;\n  end\nendmodule",explanation:"This ALU implementation supports all the core operations required by the RV32I instruction set. The ALU takes two 32-bit operands and a 4-bit operation code that selects between 10 different operations. The zero flag output is particularly important for branch instructions in the RISC-V architecture. The design uses SystemVerilog constructs like always_comb for better synthesis and localparam for readability. The testbench covers all operations with special attention to edge cases like sign extension for arithmetic right shift and proper handling of signed vs. unsigned comparisons."},{id:"rv-ex2",title:"RISC-V Register File",description:"Implement a 32\xd732-bit register file with dual read ports and a single write port, common in RISC-V processors.",difficulty:"Medium",type:"Hardware Design",completed:!1,code:"module rv32_regfile (\n  input  logic        clk,\n  input  logic        rst_n,\n  // Read port 1\n  input  logic [4:0]  rs1_addr,\n  output logic [31:0] rs1_data,\n  // Read port 2\n  input  logic [4:0]  rs2_addr,\n  output logic [31:0] rs2_data,\n  // Write port\n  input  logic        wr_en,\n  input  logic [4:0]  rd_addr,\n  input  logic [31:0] rd_data\n);\n  \n  // Register file storage (x0 is hardwired to 0, so only need 31 actual registers)\n  logic [31:0] registers [1:31];\n  \n  // Read operations (asynchronous)\n  // x0 is hardwired to 0\n  assign rs1_data = (rs1_addr == 5'b0) ? 32'b0 : registers[rs1_addr];\n  assign rs2_data = (rs2_addr == 5'b0) ? 32'b0 : registers[rs2_addr];\n  \n  // Write operation (synchronous)\n  always_ff @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n      // Reset all registers to 0\n      for (int i = 1; i < 32; i = i + 1) begin\n        registers[i] <= 32'b0;\n      end\n    end\n    else if (wr_en && rd_addr != 5'b0) begin\n      // Cannot write to x0\n      registers[rd_addr] <= rd_data;\n    end\n  end\nendmodule",testbench:"module rv32_regfile_tb;\n  // Clock and reset\n  logic        clk;\n  logic        rst_n;\n  \n  // Read port 1\n  logic [4:0]  rs1_addr;\n  logic [31:0] rs1_data;\n  \n  // Read port 2\n  logic [4:0]  rs2_addr;\n  logic [31:0] rs2_data;\n  \n  // Write port\n  logic        wr_en;\n  logic [4:0]  rd_addr;\n  logic [31:0] rd_data;\n  \n  // Instantiate the register file\n  rv32_regfile dut (\n    .clk(clk),\n    .rst_n(rst_n),\n    .rs1_addr(rs1_addr),\n    .rs1_data(rs1_data),\n    .rs2_addr(rs2_addr),\n    .rs2_data(rs2_data),\n    .wr_en(wr_en),\n    .rd_addr(rd_addr),\n    .rd_data(rd_data)\n  );\n  \n  // Clock generation (10ns period)\n  always #5 clk = ~clk;\n  \n  // Test sequence\n  initial begin\n    $display(\"Starting Register File Testbench\");\n    \n    // Initialize signals\n    clk = 0;\n    rst_n = 0;\n    rs1_addr = 0;\n    rs2_addr = 0;\n    wr_en = 0;\n    rd_addr = 0;\n    rd_data = 0;\n    \n    // Apply reset\n    #20 rst_n = 1;\n    \n    // Test 1: Write to register x1\n    rd_addr = 5'd1;\n    rd_data = 32'hAAAA_AAAA;\n    wr_en = 1;\n    @(posedge clk);\n    #1; // Wait for update\n    \n    // Test 2: Try to write to x0 (should remain 0)\n    rd_addr = 5'd0;\n    rd_data = 32'hFFFF_FFFF;\n    wr_en = 1;\n    @(posedge clk);\n    #1; // Wait for update\n    \n    // Test 3: Read from x1 and x0\n    wr_en = 0;\n    rs1_addr = 5'd1;\n    rs2_addr = 5'd0;\n    #1; // Wait for read\n    $display(\"x1 = %h (expected AAAA_AAAA), x0 = %h (expected 0)\", rs1_data, rs2_data);\n    \n    // Test 4: Write to multiple registers\n    for (int i = 1; i < 10; i = i + 1) begin\n      rd_addr = i;\n      rd_data = 32'h1000_0000 + i;\n      wr_en = 1;\n      @(posedge clk);\n      #1;\n    end\n    \n    // Test 5: Read from multiple registers\n    wr_en = 0;\n    for (int i = 0; i < 10; i = i + 1) begin\n      rs1_addr = i;\n      #1;\n      $display(\"x%0d = %h\", i, rs1_data);\n    end\n    \n    // Test 6: Verify read during write behavior\n    rd_addr = 5'd15;\n    rd_data = 32'h1234_5678;\n    wr_en = 1;\n    rs1_addr = 5'd15;\n    rs2_addr = 5'd15;\n    @(posedge clk);\n    #1;\n    $display(\"Read during write: rs1_data = %h, rs2_data = %h\", rs1_data, rs2_data);\n    \n    $display(\"Register File Tests Complete\");\n    $finish;\n  end\nendmodule",explanation:"This implementation provides a 32\xd732-bit register file essential for any RISC-V processor. It features dual asynchronous read ports and a single synchronous write port, which is the standard configuration for most RISC-V implementations. The register x0 is hardwired to zero as per the RISC-V specification. The design uses SystemVerilog constructs and follows best practices for hardware description. The testbench checks various aspects including reset behavior, writing to multiple registers, the hardwired x0 register, and read-during-write behavior."},{id:"rv-ex3",title:"RISC-V 5-Stage Pipeline Control Unit",description:"Design a control unit for a 5-stage pipelined RISC-V processor that handles all RV32I instructions.",difficulty:"Hard",type:"Hardware Design",completed:!1,code:"module rv32i_control_unit (\n  input  logic [6:0] opcode,\n  input  logic [2:0] funct3,\n  input  logic [6:0] funct7,\n  \n  // Control signals\n  output logic       branch,\n  output logic       jump,\n  output logic       mem_read,\n  output logic       mem_to_reg,\n  output logic       mem_write,\n  output logic [1:0] alu_op,\n  output logic       alu_src,\n  output logic       reg_write,\n  output logic [2:0] imm_sel\n);\n\n  // RISC-V opcodes\n  localparam LUI    = 7'b0110111;\n  localparam AUIPC  = 7'b0010111;\n  localparam JAL    = 7'b1101111;\n  localparam JALR   = 7'b1100111;\n  localparam BRANCH = 7'b1100011;\n  localparam LOAD   = 7'b0000011;\n  localparam STORE  = 7'b0100011;\n  localparam OP_IMM = 7'b0010011;\n  localparam OP     = 7'b0110011;\n  \n  // Immediate format selection\n  localparam I_TYPE = 3'b000;\n  localparam S_TYPE = 3'b001;\n  localparam B_TYPE = 3'b010;\n  localparam U_TYPE = 3'b011;\n  localparam J_TYPE = 3'b100;\n  \n  // ALU op encoding for ALU control\n  localparam ALU_OP_ADD  = 2'b00;  // add for loads/stores/lui/auipc\n  localparam ALU_OP_BRANCH = 2'b01; // branch operations\n  localparam ALU_OP_REG_IMM = 2'b10; // register-immediate operations\n  localparam ALU_OP_REG_REG = 2'b11; // register-register operations\n\n  always_comb begin\n    // Default values\n    branch = 1'b0;\n    jump = 1'b0;\n    mem_read = 1'b0;\n    mem_to_reg = 1'b0;\n    mem_write = 1'b0;\n    alu_op = ALU_OP_ADD;\n    alu_src = 1'b0;\n    reg_write = 1'b0;\n    imm_sel = I_TYPE;\n\n    case (opcode)\n      LUI: begin\n        reg_write = 1'b1;\n        alu_src = 1'b1;\n        imm_sel = U_TYPE;\n      end\n      \n      AUIPC: begin\n        reg_write = 1'b1;\n        alu_src = 1'b1;\n        imm_sel = U_TYPE;\n      end\n      \n      JAL: begin\n        reg_write = 1'b1;\n        jump = 1'b1;\n        imm_sel = J_TYPE;\n      end\n      \n      JALR: begin\n        reg_write = 1'b1;\n        jump = 1'b1;\n        alu_src = 1'b1;\n        imm_sel = I_TYPE;\n      end\n      \n      BRANCH: begin\n        branch = 1'b1;\n        alu_op = ALU_OP_BRANCH;\n        imm_sel = B_TYPE;\n      end\n      \n      LOAD: begin\n        mem_read = 1'b1;\n        reg_write = 1'b1;\n        alu_src = 1'b1;\n        mem_to_reg = 1'b1;\n        imm_sel = I_TYPE;\n      end\n      \n      STORE: begin\n        mem_write = 1'b1;\n        alu_src = 1'b1;\n        imm_sel = S_TYPE;\n      end\n      \n      OP_IMM: begin\n        reg_write = 1'b1;\n        alu_src = 1'b1;\n        alu_op = ALU_OP_REG_IMM;\n        imm_sel = I_TYPE;\n      end\n      \n      OP: begin\n        reg_write = 1'b1;\n        alu_op = ALU_OP_REG_REG;\n      end\n      \n      default: begin\n        // NOP or illegal instruction, all controls are default values\n      end\n    endcase\n  end\nendmodule",testbench:'module rv32i_control_unit_tb;\n  // Input signals\n  logic [6:0] opcode;\n  logic [2:0] funct3;\n  logic [6:0] funct7;\n  \n  // Output signals\n  logic       branch;\n  logic       jump;\n  logic       mem_read;\n  logic       mem_to_reg;\n  logic       mem_write;\n  logic [1:0] alu_op;\n  logic       alu_src;\n  logic       reg_write;\n  logic [2:0] imm_sel;\n  \n  // RISC-V opcodes\n  localparam LUI    = 7\'b0110111;\n  localparam AUIPC  = 7\'b0010111;\n  localparam JAL    = 7\'b1101111;\n  localparam JALR   = 7\'b1100111;\n  localparam BRANCH = 7\'b1100011;\n  localparam LOAD   = 7\'b0000011;\n  localparam STORE  = 7\'b0100011;\n  localparam OP_IMM = 7\'b0010011;\n  localparam OP     = 7\'b0110011;\n  \n  // Instantiate the control unit\n  rv32i_control_unit dut (\n    .opcode(opcode),\n    .funct3(funct3),\n    .funct7(funct7),\n    .branch(branch),\n    .jump(jump),\n    .mem_read(mem_read),\n    .mem_to_reg(mem_to_reg),\n    .mem_write(mem_write),\n    .alu_op(alu_op),\n    .alu_src(alu_src),\n    .reg_write(reg_write),\n    .imm_sel(imm_sel)\n  );\n  \n  // Helper function to display control signals\n  function void display_signals();\n    $display("Control Signals: branch=%b, jump=%b, mem_read=%b, mem_to_reg=%b, mem_write=%b, alu_op=%b, alu_src=%b, reg_write=%b, imm_sel=%b",\n      branch, jump, mem_read, mem_to_reg, mem_write, alu_op, alu_src, reg_write, imm_sel);\n  endfunction\n  \n  // Test sequence\n  initial begin\n    $display("Starting Control Unit Testbench");\n    \n    // Initialize inputs\n    opcode = 7\'b0;\n    funct3 = 3\'b0;\n    funct7 = 7\'b0;\n    #10;\n    \n    // Test R-type instructions (ADD, SUB, etc.)\n    $display("\nTesting R-type (OP):");\n    opcode = OP;\n    funct3 = 3\'b000; // ADD/SUB\n    funct7 = 7\'b0000000; // ADD\n    #10;\n    display_signals();\n    \n    // Test I-type instructions (ADDI, etc.)\n    $display("\nTesting I-type (OP_IMM):");\n    opcode = OP_IMM;\n    funct3 = 3\'b000; // ADDI\n    #10;\n    display_signals();\n    \n    // Test load instructions\n    $display("\nTesting LOAD:");\n    opcode = LOAD;\n    funct3 = 3\'b010; // LW\n    #10;\n    display_signals();\n    \n    // Test store instructions\n    $display("\nTesting STORE:");\n    opcode = STORE;\n    funct3 = 3\'b010; // SW\n    #10;\n    display_signals();\n    \n    // Test branch instructions\n    $display("\nTesting BRANCH:");\n    opcode = BRANCH;\n    funct3 = 3\'b000; // BEQ\n    #10;\n    display_signals();\n    \n    // Test JAL instruction\n    $display("\nTesting JAL:");\n    opcode = JAL;\n    #10;\n    display_signals();\n    \n    // Test JALR instruction\n    $display("\nTesting JALR:");\n    opcode = JALR;\n    funct3 = 3\'b000;\n    #10;\n    display_signals();\n    \n    // Test LUI instruction\n    $display("\nTesting LUI:");\n    opcode = LUI;\n    #10;\n    display_signals();\n    \n    // Test AUIPC instruction\n    $display("\nTesting AUIPC:");\n    opcode = AUIPC;\n    #10;\n    display_signals();\n    \n    $display("Control Unit Tests Complete");\n    $finish;\n  end\nendmodule',explanation:"This control unit is a crucial component of a pipelined RISC-V processor, responsible for generating control signals that coordinate the flow of data through the pipeline. It decodes the opcode field of instructions to determine instruction type and sets appropriate control signals. The design supports all RV32I instruction types, including R-type, I-type, S-type, B-type, U-type, and J-type instructions. The ALU operation code is encoded to be further decoded by a separate ALU control unit. The testbench systematically checks all instruction types, verifying that the correct control signals are generated for each type of instruction."},{id:"rv-ex4",title:"2-Bit Dynamic Branch Predictor",description:"Implement a 2-bit saturating counter branch predictor commonly used in RISC-V processors to reduce branch penalty.",difficulty:"Hard",type:"Hardware Design",completed:!1,code:"module branch_predictor #(\n  parameter HISTORY_BITS = 6  // Number of bits for branch history table indexing\n)(\n  input  logic                    clk,\n  input  logic                    rst_n,\n  input  logic [31:0]             branch_pc,            // PC of the branch instruction\n  input  logic                    branch_resolved,      // Asserted when branch outcome is known\n  input  logic                    branch_taken_actual,  // Actual branch outcome\n  output logic                    branch_prediction     // Predicted branch outcome\n);\n\n  localparam ENTRIES = 2**HISTORY_BITS;\n  \n  // 2-bit saturating counter states\n  localparam STRONGLY_NOT_TAKEN = 2'b00;\n  localparam WEAKLY_NOT_TAKEN   = 2'b01;\n  localparam WEAKLY_TAKEN       = 2'b10;\n  localparam STRONGLY_TAKEN     = 2'b11;\n  \n  // Branch History Table (BHT) - stores 2-bit counters\n  logic [1:0] bht [0:ENTRIES-1];\n  \n  // Index calculation for BHT - using lower bits of PC\n  logic [HISTORY_BITS-1:0] bht_index;\n  assign bht_index = branch_pc[HISTORY_BITS+1:2]; // Ignore lowest 2 bits (word alignment)\n  \n  // Prediction logic\n  assign branch_prediction = bht[bht_index][1]; // MSB determines taken or not taken\n\n  // Update branch history table when branch is resolved\n  always_ff @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n      // Initialize all counters to weakly not taken\n      for (int i = 0; i < ENTRIES; i++) begin\n        bht[i] <= WEAKLY_NOT_TAKEN;\n      end\n    end \n    else if (branch_resolved) begin\n      // Update counter based on actual branch outcome\n      case (bht[bht_index])\n        STRONGLY_NOT_TAKEN: \n          bht[bht_index] <= branch_taken_actual ? WEAKLY_NOT_TAKEN : STRONGLY_NOT_TAKEN;\n        WEAKLY_NOT_TAKEN:\n          bht[bht_index] <= branch_taken_actual ? WEAKLY_TAKEN : STRONGLY_NOT_TAKEN;\n        WEAKLY_TAKEN:\n          bht[bht_index] <= branch_taken_actual ? STRONGLY_TAKEN : WEAKLY_NOT_TAKEN;\n        STRONGLY_TAKEN:\n          bht[bht_index] <= branch_taken_actual ? STRONGLY_TAKEN : WEAKLY_TAKEN;\n        default:\n          bht[bht_index] <= WEAKLY_NOT_TAKEN;\n      endcase\n    end\n  end\nendmodule",testbench:"module branch_predictor_tb;\n  // Parameters\n  localparam HISTORY_BITS = 4; // Smaller table for simulation\n  \n  // Test signals\n  logic        clk;\n  logic        rst_n;\n  logic [31:0] branch_pc;\n  logic        branch_resolved;\n  logic        branch_taken_actual;\n  logic        branch_prediction;\n  \n  // Performance counters\n  int total_branches = 0;\n  int correct_predictions = 0;\n  \n  // Instantiate the branch predictor\n  branch_predictor #(\n    .HISTORY_BITS(HISTORY_BITS)\n  ) dut (\n    .clk(clk),\n    .rst_n(rst_n),\n    .branch_pc(branch_pc),\n    .branch_resolved(branch_resolved),\n    .branch_taken_actual(branch_taken_actual),\n    .branch_prediction(branch_prediction)\n  );\n  \n  // Clock generation (10ns period)\n  always #5 clk = ~clk;\n  \n  // Calculate prediction accuracy\n  function void display_accuracy();\n    real accuracy = (correct_predictions * 100.0) / total_branches;\n    $display(\"Prediction Accuracy: %0.2f%% (%0d/%0d)\", accuracy, correct_predictions, total_branches);\n  endfunction\n  \n  // Test sequence\n  initial begin\n    $display(\"Starting Branch Predictor Testbench\");\n    \n    // Initialize signals\n    clk = 0;\n    rst_n = 0;\n    branch_pc = 0;\n    branch_resolved = 0;\n    branch_taken_actual = 0;\n    \n    // Apply reset\n    #20 rst_n = 1;\n    \n    // Test 1: Always taken branch pattern\n    $display(\"\nTest 1: Always Taken Branch\");\n    for (int i = 0; i < 10; i++) begin\n      branch_pc = 32'h1000;\n      #1; // Check prediction\n      $display(\"Iteration %0d: Prediction = %b\", i, branch_prediction);\n      \n      // Record prediction result\n      total_branches++;\n      if (branch_prediction == 1'b1) correct_predictions++;\n      \n      // Resolve branch as taken\n      branch_resolved = 1'b1;\n      branch_taken_actual = 1'b1;\n      @(posedge clk);\n      branch_resolved = 1'b0;\n      @(posedge clk);\n    end\n    display_accuracy();\n    \n    // Reset performance counters\n    total_branches = 0;\n    correct_predictions = 0;\n    \n    // Test 2: Always not-taken branch pattern\n    $display(\"\nTest 2: Always Not-Taken Branch\");\n    for (int i = 0; i < 10; i++) begin\n      branch_pc = 32'h2000;\n      #1; // Check prediction\n      $display(\"Iteration %0d: Prediction = %b\", i, branch_prediction);\n      \n      // Record prediction result\n      total_branches++;\n      if (branch_prediction == 1'b0) correct_predictions++;\n      \n      // Resolve branch as not taken\n      branch_resolved = 1'b1;\n      branch_taken_actual = 1'b0;\n      @(posedge clk);\n      branch_resolved = 1'b0;\n      @(posedge clk);\n    end\n    display_accuracy();\n    \n    // Reset performance counters\n    total_branches = 0;\n    correct_predictions = 0;\n    \n    // Test 3: Alternating pattern\n    $display(\"\nTest 3: Alternating Branch Pattern (TNTNTNT...)\");\n    for (int i = 0; i < 20; i++) begin\n      branch_pc = 32'h3000;\n      #1; // Check prediction\n      \n      // Determine if current iteration should be taken or not taken\n      logic expected = (i % 2 == 0) ? 1'b1 : 1'b0;\n      \n      $display(\"Iteration %0d: Prediction = %b, Expected = %b\", i, branch_prediction, expected);\n      \n      // Record prediction result\n      total_branches++;\n      if (branch_prediction == expected) correct_predictions++;\n      \n      // Resolve branch according to pattern\n      branch_resolved = 1'b1;\n      branch_taken_actual = expected;\n      @(posedge clk);\n      branch_resolved = 1'b0;\n      @(posedge clk);\n    end\n    display_accuracy();\n    \n    // Reset performance counters\n    total_branches = 0;\n    correct_predictions = 0;\n    \n    // Test 4: Multiple branch addresses\n    $display(\"\nTest 4: Multiple Branch Addresses\");\n    for (int i = 0; i < 20; i++) begin\n      // Alternate between 3 different branch addresses\n      branch_pc = (i % 3 == 0) ? 32'h4000 :\n                 (i % 3 == 1) ? 32'h4100 : 32'h4200;\n                 \n      // Each address has a different pattern\n      logic expected;\n      if (i % 3 == 0)\n        expected = 1'b1; // Always taken\n      else if (i % 3 == 1)\n        expected = 1'b0; // Always not taken\n      else\n        expected = (i % 2 == 0) ? 1'b1 : 1'b0; // Alternating\n      \n      #1; // Check prediction\n      $display(\"Iteration %0d: PC = %h, Prediction = %b, Expected = %b\", \n                i, branch_pc, branch_prediction, expected);\n      \n      // Record prediction result\n      total_branches++;\n      if (branch_prediction == expected) correct_predictions++;\n      \n      // Resolve branch according to pattern\n      branch_resolved = 1'b1;\n      branch_taken_actual = expected;\n      @(posedge clk);\n      branch_resolved = 1'b0;\n      @(posedge clk);\n    end\n    display_accuracy();\n    \n    $display(\"Branch Predictor Tests Complete\");\n    $finish;\n  end\nendmodule",explanation:"This branch predictor implements a 2-bit saturating counter scheme, which is a commonly used dynamic branch prediction method in modern processors including RISC-V implementations. The predictor maintains a Branch History Table (BHT) indexed by the lower bits of the branch instruction's PC. Each entry in the BHT contains a 2-bit saturating counter that tracks the recent history of branch outcomes. The predictor uses the most significant bit of the counter to make predictions (1 for taken, 0 for not taken). The 2-bit scheme allows the predictor to tolerate occasional divergences from the predominant pattern without immediately changing its prediction. The testbench evaluates the predictor with various branch patterns, including always-taken, always-not-taken, alternating patterns, and multiple branch addresses, calculating prediction accuracy for each test case."},{id:"rv-ex5",title:"RISC-V Single-Cycle CPU",description:"Implement a complete single-cycle RISC-V CPU that supports the basic RV32I instruction set.",difficulty:"Hard",type:"Hardware Design",completed:!1,code:"module riscv_single_cycle_cpu (\n  input  logic        clk,\n  input  logic        rst_n,\n  // Instruction memory interface\n  output logic [31:0] instr_addr,\n  input  logic [31:0] instr_data,\n  // Data memory interface\n  output logic [31:0] data_addr,\n  output logic [31:0] data_wdata,\n  input  logic [31:0] data_rdata,\n  output logic        data_we\n);\n\n  // Control signals\n  logic       branch;\n  logic       jump;\n  logic       mem_read;\n  logic       mem_to_reg;\n  logic       mem_write;\n  logic [1:0] alu_op;\n  logic       alu_src;\n  logic       reg_write;\n  logic [2:0] imm_sel;\n  \n  // Register file signals\n  logic [4:0]  rs1_addr;\n  logic [4:0]  rs2_addr;\n  logic [4:0]  rd_addr;\n  logic [31:0] rs1_data;\n  logic [31:0] rs2_data;\n  logic [31:0] rd_data;\n  \n  // ALU signals\n  logic [31:0] alu_in_a;\n  logic [31:0] alu_in_b;\n  logic [3:0]  alu_ctrl;\n  logic [31:0] alu_result;\n  logic        alu_zero;\n  \n  // Immediate generator\n  logic [31:0] imm_ext;\n  \n  // PC signals\n  logic [31:0] pc;\n  logic [31:0] pc_next;\n  logic [31:0] pc_plus4;\n  logic [31:0] pc_branch;\n  logic        pc_sel;\n  \n  // Instruction fields\n  logic [6:0] opcode;\n  logic [2:0] funct3;\n  logic [6:0] funct7;\n  \n  // Assign instruction memory address to PC\n  assign instr_addr = pc;\n  \n  // Assign data memory interface\n  assign data_addr = alu_result;\n  assign data_wdata = rs2_data;\n  assign data_we = mem_write;\n  \n  // Instruction decoding\n  assign opcode = instr_data[6:0];\n  assign rs1_addr = instr_data[19:15];\n  assign rs2_addr = instr_data[24:20];\n  assign rd_addr = instr_data[11:7];\n  assign funct3 = instr_data[14:12];\n  assign funct7 = instr_data[31:25];\n  \n  // PC update\n  assign pc_plus4 = pc + 4;\n  assign pc_branch = pc + imm_ext;\n  assign pc_sel = (branch & alu_zero) | jump;\n  \n  always_ff @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n      pc <= 32'h0000_0000;\n    end else begin\n      pc <= pc_next;\n    end\n  end\n  \n  // Next PC selection\n  assign pc_next = pc_sel ? pc_branch : pc_plus4;\n  \n  // Control unit\n  riscv_control_unit control_unit (\n    .opcode(opcode),\n    .funct3(funct3),\n    .funct7(funct7),\n    .branch(branch),\n    .jump(jump),\n    .mem_read(mem_read),\n    .mem_to_reg(mem_to_reg),\n    .mem_write(mem_write),\n    .alu_op(alu_op),\n    .alu_src(alu_src),\n    .reg_write(reg_write),\n    .imm_sel(imm_sel)\n  );\n  \n  // Register file\n  riscv_regfile regfile (\n    .clk(clk),\n    .rst_n(rst_n),\n    .rs1_addr(rs1_addr),\n    .rs1_data(rs1_data),\n    .rs2_addr(rs2_addr),\n    .rs2_data(rs2_data),\n    .rd_addr(rd_addr),\n    .rd_data(rd_data),\n    .wr_en(reg_write)\n  );\n  \n  // Immediate generator\n  riscv_imm_gen imm_gen (\n    .instr(instr_data),\n    .imm_sel(imm_sel),\n    .imm_ext(imm_ext)\n  );\n  \n  // ALU control unit\n  riscv_alu_control alu_control (\n    .alu_op(alu_op),\n    .funct3(funct3),\n    .funct7(funct7),\n    .alu_ctrl(alu_ctrl)\n  );\n  \n  // ALU\n  assign alu_in_a = rs1_data;\n  assign alu_in_b = alu_src ? imm_ext : rs2_data;\n  \n  riscv_alu alu (\n    .a(alu_in_a),\n    .b(alu_in_b),\n    .alu_ctrl(alu_ctrl),\n    .result(alu_result),\n    .zero(alu_zero)\n  );\n  \n  // Write back to register file\n  assign rd_data = mem_to_reg ? data_rdata : alu_result;\n\nendmodule\n\n// Immediate generator module\nmodule riscv_imm_gen (\n  input  logic [31:0] instr,\n  input  logic [2:0]  imm_sel,\n  output logic [31:0] imm_ext\n);\n\n  // Immediate format selection\n  localparam I_TYPE = 3'b000;\n  localparam S_TYPE = 3'b001;\n  localparam B_TYPE = 3'b010;\n  localparam U_TYPE = 3'b011;\n  localparam J_TYPE = 3'b100;\n\n  always_comb begin\n    case (imm_sel)\n      I_TYPE: imm_ext = {{20{instr[31]}}, instr[31:20]};\n      S_TYPE: imm_ext = {{20{instr[31]}}, instr[31:25], instr[11:7]};\n      B_TYPE: imm_ext = {{19{instr[31]}}, instr[31], instr[7], instr[30:25], instr[11:8], 1'b0};\n      U_TYPE: imm_ext = {instr[31:12], 12'b0};\n      J_TYPE: imm_ext = {{11{instr[31]}}, instr[31], instr[19:12], instr[20], instr[30:21], 1'b0};\n      default: imm_ext = 32'b0;\n    endcase\n  end\nendmodule\n\n// ALU control unit\nmodule riscv_alu_control (\n  input  logic [1:0] alu_op,\n  input  logic [2:0] funct3,\n  input  logic [6:0] funct7,\n  output logic [3:0] alu_ctrl\n);\n  \n  // ALU operation codes\n  localparam ALU_ADD  = 4'b0000;\n  localparam ALU_SUB  = 4'b1000;\n  localparam ALU_SLL  = 4'b0001;\n  localparam ALU_SLT  = 4'b0010;\n  localparam ALU_SLTU = 4'b0011;\n  localparam ALU_XOR  = 4'b0100;\n  localparam ALU_SRL  = 4'b0101;\n  localparam ALU_SRA  = 4'b1101;\n  localparam ALU_OR   = 4'b0110;\n  localparam ALU_AND  = 4'b0111;\n  \n  always_comb begin\n    case (alu_op)\n      2'b00: alu_ctrl = ALU_ADD;  // Load/Store: add\n      2'b01: begin                // Branch: subtract for comparison\n        if (funct3 == 3'b000 || funct3 == 3'b001) // BEQ or BNE\n          alu_ctrl = ALU_SUB;\n        else if (funct3 == 3'b100 || funct3 == 3'b101) // BLT or BGE\n          alu_ctrl = ALU_SLT;\n        else // BLTU or BGEU\n          alu_ctrl = ALU_SLTU;\n      end\n      2'b10: begin                // R-type or I-type ALU operations\n        case (funct3)\n          3'b000: alu_ctrl = (funct7[5] && alu_op[1]) ? ALU_SUB : ALU_ADD;\n          3'b001: alu_ctrl = ALU_SLL;\n          3'b010: alu_ctrl = ALU_SLT;\n          3'b011: alu_ctrl = ALU_SLTU;\n          3'b100: alu_ctrl = ALU_XOR;\n          3'b101: alu_ctrl = funct7[5] ? ALU_SRA : ALU_SRL;\n          3'b110: alu_ctrl = ALU_OR;\n          3'b111: alu_ctrl = ALU_AND;\n          default: alu_ctrl = ALU_ADD;\n        endcase\n      end\n      default: alu_ctrl = ALU_ADD;\n    endcase\n  end\nendmodule",testbench:'module riscv_single_cycle_cpu_tb;\n  // Clock and reset\n  logic        clk;\n  logic        rst_n;\n  \n  // Instruction memory interface\n  logic [31:0] instr_addr;\n  logic [31:0] instr_data;\n  \n  // Data memory interface\n  logic [31:0] data_addr;\n  logic [31:0] data_wdata;\n  logic [31:0] data_rdata;\n  logic        data_we;\n\n  // Instruction memory (ROM)\n  logic [31:0] instr_memory [0:127];  // 128 words (512 bytes)\n  \n  // Data memory (RAM)\n  logic [31:0] data_memory [0:127];   // 128 words (512 bytes)\n  \n  // CPU instance\n  riscv_single_cycle_cpu dut (\n    .clk(clk),\n    .rst_n(rst_n),\n    .instr_addr(instr_addr),\n    .instr_data(instr_data),\n    .data_addr(data_addr),\n    .data_wdata(data_wdata),\n    .data_rdata(data_rdata),\n    .data_we(data_we)\n  );\n  \n  // Clock generation (10ns period)\n  always #5 clk = ~clk;\n  \n  // Instruction memory read\n  assign instr_data = instr_memory[instr_addr[8:2]];\n  \n  // Data memory read/write\n  always_ff @(posedge clk) begin\n    if (data_we)\n      data_memory[data_addr[8:2]] <= data_wdata;\n    data_rdata <= data_memory[data_addr[8:2]];\n  end\n  \n  // Monitor memory writes\n  always @(posedge clk) begin\n    if (data_we)\n      $display("MEM[%h] <= %h", data_addr, data_wdata);\n  end\n  \n  // Test program (Calculate sum of numbers from 1 to 10)\n  // This will be "loaded" into instruction memory at the start of simulation\n  //\n  // Assembly program:\n  // main:\n  //   addi x2, x0, 10       # x2 = 10 (loop count)\n  //   addi x3, x0, 0        # x3 = 0 (sum)\n  // loop:\n  //   add  x3, x3, x2       # x3 = x3 + x2 (add current number to sum)\n  //   addi x2, x2, -1       # x2 = x2 - 1 (decrement counter)\n  //   bne  x2, x0, loop     # branch if x2 != 0\n  //   sw   x3, 0(x0)        # store result in memory address 0\n  \n  initial begin\n    // Initialize test\n    clk = 0;\n    rst_n = 0;\n    \n    // Initialize memories\n    for (int i = 0; i < 128; i++) begin\n      instr_memory[i] = 32\'h0;\n      data_memory[i] = 32\'h0;\n    end\n    \n    // Load the test program\n    instr_memory[0] = 32\'h00A00113;  // addi x2, x0, 10\n    instr_memory[1] = 32\'h00000193;  // addi x3, x0, 0\n    instr_memory[2] = 32\'h00218193;  // add  x3, x3, x2\n    instr_memory[3] = 32\'hFFF10113;  // addi x2, x2, -1\n    instr_memory[4] = 32\'hFE011CE3;  // bne  x2, x0, loop (-4)\n    instr_memory[5] = 32\'h00302023;  // sw   x3, 0(x0)\n    \n    // Apply reset\n    #10 rst_n = 1;\n    \n    // Run the test for a reasonable amount of time\n    #500;\n    \n    // Check the result\n    $display("Sum of numbers from 1 to 10 = %d", data_memory[0]);\n    \n    if (data_memory[0] == 55)\n      $display("TEST PASSED");\n    else\n      $display("TEST FAILED - Expected 55, got %d", data_memory[0]);\n    \n    $finish;\n  end\nendmodule',explanation:"This implementation presents a complete single-cycle RISC-V CPU that executes one instruction per clock cycle. The design includes all essential components: program counter (PC), register file, ALU, control unit, immediate generator, and memory interfaces. The CPU supports the basic RV32I instruction set with five instruction formats (R, I, S, B, U, J). The datapath includes the necessary multiplexers for selecting between different data sources and the control signals that orchestrate the data movement. The testbench simulates a simple program that calculates the sum of numbers from 1 to 10, which should yield 55. It demonstrates how instructions are fetched from instruction memory, decoded, and executed, and how results are written back to either the register file or data memory. This design serves as a foundation for more complex implementations like pipelined or superscalar processors."},{id:"rv-ex6",title:"Direct-Mapped Cache Implementation",description:"Design a direct-mapped cache memory subsystem for a RISC-V processor, with configurable size and block size.",difficulty:"Hard",type:"Hardware Design",completed:!1,code:"module direct_mapped_cache #(\n  parameter ADDR_WIDTH   = 32,\n  parameter DATA_WIDTH   = 32,\n  parameter CACHE_SIZE   = 4096,   // Cache size in bytes\n  parameter BLOCK_SIZE   = 16,     // Block size in bytes\n  parameter WORD_SIZE    = 4       // Word size in bytes (32-bit)\n)(\n  input  logic                     clk,\n  input  logic                     rst_n,\n  \n  // CPU Interface\n  input  logic                     cpu_req_valid,\n  input  logic [ADDR_WIDTH-1:0]    cpu_req_addr,\n  input  logic                     cpu_req_rw,     // 0: read, 1: write\n  input  logic [DATA_WIDTH-1:0]    cpu_req_wdata,\n  input  logic [DATA_WIDTH/8-1:0]  cpu_req_wmask,  // Byte-enable mask\n  \n  output logic                     cpu_resp_valid,\n  output logic [DATA_WIDTH-1:0]    cpu_resp_rdata,\n  output logic                     cpu_resp_ready,\n  \n  // Memory Interface\n  output logic                     mem_req_valid,\n  output logic [ADDR_WIDTH-1:0]    mem_req_addr,\n  output logic                     mem_req_rw,\n  output logic [BLOCK_SIZE*8-1:0]  mem_req_wdata,\n  \n  input  logic                     mem_resp_valid,\n  input  logic [BLOCK_SIZE*8-1:0]  mem_resp_rdata\n);\n\n  // Cache parameters\n  localparam BLOCK_WORDS     = BLOCK_SIZE / WORD_SIZE;\n  localparam NUM_BLOCKS      = CACHE_SIZE / BLOCK_SIZE;\n  localparam OFFSET_BITS     = $clog2(BLOCK_SIZE);\n  localparam INDEX_BITS      = $clog2(NUM_BLOCKS);\n  localparam TAG_BITS        = ADDR_WIDTH - INDEX_BITS - OFFSET_BITS;\n  \n  // Address breakdown\n  logic [TAG_BITS-1:0]       addr_tag;\n  logic [INDEX_BITS-1:0]     addr_index;\n  logic [OFFSET_BITS-1:0]    addr_offset;\n  \n  // Cache storage\n  logic [NUM_BLOCKS-1:0]          valid;\n  logic [NUM_BLOCKS-1:0]          dirty;\n  logic [TAG_BITS-1:0]            tags [NUM_BLOCKS-1:0];\n  logic [BLOCK_SIZE*8-1:0]        data [NUM_BLOCKS-1:0];\n  \n  // FSM states\n  typedef enum logic [2:0] {\n    IDLE,\n    COMPARE_TAG,\n    WRITE_BACK,\n    ALLOCATE,\n    HANDLE_CPU\n  } cache_state_t;\n  \n  cache_state_t state;\n  \n  // Stored request information\n  logic [ADDR_WIDTH-1:0]  req_addr;\n  logic                   req_rw;\n  logic [DATA_WIDTH-1:0]  req_wdata;\n  logic [DATA_WIDTH/8-1:0] req_wmask;\n  \n  // Address breakdown\n  assign addr_tag = cpu_req_addr[ADDR_WIDTH-1:ADDR_WIDTH-TAG_BITS];\n  assign addr_index = cpu_req_addr[ADDR_WIDTH-TAG_BITS-1:OFFSET_BITS];\n  assign addr_offset = cpu_req_addr[OFFSET_BITS-1:0];\n  \n  // Helper signals\n  logic hit;\n  logic miss;\n  logic [BLOCK_SIZE*8-1:0] write_data;\n  logic [DATA_WIDTH-1:0] read_word;\n  logic [TAG_BITS-1:0] current_tag;\n  logic current_valid;\n  logic current_dirty;\n  \n  // Calculate cache hit\n  assign current_tag = tags[addr_index];\n  assign current_valid = valid[addr_index];\n  assign current_dirty = dirty[addr_index];\n  assign hit = current_valid && (current_tag == addr_tag);\n  assign miss = !hit;\n  \n  // Word alignment within block\n  assign read_word = data[addr_index][8*addr_offset +: DATA_WIDTH];\n  \n  // Cache FSM\n  always_ff @(posedge clk or negedge rst_n) begin\n    if (!rst_n) begin\n      state <= IDLE;\n      valid <= '0;\n      dirty <= '0;\n      mem_req_valid <= 1'b0;\n      cpu_resp_valid <= 1'b0;\n      cpu_resp_ready <= 1'b1;\n    end else begin\n      case (state)\n        IDLE: begin\n          cpu_resp_valid <= 1'b0;\n          if (cpu_req_valid && cpu_resp_ready) begin\n            // Store the request\n            req_addr <= cpu_req_addr;\n            req_rw <= cpu_req_rw;\n            req_wdata <= cpu_req_wdata;\n            req_wmask <= cpu_req_wmask;\n            state <= COMPARE_TAG;\n          end\n        end\n        \n        COMPARE_TAG: begin\n          if (hit) begin\n            // Cache hit\n            if (req_rw) begin\n              // Write hit\n              for (int i = 0; i < DATA_WIDTH/8; i++) begin\n                if (req_wmask[i]) begin\n                  data[addr_index][8*(addr_offset+i) +: 8] <= req_wdata[8*i +: 8];\n                end\n              end\n              dirty[addr_index] <= 1'b1;\n            end\n            \n            // Return read data or acknowledge write\n            cpu_resp_valid <= 1'b1;\n            cpu_resp_rdata <= read_word;\n            state <= IDLE;\n          end else begin\n            // Cache miss\n            if (current_valid && current_dirty) begin\n              // Need to write back dirty block first\n              state <= WRITE_BACK;\n              mem_req_valid <= 1'b1;\n              mem_req_rw <= 1'b1; // Write\n              mem_req_addr <= {current_tag, addr_index, {OFFSET_BITS{1'b0}}};\n              mem_req_wdata <= data[addr_index];\n              cpu_resp_ready <= 1'b0;\n            end else begin\n              // No need to write back, just allocate\n              state <= ALLOCATE;\n              mem_req_valid <= 1'b1;\n              mem_req_rw <= 1'b0; // Read\n              mem_req_addr <= {addr_tag, addr_index, {OFFSET_BITS{1'b0}}};\n              cpu_resp_ready <= 1'b0;\n            end\n          end\n        end\n        \n        WRITE_BACK: begin\n          if (mem_resp_valid) begin\n            // After write back completes, allocate\n            mem_req_valid <= 1'b1;\n            mem_req_rw <= 1'b0; // Read\n            mem_req_addr <= {addr_tag, addr_index, {OFFSET_BITS{1'b0}}};\n            state <= ALLOCATE;\n          end\n        end\n        \n        ALLOCATE: begin\n          if (mem_resp_valid) begin\n            // Save the new cache line\n            mem_req_valid <= 1'b0;\n            valid[addr_index] <= 1'b1;\n            dirty[addr_index] <= 1'b0;\n            tags[addr_index] <= addr_tag;\n            data[addr_index] <= mem_resp_rdata;\n            \n            // Now handle the CPU request\n            state <= HANDLE_CPU;\n            cpu_resp_ready <= 1'b1;\n          end\n        end\n        \n        HANDLE_CPU: begin\n          if (req_rw) begin\n            // Handle write after allocation\n            for (int i = 0; i < DATA_WIDTH/8; i++) begin\n              if (req_wmask[i]) begin\n                data[addr_index][8*(addr_offset+i) +: 8] <= req_wdata[8*i +: 8];\n              end\n            end\n            dirty[addr_index] <= 1'b1;\n          end\n          \n          // Return data or acknowledge\n          cpu_resp_valid <= 1'b1;\n          cpu_resp_rdata <= data[addr_index][8*addr_offset +: DATA_WIDTH];\n          state <= IDLE;\n        end\n        \n        default: state <= IDLE;\n      endcase\n    end\n  end\nendmodule",testbench:'module direct_mapped_cache_tb;\n  // Parameters\n  localparam ADDR_WIDTH = 32;\n  localparam DATA_WIDTH = 32;\n  localparam CACHE_SIZE = 1024;  // 1KB cache\n  localparam BLOCK_SIZE = 16;    // 16-byte blocks\n  localparam WORD_SIZE  = 4;     // 4 bytes per word\n  \n  // DUT signals\n  logic                     clk;\n  logic                     rst_n;\n  \n  // CPU interface\n  logic                     cpu_req_valid;\n  logic [ADDR_WIDTH-1:0]    cpu_req_addr;\n  logic                     cpu_req_rw;\n  logic [DATA_WIDTH-1:0]    cpu_req_wdata;\n  logic [DATA_WIDTH/8-1:0]  cpu_req_wmask;\n  logic                     cpu_resp_valid;\n  logic [DATA_WIDTH-1:0]    cpu_resp_rdata;\n  logic                     cpu_resp_ready;\n  \n  // Memory interface\n  logic                     mem_req_valid;\n  logic [ADDR_WIDTH-1:0]    mem_req_addr;\n  logic                     mem_req_rw;\n  logic [BLOCK_SIZE*8-1:0]  mem_req_wdata;\n  logic                     mem_resp_valid;\n  logic [BLOCK_SIZE*8-1:0]  mem_resp_rdata;\n  \n  // Main memory model (simplified)\n  logic [7:0] main_memory [0:16383]; // 16KB main memory\n  \n  // Instantiate the cache\n  direct_mapped_cache #(\n    .ADDR_WIDTH(ADDR_WIDTH),\n    .DATA_WIDTH(DATA_WIDTH),\n    .CACHE_SIZE(CACHE_SIZE),\n    .BLOCK_SIZE(BLOCK_SIZE),\n    .WORD_SIZE(WORD_SIZE)\n  ) dut (\n    .clk(clk),\n    .rst_n(rst_n),\n    .cpu_req_valid(cpu_req_valid),\n    .cpu_req_addr(cpu_req_addr),\n    .cpu_req_rw(cpu_req_rw),\n    .cpu_req_wdata(cpu_req_wdata),\n    .cpu_req_wmask(cpu_req_wmask),\n    .cpu_resp_valid(cpu_resp_valid),\n    .cpu_resp_rdata(cpu_resp_rdata),\n    .cpu_resp_ready(cpu_resp_ready),\n    .mem_req_valid(mem_req_valid),\n    .mem_req_addr(mem_req_addr),\n    .mem_req_rw(mem_req_rw),\n    .mem_req_wdata(mem_req_wdata),\n    .mem_resp_valid(mem_resp_valid),\n    .mem_resp_rdata(mem_resp_rdata)\n  );\n  \n  // Clock generation (10ns period)\n  always #5 clk = ~clk;\n  \n  // Memory controller model\n  always @(posedge clk) begin\n    if (mem_req_valid) begin\n      if (mem_req_rw) begin\n        // Memory write\n        for (int i = 0; i < BLOCK_SIZE; i++) begin\n          main_memory[mem_req_addr+i] = mem_req_wdata[i*8 +: 8];\n        end\n        mem_resp_valid <= 1\'b1;\n      end else begin\n        // Memory read (with realistic delay)\n        repeat(10) @(posedge clk); // 10 cycle memory latency\n        for (int i = 0; i < BLOCK_SIZE; i++) begin\n          mem_resp_rdata[i*8 +: 8] = main_memory[mem_req_addr+i];\n        end\n        mem_resp_valid <= 1\'b1;\n      end\n    end else begin\n      mem_resp_valid <= 1\'b0;\n    end\n  end\n  \n  // Helper function to read a word from memory\n  function logic [31:0] read_memory_word(logic [31:0] addr);\n    read_memory_word = {\n      main_memory[addr+3],\n      main_memory[addr+2],\n      main_memory[addr+1],\n      main_memory[addr]\n    };\n  endfunction\n  \n  // Helper function to write a word to memory\n  task write_memory_word(logic [31:0] addr, logic [31:0] data);\n    main_memory[addr]   = data[7:0];\n    main_memory[addr+1] = data[15:8];\n    main_memory[addr+2] = data[23:16];\n    main_memory[addr+3] = data[31:24];\n  endtask\n  \n  // CPU read request\n  task cpu_read(logic [31:0] addr, output logic [31:0] data);\n    cpu_req_valid = 1\'b1;\n    cpu_req_addr = addr;\n    cpu_req_rw = 1\'b0;\n    \n    // Wait for cache response\n    @(posedge clk);\n    while (!cpu_resp_valid) @(posedge clk);\n    \n    data = cpu_resp_rdata;\n    cpu_req_valid = 1\'b0;\n    \n    // Wait a cycle before next operation\n    @(posedge clk);\n  endtask\n  \n  // CPU write request\n  task cpu_write(logic [31:0] addr, logic [31:0] data, logic [3:0] mask = 4\'hF);\n    cpu_req_valid = 1\'b1;\n    cpu_req_addr = addr;\n    cpu_req_rw = 1\'b1;\n    cpu_req_wdata = data;\n    cpu_req_wmask = mask;\n    \n    // Wait for cache response\n    @(posedge clk);\n    while (!cpu_resp_valid) @(posedge clk);\n    \n    cpu_req_valid = 1\'b0;\n    \n    // Wait a cycle before next operation\n    @(posedge clk);\n  endtask\n  \n  // Hit rate calculation\n  int total_requests = 0;\n  int cache_hits = 0;\n  \n  // Test scenario\n  initial begin\n    // Initialize signals\n    clk = 0;\n    rst_n = 0;\n    cpu_req_valid = 0;\n    cpu_req_addr = 0;\n    cpu_req_rw = 0;\n    cpu_req_wdata = 0;\n    cpu_req_wmask = 0;\n    mem_resp_valid = 0;\n    \n    // Initialize memory with some test data\n    for (int i = 0; i < 16384; i = i + 4) begin\n      write_memory_word(i, i);\n    end\n    \n    // Apply reset\n    #20 rst_n = 1;\n    #20;\n    \n    $display("Starting cache tests...");\n    \n    // Test 1: Single read (cold miss)\n    $display("\nTest 1: Single read (cold miss)");\n    begin\n      logic [31:0] read_data;\n      cpu_read(32\'h1000, read_data);\n      $display("Read from addr 0x1000: 0x%08h", read_data);\n      \n      if (read_data == 32\'h1000)\n        $display("TEST 1 PASSED");\n      else\n        $display("TEST 1 FAILED: Expected 0x1000, got 0x%08h", read_data);\n    end\n    \n    // Test 2: Read hit (same address)\n    $display("\nTest 2: Read hit (same address)");\n    begin\n      logic [31:0] read_data;\n      cpu_read(32\'h1000, read_data);\n      $display("Read from addr 0x1000 (hit): 0x%08h", read_data);\n      \n      if (read_data == 32\'h1000)\n        $display("TEST 2 PASSED");\n      else\n        $display("TEST 2 FAILED: Expected 0x1000, got 0x%08h", read_data);\n    end\n    \n    // Test 3: Read hit (different word in same block)\n    $display("\nTest 3: Read hit (different word in same block)");\n    begin\n      logic [31:0] read_data;\n      cpu_read(32\'h1004, read_data);\n      $display("Read from addr 0x1004 (hit): 0x%08h", read_data);\n      \n      if (read_data == 32\'h1004)\n        $display("TEST 3 PASSED");\n      else\n        $display("TEST 3 FAILED: Expected 0x1004, got 0x%08h", read_data);\n    end\n    \n    // Test 4: Read miss (different block)\n    $display("\nTest 4: Read miss (different block)");\n    begin\n      logic [31:0] read_data;\n      cpu_read(32\'h2000, read_data);\n      $display("Read from addr 0x2000 (miss): 0x%08h", read_data);\n      \n      if (read_data == 32\'h2000)\n        $display("TEST 4 PASSED");\n      else\n        $display("TEST 4 FAILED: Expected 0x2000, got 0x%08h", read_data);\n    end\n    \n    // Test 5: Write hit\n    $display("\nTest 5: Write hit");\n    begin\n      logic [31:0] read_data;\n      cpu_write(32\'h2000, 32\'hDEADBEEF);\n      cpu_read(32\'h2000, read_data);\n      $display("Wrote 0xDEADBEEF to addr 0x2000, read back: 0x%08h", read_data);\n      \n      if (read_data == 32\'hDEADBEEF)\n        $display("TEST 5 PASSED");\n      else\n        $display("TEST 5 FAILED: Expected 0xDEADBEEF, got 0x%08h", read_data);\n    end\n    \n    // Test 6: Write miss (with writeback)\n    $display("\nTest 6: Write miss (with writeback)");\n    begin\n      logic [31:0] read_data;\n      \n      // First write to address that maps to same cache line as 0x2000\n      // Assuming 1KB cache, 16-byte blocks = 64 blocks total\n      // So addresses that differ by 1KB (0x400) will map to same block\n      cpu_write(32\'h2400, 32\'hCAFEBABE);\n      \n      // Now read back the original address to verify writeback\n      cpu_read(32\'h2000, read_data);\n      $display("Wrote to conflicting address, then read back 0x2000: 0x%08h", read_data);\n      \n      if (read_data == 32\'hDEADBEEF) // Should have been written back correctly\n        $display("TEST 6 PASSED");\n      else\n        $display("TEST 6 FAILED: Expected 0xDEADBEEF, got 0x%08h", read_data);\n    end\n    \n    // Test 7: Byte write (partial word)\n    $display("\nTest 7: Byte write");\n    begin\n      logic [31:0] read_data;\n      cpu_write(32\'h3000, 32\'h12345678, 4\'b0001); // Write only lowest byte\n      cpu_read(32\'h3000, read_data);\n      $display("Byte write to 0x3000, read back: 0x%08h", read_data);\n      \n      if ((read_data & 32\'h000000FF) == 32\'h00000078)\n        $display("TEST 7 PASSED");\n      else\n        $display("TEST 7 FAILED: Expected low byte = 0x78, got 0x%02h", read_data & 32\'h000000FF);\n    end\n    \n    $display("\nAll cache tests complete!");\n    $finish;\n  end\nendmodule',explanation:"This example implements a configurable direct-mapped cache memory subsystem for a RISC-V processor. The cache handles both read and write operations, maintaining consistency with main memory through a write-back policy. The design includes a finite state machine (FSM) that manages the cache operations: tag comparison, write-back of dirty blocks, allocation of new blocks, and handling CPU requests. The cache supports byte-level write operations through a write mask, enabling precise control over which bytes within a word are modified. The testbench provides a comprehensive verification environment with a model of main memory and functions to verify cache behavior under various scenarios: cold misses, hits, write operations, and handling of dirty blocks. It tests fundamental cache operations such as fetching data on misses, detecting hits, writing data, and correctly handling cache line replacements. This implementation serves as a foundation for more complex cache architectures like set-associative or multi-level caches."}]},wc=[bc,yc],vc=e=>{const t=wc.find((t=>t.id===e));if(t)return t;if(!isNaN(e)){const t=parseInt(e,10);if(1===t)return bc;if(23===t)return yc}return null},kc=wc,_c=()=>{const[e,t]=(0,i.useState)(""),[n,o]=(0,i.useState)("all"),[r,s]=(0,i.useState)("all"),[a,l]=(0,i.useState)(1),c=kc,d=c.filter((t=>{const i=t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase())||t.chapters&&t.chapters.some((t=>t.title.toLowerCase().includes(e.toLowerCase())||t.description.toLowerCase().includes(e.toLowerCase()))),o="all"===n||t.level===n,s="all"===r||t.level===r;return i&&o&&s})),u=[...new Set(c.map((e=>e.level)))],p=[...new Set(c.map((e=>e.level)))],h=Math.ceil(d.length/6),g=d.slice(6*(a-1),6*a);return(0,ke.jsxs)(Bt,{className:"container page-container",children:[(0,ke.jsx)(kn,{variant:"h3",component:"h1",gutterBottom:!0,color:"primary",children:"VeriGeek Learning Modules"}),(0,ke.jsx)(kn,{variant:"subtitle1",paragraph:!0,sx:{mb:4},children:"Browse our comprehensive collection of Verilog modules designed to take you from beginner to expert. Each module contains theory, examples, and hands-on exercises."}),(0,ke.jsxs)(Vi,{container:!0,spacing:3,sx:{mb:4},children:[(0,ke.jsx)(Vi,{item:!0,xs:12,md:6,children:(0,ke.jsx)(Pl,{fullWidth:!0,label:"Search Modules",placeholder:"Search by title, description, or topics",variant:"outlined",value:e,onChange:e=>t(e.target.value),InputProps:{startAdornment:(0,ke.jsx)(Ol,{position:"start",children:(0,ke.jsx)(mc,{})})}})}),(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,md:3,children:(0,ke.jsxs)(ls,{fullWidth:!0,variant:"outlined",children:[(0,ke.jsx)(is,{id:"category-filter-label",children:"Category"}),(0,ke.jsxs)(Il,{labelId:"category-filter-label",id:"category-filter",value:n,onChange:e=>o(e.target.value),label:"Category",startAdornment:(0,ke.jsx)(Ol,{position:"start",children:(0,ke.jsx)(fc,{})}),children:[(0,ke.jsx)(Gl,{value:"all",children:"All Categories"}),u.map((e=>(0,ke.jsx)(Gl,{value:e,children:e},e)))]})]})}),(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,md:3,children:(0,ke.jsxs)(ls,{fullWidth:!0,variant:"outlined",children:[(0,ke.jsx)(is,{id:"level-filter-label",children:"Level"}),(0,ke.jsxs)(Il,{labelId:"level-filter-label",id:"level-filter",value:r,onChange:e=>s(e.target.value),label:"Level",startAdornment:(0,ke.jsx)(Ol,{position:"start",children:(0,ke.jsx)(fc,{})}),children:[(0,ke.jsx)(Gl,{value:"all",children:"All Levels"}),p.map((e=>(0,ke.jsx)(Gl,{value:e,children:e},e)))]})]})})]}),(0,ke.jsx)(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:(0,ke.jsxs)(kn,{variant:"body2",color:"text.secondary",children:["Showing ",g.length," of ",d.length," modules"]})}),g.length>0?(0,ke.jsx)(Vi,{container:!0,spacing:4,sx:{mb:4},children:g.map((e=>(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,md:4,children:(0,ke.jsx)(Qi,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-8px)",boxShadow:6}},children:(0,ke.jsxs)(no,{component:rn,to:`/modules/${e.id}`,children:[(0,ke.jsx)(co,{component:"img",height:"160",image:e.image,alt:e.title}),(0,ke.jsxs)(go,{sx:{flexGrow:1},children:[(0,ke.jsx)(kn,{variant:"h6",component:"h3",gutterBottom:!0,noWrap:!0,children:"string"===typeof e.title?e.title:String(e.title)}),(0,ke.jsx)(Bt,{sx:{display:"flex",gap:1,mb:1},children:(0,ke.jsx)(To,{label:"string"===typeof e.level?e.level:String(e.level),size:"small",sx:{backgroundColor:"Beginner"===e.level?"#e3f2fd":"Intermediate"===e.level?"#fff8e1":"#fbe9e7",color:"Beginner"===e.level?"#0277bd":"Intermediate"===e.level?"#ff8f00":"#e64a19",fontWeight:500,borderRadius:"4px"}})}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",sx:{mb:2},children:"string"===typeof e.description?e.description:String(e.description)}),(0,ke.jsxs)(Bt,{sx:{mt:1,mb:2},children:[e.topics&&Array.isArray(e.topics)&&e.topics.slice(0,3).map(((e,t)=>(0,ke.jsx)(To,{label:"string"===typeof e?e:String(e),size:"small",sx:{mr:.5,mb:.5,backgroundColor:"rgba(106, 13, 173, 0.08)",fontSize:"0.7rem"}},t))),e.topics&&Array.isArray(e.topics)&&e.topics.length>3&&(0,ke.jsx)(To,{label:`+${e.topics.length-3} more`,size:"small",sx:{mb:.5,backgroundColor:"rgba(106, 13, 173, 0.04)",fontSize:"0.7rem"}})]}),(0,ke.jsx)(jo,{sx:{my:1}}),(0,ke.jsxs)(Bt,{sx:{display:"flex",justifyContent:"space-between",mt:1},children:[(0,ke.jsxs)(kn,{variant:"body2",color:"text.secondary",children:["\u2b50 ","string"===typeof e.rating||"number"===typeof e.rating?e.rating:"4.8"," (","string"===typeof e.students||"number"===typeof e.students?e.students:"8750",")"]}),(0,ke.jsxs)(kn,{variant:"body2",color:"text.secondary",children:[e.chapters&&Array.isArray(e.chapters)?e.chapters.length:16," chapters \u2022 ",e.exercises&&Array.isArray(e.exercises)?e.exercises.length:5," exercises"]})]})]})]})})},e.id)))}):(0,ke.jsxs)(Bt,{sx:{textAlign:"center",my:8},children:[(0,ke.jsx)(kn,{variant:"h6",children:"No modules found matching your criteria"}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"Try adjusting your search or filters"})]}),h>1&&(0,ke.jsx)(Bt,{sx:{display:"flex",justifyContent:"center",mt:4},children:(0,ke.jsx)(gc,{count:h,page:a,onChange:(e,t)=>l(t),color:"primary",size:"large",showFirstButton:!0,showLastButton:!0})})]})};function xc(e){return Et("MuiLinearProgress",e)}Dt("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const Ac=["className","color","value","valueBuffer","variant"];let Cc,Sc,Ic,Tc,Ec,Dc,Mc=e=>e;const Pc=(0,Qn.i7)(Cc||(Cc=Mc`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),Rc=(0,Qn.i7)(Sc||(Sc=Mc`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),Bc=(0,Qn.i7)(Ic||(Ic=Mc`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),jc=(e,t)=>"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:"light"===e.palette.mode?(0,Ne.a)(e.palette[t].main,.62):(0,Ne.e$)(e.palette[t].main,.5),Lc=hn("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`color${mn(n.color)}`],t[n.variant]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,we.A)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:jc(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),zc=hn("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.dashed,t[`dashedColor${mn(n.color)}`]]}})((e=>{let{ownerState:t,theme:n}=e;const i=jc(n,t.color);return(0,we.A)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:`radial-gradient(${i} 0%, ${i} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,Qn.AH)(Tc||(Tc=Mc`
    animation: ${0} 3s infinite linear;
  `),Bc)),Oc=hn("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${mn(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return(0,we.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .4s linear"},"buffer"===t.variant&&{zIndex:1,transition:"transform .4s linear"})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,Qn.AH)(Ec||(Ec=Mc`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),Pc)})),Nc=hn("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.bar,t[`barColor${mn(n.color)}`],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((e=>{let{ownerState:t,theme:n}=e;return(0,we.A)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:jc(n,t.color),transition:"transform .4s linear"})}),(e=>{let{ownerState:t}=e;return("indeterminate"===t.variant||"query"===t.variant)&&(0,Qn.AH)(Dc||(Dc=Mc`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),Rc)})),Fc=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:r,valueBuffer:s,variant:a="indeterminate"}=n,l=(0,Re.A)(n,Ac),c=(0,we.A)({},n,{color:o,variant:a}),d=(e=>{const{classes:t,variant:n,color:i}=e;return cn({root:["root",`color${mn(i)}`,n],dashed:["dashed",`dashedColor${mn(i)}`],bar1:["bar",`barColor${mn(i)}`,("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&`barColor${mn(i)}`,"buffer"===n&&`color${mn(i)}`,("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]},xc,t)})(c),u=Vt(),p={},h={bar1:{},bar2:{}};if("determinate"===a||"buffer"===a)if(void 0!==r){p["aria-valuenow"]=Math.round(r),p["aria-valuemin"]=0,p["aria-valuemax"]=100;let e=r-100;u&&(e=-e),h.bar1.transform=`translateX(${e}%)`}else 0;if("buffer"===a)if(void 0!==s){let e=(s||0)-100;u&&(e=-e),h.bar2.transform=`translateX(${e}%)`}else 0;return(0,ke.jsxs)(Lc,(0,we.A)({className:_t(d.root,i),ownerState:c,role:"progressbar"},p,{ref:t},l,{children:["buffer"===a?(0,ke.jsx)(zc,{className:d.dashed,ownerState:c}):null,(0,ke.jsx)(Oc,{className:d.bar1,ownerState:c,style:h.bar1}),"determinate"===a?null:(0,ke.jsx)(Nc,{className:d.bar2,ownerState:c,style:h.bar2})]}))})),Vc=vo((0,ke.jsx)("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreHoriz"),Hc=["slots","slotProps"],Wc=hn(bi)((e=>{let{theme:t}=e;return(0,we.A)({display:"flex",marginLeft:`calc(${t.spacing(1)} * 0.5)`,marginRight:`calc(${t.spacing(1)} * 0.5)`},"light"===t.palette.mode?{backgroundColor:t.palette.grey[100],color:t.palette.grey[700]}:{backgroundColor:t.palette.grey[700],color:t.palette.grey[100]},{borderRadius:2,"&:hover, &:focus":(0,we.A)({},"light"===t.palette.mode?{backgroundColor:t.palette.grey[200]}:{backgroundColor:t.palette.grey[600]}),"&:active":(0,we.A)({boxShadow:t.shadows[0]},"light"===t.palette.mode?{backgroundColor:(0,Ne.tL)(t.palette.grey[200],.12)}:{backgroundColor:(0,Ne.tL)(t.palette.grey[600],.12)})})})),Uc=hn(Vc)({width:24,height:16});const qc=function(e){const{slots:t={},slotProps:n={}}=e,i=(0,Re.A)(e,Hc),o=e;return(0,ke.jsx)("li",{children:(0,ke.jsx)(Wc,(0,we.A)({focusRipple:!0},i,{ownerState:o,children:(0,ke.jsx)(Uc,(0,we.A)({as:t.CollapsedIcon,ownerState:o},n.collapsedIcon))}))})};function $c(e){return Et("MuiBreadcrumbs",e)}const Gc=Dt("MuiBreadcrumbs",["root","ol","li","separator"]),Kc=["children","className","component","slots","slotProps","expandText","itemsAfterCollapse","itemsBeforeCollapse","maxItems","separator"],Yc=hn(kn,{name:"MuiBreadcrumbs",slot:"Root",overridesResolver:(e,t)=>[{[`& .${Gc.li}`]:t.li},t.root]})({}),Qc=hn("ol",{name:"MuiBreadcrumbs",slot:"Ol",overridesResolver:(e,t)=>t.ol})({display:"flex",flexWrap:"wrap",alignItems:"center",padding:0,margin:0,listStyle:"none"}),Zc=hn("li",{name:"MuiBreadcrumbs",slot:"Separator",overridesResolver:(e,t)=>t.separator})({display:"flex",userSelect:"none",marginLeft:8,marginRight:8});function Xc(e,t,n,i){return e.reduce(((o,r,s)=>(s<e.length-1?o=o.concat(r,(0,ke.jsx)(Zc,{"aria-hidden":!0,className:t,ownerState:i,children:n},`separator-${s}`)):o.push(r),o)),[])}const Jc=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiBreadcrumbs"}),{children:o,className:r,component:s="nav",slots:a={},slotProps:l={},expandText:c="Show path",itemsAfterCollapse:d=1,itemsBeforeCollapse:u=1,maxItems:p=8,separator:h="/"}=n,g=(0,Re.A)(n,Kc),[m,f]=i.useState(!1),b=(0,we.A)({},n,{component:s,expanded:m,expandText:c,itemsAfterCollapse:d,itemsBeforeCollapse:u,maxItems:p,separator:h}),y=(e=>{const{classes:t}=e;return cn({root:["root"],li:["li"],ol:["ol"],separator:["separator"]},$c,t)})(b),w=xs({elementType:a.CollapsedIcon,externalSlotProps:l.collapsedIcon,ownerState:b}),v=i.useRef(null),k=i.Children.toArray(o).filter((e=>i.isValidElement(e))).map(((e,t)=>(0,ke.jsx)("li",{className:y.li,children:e},`child-${t}`)));return(0,ke.jsx)(Yc,(0,we.A)({ref:t,component:s,color:"text.secondary",className:_t(y.root,r),ownerState:b},g,{children:(0,ke.jsx)(Qc,{className:y.ol,ref:v,ownerState:b,children:Xc(m||p&&k.length<=p?k:(e=>u+d>=e.length?e:[...e.slice(0,u),(0,ke.jsx)(qc,{"aria-label":c,slots:{CollapsedIcon:a.CollapsedIcon},slotProps:{collapsedIcon:w},onClick:()=>{f(!0);const e=v.current.querySelector("a[href],button,[tabindex]");e&&e.focus()}},"ellipsis"),...e.slice(e.length-d,e.length)])(k),y.separator,h,b)})}))})),ed=Jc;var td=n(1188);const nd={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},id=Yo,od=vo((0,ke.jsx)("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),rd=vo((0,ke.jsx)("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}),"StarBorder");function sd(e){return Et("MuiRating",e)}const ad=Dt("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]),ld=["value"],cd=["className","defaultValue","disabled","emptyIcon","emptyLabelText","getLabelText","highlightSelectedOnly","icon","IconContainerComponent","max","name","onChange","onChangeActive","onMouseLeave","onMouseMove","precision","readOnly","size","value"];function dd(e,t){if(null==e)return e;const n=Math.round(e/t)*t;return Number(n.toFixed(function(e){const t=e.toString().split(".")[1];return t?t.length:0}(t)))}const ud=hn("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${ad.visuallyHidden}`]:t.visuallyHidden},t.root,t[`size${mn(n.size)}`],n.readOnly&&t.readOnly]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({display:"inline-flex",position:"relative",fontSize:t.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${ad.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ad.focusVisible} .${ad.iconActive}`]:{outline:"1px solid #999"},[`& .${ad.visuallyHidden}`]:nd},"small"===n.size&&{fontSize:t.typography.pxToRem(18)},"large"===n.size&&{fontSize:t.typography.pxToRem(30)},n.readOnly&&{pointerEvents:"none"})})),pd=hn("label",{name:"MuiRating",slot:"Label",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.label,n.emptyValueFocused&&t.labelEmptyValueActive]}})((e=>{let{ownerState:t}=e;return(0,we.A)({cursor:"inherit"},t.emptyValueFocused&&{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"})})),hd=hn("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.iconEmpty&&t.iconEmpty,n.iconFilled&&t.iconFilled,n.iconHover&&t.iconHover,n.iconFocus&&t.iconFocus,n.iconActive&&t.iconActive]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({display:"flex",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),pointerEvents:"none"},n.iconActive&&{transform:"scale(1.2)"},n.iconEmpty&&{color:(t.vars||t).palette.action.disabled})})),gd=hn("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>un(e)&&"iconActive"!==e,overridesResolver:(e,t)=>{const{iconActive:n}=e;return[t.decimal,n&&t.iconActive]}})((e=>{let{iconActive:t}=e;return(0,we.A)({position:"relative"},t&&{transform:"scale(1.2)"})}));function md(e){const t=(0,Re.A)(e,ld);return(0,ke.jsx)("span",(0,we.A)({},t))}function fd(e){const{classes:t,disabled:n,emptyIcon:o,focus:r,getLabelText:s,highlightSelectedOnly:a,hover:l,icon:c,IconContainerComponent:d,isActive:u,itemValue:p,labelProps:h,name:g,onBlur:m,onChange:f,onClick:b,onFocus:y,readOnly:w,ownerState:v,ratingValue:k,ratingValueRounded:_}=e,x=a?p===k:p<=k,A=p<=l,C=p<=r,S=p===_,I=id(),T=(0,ke.jsx)(hd,{as:d,value:p,className:_t(t.icon,x?t.iconFilled:t.iconEmpty,A&&t.iconHover,C&&t.iconFocus,u&&t.iconActive),ownerState:(0,we.A)({},v,{iconEmpty:!x,iconFilled:x,iconHover:A,iconFocus:C,iconActive:u}),children:o&&!x?o:c});return w?(0,ke.jsx)("span",(0,we.A)({},h,{children:T})):(0,ke.jsxs)(i.Fragment,{children:[(0,ke.jsxs)(pd,(0,we.A)({ownerState:(0,we.A)({},v,{emptyValueFocused:void 0}),htmlFor:I},h,{children:[T,(0,ke.jsx)("span",{className:t.visuallyHidden,children:s(p)})]})),(0,ke.jsx)("input",{className:t.visuallyHidden,onFocus:y,onBlur:m,onChange:f,onClick:b,disabled:n,value:p,id:I,type:"radio",name:g,checked:S})]})}const bd=(0,ke.jsx)(od,{fontSize:"inherit"}),yd=(0,ke.jsx)(rd,{fontSize:"inherit"});function wd(e){return`${e} Star${1!==e?"s":""}`}const vd=i.forwardRef((function(e,t){const n=Ce({name:"MuiRating",props:e}),{className:o,defaultValue:r=null,disabled:s=!1,emptyIcon:a=yd,emptyLabelText:l="Empty",getLabelText:c=wd,highlightSelectedOnly:d=!1,icon:u=bd,IconContainerComponent:p=md,max:h=5,name:g,onChange:m,onChangeActive:f,onMouseLeave:b,onMouseMove:y,precision:w=1,readOnly:v=!1,size:k="medium",value:_}=n,x=(0,Re.A)(n,cd),A=id(g),[C,S]=al({controlled:_,default:r,name:"Rating"}),I=dd(C,w),T=Vt(),[{hover:E,focus:D},M]=i.useState({hover:-1,focus:-1});let P=I;-1!==E&&(P=E),-1!==D&&(P=D);const{isFocusVisibleRef:R,onBlur:B,onFocus:j,ref:L}=Fn(),[z,O]=i.useState(!1),N=i.useRef(),F=An(L,N,t),V=e=>{let t=""===e.target.value?null:parseFloat(e.target.value);-1!==E&&(t=E),S(t),m&&m(e,t)},H=e=>{0===e.clientX&&0===e.clientY||(M({hover:-1,focus:-1}),S(null),m&&parseFloat(e.target.value)===I&&m(e,null))},W=e=>{j(e),!0===R.current&&O(!0);const t=parseFloat(e.target.value);M((e=>({hover:e.hover,focus:t})))},U=e=>{if(-1!==E)return;B(e),!1===R.current&&O(!1);M((e=>({hover:e.hover,focus:-1})))},[q,$]=i.useState(!1),G=(0,we.A)({},n,{defaultValue:r,disabled:s,emptyIcon:a,emptyLabelText:l,emptyValueFocused:q,focusVisible:z,getLabelText:c,icon:u,IconContainerComponent:p,max:h,precision:w,readOnly:v,size:k}),K=(e=>{const{classes:t,size:n,readOnly:i,disabled:o,emptyValueFocused:r,focusVisible:s}=e;return cn({root:["root",`size${mn(n)}`,o&&"disabled",s&&"focusVisible",i&&"readOnly"],label:["label","pristine"],labelEmptyValue:[r&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]},sd,t)})(G);return(0,ke.jsxs)(ud,(0,we.A)({ref:F,onMouseMove:e=>{y&&y(e);const t=N.current,{right:n,left:i,width:o}=t.getBoundingClientRect();let r;r=T?(n-e.clientX)/o:(e.clientX-i)/o;let s=dd(h*r+w/2,w);s=(0,td.A)(s,w,h),M((e=>e.hover===s&&e.focus===s?e:{hover:s,focus:s})),O(!1),f&&E!==s&&f(e,s)},onMouseLeave:e=>{b&&b(e);M({hover:-1,focus:-1}),f&&-1!==E&&f(e,-1)},className:_t(K.root,o,v&&"MuiRating-readOnly"),ownerState:G,role:v?"img":null,"aria-label":v?c(P):null},x,{children:[Array.from(new Array(h)).map(((e,t)=>{const n=t+1,i={classes:K,disabled:s,emptyIcon:a,focus:D,getLabelText:c,highlightSelectedOnly:d,hover:E,icon:u,IconContainerComponent:p,name:A,onBlur:U,onChange:V,onClick:H,onFocus:W,ratingValue:P,ratingValueRounded:I,readOnly:v,ownerState:G},o=n===Math.ceil(P)&&(-1!==E||-1!==D);if(w<1){const e=Array.from(new Array(1/w));return(0,ke.jsx)(gd,{className:_t(K.decimal,o&&K.iconActive),ownerState:G,iconActive:o,children:e.map(((t,o)=>{const r=dd(n-1+(o+1)*w,w);return(0,ke.jsx)(fd,(0,we.A)({},i,{isActive:!1,itemValue:r,labelProps:{style:e.length-1===o?{}:{width:r===P?(o+1)*w*100+"%":"0%",overflow:"hidden",position:"absolute"}}}),r)}))},n)}return(0,ke.jsx)(fd,(0,we.A)({},i,{isActive:o,itemValue:n}),n)})),!v&&!s&&(0,ke.jsxs)(pd,{className:_t(K.label,K.labelEmptyValue),ownerState:G,children:[(0,ke.jsx)("input",{className:K.visuallyHidden,value:"",id:`${A}-empty`,type:"radio",name:A,checked:null==I,onFocus:()=>$(!0),onBlur:()=>$(!1),onChange:V}),(0,ke.jsx)("span",{className:K.visuallyHidden,children:l})]})]}))})),kd=vd;let _d;function xd(){if(_d)return _d;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),_d="reverse",e.scrollLeft>0?_d="default":(e.scrollLeft=1,0===e.scrollLeft&&(_d="negative")),document.body.removeChild(e),_d}function Ad(e,t){const n=e.scrollLeft;if("rtl"!==t)return n;switch(xd()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function Cd(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}const Sd=["onChange"],Id={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};const Td=vo((0,ke.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Ed=vo((0,ke.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Dd(e){return Et("MuiTabScrollButton",e)}const Md=Dt("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Pd=["className","slots","slotProps","direction","orientation","disabled"],Rd=hn(bi,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})((e=>{let{ownerState:t}=e;return(0,we.A)({width:40,flexShrink:0,opacity:.8,[`&.${Md.disabled}`]:{opacity:0}},"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:`rotate(${t.isRtl?-90:90}deg)`}})})),Bd=i.forwardRef((function(e,t){var n,i;const o=Ce({props:e,name:"MuiTabScrollButton"}),{className:r,slots:s={},slotProps:a={},direction:l}=o,c=(0,Re.A)(o,Pd),d=Vt(),u=(0,we.A)({isRtl:d},o),p=(e=>{const{classes:t,orientation:n,disabled:i}=e;return cn({root:["root",n,i&&"disabled"]},Dd,t)})(u),h=null!=(n=s.StartScrollButtonIcon)?n:Td,g=null!=(i=s.EndScrollButtonIcon)?i:Ed,m=xs({elementType:h,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:u}),f=xs({elementType:g,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:u});return(0,ke.jsx)(Rd,(0,we.A)({component:"div",className:_t(p.root,r),ref:t,role:null,ownerState:u,tabIndex:null},c,{children:"left"===l?(0,ke.jsx)(h,(0,we.A)({},m)):(0,ke.jsx)(g,(0,we.A)({},f))}))}));function jd(e){return Et("MuiTabs",e)}const Ld=Dt("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),zd=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],Od=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,Nd=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Fd=(e,t,n)=>{let i=!1,o=n(e,t);for(;o;){if(o===e.firstChild){if(i)return;i=!0}const t=o.disabled||"true"===o.getAttribute("aria-disabled");if(o.hasAttribute("tabindex")&&!t)return void o.focus();o=n(e,o)}},Vd=hn("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Ld.scrollButtons}`]:t.scrollButtons},{[`& .${Ld.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})((e=>{let{ownerState:t,theme:n}=e;return(0,we.A)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&{[`& .${Ld.scrollButtons}`]:{[n.breakpoints.down("sm")]:{display:"none"}}})})),Hd=hn("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((e=>{let{ownerState:t}=e;return(0,we.A)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),Wd=hn("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((e=>{let{ownerState:t}=e;return(0,we.A)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),Ud=hn("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})((e=>{let{ownerState:t,theme:n}=e;return(0,we.A)({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),qd=hn((function(e){const{onChange:t}=e,n=(0,Re.A)(e,Sd),o=i.useRef(),r=i.useRef(null),s=()=>{o.current=r.current.offsetHeight-r.current.clientHeight};return cr((()=>{const e=Os((()=>{const e=o.current;s(),e!==o.current&&t(o.current)})),n=Ns(r.current);return n.addEventListener("resize",e),()=>{e.clear(),n.removeEventListener("resize",e)}}),[t]),i.useEffect((()=>{s(),t(o.current)}),[t]),(0,ke.jsx)("div",(0,we.A)({style:Id},n,{ref:r}))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),$d={};const Gd=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiTabs"}),o=Ei(),r=Vt(),{"aria-label":s,"aria-labelledby":a,action:l,centered:c=!1,children:d,className:u,component:p="div",allowScrollButtonsMobile:h=!1,indicatorColor:g="primary",onChange:m,orientation:f="horizontal",ScrollButtonComponent:b=Bd,scrollButtons:y="auto",selectionFollowsFocus:w,slots:v={},slotProps:k={},TabIndicatorProps:_={},TabScrollButtonProps:x={},textColor:A="primary",value:C,variant:S="standard",visibleScrollbar:I=!1}=n,T=(0,Re.A)(n,zd),E="scrollable"===S,D="vertical"===f,M=D?"scrollTop":"scrollLeft",P=D?"top":"left",R=D?"bottom":"right",B=D?"clientHeight":"clientWidth",j=D?"height":"width",L=(0,we.A)({},n,{component:p,allowScrollButtonsMobile:h,indicatorColor:g,orientation:f,vertical:D,scrollButtons:y,textColor:A,variant:S,visibleScrollbar:I,fixed:!E,hideScrollbar:E&&!I,scrollableX:E&&!D,scrollableY:E&&D,centered:c&&!E,scrollButtonsHideMobile:!h}),z=(e=>{const{vertical:t,fixed:n,hideScrollbar:i,scrollableX:o,scrollableY:r,centered:s,scrollButtonsHideMobile:a,classes:l}=e;return cn({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",i&&"hideScrollbar",o&&"scrollableX",r&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",a&&"scrollButtonsHideMobile"],scrollableX:[o&&"scrollableX"],hideScrollbar:[i&&"hideScrollbar"]},jd,l)})(L),O=xs({elementType:v.StartScrollButtonIcon,externalSlotProps:k.startScrollButtonIcon,ownerState:L}),N=xs({elementType:v.EndScrollButtonIcon,externalSlotProps:k.endScrollButtonIcon,ownerState:L});const[F,V]=i.useState(!1),[H,W]=i.useState($d),[U,q]=i.useState(!1),[$,G]=i.useState(!1),[K,Y]=i.useState(!1),[Q,Z]=i.useState({overflow:"hidden",scrollbarWidth:0}),X=new Map,J=i.useRef(null),ee=i.useRef(null),te=()=>{const e=J.current;let t,n;if(e){const n=e.getBoundingClientRect();t={clientWidth:e.clientWidth,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop,scrollLeftNormalized:Ad(e,r?"rtl":"ltr"),scrollWidth:e.scrollWidth,top:n.top,bottom:n.bottom,left:n.left,right:n.right}}if(e&&!1!==C){const e=ee.current.children;if(e.length>0){const t=e[X.get(C)];0,n=t?t.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:n}},ne=In((()=>{const{tabsMeta:e,tabMeta:t}=te();let n,i=0;if(D)n="top",t&&e&&(i=t.top-e.top+e.scrollTop);else if(n=r?"right":"left",t&&e){const o=r?e.scrollLeftNormalized+e.clientWidth-e.scrollWidth:e.scrollLeft;i=(r?-1:1)*(t[n]-e[n]+o)}const o={[n]:i,[j]:t?t[j]:0};if(isNaN(H[n])||isNaN(H[j]))W(o);else{const e=Math.abs(H[n]-o[n]),t=Math.abs(H[j]-o[j]);(e>=1||t>=1)&&W(o)}})),ie=function(e){let{animation:t=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const{ease:r=Cd,duration:s=300}=i;let a=null;const l=t[e];let c=!1;const d=()=>{c=!0},u=i=>{if(c)return void o(new Error("Animation cancelled"));null===a&&(a=i);const d=Math.min(1,(i-a)/s);t[e]=r(d)*(n-l)+l,d>=1?requestAnimationFrame((()=>{o(null)})):requestAnimationFrame(u)};l===n?o(new Error("Element already at target position")):requestAnimationFrame(u)}(M,J.current,e,{duration:o.transitions.duration.standard}):J.current[M]=e},oe=e=>{let t=J.current[M];D?t+=e:(t+=e*(r?-1:1),t*=r&&"reverse"===xd()?-1:1),ie(t)},re=()=>{const e=J.current[B];let t=0;const n=Array.from(ee.current.children);for(let i=0;i<n.length;i+=1){const o=n[i];if(t+o[B]>e){0===i&&(t=e);break}t+=o[B]}return t},se=()=>{oe(-1*re())},ae=()=>{oe(re())},le=i.useCallback((e=>{Z({overflow:null,scrollbarWidth:e})}),[]),ce=In((e=>{const{tabsMeta:t,tabMeta:n}=te();if(n&&t)if(n[P]<t[P]){const i=t[M]+(n[P]-t[P]);ie(i,{animation:e})}else if(n[R]>t[R]){const i=t[M]+(n[R]-t[R]);ie(i,{animation:e})}})),de=In((()=>{E&&!1!==y&&Y(!K)}));i.useEffect((()=>{const e=Os((()=>{J.current&&ne()}));let t;const n=n=>{n.forEach((e=>{e.removedNodes.forEach((e=>{var n;null==(n=t)||n.unobserve(e)})),e.addedNodes.forEach((e=>{var n;null==(n=t)||n.observe(e)}))})),e(),de()},i=Ns(J.current);let o;return i.addEventListener("resize",e),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(e),Array.from(ee.current.children).forEach((e=>{t.observe(e)}))),"undefined"!==typeof MutationObserver&&(o=new MutationObserver(n),o.observe(ee.current,{childList:!0})),()=>{var n,r;e.clear(),i.removeEventListener("resize",e),null==(n=o)||n.disconnect(),null==(r=t)||r.disconnect()}}),[ne,de]),i.useEffect((()=>{const e=Array.from(ee.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&E&&!1!==y){const n=e[0],i=e[t-1],o={root:J.current,threshold:.99},r=new IntersectionObserver((e=>{q(!e[0].isIntersecting)}),o);r.observe(n);const s=new IntersectionObserver((e=>{G(!e[0].isIntersecting)}),o);return s.observe(i),()=>{r.disconnect(),s.disconnect()}}}),[E,y,K,null==d?void 0:d.length]),i.useEffect((()=>{V(!0)}),[]),i.useEffect((()=>{ne()})),i.useEffect((()=>{ce($d!==H)}),[ce,H]),i.useImperativeHandle(l,(()=>({updateIndicator:ne,updateScrollButtons:de})),[ne,de]);const ue=(0,ke.jsx)(Ud,(0,we.A)({},_,{className:_t(z.indicator,_.className),ownerState:L,style:(0,we.A)({},H,_.style)}));let pe=0;const he=i.Children.map(d,(e=>{if(!i.isValidElement(e))return null;const t=void 0===e.props.value?pe:e.props.value;X.set(t,pe);const n=t===C;return pe+=1,i.cloneElement(e,(0,we.A)({fullWidth:"fullWidth"===S,indicator:n&&!F&&ue,selected:n,selectionFollowsFocus:w,onChange:m,textColor:A,value:t},1!==pe||!1!==C||e.props.tabIndex?{}:{tabIndex:0}))})),ge=(()=>{const e={};e.scrollbarSizeListener=E?(0,ke.jsx)(qd,{onChange:le,className:_t(z.scrollableX,z.hideScrollbar)}):null;const t=E&&("auto"===y&&(U||$)||!0===y);return e.scrollButtonStart=t?(0,ke.jsx)(b,(0,we.A)({slots:{StartScrollButtonIcon:v.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:O},orientation:f,direction:r?"right":"left",onClick:se,disabled:!U},x,{className:_t(z.scrollButtons,x.className)})):null,e.scrollButtonEnd=t?(0,ke.jsx)(b,(0,we.A)({slots:{EndScrollButtonIcon:v.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:N},orientation:f,direction:r?"left":"right",onClick:ae,disabled:!$},x,{className:_t(z.scrollButtons,x.className)})):null,e})();return(0,ke.jsxs)(Vd,(0,we.A)({className:_t(z.root,u),ownerState:L,ref:t,as:p},T,{children:[ge.scrollButtonStart,ge.scrollbarSizeListener,(0,ke.jsxs)(Hd,{className:z.scroller,ownerState:L,style:{overflow:Q.overflow,[D?"margin"+(r?"Left":"Right"):"marginBottom"]:I?void 0:-Q.scrollbarWidth},ref:J,children:[(0,ke.jsx)(Wd,{"aria-label":s,"aria-labelledby":a,"aria-orientation":"vertical"===f?"vertical":null,className:z.flexContainer,ownerState:L,onKeyDown:e=>{const t=ee.current,n=fs(t).activeElement;if("tab"!==n.getAttribute("role"))return;let i="horizontal"===f?"ArrowLeft":"ArrowUp",o="horizontal"===f?"ArrowRight":"ArrowDown";switch("horizontal"===f&&r&&(i="ArrowRight",o="ArrowLeft"),e.key){case i:e.preventDefault(),Fd(t,n,Nd);break;case o:e.preventDefault(),Fd(t,n,Od);break;case"Home":e.preventDefault(),Fd(t,null,Od);break;case"End":e.preventDefault(),Fd(t,null,Nd)}},ref:ee,role:"tablist",children:he}),F&&ue]}),ge.scrollButtonEnd]}))})),Kd=Gd;function Yd(e){return Et("MuiTab",e)}const Qd=Dt("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Zd=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Xd=hn(bi,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${mn(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${Qd.iconWrapper}`]:t.iconWrapper}]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({},t.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},n.label&&{flexDirection:"top"===n.iconPosition||"bottom"===n.iconPosition?"column":"row"},{lineHeight:1.25},n.icon&&n.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${Qd.iconWrapper}`]:(0,we.A)({},"top"===n.iconPosition&&{marginBottom:6},"bottom"===n.iconPosition&&{marginTop:6},"start"===n.iconPosition&&{marginRight:t.spacing(1)},"end"===n.iconPosition&&{marginLeft:t.spacing(1)})},"inherit"===n.textColor&&{color:"inherit",opacity:.6,[`&.${Qd.selected}`]:{opacity:1},[`&.${Qd.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"primary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${Qd.selected}`]:{color:(t.vars||t).palette.primary.main},[`&.${Qd.disabled}`]:{color:(t.vars||t).palette.text.disabled}},"secondary"===n.textColor&&{color:(t.vars||t).palette.text.secondary,[`&.${Qd.selected}`]:{color:(t.vars||t).palette.secondary.main},[`&.${Qd.disabled}`]:{color:(t.vars||t).palette.text.disabled}},n.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},n.wrapped&&{fontSize:t.typography.pxToRem(12)})})),Jd=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiTab"}),{className:o,disabled:r=!1,disableFocusRipple:s=!1,fullWidth:a,icon:l,iconPosition:c="top",indicator:d,label:u,onChange:p,onClick:h,onFocus:g,selected:m,selectionFollowsFocus:f,textColor:b="inherit",value:y,wrapped:w=!1}=n,v=(0,Re.A)(n,Zd),k=(0,we.A)({},n,{disabled:r,disableFocusRipple:s,selected:m,icon:!!l,iconPosition:c,label:!!u,fullWidth:a,textColor:b,wrapped:w}),_=(e=>{const{classes:t,textColor:n,fullWidth:i,wrapped:o,icon:r,label:s,selected:a,disabled:l}=e;return cn({root:["root",r&&s&&"labelIcon",`textColor${mn(n)}`,i&&"fullWidth",o&&"wrapped",a&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]},Yd,t)})(k),x=l&&u&&i.isValidElement(l)?i.cloneElement(l,{className:_t(_.iconWrapper,l.props.className)}):l;return(0,ke.jsxs)(Xd,(0,we.A)({focusRipple:!s,className:_t(_.root,o),ref:t,role:"tab","aria-selected":m,disabled:r,onClick:e=>{!m&&p&&p(e,y),h&&h(e)},onFocus:e=>{f&&!m&&p&&p(e,y),g&&g(e)},ownerState:k,tabIndex:m?0:-1},v,{children:["top"===c||"start"===c?(0,ke.jsxs)(i.Fragment,{children:[x,u]}):(0,ke.jsxs)(i.Fragment,{children:[u,x]}),d]}))}));function eu(e){return Et("MuiListItem",e)}const tu=Dt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);const nu=Dt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function iu(e){return Et("MuiListItemSecondaryAction",e)}Dt("MuiListItemSecondaryAction",["root","disableGutters"]);const ou=["className"],ru=hn("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})((e=>{let{ownerState:t}=e;return(0,we.A)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),su=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiListItemSecondaryAction"}),{className:o}=n,r=(0,Re.A)(n,ou),s=i.useContext(As),a=(0,we.A)({},n,{disableGutters:s.disableGutters}),l=(e=>{const{disableGutters:t,classes:n}=e;return cn({root:["root",t&&"disableGutters"]},iu,n)})(a);return(0,ke.jsx)(ru,(0,we.A)({className:_t(l.root,o),ownerState:a,ref:t},r))}));su.muiName="ListItemSecondaryAction";const au=su,lu=["className"],cu=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],du=hn("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!n.disablePadding&&(0,we.A)({paddingTop:8,paddingBottom:8},n.dense&&{paddingTop:4,paddingBottom:4},!n.disableGutters&&{paddingLeft:16,paddingRight:16},!!n.secondaryAction&&{paddingRight:48}),!!n.secondaryAction&&{[`& > .${nu.root}`]:{paddingRight:48}},{[`&.${tu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${tu.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Ne.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${tu.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:(0,Ne.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${tu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},"flex-start"===n.alignItems&&{alignItems:"flex-start"},n.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},n.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${tu.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Ne.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Ne.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}}},n.hasSecondaryAction&&{paddingRight:48})})),uu=hn("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),pu=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiListItem"}),{alignItems:o="center",autoFocus:r=!1,button:s=!1,children:a,className:l,component:c,components:d={},componentsProps:u={},ContainerComponent:p="li",ContainerProps:{className:h}={},dense:g=!1,disabled:m=!1,disableGutters:f=!1,disablePadding:b=!1,divider:y=!1,focusVisibleClassName:w,secondaryAction:v,selected:k=!1,slotProps:_={},slots:x={}}=n,A=(0,Re.A)(n.ContainerProps,lu),C=(0,Re.A)(n,cu),S=i.useContext(As),I=i.useMemo((()=>({dense:g||S.dense||!1,alignItems:o,disableGutters:f})),[o,S.dense,g,f]),T=i.useRef(null);cr((()=>{r&&T.current&&T.current.focus()}),[r]);const E=i.Children.toArray(a),D=E.length&&os(E[E.length-1],["ListItemSecondaryAction"]),M=(0,we.A)({},n,{alignItems:o,autoFocus:r,button:s,dense:I.dense,disabled:m,disableGutters:f,disablePadding:b,divider:y,hasSecondaryAction:D,selected:k}),P=(e=>{const{alignItems:t,button:n,classes:i,dense:o,disabled:r,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:c,selected:d}=e;return cn({root:["root",o&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",r&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",c&&"secondaryAction",d&&"selected"],container:["container"]},eu,i)})(M),R=An(T,t),B=x.root||d.Root||du,j=_.root||u.root||{},L=(0,we.A)({className:_t(P.root,j.className,l),disabled:m},C);let z=c||"li";return s&&(L.component=c||"div",L.focusVisibleClassName=_t(tu.focusVisible,w),z=bi),D?(z=L.component||c?z:"div","li"===p&&("li"===z?z="div":"li"===L.component&&(L.component="div")),(0,ke.jsx)(As.Provider,{value:I,children:(0,ke.jsxs)(uu,(0,we.A)({as:p,className:_t(P.container,h),ref:R,ownerState:M},A,{children:[(0,ke.jsx)(B,(0,we.A)({},j,!Qo(B)&&{as:z,ownerState:(0,we.A)({},M,j.ownerState)},L,{children:E})),E.pop()]}))})):(0,ke.jsx)(As.Provider,{value:I,children:(0,ke.jsxs)(B,(0,we.A)({},j,{as:z,ref:R},!Qo(B)&&{ownerState:(0,we.A)({},M,j.ownerState)},L,{children:[E,v&&(0,ke.jsx)(au,{children:v})]}))})})),hu=["className"],gu=hn("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),mu=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiListItemIcon"}),{className:o}=n,r=(0,Re.A)(n,hu),s=i.useContext(As),a=(0,we.A)({},n,{alignItems:s.alignItems}),l=(e=>{const{alignItems:t,classes:n}=e;return cn({root:["root","flex-start"===t&&"alignItemsFlexStart"]},Nl,n)})(a);return(0,ke.jsx)(gu,(0,we.A)({className:_t(l.root,o),ownerState:a,ref:t},r))})),fu=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],bu=hn("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Hl.primary}`]:t.primary},{[`& .${Hl.secondary}`]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((e=>{let{ownerState:t}=e;return(0,we.A)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),yu=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiListItemText"}),{children:o,className:r,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:d,secondaryTypographyProps:u}=n,p=(0,Re.A)(n,fu),{dense:h}=i.useContext(As);let g=null!=l?l:o,m=d;const f=(0,we.A)({},n,{disableTypography:s,inset:a,primary:!!g,secondary:!!m,dense:h}),b=(e=>{const{classes:t,inset:n,primary:i,secondary:o,dense:r}=e;return cn({root:["root",n&&"inset",r&&"dense",i&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},Vl,t)})(f);return null==g||g.type===kn||s||(g=(0,ke.jsx)(kn,(0,we.A)({variant:h?"body2":"body1",className:b.primary,component:null!=c&&c.variant?void 0:"span",display:"block"},c,{children:g}))),null==m||m.type===kn||s||(m=(0,ke.jsx)(kn,(0,we.A)({variant:"body2",className:b.secondary,color:"text.secondary",display:"block"},u,{children:m}))),(0,ke.jsxs)(bu,(0,we.A)({className:_t(b.root,r),ownerState:f,ref:t},p,{children:[g,m]}))}));function wu(e){return Et("MuiCollapse",e)}Dt("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const vu=["addEndListener","children","className","collapsedSize","component","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","orientation","style","timeout","TransitionComponent"],ku=hn("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.orientation],"entered"===n.state&&t.entered,"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&t.hidden]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({height:0,overflow:"hidden",transition:t.transitions.create("height")},"horizontal"===n.orientation&&{height:"auto",width:0,transition:t.transitions.create("width")},"entered"===n.state&&(0,we.A)({height:"auto",overflow:"visible"},"horizontal"===n.orientation&&{width:"auto"}),"exited"===n.state&&!n.in&&"0px"===n.collapsedSize&&{visibility:"hidden"})})),_u=hn("div",{name:"MuiCollapse",slot:"Wrapper",overridesResolver:(e,t)=>t.wrapper})((e=>{let{ownerState:t}=e;return(0,we.A)({display:"flex",width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),xu=hn("div",{name:"MuiCollapse",slot:"WrapperInner",overridesResolver:(e,t)=>t.wrapperInner})((e=>{let{ownerState:t}=e;return(0,we.A)({width:"100%"},"horizontal"===t.orientation&&{width:"auto",height:"100%"})})),Au=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiCollapse"}),{addEndListener:o,children:r,className:s,collapsedSize:a="0px",component:l,easing:c,in:d,onEnter:u,onEntered:p,onEntering:h,onExit:g,onExited:m,onExiting:f,orientation:b="vertical",style:y,timeout:w=at.standard,TransitionComponent:v=Ks}=n,k=(0,Re.A)(n,vu),_=(0,we.A)({},n,{orientation:b,collapsedSize:a}),x=(e=>{const{orientation:t,classes:n}=e;return cn({root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]},wu,n)})(_),A=Ei(),C=Mn(),S=i.useRef(null),I=i.useRef(),T="number"===typeof a?`${a}px`:a,E="horizontal"===b,D=E?"width":"height",M=i.useRef(null),P=An(t,M),R=e=>t=>{if(e){const n=M.current;void 0===t?e(n):e(n,t)}},B=()=>S.current?S.current[E?"clientWidth":"clientHeight"]:0,j=R(((e,t)=>{S.current&&E&&(S.current.style.position="absolute"),e.style[D]=T,u&&u(e,t)})),L=R(((e,t)=>{const n=B();S.current&&E&&(S.current.style.position="");const{duration:i,easing:o}=Qs({style:y,timeout:w,easing:c},{mode:"enter"});if("auto"===w){const t=A.transitions.getAutoHeightDuration(n);e.style.transitionDuration=`${t}ms`,I.current=t}else e.style.transitionDuration="string"===typeof i?i:`${i}ms`;e.style[D]=`${n}px`,e.style.transitionTimingFunction=o,h&&h(e,t)})),z=R(((e,t)=>{e.style[D]="auto",p&&p(e,t)})),O=R((e=>{e.style[D]=`${B()}px`,g&&g(e)})),N=R(m),F=R((e=>{const t=B(),{duration:n,easing:i}=Qs({style:y,timeout:w,easing:c},{mode:"exit"});if("auto"===w){const n=A.transitions.getAutoHeightDuration(t);e.style.transitionDuration=`${n}ms`,I.current=n}else e.style.transitionDuration="string"===typeof n?n:`${n}ms`;e.style[D]=T,e.style.transitionTimingFunction=i,f&&f(e)}));return(0,ke.jsx)(v,(0,we.A)({in:d,onEnter:j,onEntered:z,onEntering:L,onExit:O,onExited:N,onExiting:F,addEndListener:e=>{"auto"===w&&C.start(I.current||0,e),o&&o(M.current,e)},nodeRef:M,timeout:"auto"===w?null:w},k,{children:(e,t)=>(0,ke.jsx)(ku,(0,we.A)({as:l,className:_t(x.root,s,{entered:x.entered,exited:!d&&"0px"===T&&x.hidden}[e]),style:(0,we.A)({[E?"minWidth":"minHeight"]:T},y),ref:P},t,{ownerState:(0,we.A)({},_,{state:e}),children:(0,ke.jsx)(_u,{ownerState:(0,we.A)({},_,{state:e}),className:x.wrapper,ref:S,children:(0,ke.jsx)(xu,{ownerState:(0,we.A)({},_,{state:e}),className:x.wrapperInner,children:r})})}))}))}));Au.muiSupportAuto=!0;const Cu=Au;const Su=i.createContext({}),Iu=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],Tu=["component","slots","slotProps"],Eu=["component"];function Du(e,t){const{className:n,elementType:i,ownerState:o,externalForwardedProps:r,getSlotOwnerState:s,internalForwardedProps:a}=t,l=(0,Re.A)(t,Iu),{component:c,slots:d={[e]:void 0},slotProps:u={[e]:void 0}}=r,p=(0,Re.A)(r,Tu),h=d[e]||i,g=ks(u[e],o),m=vs((0,we.A)({className:n},l,{externalForwardedProps:"root"===e?p:void 0,externalSlotProps:g})),{props:{component:f},internalRef:b}=m,y=(0,Re.A)(m.props,Eu),w=xn(b,null==g?void 0:g.ref,t.ref),v=s?s(y):{},k=(0,we.A)({},o,v),_="root"===e?f||c:f,x=bs(h,(0,we.A)({},"root"===e&&!c&&!d[e]&&a,"root"!==e&&!d[e]&&a,y,_&&{as:_},{ref:w}),k);return Object.keys(v).forEach((e=>{delete x[e]})),[h,x]}function Mu(e){return Et("MuiAccordion",e)}const Pu=Dt("MuiAccordion",["root","rounded","expanded","disabled","gutters","region"]),Ru=["children","className","defaultExpanded","disabled","disableGutters","expanded","onChange","square","slots","slotProps","TransitionComponent","TransitionProps"],Bu=hn($i,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Pu.region}`]:t.region},t.root,!n.square&&t.rounded,!n.disableGutters&&t.gutters]}})((e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{position:"relative",transition:t.transitions.create(["margin"],n),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(t.vars||t).palette.divider,transition:t.transitions.create(["opacity","background-color"],n)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${Pu.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${Pu.disabled}`]:{backgroundColor:(t.vars||t).palette.action.disabledBackground}}}),(e=>{let{theme:t}=e;return{variants:[{props:e=>!e.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(t.vars||t).shape.borderRadius,borderBottomRightRadius:(t.vars||t).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:e=>!e.disableGutters,style:{[`&.${Pu.expanded}`]:{margin:"16px 0"}}}]}})),ju=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiAccordion"}),{children:o,className:r,defaultExpanded:s=!1,disabled:a=!1,disableGutters:l=!1,expanded:c,onChange:d,square:u=!1,slots:p={},slotProps:h={},TransitionComponent:g,TransitionProps:m}=n,f=(0,Re.A)(n,Ru),[b,y]=al({controlled:c,default:s,name:"Accordion",state:"expanded"}),w=i.useCallback((e=>{y(!b),d&&d(e,!b)}),[b,d,y]),[v,...k]=i.Children.toArray(o),_=i.useMemo((()=>({expanded:b,disabled:a,disableGutters:l,toggle:w})),[b,a,l,w]),x=(0,we.A)({},n,{square:u,disabled:a,disableGutters:l,expanded:b}),A=(e=>{const{classes:t,square:n,expanded:i,disabled:o,disableGutters:r}=e;return cn({root:["root",!n&&"rounded",i&&"expanded",o&&"disabled",!r&&"gutters"],region:["region"]},Mu,t)})(x),C=(0,we.A)({transition:g},p),S=(0,we.A)({transition:m},h),[I,T]=Du("transition",{elementType:Cu,externalForwardedProps:{slots:C,slotProps:S},ownerState:x});return(0,ke.jsxs)(Bu,(0,we.A)({className:_t(A.root,r),ref:t,ownerState:x,square:u},f,{children:[(0,ke.jsx)(Su.Provider,{value:_,children:v}),(0,ke.jsx)(I,(0,we.A)({in:b,timeout:"auto"},T,{children:(0,ke.jsx)("div",{"aria-labelledby":v.props.id,id:v.props["aria-controls"],role:"region",className:A.region,children:k})}))]}))}));function Lu(e){return Et("MuiAccordionSummary",e)}const zu=Dt("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),Ou=["children","className","expandIcon","focusVisibleClassName","onClick"],Nu=hn(bi,{name:"MuiAccordionSummary",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const n={duration:t.transitions.duration.shortest};return{display:"flex",minHeight:48,padding:t.spacing(0,2),transition:t.transitions.create(["min-height","background-color"],n),[`&.${zu.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${zu.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`&:hover:not(.${zu.disabled})`]:{cursor:"pointer"},variants:[{props:e=>!e.disableGutters,style:{[`&.${zu.expanded}`]:{minHeight:64}}}]}})),Fu=hn("div",{name:"MuiAccordionSummary",slot:"Content",overridesResolver:(e,t)=>t.content})((e=>{let{theme:t}=e;return{display:"flex",flexGrow:1,margin:"12px 0",variants:[{props:e=>!e.disableGutters,style:{transition:t.transitions.create(["margin"],{duration:t.transitions.duration.shortest}),[`&.${zu.expanded}`]:{margin:"20px 0"}}}]}})),Vu=hn("div",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper",overridesResolver:(e,t)=>t.expandIconWrapper})((e=>{let{theme:t}=e;return{display:"flex",color:(t.vars||t).palette.action.active,transform:"rotate(0deg)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shortest}),[`&.${zu.expanded}`]:{transform:"rotate(180deg)"}}})),Hu=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiAccordionSummary"}),{children:o,className:r,expandIcon:s,focusVisibleClassName:a,onClick:l}=n,c=(0,Re.A)(n,Ou),{disabled:d=!1,disableGutters:u,expanded:p,toggle:h}=i.useContext(Su),g=(0,we.A)({},n,{expanded:p,disabled:d,disableGutters:u}),m=(e=>{const{classes:t,expanded:n,disabled:i,disableGutters:o}=e;return cn({root:["root",n&&"expanded",i&&"disabled",!o&&"gutters"],focusVisible:["focusVisible"],content:["content",n&&"expanded",!o&&"contentGutters"],expandIconWrapper:["expandIconWrapper",n&&"expanded"]},Lu,t)})(g);return(0,ke.jsxs)(Nu,(0,we.A)({focusRipple:!1,disableRipple:!0,disabled:d,component:"div","aria-expanded":p,className:_t(m.root,r),focusVisibleClassName:_t(m.focusVisible,a),onClick:e=>{h&&h(e),l&&l(e)},ref:t,ownerState:g},c,{children:[(0,ke.jsx)(Fu,{className:m.content,ownerState:g,children:o}),s&&(0,ke.jsx)(Vu,{className:m.expandIconWrapper,ownerState:g,children:s})]}))}));function Wu(e){return Et("MuiAccordionDetails",e)}Dt("MuiAccordionDetails",["root"]);const Uu=["className"],qu=hn("div",{name:"MuiAccordionDetails",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;return{padding:t.spacing(1,2,2)}})),$u=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiAccordionDetails"}),{className:i}=n,o=(0,Re.A)(n,Uu),r=n,s=(e=>{const{classes:t}=e;return cn({root:["root"]},Wu,t)})(r);return(0,ke.jsx)(qu,(0,we.A)({className:_t(s.root,i),ref:t,ownerState:r},o))}));const Gu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:o,open:r,resumeHideDuration:s}=e,a=Mn();i.useEffect((()=>{if(r)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){e.defaultPrevented||"Escape"!==e.key&&"Esc"!==e.key||null==o||o(e,"escapeKeyDown")}}),[r,o]);const l=Sn(((e,t)=>{null==o||o(e,t)})),c=Sn((e=>{o&&null!=e&&a.start(e,(()=>{l(null,"timeout")}))}));i.useEffect((()=>(r&&c(t),a.clear)),[r,t,c,a]);const d=a.clear,u=i.useCallback((()=>{null!=t&&c(null!=s?s:.5*t)}),[t,s,c]),p=e=>t=>{const n=e.onFocus;null==n||n(t),d()},h=e=>t=>{const n=e.onMouseEnter;null==n||n(t),d()},g=e=>t=>{const n=e.onMouseLeave;null==n||n(t),u()};return i.useEffect((()=>{if(!n&&r)return window.addEventListener("focus",u),window.addEventListener("blur",d),()=>{window.removeEventListener("focus",u),window.removeEventListener("blur",d)}}),[n,r,u,d]),{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,we.A)({},ys(e),ys(t));return(0,we.A)({role:"presentation"},t,n,{onBlur:(i=n,e=>{const t=i.onBlur;null==t||t(e),u()}),onFocus:p(n),onMouseEnter:h(n),onMouseLeave:g(n)});var i},onClickAway:e=>{null==o||o(e,"clickaway")}}};function Ku(e){return e.substring(2).toLowerCase()}function Yu(e){const{children:t,disableReactTree:n=!1,mouseEvent:o="onClick",onClickAway:r,touchEvent:s="onTouchEnd"}=e,a=i.useRef(!1),l=i.useRef(null),c=i.useRef(!1),d=i.useRef(!1);i.useEffect((()=>(setTimeout((()=>{c.current=!0}),0),()=>{c.current=!1})),[]);const u=xn(ms(t),l),p=Sn((e=>{const t=d.current;d.current=!1;const i=Zo(l.current);if(!c.current||!l.current||"clientX"in e&&function(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}(e,i))return;if(a.current)return void(a.current=!1);let o;o=e.composedPath?e.composedPath().indexOf(l.current)>-1:!i.documentElement.contains(e.target)||l.current.contains(e.target),o||!n&&t||r(e)})),h=e=>n=>{d.current=!0;const i=t.props[e];i&&i(n)},g={ref:u};return!1!==s&&(g[s]=h(s)),i.useEffect((()=>{if(!1!==s){const e=Ku(s),t=Zo(l.current),n=()=>{a.current=!0};return t.addEventListener(e,p),t.addEventListener("touchmove",n),()=>{t.removeEventListener(e,p),t.removeEventListener("touchmove",n)}}}),[p,s]),!1!==o&&(g[o]=h(o)),i.useEffect((()=>{if(!1!==o){const e=Ku(o),t=Zo(l.current);return t.addEventListener(e,p),()=>{t.removeEventListener(e,p)}}}),[p,o]),(0,ke.jsx)(i.Fragment,{children:i.cloneElement(t,g)})}function Qu(e){return Et("MuiSnackbarContent",e)}Dt("MuiSnackbarContent",["root","message","action"]);const Zu=["action","className","message","role"],Xu=hn($i,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?.8:.98,i=(0,Ne.tL)(t.palette.background.default,n);return(0,we.A)({},t.typography.body2,{color:t.vars?t.vars.palette.SnackbarContent.color:t.palette.getContrastText(i),backgroundColor:t.vars?t.vars.palette.SnackbarContent.bg:i,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,flexGrow:1,[t.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})})),Ju=hn("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),ep=hn("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),tp=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiSnackbarContent"}),{action:i,className:o,message:r,role:s="alert"}=n,a=(0,Re.A)(n,Zu),l=n,c=(e=>{const{classes:t}=e;return cn({root:["root"],action:["action"],message:["message"]},Qu,t)})(l);return(0,ke.jsxs)(Xu,(0,we.A)({role:s,square:!0,elevation:6,className:_t(c.root,o),ownerState:l,ref:t},a,{children:[(0,ke.jsx)(Ju,{className:c.message,ownerState:l,children:r}),i?(0,ke.jsx)(ep,{className:c.action,ownerState:l,children:i}):null]}))}));function np(e){return Et("MuiSnackbar",e)}Dt("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const ip=["onEnter","onExited"],op=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],rp=hn("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${mn(n.anchorOrigin.vertical)}${mn(n.anchorOrigin.horizontal)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({zIndex:(t.vars||t).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},"top"===n.anchorOrigin.vertical?{top:8}:{bottom:8},"left"===n.anchorOrigin.horizontal&&{justifyContent:"flex-start"},"right"===n.anchorOrigin.horizontal&&{justifyContent:"flex-end"},{[t.breakpoints.up("sm")]:(0,we.A)({},"top"===n.anchorOrigin.vertical?{top:24}:{bottom:24},"center"===n.anchorOrigin.horizontal&&{left:"50%",right:"auto",transform:"translateX(-50%)"},"left"===n.anchorOrigin.horizontal&&{left:24,right:"auto"},"right"===n.anchorOrigin.horizontal&&{right:24,left:"auto"})})})),sp=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiSnackbar"}),o=Ei(),r={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{action:s,anchorOrigin:{vertical:a,horizontal:l}={vertical:"bottom",horizontal:"left"},autoHideDuration:c=null,children:d,className:u,ClickAwayListenerProps:p,ContentProps:h,disableWindowBlurListener:g=!1,message:m,open:f,TransitionComponent:b=na,transitionDuration:y=r,TransitionProps:{onEnter:w,onExited:v}={}}=n,k=(0,Re.A)(n.TransitionProps,ip),_=(0,Re.A)(n,op),x=(0,we.A)({},n,{anchorOrigin:{vertical:a,horizontal:l},autoHideDuration:c,disableWindowBlurListener:g,TransitionComponent:b,transitionDuration:y}),A=(e=>{const{classes:t,anchorOrigin:n}=e;return cn({root:["root",`anchorOrigin${mn(n.vertical)}${mn(n.horizontal)}`]},np,t)})(x),{getRootProps:C,onClickAway:S}=Gu((0,we.A)({},x)),[I,T]=i.useState(!0),E=xs({elementType:rp,getSlotProps:C,externalForwardedProps:_,ownerState:x,additionalProps:{ref:t},className:[A.root,u]});return!f&&I?null:(0,ke.jsx)(Yu,(0,we.A)({onClickAway:S},p,{children:(0,ke.jsx)(rp,(0,we.A)({},E,{children:(0,ke.jsx)(b,(0,we.A)({appear:!0,in:f,timeout:y,direction:"top"===a?"down":"up",onEnter:(e,t)=>{T(!1),w&&w(e,t)},onExited:e=>{T(!0),v&&v(e)}},k,{children:d||(0,ke.jsx)(tp,(0,we.A)({message:m,action:s},h))}))}))}))})),ap=sp,lp=vo((0,ke.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"}),"ArrowBack"),cp=vo((0,ke.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),dp=vo([(0,ke.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,ke.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule"),up=vo((0,ke.jsx)("path",{d:"m19 1-5 5v11l5-4.5zM1 6v14.65c0 .25.25.5.5.5.1 0 .15-.05.25-.05C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5V6c-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6m22 13.5V6c-.6-.45-1.25-.75-2-1v13.5c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5v2c1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.1.05.15.05.25.05.25 0 .5-.25.5-.5z"}),"AutoStories"),pp=vo((0,ke.jsx)("path",{d:"M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1m2 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Assignment"),hp=vo((0,ke.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),gp=vo((0,ke.jsx)("path",{d:"M21 7h-2v2h-2V7h-2V5h2V3h2v2h2zm-2 14-7-3-7 3V5c0-1.1.9-2 2-2h7c-.63.84-1 1.87-1 3 0 2.76 2.24 5 5 5 .34 0 .68-.03 1-.1z"}),"BookmarkAdd"),mp=vo((0,ke.jsx)("path",{d:"m10 16.5 6-4.5-6-4.5zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"PlayCircleOutline"),fp=vo((0,ke.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),bp=vo((0,ke.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),yp=(e,t,n)=>{try{const i=`chapter-${e}-${t}`;return localStorage.setItem(i,n.toString()),wp(e),!0}catch(i){return console.error("Error updating chapter progress:",i),!1}},wp=e=>{try{const t=Object.keys(localStorage).filter((t=>t.startsWith(`chapter-${e}-`)));if(0===t.length)return 0;const n=t.filter((e=>"true"===localStorage.getItem(e))).length,i=Math.round(n/t.length*100);return localStorage.setItem(`module-progress-${e}`,i.toString()),i}catch(t){return console.error("Error updating module progress:",t),0}},vp=(e,t)=>{try{const n=`chapter-${e}-${t}`;return"true"===localStorage.getItem(n)}catch(n){return console.error("Error getting chapter progress:",n),!1}};const kp=()=>{var e,t,n,o;const{id:r}=ee(),[s,a]=(0,i.useState)(0),[l,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(!0),[p,h]=(0,i.useState)(0),[g,m]=(0,i.useState)(!1),[f,b]=(0,i.useState)("");(0,i.useEffect)((()=>{setTimeout((()=>{const e=vc(r),t=JSON.parse(localStorage.getItem("bookmarkedModules")||"[]").some((t=>t.id===e.id));c({...e,bookmarked:t}),u(!1),((e,t)=>{try{localStorage.getItem(`module-progress-${e}`)||(localStorage.setItem(`module-progress-${e}`,"0"),t.forEach((t=>{const n=`chapter-${e}-${t}`;null===localStorage.getItem(n)&&localStorage.setItem(n,"false")})))}catch(n){console.error("Error initializing progress data:",n)}})(r,e.chapters.map((e=>e.id)));const n=(e=>{try{const t=localStorage.getItem(`module-progress-${e}`);return t?parseInt(t,10):0}catch(t){return console.error("Error getting module progress:",t),0}})(r);h(n)}),800)}),[r]);if(d)return(0,ke.jsxs)(Bt,{className:"container page-container",sx:{textAlign:"center",py:8},children:[(0,ke.jsx)(kn,{variant:"h5",sx:{mb:4},children:"Loading module content..."}),(0,ke.jsx)(Fc,{color:"primary",sx:{mx:"auto",width:"50%"}})]});if(!l)return(0,ke.jsxs)(Bt,{className:"container page-container",sx:{textAlign:"center",py:8},children:[(0,ke.jsx)(kn,{variant:"h5",children:"Module not found"}),(0,ke.jsx)(Ii,{component:rn,to:"/modules",sx:{mt:2},children:"Back to Modules"})]});const y=l.syllabus||[],w=l.exercises||[],v=l.practicalExamples||[],k=l.codeExamples||[],_=l.resources||[],x=l.relatedModules||[],A=l.chapters.find((e=>!function(e,t){const n=`chapter-${e}-${t}`;return"true"===localStorage.getItem(n)}(r,e.id))),C=p>0?"Continue Learning":"Start Module",S=A?A.id:1;return(0,ke.jsxs)(Bt,{className:"container page-container",children:[(0,ke.jsxs)(ed,{sx:{mb:2},children:[(0,ke.jsx)(rn,{to:"/",style:{textDecoration:"none",color:"inherit"},children:"Home"}),(0,ke.jsx)(rn,{to:"/modules",style:{textDecoration:"none",color:"inherit"},children:"Modules"}),(0,ke.jsx)(kn,{color:"text.primary",children:l.title})]}),(0,ke.jsx)(Ii,{component:rn,to:"/modules",startIcon:(0,ke.jsx)(lp,{}),sx:{mb:3},children:"Back to Modules"}),(0,ke.jsx)(Bt,{sx:{position:"relative",mb:5},children:(0,ke.jsxs)(Bt,{sx:{position:"relative",height:"350px",borderRadius:4,overflow:"hidden",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.1)"},children:[(0,ke.jsx)(Bt,{component:"img",src:l.image,alt:l.title,sx:{width:"100%",height:"100%",objectFit:"cover"}}),(0,ke.jsxs)(Bt,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"linear-gradient(to bottom, rgba(0,0,0,0.2), rgba(0,0,0,0.8))",display:"flex",flexDirection:"column",justifyContent:"flex-end",p:{xs:3,md:5}},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",gap:1,mb:2},children:[(0,ke.jsx)(To,{label:l.level,size:"small",sx:{backgroundColor:"rgba(255, 255, 255, 0.15)",color:"white",fontWeight:"bold",backdropFilter:"blur(10px)"}}),(0,ke.jsx)(To,{label:`${(null===(e=l.chapters)||void 0===e?void 0:e.length)||16} chapters`,size:"small",sx:{backgroundColor:"rgba(255, 255, 255, 0.15)",color:"white",fontWeight:"bold",backdropFilter:"blur(10px)"}})]}),(0,ke.jsx)(kn,{variant:"h2",component:"h1",sx:{fontWeight:"bold",color:"white",textShadow:"0 2px 10px rgba(0,0,0,0.3)",mb:2,fontSize:{xs:"2rem",sm:"2.5rem",md:"3rem"}},children:l.title}),(0,ke.jsx)(kn,{variant:"h6",sx:{color:"rgba(255, 255, 255, 0.9)",textShadow:"0 1px 3px rgba(0,0,0,0.3)",maxWidth:"800px",fontWeight:"normal",lineHeight:1.5},children:l.description}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mt:3,color:"white",gap:3},children:[(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"body2",sx:{opacity:.8},children:"Last Updated"}),(0,ke.jsx)(kn,{variant:"body1",sx:{fontWeight:"medium"},children:new Date(l.updatedAt).toLocaleDateString("en-US",{month:"long",year:"numeric"})})]}),(0,ke.jsx)(jo,{orientation:"vertical",flexItem:!0,sx:{bgcolor:"rgba(255,255,255,0.3)"}}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"body2",sx:{opacity:.8},children:"Rating"}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(kn,{variant:"body1",sx:{fontWeight:"medium",mr:.5},children:l.rating}),(0,ke.jsx)(kd,{value:l.rating,precision:.1,readOnly:!0,size:"small",sx:{color:"rgba(255, 255, 255, 0.9)"}}),(0,ke.jsxs)(kn,{variant:"body2",sx:{ml:.5,opacity:.8},children:["(",(null===(t=l.studentsCount)||void 0===t?void 0:t.toLocaleString())||0,")"]})]})]})]})]})]})}),(0,ke.jsxs)(Vi,{container:!0,spacing:2,sx:{mb:4},children:[(0,ke.jsx)(Vi,{item:!0,xs:6,sm:3,children:(0,ke.jsxs)($i,{sx:{p:2,height:"100%",display:"flex",alignItems:"center"},children:[(0,ke.jsx)(cp,{sx:{color:"primary.main",mr:1}}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"Students"}),(0,ke.jsx)(kn,{variant:"h6",children:(null===(n=l.studentsCount)||void 0===n?void 0:n.toLocaleString())||0})]})]})}),(0,ke.jsx)(Vi,{item:!0,xs:6,sm:3,children:(0,ke.jsxs)($i,{sx:{p:2,height:"100%",display:"flex",alignItems:"center"},children:[(0,ke.jsx)(dp,{sx:{color:"primary.main",mr:1}}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"Duration"}),(0,ke.jsx)(kn,{variant:"h6",children:l.duration})]})]})}),(0,ke.jsx)(Vi,{item:!0,xs:6,sm:3,children:(0,ke.jsxs)($i,{sx:{p:2,height:"100%",display:"flex",alignItems:"center"},children:[(0,ke.jsx)(up,{sx:{color:"primary.main",mr:1}}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"Chapters"}),(0,ke.jsx)(kn,{variant:"h6",children:(null===(o=l.chapters)||void 0===o?void 0:o.length)||16})]})]})}),(0,ke.jsx)(Vi,{item:!0,xs:6,sm:3,children:(0,ke.jsxs)($i,{sx:{p:2,height:"100%",display:"flex",alignItems:"center"},children:[(0,ke.jsx)(pp,{sx:{color:"primary.main",mr:1}}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"Practical Examples"}),(0,ke.jsx)(kn,{variant:"h6",children:(null===v||void 0===v?void 0:v.length)||(null===w||void 0===w?void 0:w.length)||5})]})]})})]}),(0,ke.jsxs)(Vi,{container:!0,spacing:2,sx:{mb:4},children:[(0,ke.jsx)(Vi,{item:!0,xs:12,md:8,children:(0,ke.jsxs)($i,{sx:{p:2},children:[(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Your Progress"}),(0,ke.jsx)(Fc,{variant:"determinate",value:p,sx:{height:10,borderRadius:5,mb:1}}),(0,ke.jsxs)(kn,{variant:"body2",children:[p,"% Complete"]})]})}),(0,ke.jsx)(Vi,{item:!0,xs:12,md:4,children:(0,ke.jsxs)(Bt,{sx:{display:"flex",gap:2,height:"100%"},children:[(0,ke.jsx)(Ii,{variant:"contained",color:"primary",fullWidth:!0,startIcon:(0,ke.jsx)(hp,{}),component:rn,to:`/modules/${r}/chapters/${S}`,sx:{height:"100%"},children:C}),(0,ke.jsx)(Ii,{variant:"outlined",color:"primary",startIcon:(0,ke.jsx)(gp,{}),sx:{flexShrink:0},onClick:()=>{if(!l)return;const e=JSON.parse(localStorage.getItem("bookmarkedModules")||"[]");if(l.bookmarked){const t=e.filter((e=>e.id!==l.id));localStorage.setItem("bookmarkedModules",JSON.stringify(t)),c({...l,bookmarked:!1}),b("Module removed from bookmarks")}else{const t={id:l.id,title:l.title,description:l.description,image:l.image,level:l.level,timestamp:(new Date).toISOString()};e.push(t),localStorage.setItem("bookmarkedModules",JSON.stringify(e)),c({...l,bookmarked:!0}),b("Module bookmarked successfully! Access it anytime from your profile.")}m(!0)},children:l.bookmarked?"Bookmarked":"Save"})]})})]}),(0,ke.jsxs)(Bt,{sx:{mb:4},children:[(0,ke.jsxs)(Kd,{value:s,onChange:(e,t)=>{a(t)},sx:{borderBottom:1,borderColor:"divider",mb:3,"& .MuiTab-root":{textTransform:"none",fontSize:"1rem",fontWeight:500}},children:[(0,ke.jsx)(Jd,{label:"Overview",icon:(0,ke.jsx)(qo,{}),iconPosition:"start"}),(0,ke.jsx)(Jd,{label:"Content",icon:(0,ke.jsx)(mp,{}),iconPosition:"start"}),(0,ke.jsx)(Jd,{label:"Practical Examples",icon:(0,ke.jsx)(pp,{}),iconPosition:"start"})]}),0===s&&(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,sx:{borderLeft:"4px solid #6a0dad",pl:2},children:"About This Module"}),(0,ke.jsx)(kn,{paragraph:!0,sx:{fontSize:"1.05rem",lineHeight:1.6},children:l.overview}),y.length>0&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,sx:{mt:4,borderLeft:"4px solid #6a0dad",pl:2},children:"What You'll Learn"}),(0,ke.jsx)($i,{elevation:0,variant:"outlined",sx:{p:3,borderRadius:2,mb:4},children:(0,ke.jsx)(Vi,{container:!0,spacing:2,children:y.map(((e,t)=>(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,children:(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"flex-start",mb:1},children:[(0,ke.jsx)(fp,{sx:{color:"success.main",mr:1,mt:.3}}),(0,ke.jsx)(kn,{variant:"body1",children:"string"===typeof e.title?e.title:String(e.title)})]})},t)))})})]}),(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,sx:{mt:4,borderLeft:"4px solid #6a0dad",pl:2},children:"Prerequisites"}),(0,ke.jsx)($i,{elevation:0,variant:"outlined",sx:{p:3,borderRadius:2,mb:4},children:(0,ke.jsx)(Ts,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",sm:"1fr 1fr"},gap:1},children:l.prerequisites.map(((e,t)=>(0,ke.jsxs)(pu,{sx:{px:1},children:[(0,ke.jsx)(mu,{sx:{minWidth:36},children:(0,ke.jsx)(fp,{sx:{color:"primary.main"}})}),(0,ke.jsx)(yu,{primary:e})]},t)))})}),(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,sx:{mt:4,borderLeft:"4px solid #6a0dad",pl:2},children:"Skills You'll Gain"}),(0,ke.jsx)(Bt,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:4},children:l.skills.map(((e,t)=>(0,ke.jsx)(To,{label:e,sx:{bgcolor:"rgba(106, 13, 173, 0.08)",fontWeight:500}},t)))}),k.length>0&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,sx:{mt:4,borderLeft:"4px solid #6a0dad",pl:2},children:"Code Examples"}),(0,ke.jsx)(Vi,{container:!0,spacing:3,sx:{mb:4},children:k.map(((e,t)=>(0,ke.jsx)(Vi,{item:!0,xs:12,md:6,children:(0,ke.jsxs)($i,{elevation:2,sx:{p:0,overflow:"hidden",borderRadius:2},children:[(0,ke.jsx)(Bt,{sx:{p:2,bgcolor:"#f5f5f5",borderBottom:"1px solid #e0e0e0"},children:(0,ke.jsx)(kn,{variant:"subtitle1",fontWeight:"medium",children:"string"===typeof e.title?e.title:String(e.title)})}),(0,ke.jsx)(Bt,{sx:{p:2,bgcolor:"#272822",color:"#f8f8f2",fontFamily:"monospace",fontSize:"0.875rem",overflow:"auto",maxHeight:"300px",whiteSpace:"pre"},children:"string"===typeof e.code?e.code:JSON.stringify(e.code,null,2)})]})},t)))})]}),_.length>0&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,sx:{mt:4,borderLeft:"4px solid #6a0dad",pl:2},children:"Additional Resources"}),(0,ke.jsx)($i,{elevation:0,variant:"outlined",sx:{p:3,borderRadius:2,mb:4},children:(0,ke.jsx)(Ts,{children:_.map(((e,t)=>(0,ke.jsxs)(i.Fragment,{children:[(0,ke.jsxs)(pu,{sx:{px:1},children:[(0,ke.jsx)(mu,{children:"PDF"===e.type?(0,ke.jsx)(qo,{color:"primary"}):(0,ke.jsx)(pp,{color:"primary"})}),(0,ke.jsx)(yu,{primary:e.title,secondary:e.type}),(0,ke.jsx)(Ii,{variant:"outlined",size:"small",component:"a",href:e.url,children:"Download"})]}),t<_.length-1&&(0,ke.jsx)(jo,{component:"li"})]},t)))})})]}),x.length>0&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,sx:{mt:4,borderLeft:"4px solid #6a0dad",pl:2},children:"Related Modules"}),(0,ke.jsx)(Vi,{container:!0,spacing:3,children:x.map((e=>(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,md:4,children:(0,ke.jsx)(Qi,{sx:{height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.3s","&:hover":{transform:"translateY(-8px)"}},children:(0,ke.jsxs)(go,{sx:{flexGrow:1},children:[(0,ke.jsx)(kn,{variant:"h6",component:"h3",gutterBottom:!0,children:"string"===typeof e.title?e.title:String(e.title)}),(0,ke.jsx)(To,{label:"string"===typeof e.level?e.level:String(e.level),size:"small",sx:{mb:2,backgroundColor:"Beginner"===e.level?"#e3f2fd":"Intermediate"===e.level?"#fff8e1":"#fbe9e7",color:"Beginner"===e.level?"#0277bd":"Intermediate"===e.level?"#ff8f00":"#e64a19"}}),(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,sx:{mb:2},children:"string"===typeof e.description?e.description:String(e.description)}),e.topics&&Array.isArray(e.topics)&&e.topics.length>0&&(0,ke.jsx)(Bt,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mb:2},children:e.topics.slice(0,3).map(((e,t)=>(0,ke.jsx)(To,{label:"string"===typeof e?e:String(e),size:"small",sx:{fontSize:"0.7rem",backgroundColor:"rgba(106, 13, 173, 0.08)"}},t)))}),(0,ke.jsx)(Ii,{component:rn,to:`/modules/${e.id}`,variant:"outlined",color:"primary",size:"small",fullWidth:!0,children:"View Module"})]})})},e.id)))})]})]}),1===s&&(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,sx:{borderLeft:"4px solid #6a0dad",pl:2},children:"Module Content"}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mb:3,gap:2},children:[(0,ke.jsxs)(kn,{variant:"body1",children:["This module contains ",(0,ke.jsxs)("strong",{children:[l.chapters.length," chapters"]})," with a total duration of ",(0,ke.jsx)("strong",{children:l.duration}),"."]}),(0,ke.jsx)(Ii,{variant:"contained",color:"primary",startIcon:(0,ke.jsx)(hp,{}),component:rn,to:`/modules/${r}/chapters/${S}`,size:"small",children:C})]}),(0,ke.jsx)($i,{elevation:0,variant:"outlined",sx:{borderRadius:2,overflow:"hidden"},children:l.chapters.map(((e,t)=>(0,ke.jsx)(Bt,{sx:{borderBottom:t<l.chapters.length-1?"1px solid #e0e0e0":"none"},children:(0,ke.jsxs)(Bt,{sx:{p:2,display:"flex",alignItems:"flex-start",cursor:"pointer",transition:"background-color 0.2s","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.02)"},bgcolor:e.completed?"rgba(76, 175, 80, 0.05)":"transparent"},children:[(0,ke.jsx)(Bt,{sx:{mr:2,mt:.5},children:e.completed?(0,ke.jsx)(Bt,{sx:{width:32,height:32,borderRadius:"50%",bgcolor:"success.main",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ke.jsx)(fp,{fontSize:"small"})}):(0,ke.jsx)(Bt,{sx:{width:32,height:32,borderRadius:"50%",border:"2px solid #e0e0e0",color:"text.secondary",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:"string"===typeof e.id||"number"===typeof e.id?e.id:String(e.id)})}),(0,ke.jsxs)(Bt,{sx:{flexGrow:1},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap"},children:[(0,ke.jsx)(kn,{variant:"h6",component:"h3",sx:{mr:2},children:"string"===typeof e.title?e.title:String(e.title)}),(0,ke.jsxs)(Bt,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[(0,ke.jsx)(To,{icon:(0,ke.jsx)(qo,{fontSize:"small"}),label:"Chapter",size:"small",sx:{bgcolor:"rgba(106, 13, 173, 0.08)",color:"#6a0dad"}}),(0,ke.jsx)(To,{label:"string"===typeof e.estimatedTime?e.estimatedTime:String(e.estimatedTime),size:"small",sx:{bgcolor:"rgba(0, 0, 0, 0.05)"}})]})]}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",paragraph:!0,children:"string"===typeof e.description?e.description:String(e.description)}),e.sections&&(0,ke.jsx)(Bt,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.sections.map(((e,t)=>(0,ke.jsx)(To,{label:"string"===typeof e.title?e.title:String(e.title),size:"small",sx:{fontSize:"0.7rem",height:24,bgcolor:"rgba(0, 0, 0, 0.04)"}},t)))})]}),(0,ke.jsx)(Ii,{component:rn,to:`/modules/${r}/chapters/${e.id}`,variant:"outlined",color:"primary",size:"small",sx:{ml:2,alignSelf:"center",flexShrink:0},children:e.completed?"Revisit":"Start"})]})},e.id)))})]}),2===s&&(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,sx:{borderLeft:"4px solid #6a0dad",pl:2},children:"Practical Examples"}),(0,ke.jsxs)(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,ke.jsxs)(kn,{variant:"body1",children:["Master your skills with these ",(0,ke.jsxs)("strong",{children:[v.length||w.length," practical examples"]}),". Complete them to reinforce your learning."]}),(0,ke.jsx)(To,{label:`${(v||w).filter((e=>e.completed)).length}/${v.length||w.length} Completed`,color:(v||w).filter((e=>e.completed)).length===(v.length||w.length)?"success":"default",variant:"outlined"})]}),(0,ke.jsx)($i,{elevation:0,variant:"outlined",sx:{borderRadius:2,overflow:"hidden"},children:(v.length>0?v:w).map(((e,t)=>(0,ke.jsxs)(Bt,{sx:{borderBottom:t<(v.length>0?v.length:w.length)-1?"1px solid #e0e0e0":"none",p:3,transition:"background-color 0.2s","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.02)"}},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,ke.jsxs)(Bt,{sx:{flexGrow:1},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mb:1,flexWrap:"wrap"},children:[(0,ke.jsx)(kn,{variant:"h6",component:"h3",sx:{mr:2},children:"string"===typeof e.title?e.title:String(e.title)}),(0,ke.jsxs)(Bt,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[(0,ke.jsx)(To,{label:"string"===typeof e.difficulty?e.difficulty:String(e.difficulty),size:"small",sx:{bgcolor:"Easy"===e.difficulty?"#e8f5e9":"Medium"===e.difficulty?"#fff8e1":"#ffebee",color:"Easy"===e.difficulty?"#2e7d32":"Medium"===e.difficulty?"#ff8f00":"#d32f2f",fontWeight:"bold"}}),e.type&&(0,ke.jsx)(To,{label:"string"===typeof e.type?e.type:String(e.type),size:"small",sx:{bgcolor:"rgba(0, 0, 0, 0.05)"}})]})]}),(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,children:"string"===typeof e.description?e.description:String(e.description)})]}),(0,ke.jsx)(Bt,{sx:{display:"flex",flexDirection:"column",alignItems:"center",ml:2},children:e.completed?(0,ke.jsx)(Bt,{sx:{width:40,height:40,borderRadius:"50%",bgcolor:"success.main",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ke.jsx)(fp,{})}):null})]}),(e.code||e.testbench)&&(0,ke.jsx)(Bt,{sx:{mt:2},children:(0,ke.jsxs)(ju,{defaultExpanded:!1,sx:{bgcolor:"rgba(0, 0, 0, 0.02)"},children:[(0,ke.jsx)(Hu,{expandIcon:(0,ke.jsx)(bp,{}),children:(0,ke.jsxs)(kn,{variant:"subtitle2",children:[(0,ke.jsx)(Ho,{sx:{mr:1,fontSize:"1rem",verticalAlign:"middle"}}),"Code Example"]})}),(0,ke.jsxs)($u,{children:[(0,ke.jsxs)(Bt,{sx:{bgcolor:"#272822",color:"#f8f8f2",p:2,borderRadius:1,fontFamily:"monospace",fontSize:"0.875rem",overflow:"auto",maxHeight:"400px",position:"relative"},children:[(0,ke.jsx)(Ii,{variant:"contained",size:"small",sx:{position:"absolute",top:8,right:8,backgroundColor:"rgba(255,255,255,0.2)",color:"white","&:hover":{backgroundColor:"rgba(255,255,255,0.3)"}},onClick:()=>{navigator.clipboard.writeText("string"===typeof e.code?e.code:JSON.stringify(e.code,null,2))},children:"Copy Code"}),(0,ke.jsx)("pre",{style:{margin:0},children:"string"===typeof e.code?e.code:JSON.stringify(e.code,null,2)})]}),e.testbench&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(kn,{variant:"subtitle2",sx:{mt:2,mb:1},children:"Testbench:"}),(0,ke.jsxs)(Bt,{sx:{bgcolor:"#272822",color:"#f8f8f2",p:2,borderRadius:1,fontFamily:"monospace",fontSize:"0.875rem",overflow:"auto",maxHeight:"400px",position:"relative"},children:[(0,ke.jsx)(Ii,{variant:"contained",size:"small",sx:{position:"absolute",top:8,right:8,backgroundColor:"rgba(255,255,255,0.2)",color:"white","&:hover":{backgroundColor:"rgba(255,255,255,0.3)"}},onClick:()=>{navigator.clipboard.writeText("string"===typeof e.testbench?e.testbench:JSON.stringify(e.testbench,null,2))},children:"Copy Testbench"}),(0,ke.jsx)("pre",{style:{margin:0},children:"string"===typeof e.testbench?e.testbench:JSON.stringify(e.testbench,null,2)})]})]}),e.explanation&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(kn,{variant:"subtitle2",sx:{mt:2,mb:1},children:"Explanation:"}),(0,ke.jsx)(kn,{variant:"body2",sx:{fontSize:"0.9rem",lineHeight:1.6},children:e.explanation})]})]})]})})]},e.id||t)))})]})]}),(0,ke.jsx)(ap,{open:g,autoHideDuration:4e3,onClose:()=>m(!1),message:f})]})};function _p(e){return Et("MuiCircularProgress",e)}Dt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const xp=["className","color","disableShrink","size","style","thickness","value","variant"];let Ap,Cp,Sp,Ip,Tp=e=>e;const Ep=44,Dp=(0,Qn.i7)(Ap||(Ap=Tp`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),Mp=(0,Qn.i7)(Cp||(Cp=Tp`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Pp=hn("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${mn(n.color)}`]]}})((e=>{let{ownerState:t,theme:n}=e;return(0,we.A)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:(n.vars||n).palette[t.color].main})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&(0,Qn.AH)(Sp||(Sp=Tp`
      animation: ${0} 1.4s linear infinite;
    `),Dp)})),Rp=hn("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),Bp=hn("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${mn(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})((e=>{let{ownerState:t,theme:n}=e;return(0,we.A)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(e=>{let{ownerState:t}=e;return"indeterminate"===t.variant&&!t.disableShrink&&(0,Qn.AH)(Ip||(Ip=Tp`
      animation: ${0} 1.4s ease-in-out infinite;
    `),Mp)})),jp=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiCircularProgress"}),{className:i,color:o="primary",disableShrink:r=!1,size:s=40,style:a,thickness:l=3.6,value:c=0,variant:d="indeterminate"}=n,u=(0,Re.A)(n,xp),p=(0,we.A)({},n,{color:o,disableShrink:r,size:s,thickness:l,value:c,variant:d}),h=(e=>{const{classes:t,variant:n,color:i,disableShrink:o}=e;return cn({root:["root",n,`color${mn(i)}`],svg:["svg"],circle:["circle",`circle${mn(n)}`,o&&"circleDisableShrink"]},_p,t)})(p),g={},m={},f={};if("determinate"===d){const e=2*Math.PI*((Ep-l)/2);g.strokeDasharray=e.toFixed(3),f["aria-valuenow"]=Math.round(c),g.strokeDashoffset=`${((100-c)/100*e).toFixed(3)}px`,m.transform="rotate(-90deg)"}return(0,ke.jsx)(Pp,(0,we.A)({className:_t(h.root,i),style:(0,we.A)({width:s,height:s},m,a),ownerState:p,ref:t,role:"progressbar"},f,u,{children:(0,ke.jsx)(Rp,{className:h.svg,ownerState:p,viewBox:"22 22 44 44",children:(0,ke.jsx)(Bp,{className:h.circle,style:g,ownerState:p,cx:Ep,cy:Ep,r:(Ep-l)/2,fill:"none",strokeWidth:l})})}))})),Lp=jp,zp=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function Op(e,t,n){var i;const o=function(e,t,n){const i=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),r=Ns(t);let s;if(t.fakeTransform)s=t.fakeTransform;else{const e=r.getComputedStyle(t);s=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let a=0,l=0;if(s&&"none"!==s&&"string"===typeof s){const e=s.split("(")[1].split(")")[0].split(",");a=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?o?`translateX(${o.right+a-i.left}px)`:`translateX(${r.innerWidth+a-i.left}px)`:"right"===e?o?`translateX(-${i.right-o.left-a}px)`:`translateX(-${i.left+i.width-a}px)`:"up"===e?o?`translateY(${o.bottom+l-i.top}px)`:`translateY(${r.innerHeight+l-i.top}px)`:o?`translateY(-${i.top-o.top+i.height-l}px)`:`translateY(-${i.top+i.height-l}px)`}(e,t,"function"===typeof(i=n)?i():i);o&&(t.style.webkitTransform=o,t.style.transform=o)}const Np=i.forwardRef((function(e,t){const n=Ei(),o={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,container:c,direction:d="down",easing:u=o,in:p,onEnter:h,onEntered:g,onEntering:m,onExit:f,onExited:b,onExiting:y,style:w,timeout:v=r,TransitionComponent:k=Ks}=e,_=(0,Re.A)(e,zp),x=i.useRef(null),A=An(ms(l),x,t),C=e=>t=>{e&&(void 0===t?e(x.current):e(x.current,t))},S=C(((e,t)=>{Op(d,e,c),Ys(e),h&&h(e,t)})),I=C(((e,t)=>{const i=Qs({timeout:v,style:w,easing:u},{mode:"enter"});e.style.webkitTransition=n.transitions.create("-webkit-transform",(0,we.A)({},i)),e.style.transition=n.transitions.create("transform",(0,we.A)({},i)),e.style.webkitTransform="none",e.style.transform="none",m&&m(e,t)})),T=C(g),E=C(y),D=C((e=>{const t=Qs({timeout:v,style:w,easing:u},{mode:"exit"});e.style.webkitTransition=n.transitions.create("-webkit-transform",t),e.style.transition=n.transitions.create("transform",t),Op(d,e,c),f&&f(e)})),M=C((e=>{e.style.webkitTransition="",e.style.transition="",b&&b(e)})),P=i.useCallback((()=>{x.current&&Op(d,x.current,c)}),[d,c]);return i.useEffect((()=>{if(p||"down"===d||"right"===d)return;const e=Os((()=>{x.current&&Op(d,x.current,c)})),t=Ns(x.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[d,p,c]),i.useEffect((()=>{p||P()}),[p,P]),(0,ke.jsx)(k,(0,we.A)({nodeRef:x,onEnter:S,onEntered:T,onEntering:I,onExit:D,onExited:M,onExiting:E,addEndListener:e=>{s&&s(x.current,e)},appear:a,in:p,timeout:v},_,{children:(e,t)=>i.cloneElement(l,(0,we.A)({ref:A,style:(0,we.A)({visibility:"exited"!==e||p?void 0:"hidden"},w,l.props.style)},t))}))})),Fp=Np;function Vp(e){return Et("MuiDrawer",e)}Dt("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const Hp=["BackdropProps"],Wp=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],Up=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},qp=hn(Ea,{name:"MuiDrawer",slot:"Root",overridesResolver:Up})((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}})),$p=hn("div",{shouldForwardProp:pn,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:Up})({flex:"0 0 auto"}),Gp=hn($i,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`paperAnchor${mn(n.anchor)}`],"temporary"!==n.variant&&t[`paperAnchorDocked${mn(n.anchor)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})})),Kp={left:"right",right:"left",top:"down",bottom:"up"};const Yp=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiDrawer"}),o=Ei(),r=Vt(),s={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{anchor:a="left",BackdropProps:l,children:c,className:d,elevation:u=16,hideBackdrop:p=!1,ModalProps:{BackdropProps:h}={},onClose:g,open:m=!1,PaperProps:f={},SlideProps:b,TransitionComponent:y=Fp,transitionDuration:w=s,variant:v="temporary"}=n,k=(0,Re.A)(n.ModalProps,Hp),_=(0,Re.A)(n,Wp),x=i.useRef(!1);i.useEffect((()=>{x.current=!0}),[]);const A=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return-1!==["left","right"].indexOf(e)}(t)?Kp[t]:t}({direction:r?"rtl":"ltr"},a),C=a,S=(0,we.A)({},n,{anchor:C,elevation:u,open:m,variant:v},_),I=(e=>{const{classes:t,anchor:n,variant:i}=e;return cn({root:["root"],docked:[("permanent"===i||"persistent"===i)&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${mn(n)}`,"temporary"!==i&&`paperAnchorDocked${mn(n)}`]},Vp,t)})(S),T=(0,ke.jsx)(Gp,(0,we.A)({elevation:"temporary"===v?u:0,square:!0},f,{className:_t(I.paper,f.className),ownerState:S,children:c}));if("permanent"===v)return(0,ke.jsx)($p,(0,we.A)({className:_t(I.root,I.docked,d),ownerState:S,ref:t},_,{children:T}));const E=(0,ke.jsx)(y,(0,we.A)({in:m,direction:Kp[A],timeout:w,appear:x.current},b,{children:T}));return"persistent"===v?(0,ke.jsx)($p,(0,we.A)({className:_t(I.root,I.docked,d),ownerState:S,ref:t},_,{children:E})):(0,ke.jsx)(qp,(0,we.A)({BackdropProps:(0,we.A)({},l,h,{transitionDuration:w}),className:_t(I.root,I.modal,d),open:m,ownerState:S,onClose:g,hideBackdrop:p,ref:t},_,k,{children:E}))})),Qp=Yp;function Zp(e){return Et("MuiIconButton",e)}const Xp=Dt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Jp=["edge","children","className","color","disabled","disableFocusRipple","size"],eh=hn(bi,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t[`color${mn(n.color)}`],n.edge&&t[`edge${mn(n.edge)}`],t[`size${mn(n.size)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Ne.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(e=>{let{theme:t,ownerState:n}=e;var i;const o=null==(i=(t.vars||t).palette)?void 0:i[n.color];return(0,we.A)({},"inherit"===n.color&&{color:"inherit"},"inherit"!==n.color&&"default"!==n.color&&(0,we.A)({color:null==o?void 0:o.main},!n.disableRipple&&{"&:hover":(0,we.A)({},o&&{backgroundColor:t.vars?`rgba(${o.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Ne.X4)(o.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===n.size&&{padding:5,fontSize:t.typography.pxToRem(18)},"large"===n.size&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${Xp.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})})),th=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:r,color:s="default",disabled:a=!1,disableFocusRipple:l=!1,size:c="medium"}=n,d=(0,Re.A)(n,Jp),u=(0,we.A)({},n,{edge:i,color:s,disabled:a,disableFocusRipple:l,size:c}),p=(e=>{const{classes:t,disabled:n,color:i,edge:o,size:r}=e;return cn({root:["root",n&&"disabled","default"!==i&&`color${mn(i)}`,o&&`edge${mn(o)}`,`size${mn(r)}`]},Zp,t)})(u);return(0,ke.jsx)(eh,(0,we.A)({className:_t(p.root,r),centerRipple:!0,focusRipple:!l,disabled:a,ref:t},d,{ownerState:u,children:o}))}));function nh(e){return Et("MuiAlert",e)}const ih=Dt("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),oh=vo((0,ke.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),rh=vo((0,ke.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),sh=vo((0,ke.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),ah=vo((0,ke.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),lh=vo((0,ke.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),ch=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],dh=hn($i,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${mn(n.color||n.severity)}`]]}})((e=>{let{theme:t}=e;const n="light"===t.palette.mode?Ne.e$:Ne.a,i="light"===t.palette.mode?Ne.a:Ne.e$;return(0,we.A)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[o]=e;return{props:{colorSeverity:o,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${o}Color`]:n(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${o}StandardBg`]:i(t.palette[o].light,.9),[`& .${ih.icon}`]:t.vars?{color:t.vars.palette.Alert[`${o}IconColor`]}:{color:t.palette[o].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.light})).map((e=>{let[i]=e;return{props:{colorSeverity:i,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${i}Color`]:n(t.palette[i].light,.6),border:`1px solid ${(t.vars||t).palette[i].light}`,[`& .${ih.icon}`]:t.vars?{color:t.vars.palette.Alert[`${i}IconColor`]}:{color:t.palette[i].main}}}})),...Object.entries(t.palette).filter((e=>{let[,t]=e;return t.main&&t.dark})).map((e=>{let[n]=e;return{props:{colorSeverity:n,variant:"filled"},style:(0,we.A)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert[`${n}FilledColor`],backgroundColor:t.vars.palette.Alert[`${n}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[n].dark:t.palette[n].main,color:t.palette.getContrastText(t.palette[n].main)})}}))]})})),uh=hn("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),ph=hn("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),hh=hn("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),gh={success:(0,ke.jsx)(oh,{fontSize:"inherit"}),warning:(0,ke.jsx)(rh,{fontSize:"inherit"}),error:(0,ke.jsx)(sh,{fontSize:"inherit"}),info:(0,ke.jsx)(ah,{fontSize:"inherit"})},mh=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiAlert"}),{action:i,children:o,className:r,closeText:s="Close",color:a,components:l={},componentsProps:c={},icon:d,iconMapping:u=gh,onClose:p,role:h="alert",severity:g="success",slotProps:m={},slots:f={},variant:b="standard"}=n,y=(0,Re.A)(n,ch),w=(0,we.A)({},n,{color:a,severity:g,variant:b,colorSeverity:a||g}),v=(e=>{const{variant:t,color:n,severity:i,classes:o}=e;return cn({root:["root",`color${mn(n||i)}`,`${t}${mn(n||i)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]},nh,o)})(w),k={slots:(0,we.A)({closeButton:l.CloseButton,closeIcon:l.CloseIcon},f),slotProps:(0,we.A)({},c,m)},[_,x]=Du("closeButton",{elementType:th,externalForwardedProps:k,ownerState:w}),[A,C]=Du("closeIcon",{elementType:lh,externalForwardedProps:k,ownerState:w});return(0,ke.jsxs)(dh,(0,we.A)({role:h,elevation:0,ownerState:w,className:_t(v.root,r),ref:t},y,{children:[!1!==d?(0,ke.jsx)(uh,{ownerState:w,className:v.icon,children:d||u[g]||gh[g]}):null,(0,ke.jsx)(ph,{ownerState:w,className:v.message,children:o}),null!=i?(0,ke.jsx)(hh,{ownerState:w,className:v.action,children:i}):null,null==i&&p?(0,ke.jsx)(hh,{ownerState:w,className:v.action,children:(0,ke.jsx)(_,(0,we.A)({size:"small","aria-label":s,title:s,color:"inherit",onClick:p},x,{children:(0,ke.jsx)(A,(0,we.A)({fontSize:"small"},C))}))}):null]}))})),fh=vo((0,ke.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),bh=vo((0,ke.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),yh=vo((0,ke.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark"),wh=vo((0,ke.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder"),vh=vo((0,ke.jsx)("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"NavigateBefore"),kh=vo((0,ke.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");function _h(e){return Et("MuiFormGroup",e)}Dt("MuiFormGroup",["root","row","error"]);const xh=["className","row"],Ah=hn("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})((e=>{let{ownerState:t}=e;return(0,we.A)({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})})),Ch=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiFormGroup"}),{className:i,row:o=!1}=n,r=(0,Re.A)(n,xh),s=sr({props:n,muiFormControl:lr(),states:["error"]}),a=(0,we.A)({},n,{row:o,error:s.error}),l=(e=>{const{classes:t,row:n,error:i}=e;return cn({root:["root",n&&"row",i&&"error"]},_h,t)})(a);return(0,ke.jsx)(Ah,(0,we.A)({className:_t(l.root,i),ownerState:a,ref:t},r))}));function Sh(e){return Et("MuiRadioGroup",e)}Dt("MuiRadioGroup",["root","row","error"]);const Ih=i.createContext(void 0),Th=["actions","children","className","defaultValue","name","onChange","value"],Eh=i.forwardRef((function(e,t){const{actions:n,children:o,className:r,defaultValue:s,name:a,onChange:l,value:c}=e,d=(0,Re.A)(e,Th),u=i.useRef(null),p=(e=>{const{classes:t,row:n,error:i}=e;return cn({root:["root",n&&"row",i&&"error"]},Sh,t)})(e),[h,g]=al({controlled:c,default:s,name:"RadioGroup"});i.useImperativeHandle(n,(()=>({focus:()=>{let e=u.current.querySelector("input:not(:disabled):checked");e||(e=u.current.querySelector("input:not(:disabled)")),e&&e.focus()}})),[]);const m=An(t,u),f=id(a),b=i.useMemo((()=>({name:f,onChange(e){g(e.target.value),l&&l(e,e.target.value)},value:h})),[f,l,g,h]);return(0,ke.jsx)(Ih.Provider,{value:b,children:(0,ke.jsx)(Ch,(0,we.A)({role:"radiogroup",ref:m,className:_t(p.root,r)},d,{children:o}))})})),Dh=["ownerState"],Mh=["variants"],Ph=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Rh(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}const Bh=(0,Ie.A)(),jh=e=>e?e.charAt(0).toLowerCase()+e.slice(1):e;function Lh(e){let{defaultTheme:t,theme:n,themeId:i}=e;return o=n,0===Object.keys(o).length?t:n[i]||n;var o}function zh(e){return e?(t,n)=>n[e]:null}function Oh(e,t){let{ownerState:n}=t,i=(0,Re.A)(t,Dh);const o="function"===typeof e?e((0,we.A)({ownerState:n},i)):e;if(Array.isArray(o))return o.flatMap((e=>Oh(e,(0,we.A)({ownerState:n},i))));if(o&&"object"===typeof o&&Array.isArray(o.variants)){const{variants:e=[]}=o;let t=(0,Re.A)(o,Mh);return e.forEach((e=>{let o=!0;"function"===typeof e.props?o=e.props((0,we.A)({ownerState:n},i,n)):Object.keys(e.props).forEach((t=>{(null==n?void 0:n[t])!==e.props[t]&&i[t]!==e.props[t]&&(o=!1)})),o&&(Array.isArray(t)||(t=[t]),t.push("function"===typeof e.style?e.style((0,we.A)({ownerState:n},i,n)):e.style))})),t}return o}const Nh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Bh,rootShouldForwardProp:i=Rh,slotShouldForwardProp:o=Rh}=e,r=e=>(0,ze.A)((0,we.A)({},e,{theme:Lh((0,we.A)({},e,{defaultTheme:n,themeId:t}))}));return r.__mui_systemSx=!0,function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,xt.internal_processStyles)(e,(e=>e.filter((e=>!(null!=e&&e.__mui_systemSx)))));const{name:a,slot:l,skipVariantsResolver:c,skipSx:d,overridesResolver:u=zh(jh(l))}=s,p=(0,Re.A)(s,Ph),h=void 0!==c?c:l&&"Root"!==l&&"root"!==l||!1,g=d||!1;let m=Rh;"Root"===l||"root"===l?m=i:l?m=o:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(m=void 0);const f=(0,xt.default)(e,(0,we.A)({shouldForwardProp:m,label:undefined},p)),b=e=>"function"===typeof e&&e.__emotion_real!==e||(0,je.Q)(e)?i=>Oh(e,(0,we.A)({},i,{theme:Lh({theme:i.theme,defaultTheme:n,themeId:t})})):e,y=function(i){let o=b(i);for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];const d=l?l.map(b):[];a&&u&&d.push((e=>{const i=Lh((0,we.A)({},e,{defaultTheme:n,themeId:t}));if(!i.components||!i.components[a]||!i.components[a].styleOverrides)return null;const o=i.components[a].styleOverrides,r={};return Object.entries(o).forEach((t=>{let[n,o]=t;r[n]=Oh(o,(0,we.A)({},e,{theme:i}))})),u(e,r)})),a&&!h&&d.push((e=>{var i;const o=Lh((0,we.A)({},e,{defaultTheme:n,themeId:t}));return Oh({variants:null==o||null==(i=o.components)||null==(i=i[a])?void 0:i.variants},(0,we.A)({},e,{theme:o}))})),g||d.push(r);const p=d.length-l.length;if(Array.isArray(i)&&p>0){const e=new Array(p).fill("");o=[...i,...e],o.raw=[...i.raw,...e]}const m=f(o,...d);return e.muiName&&(m.muiName=e.muiName),m};return f.withConfig&&(y.withConfig=f.withConfig),y}}(),Fh=Nh;function Vh(e){const{theme:t,name:n,props:i}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?ve(t.components[n].defaultProps,i):i}function Hh(e){let{props:t,name:n,defaultTheme:i,themeId:o}=e,r=Me(i);o&&(r=r[o]||r);return Vh({theme:r,name:n,props:t})}var Wh=n(8604);const Uh=["component","direction","spacing","divider","children","className","useFlexGap"],qh=(0,Ie.A)(),$h=Fh("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root});function Gh(e){return Hh({props:e,name:"MuiStack",defaultTheme:qh})}function Kh(e,t){const n=i.Children.toArray(e).filter(Boolean);return n.reduce(((e,o,r)=>(e.push(o),r<n.length-1&&e.push(i.cloneElement(t,{key:`separator-${r}`})),e)),[])}const Yh=e=>{let{ownerState:t,theme:n}=e,i=(0,we.A)({display:"flex",flexDirection:"column"},(0,Ti.NI)({theme:n},(0,Ti.kW)({values:t.direction,breakpoints:n.breakpoints.values}),(e=>({flexDirection:e}))));if(t.spacing){const e=(0,Wh.LX)(n),o=Object.keys(n.breakpoints.values).reduce(((e,n)=>(("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e)),{}),r=(0,Ti.kW)({values:t.direction,base:o}),s=(0,Ti.kW)({values:t.spacing,base:o});"object"===typeof r&&Object.keys(r).forEach(((e,t,n)=>{if(!r[e]){const i=t>0?r[n[t-1]]:"column";r[e]=i}}));const a=(n,i)=>{return t.useFlexGap?{gap:(0,Wh._W)(e,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${o=i?r[i]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[o]}`]:(0,Wh._W)(e,n)}};var o};i=(0,je.A)(i,(0,Ti.NI)({theme:n},s,a))}return i=(0,Ti.iZ)(n.breakpoints,i),i};const Qh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=$h,useThemeProps:n=Gh,componentName:o="MuiStack"}=e,r=t(Yh),s=i.forwardRef((function(e,t){const i=n(e),s=(0,At.A)(i),{component:a="div",direction:l="column",spacing:c=0,divider:d,children:u,className:p,useFlexGap:h=!1}=s,g=(0,Re.A)(s,Uh),m={direction:l,spacing:c,useFlexGap:h},f=cn({root:["root"]},(e=>Et(o,e)),{});return(0,ke.jsx)(r,(0,we.A)({as:a,ownerState:m,ref:t,className:_t(f.root,p)},g,{children:d?Kh(u,d):u}))}));return s}({createStyledComponent:hn("div",{name:"MuiStack",slot:"Root",overridesResolver:(e,t)=>t.root}),useThemeProps:e=>Ce({props:e,name:"MuiStack"})}),Zh=Qh;function Xh(e){return Et("MuiFormControlLabel",e)}const Jh=Dt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),eg=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],tg=hn("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Jh.label}`]:t.label},t.root,t[`labelPlacement${mn(n.labelPlacement)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Jh.disabled}`]:{cursor:"default"}},"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},{[`& .${Jh.label}`]:{[`&.${Jh.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})})),ng=hn("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})((e=>{let{theme:t}=e;return{[`&.${Jh.error}`]:{color:(t.vars||t).palette.error.main}}})),ig=i.forwardRef((function(e,t){var n,o;const r=Ce({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:l,disabled:c,disableTypography:d,label:u,labelPlacement:p="end",required:h,slotProps:g={}}=r,m=(0,Re.A)(r,eg),f=lr(),b=null!=(n=null!=c?c:l.props.disabled)?n:null==f?void 0:f.disabled,y=null!=h?h:l.props.required,w={disabled:b,required:y};["checked","name","onChange","value","inputRef"].forEach((e=>{"undefined"===typeof l.props[e]&&"undefined"!==typeof r[e]&&(w[e]=r[e])}));const v=sr({props:r,muiFormControl:f,states:["error"]}),k=(0,we.A)({},r,{disabled:b,labelPlacement:p,required:y,error:v.error}),_=(e=>{const{classes:t,disabled:n,labelPlacement:i,error:o,required:r}=e;return cn({root:["root",n&&"disabled",`labelPlacement${mn(i)}`,o&&"error",r&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",o&&"error"]},Xh,t)})(k),x=null!=(o=g.typography)?o:a.typography;let A=u;return null==A||A.type===kn||d||(A=(0,ke.jsx)(kn,(0,we.A)({component:"span"},x,{className:_t(_.label,null==x?void 0:x.className),children:A}))),(0,ke.jsxs)(tg,(0,we.A)({className:_t(_.root,s),ownerState:k,ref:t},m,{children:[i.cloneElement(l,w),y?(0,ke.jsxs)(Zh,{display:"block",children:[A,(0,ke.jsxs)(ng,{ownerState:k,"aria-hidden":!0,className:_.asterisk,children:["\u2009","*"]})]}):A]}))}));function og(e){return Et("PrivateSwitchBase",e)}Dt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const rg=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],sg=hn(bi)((e=>{let{ownerState:t}=e;return(0,we.A)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),ag=hn("input",{shouldForwardProp:pn})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),lg=i.forwardRef((function(e,t){const{autoFocus:n,checked:i,checkedIcon:o,className:r,defaultChecked:s,disabled:a,disableFocusRipple:l=!1,edge:c=!1,icon:d,id:u,inputProps:p,inputRef:h,name:g,onBlur:m,onChange:f,onFocus:b,readOnly:y,required:w=!1,tabIndex:v,type:k,value:_}=e,x=(0,Re.A)(e,rg),[A,C]=al({controlled:i,default:Boolean(s),name:"SwitchBase",state:"checked"}),S=lr();let I=a;S&&"undefined"===typeof I&&(I=S.disabled);const T="checkbox"===k||"radio"===k,E=(0,we.A)({},e,{checked:A,disabled:I,disableFocusRipple:l,edge:c}),D=(e=>{const{classes:t,checked:n,disabled:i,edge:o}=e;return cn({root:["root",n&&"checked",i&&"disabled",o&&`edge${mn(o)}`],input:["input"]},og,t)})(E);return(0,ke.jsxs)(sg,(0,we.A)({component:"span",className:_t(D.root,r),centerRipple:!0,focusRipple:!l,disabled:I,tabIndex:null,role:void 0,onFocus:e=>{b&&b(e),S&&S.onFocus&&S.onFocus(e)},onBlur:e=>{m&&m(e),S&&S.onBlur&&S.onBlur(e)},ownerState:E,ref:t},x,{children:[(0,ke.jsx)(ag,(0,we.A)({autoFocus:n,checked:i,defaultChecked:s,className:D.input,disabled:I,id:T?u:void 0,name:g,onChange:e=>{if(e.nativeEvent.defaultPrevented)return;const t=e.target.checked;C(t),f&&f(e,t)},readOnly:y,ref:h,required:w,ownerState:E,tabIndex:v,type:k},"checkbox"===k&&void 0===_?{}:{value:_},p)),A?o:d]}))})),cg=vo((0,ke.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),dg=vo((0,ke.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),ug=hn("span",{shouldForwardProp:pn})({position:"relative",display:"flex"}),pg=hn(cg)({transform:"scale(1)"}),hg=hn(dg)((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({left:0,position:"absolute",transform:"scale(0)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeIn,duration:t.transitions.duration.shortest})},n.checked&&{transform:"scale(1)",transition:t.transitions.create("transform",{easing:t.transitions.easing.easeOut,duration:t.transitions.duration.shortest})})}));const gg=function(e){const{checked:t=!1,classes:n={},fontSize:i}=e,o=(0,we.A)({},e,{checked:t});return(0,ke.jsxs)(ug,{className:n.root,ownerState:o,children:[(0,ke.jsx)(pg,{fontSize:i,className:n.background,ownerState:o}),(0,ke.jsx)(hg,{fontSize:i,className:n.dot,ownerState:o})]})},mg=fa;function fg(e){return Et("MuiRadio",e)}const bg=Dt("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary","sizeSmall"]),yg=["checked","checkedIcon","color","icon","name","onChange","size","className"],wg=hn(lg,{shouldForwardProp:e=>pn(e)||"classes"===e,name:"MuiRadio",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"medium"!==n.size&&t[`size${mn(n.size)}`],t[`color${mn(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${"default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Ne.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{[`&.${bg.checked}`]:{color:(t.vars||t).palette[n.color].main}},{[`&.${bg.disabled}`]:{color:(t.vars||t).palette.action.disabled}})}));const vg=(0,ke.jsx)(gg,{checked:!0}),kg=(0,ke.jsx)(gg,{}),_g=i.forwardRef((function(e,t){var n,o;const r=Ce({props:e,name:"MuiRadio"}),{checked:s,checkedIcon:a=vg,color:l="primary",icon:c=kg,name:d,onChange:u,size:p="medium",className:h}=r,g=(0,Re.A)(r,yg),m=(0,we.A)({},r,{color:l,size:p}),f=(e=>{const{classes:t,color:n,size:i}=e,o={root:["root",`color${mn(n)}`,"medium"!==i&&`size${mn(i)}`]};return(0,we.A)({},t,cn(o,fg,t))})(m),b=i.useContext(Ih);let y=s;const w=mg(u,b&&b.onChange);let v=d;var k,_;return b&&("undefined"===typeof y&&(k=b.value,y="object"===typeof(_=r.value)&&null!==_?k===_:String(k)===String(_)),"undefined"===typeof v&&(v=b.name)),(0,ke.jsx)(wg,(0,we.A)({type:"radio",icon:i.cloneElement(c,{fontSize:null!=(n=kg.props.fontSize)?n:p}),checkedIcon:i.cloneElement(a,{fontSize:null!=(o=vg.props.fontSize)?o:p}),ownerState:m,classes:f,name:v,checked:y,onChange:w,ref:t,className:_t(f.root,h)},g))})),xg=vo([(0,ke.jsx)("path",{d:"M4 6H2v14c0 1.1.9 2 2 2h14v-2H4z"},"0"),(0,ke.jsx)("path",{d:"M20 2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2m-5.99 13c-.59 0-1.05-.47-1.05-1.05 0-.59.47-1.04 1.05-1.04.59 0 1.04.45 1.04 1.04-.01.58-.45 1.05-1.04 1.05m2.5-6.17c-.63.93-1.23 1.21-1.56 1.81-.13.24-.18.4-.18 1.18h-1.52c0-.41-.06-1.08.26-1.65.41-.73 1.18-1.16 1.63-1.8.48-.68.21-1.94-1.14-1.94-.88 0-1.32.67-1.5 1.23l-1.37-.57C11.51 5.96 12.52 5 13.99 5c1.23 0 2.08.56 2.51 1.26.37.61.58 1.73.01 2.57"},"1")],"Quiz"),Ag=e=>{var t,n;let{chapter:o,moduleId:r,onQuizCompletion:s,onNextChapter:a}=e;const[l]=ln(),[c,d]=(0,i.useState)(null),[u,p]=(0,i.useState)({}),[h,g]=(0,i.useState)(!1),[m,f]=(0,i.useState)([]),[b,y]=(0,i.useState)(0),[w,v]=(0,i.useState)({}),[k,_]=(0,i.useState)(!1),[x,A]=(0,i.useState)(""),[C,S]=(0,i.useState)("content"),[I,T]=(0,i.useState)(0),[E,D]=(0,i.useState)(!1),M=Boolean(o.quiz&&o.quiz.questions&&o.quiz.questions.length>0||o.questions&&o.questions.length>0),P=o.quiz&&o.quiz.questions?o.quiz.questions:o.questions?o.questions:[],R=(null===(t=o.quiz)||void 0===t?void 0:t.title)||`${o.title} Quiz`,B=(null===(n=o.quiz)||void 0===n?void 0:n.description)||"Test your knowledge of this chapter's content.";(0,i.useEffect)((()=>{const e=localStorage.getItem(`bookmarks-${r}-${o.id}`);e&&f(JSON.parse(e));const t=localStorage.getItem(`progress-${r}-${o.id}`);if(t){v(JSON.parse(t));const e=JSON.parse(t),n=Object.values(e).filter((e=>e)).length,i=o.sections&&Array.isArray(o.sections)?o.sections.length:0;i>0&&y(Math.round(n/i*100))}}),[r,o.id,o.sections]),(0,i.useEffect)((()=>{const e=l.get("tab");!e||"content"!==e&&"quiz"!==e||S(e)}),[l]);if(!o)return(0,ke.jsx)(Bt,{sx:{p:3},children:(0,ke.jsx)(kn,{children:"Chapter not found"})});const j=!o.sections||!Array.isArray(o.sections)||0===o.sections.length;return(0,ke.jsxs)(Bt,{children:[(0,ke.jsxs)(Bt,{sx:{p:3,bgcolor:"primary.main",color:"white"},children:[(0,ke.jsx)(kn,{variant:"h4",gutterBottom:!0,children:o.title}),(0,ke.jsx)(kn,{variant:"subtitle1",children:o.description})]}),(0,ke.jsx)(Bt,{sx:{borderBottom:1,borderColor:"divider"},children:(0,ke.jsxs)(Bt,{sx:{display:"flex"},children:[(0,ke.jsx)(Ii,{onClick:()=>S("content"),sx:{py:2,px:3,borderBottom:"content"===C?"2px solid":"none",borderColor:"primary.main",color:"content"===C?"primary.main":"text.primary",borderRadius:0,fontWeight:"content"===C?"bold":"normal"},children:"Content"}),M&&(0,ke.jsx)(Ii,{onClick:()=>S("quiz"),sx:{py:2,px:3,borderBottom:"quiz"===C?"2px solid":"none",borderColor:"primary.main",color:"quiz"===C?"primary.main":"text.primary",borderRadius:0,fontWeight:"quiz"===C?"bold":"normal"},children:"Quiz"})]})}),(0,ke.jsx)(Bt,{sx:{p:3},children:"content"===C?(0,ke.jsxs)(ke.Fragment,{children:[j?(0,ke.jsxs)($i,{elevation:0,variant:"outlined",sx:{p:3,borderRadius:2,textAlign:"center"},children:[(0,ke.jsx)(kn,{variant:"h6",gutterBottom:!0,children:"Content Coming Soon"}),(0,ke.jsx)(kn,{variant:"body1",children:"The content for this chapter is currently being developed. Please check back later for updates."})]}):o.sections.map((e=>(0,ke.jsxs)(ju,{expanded:c===e.id,onChange:()=>(e=>{if(d(c===e?null:e),c!==e&&!w[e]){const t={...w,[e]:!0};v(t),localStorage.setItem(`progress-${r}-${o.id}`,JSON.stringify(t));const n=Object.values(t).filter((e=>e)).length,i=o.sections&&Array.isArray(o.sections)?o.sections.length:0;i>0&&y(Math.round(n/i*100))}})(e.id),sx:{mb:2,overflow:"hidden",bgcolor:w[e.id]?"rgba(76, 175, 80, 0.04)":"transparent",position:"relative"},children:[(0,ke.jsx)(Hu,{expandIcon:(0,ke.jsx)(bp,{}),sx:{bgcolor:"action.hover"},children:(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[(0,ke.jsxs)(kn,{sx:{fontWeight:c===e.id?"bold":"normal"},children:[e.id," - ",e.title,w[e.id]&&(0,ke.jsx)(To,{label:"Completed",size:"small",color:"success",sx:{ml:2,height:20,fontSize:"0.6rem"}})]}),(0,ke.jsx)(Ii,{size:"small",onClick:t=>{t.stopPropagation(),(e=>{let t;m.includes(e)?(t=m.filter((t=>t!==e)),A("Bookmark removed")):(t=[...m,e],A("Bookmark added - you can access this later from your profile")),f(t),localStorage.setItem(`bookmarks-${r}-${o.id}`,JSON.stringify(t)),_(!0)})(e.id)},startIcon:m.includes(e.id)?(0,ke.jsx)(yh,{color:"primary"}):(0,ke.jsx)(wh,{}),sx:{ml:2},children:m.includes(e.id)?"Bookmarked":"Bookmark"})]})}),(0,ke.jsx)($u,{children:(0,ke.jsx)(Bt,{sx:{p:1},dangerouslySetInnerHTML:{__html:e.content}})})]},e.id))),m.length>0&&!j&&(0,ke.jsxs)(Bt,{sx:{mt:4,mb:4},children:[(0,ke.jsx)(kn,{variant:"h6",gutterBottom:!0,children:"Your Bookmarked Sections"}),(0,ke.jsx)($i,{elevation:0,variant:"outlined",sx:{p:2,borderRadius:2},children:(0,ke.jsx)(Vi,{container:!0,spacing:2,children:m.map((e=>{const t=o.sections.find((t=>t.id===e));return t?(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,md:4,children:(0,ke.jsx)($i,{variant:"outlined",sx:{p:2,cursor:"pointer","&:hover":{bgcolor:"rgba(0, 0, 0, 0.03)"}},onClick:()=>{d(e),setTimeout((()=>{var t;null===(t=document.getElementById(`section-${e}`))||void 0===t||t.scrollIntoView({behavior:"smooth"})}),100)},children:(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(yh,{color:"primary",sx:{mr:1,fontSize:"1rem"}}),(0,ke.jsx)(kn,{variant:"body2",fontWeight:"medium",children:t.title})]})})},e):null}))})})]}),o.examples&&o.examples.length>0&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,sx:{mt:4,mb:2},children:"Code Examples"}),(0,ke.jsx)(Vi,{container:!0,spacing:3,children:o.examples.map((e=>(0,ke.jsx)(Vi,{item:!0,xs:12,md:6,children:(0,ke.jsxs)($i,{elevation:2,sx:{borderRadius:2,overflow:"hidden"},children:[(0,ke.jsxs)(Bt,{sx:{bgcolor:"primary.main",color:"primary.contrastText",p:2,display:"flex",alignItems:"center"},children:[(0,ke.jsx)(Ho,{sx:{mr:1}}),(0,ke.jsx)(kn,{variant:"h6",children:e.title})]}),(0,ke.jsxs)(Bt,{sx:{p:2},children:[(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,children:e.description}),(0,ke.jsx)($i,{variant:"outlined",sx:{p:2,bgcolor:"#272822",color:"#f8f8f2",fontFamily:"monospace",whiteSpace:"pre-wrap",overflowX:"auto",fontSize:"0.875rem"},children:e.code}),(0,ke.jsx)(kn,{variant:"subtitle2",sx:{mt:2,fontWeight:"bold"},children:"Explanation:"}),(0,ke.jsx)(kn,{variant:"body2",children:e.explanation})]})]})},e.id)))})]}),o.videos&&o.videos.length>0&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,sx:{mt:4,mb:2},children:"Video Resources"}),(0,ke.jsx)(Vi,{container:!0,spacing:3,children:o.videos.map((e=>(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,md:4,children:(0,ke.jsx)(Qi,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:(0,ke.jsx)(no,{component:"a",href:e.url,target:"_blank",rel:"noopener noreferrer",children:(0,ke.jsxs)(Bt,{sx:{position:"relative"},children:[(0,ke.jsx)(co,{component:"img",height:"140",image:e.thumbnail,alt:e.title}),(0,ke.jsx)(Bt,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.3)",transition:"background 0.3s","&:hover":{background:"rgba(0,0,0,0.5)"}},children:(0,ke.jsx)(hp,{sx:{fontSize:60,color:"white"}})})]})})})},e.id)))})]})]}):(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:"Chapter Quiz"}),(0,ke.jsxs)($i,{sx:{p:3,borderRadius:2},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,ke.jsx)(xg,{sx:{mr:1,color:"primary.main"}}),(0,ke.jsx)(kn,{variant:"h6",children:R})]}),(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,children:B}),h&&I&&(0,ke.jsxs)(mh,{severity:E?"success":"warning",sx:{mb:3},children:[(0,ke.jsx)(kn,{variant:"subtitle2",children:E?"Congratulations! You passed the quiz.":"You need to review this chapter again."}),(0,ke.jsxs)(kn,{variant:"body2",children:["Your score: ",I.toFixed(1),"%"]})]}),P.map(((e,t)=>{var n;const i=e.id||t;return(0,ke.jsxs)(Bt,{sx:{mb:3,pb:3,borderBottom:t<P.length-1?"1px solid #e0e0e0":"none"},children:[(0,ke.jsxs)(kn,{variant:"subtitle1",gutterBottom:!0,children:[t+1,". ",e.question]}),(0,ke.jsx)(ls,{component:"fieldset",sx:{ml:2},children:(0,ke.jsx)(Eh,{value:u[i]||"",onChange:e=>((e,t)=>{p((n=>({...n,[e]:t})))})(i,Number(e.target.value)),children:e.options.map(((t,n)=>{const o="object"===typeof t?t.id:n,r="object"===typeof t?t.text:t;return(0,ke.jsx)(ig,{value:o,control:(0,ke.jsx)(_g,{}),label:r,disabled:h,sx:{...h&&o===e.correctAnswer&&{color:"success.main",fontWeight:"bold"},...h&&u[i]===o&&u[i]!==e.correctAnswer&&{color:"error.main"}}},o)}))})}),h&&(0,ke.jsxs)(Bt,{sx:{mt:1,ml:2},children:[u[i]===e.correctAnswer?(0,ke.jsxs)(kn,{variant:"body2",sx:{color:"success.main",display:"flex",alignItems:"center"},children:[(0,ke.jsx)(fp,{fontSize:"small",sx:{mr:.5}}),"Correct!"]}):(0,ke.jsxs)(kn,{variant:"body2",sx:{color:"error.main"},children:["Incorrect. The correct answer is: ","object"===typeof e.options[e.correctAnswer]?null===(n=e.options[e.correctAnswer])||void 0===n?void 0:n.text:e.options[e.correctAnswer]]}),(0,ke.jsx)(kn,{variant:"body2",sx:{mt:1,fontStyle:"italic"},children:e.explanation})]})]},i)})),(0,ke.jsxs)(Bt,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[h?(0,ke.jsx)(Ii,{variant:"outlined",onClick:()=>{p({}),g(!1),T(0),D(!1)},startIcon:(0,ke.jsx)(pp,{}),children:"Retake Quiz"}):(0,ke.jsx)(Ii,{variant:"contained",onClick:()=>{let e=0,t=0;P.length>0&&(t=P.length,P.forEach(((t,n)=>{const i=t.id||n;u[i]===t.correctAnswer&&e++})));const n=t>0?e/t*100:0,i=n>=70;T(n),D(i),g(!0),i&&((e,t,n)=>{try{const i=`quiz-${e}-${t}`;return localStorage.setItem(i,n.toString()),n>=70&&yp(e,t,!0),!0}catch(i){return console.error("Error marking quiz completed:",i),!1}})(r,o.id,n),s&&s(i,n)},startIcon:(0,ke.jsx)(fp,{}),disabled:Object.keys(u).length!==P.length,children:"Submit Answers"}),(0,ke.jsx)(Ii,{variant:"outlined",onClick:()=>{a&&a()},endIcon:(0,ke.jsx)(Fo,{}),children:"Next Chapter"})]})]})]})}),(0,ke.jsx)(ap,{open:k,autoHideDuration:3e3,onClose:()=>_(!1),message:x})]})},Cg=()=>{const{moduleId:e,chapterId:t}=ee(),n=J(),[o,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(!0),[d,u]=(0,i.useState)(!1),[p,h]=(0,i.useState)(!1),[g,m]=(0,i.useState)(!1),[f,b]=(0,i.useState)(!1),[y,w]=(0,i.useState)(""),[v,k]=(0,i.useState)("success"),[_,x]=(0,i.useState)(null),[A,C]=(0,i.useState)(!1),[S,I]=(0,i.useState)(null);(0,i.useEffect)((()=>{(async()=>{try{let o,s;if(c(!0),o="riscv-processor"===e?yc:vc(e),r(o),"riscv-processor"===e)s=o.chapters.find((e=>e.id===parseInt(t)));else{var n,i;const e=parseInt(t,10);s=(null===(n=o)||void 0===n||null===(i=n.chapters)||void 0===i?void 0:i.find((t=>t.id===e)))||null}if(a(s),A){const t=await fetch(`/api/user/progress/${e}`);if(t.ok){const e=await t.json();I(e)}}if(s){const n=JSON.parse(localStorage.getItem("bookmarkedChapters")||"[]").some((n=>n.moduleId===e&&n.chapterId===t));h(n);const i=vp(e,parseInt(t));m(i)}c(!1)}catch(_){console.error("Error fetching data:",_),x(_.message),c(!1)}})()}),[e,t,A]);const T=()=>{u(!d)},E=()=>{if(!o||!s)return;const t=o.chapters.findIndex((e=>e.id===s.id));if(t<o.chapters.length-1){const i=o.chapters[t+1];n(`/modules/${e}/chapters/${i.id}`)}else n(`/modules/${e}`),D("Congratulations! You have completed all chapters in this module!","success")},D=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";w(e),k(t),b(!0)};if(l)return(0,ke.jsx)(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:(0,ke.jsx)(Lp,{})});if(!o||!s)return(0,ke.jsxs)(Bt,{className:"container page-container",sx:{textAlign:"center",py:8},children:[(0,ke.jsx)(kn,{variant:"h5",children:"Content not found"}),(0,ke.jsx)(Ii,{component:rn,to:"/modules",sx:{mt:2},children:"Back to Modules"})]});const M=o.chapters.findIndex((e=>e.id===s.id)),P=0===M,R=M===o.chapters.length-1,B=P?null:o.chapters[M-1],j=R?null:o.chapters[M+1];return(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(Qp,{anchor:"left",open:d,onClose:T,children:(0,ke.jsxs)(Bt,{sx:{width:300,p:2},children:[(0,ke.jsx)(kn,{variant:"h6",sx:{mb:2},children:o.title}),(0,ke.jsx)(jo,{sx:{mb:2}}),(0,ke.jsx)(Ts,{children:o.chapters.map((t=>{const n=t.id===s.id,i=vp(e,t.id);return(0,ke.jsxs)(pu,{button:!0,component:rn,to:`/modules/${e}/chapters/${t.id}`,selected:n,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{bgcolor:"primary.light",color:"primary.contrastText"}},children:[i&&(0,ke.jsx)(fh,{sx:{mr:1,fontSize:"1rem",color:"success.main"}}),(0,ke.jsx)(yu,{primary:`${t.id}. ${t.title}`,primaryTypographyProps:{fontWeight:n?"bold":"normal",fontSize:"0.9rem"}})]},t.id)}))})]})}),(0,ke.jsxs)(Bt,{className:"container page-container",children:[(0,ke.jsxs)(Bt,{sx:{mb:3,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(th,{onClick:T,sx:{mr:1},children:(0,ke.jsx)(bh,{})}),(0,ke.jsxs)(ed,{children:[(0,ke.jsx)(rn,{to:"/",style:{textDecoration:"none",color:"inherit"},children:"Home"}),(0,ke.jsx)(rn,{to:"/modules",style:{textDecoration:"none",color:"inherit"},children:"Modules"}),(0,ke.jsx)(rn,{to:`/modules/${e}`,style:{textDecoration:"none",color:"inherit"},children:o.title}),(0,ke.jsxs)(kn,{color:"text.primary",children:["Chapter ",s.id]})]})]}),(0,ke.jsx)(Ii,{component:rn,to:`/modules/${e}`,startIcon:(0,ke.jsx)(lp,{}),children:"Back to Module"})]}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(qo,{sx:{mr:1,color:"primary.main"}}),(0,ke.jsxs)(kn,{variant:"subtitle1",children:["Chapter ",s.id," of ",o.chapters.length,g&&(0,ke.jsx)(To,{size:"small",icon:(0,ke.jsx)(fh,{}),label:"Completed",color:"success",sx:{ml:2}})]})]}),(0,ke.jsxs)(Bt,{sx:{display:"flex",gap:1},children:[!g&&(0,ke.jsx)(Ii,{variant:"outlined",size:"small",startIcon:(0,ke.jsx)(fh,{}),onClick:()=>{o&&s&&(yp(e,s.id,!0),m(!0),D("Chapter marked as completed!","success"))},children:"Mark as Completed"}),(0,ke.jsx)(Ii,{variant:"outlined",size:"small",startIcon:p?(0,ke.jsx)(yh,{}):(0,ke.jsx)(wh,{}),onClick:()=>{if(!o||!s)return;const t=JSON.parse(localStorage.getItem("bookmarkedChapters")||"[]"),n={moduleId:e,chapterId:s.id.toString(),moduleTitle:o.title,chapterTitle:s.title,timestamp:(new Date).toISOString()};if(p){const n=t.filter((t=>!(t.moduleId===e&&t.chapterId===s.id.toString())));localStorage.setItem("bookmarkedChapters",JSON.stringify(n)),h(!1),D("Chapter bookmark removed","info")}else t.push(n),localStorage.setItem("bookmarkedChapters",JSON.stringify(t)),h(!0),D("Chapter bookmarked successfully! Access it anytime from your profile.","success")},children:p?"Bookmarked":"Bookmark"})]})]}),(0,ke.jsx)($i,{elevation:0,sx:{borderRadius:2,overflow:"hidden",mb:4},children:(0,ke.jsx)(Ag,{chapter:s,moduleId:e,onQuizCompletion:e=>{e?(m(!0),D("Congratulations! You passed the quiz and completed this chapter.","success")):D("You need to score at least 70% to complete this chapter.","warning")},onNextChapter:E})}),(0,ke.jsxs)(Bt,{sx:{display:"flex",justifyContent:"space-between",mt:4,mb:6,mx:{xs:2,md:8}},children:[(0,ke.jsx)(Ii,{variant:"outlined",disabled:P,onClick:()=>{if(!o||!s)return;const t=o.chapters.findIndex((e=>e.id===s.id));if(t>0){const i=o.chapters[t-1];n(`/modules/${e}/chapters/${i.id}`)}},startIcon:(0,ke.jsx)(vh,{}),sx:{visibility:P?"hidden":"visible"},children:B?B.title:"Previous"}),(0,ke.jsx)(Ii,{variant:"contained",disabled:R,onClick:E,endIcon:(0,ke.jsx)(kh,{}),sx:{visibility:R?"hidden":"visible"},children:j?j.title:"Next"})]})]}),(0,ke.jsx)(ap,{open:f,autoHideDuration:4e3,onClose:()=>b(!1),children:(0,ke.jsx)(mh,{onClose:()=>b(!1),severity:v,variant:"filled",sx:{width:"100%"},children:y})})]})};const Sg=new Array(256).fill("").map(((e,t)=>("0"+t.toString(16)).slice(-2)));function Ig(e){return!!e&&/^\d+\.\d+\.\d+/.test(e)}function Tg(e){return!!e&&["nightly","alpha","internal","nightly-","staging"].some((t=>e.includes(t)))}function Eg(e){if(!Ig(e))throw new Error(`Invalid semantic version: ${e||"<blank>"}.`);const[t,n,i]=e.split(".");return{major:Number.parseInt(t,10),minor:Number.parseInt(n,10),patch:Number.parseInt(i,10)}}function Dg(e){if(Tg(e))return 3;const{major:t}=Eg(e);switch(!0){case t>=44:return 3;case t>=38:return 2;default:return 1}}function Mg(){const{CKEDITOR_VERSION:e,CKEDITOR:t}=window;return Ig(n=e)||Tg(n)?{source:t?"cdn":"npm",version:e}:null;var n}function Pg(e,t){switch(t||=function(){const e=Mg();return e?Dg(e.version):null}()||void 0,t){case 1:case 2:return void 0===e;case 3:return"GPL"===e;default:return!1}}var Rg=Object.defineProperty,Bg=(e,t,n)=>((e,t,n)=>t in e?Rg(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n)(e,"symbol"!==typeof t?t+"":t,n);const jg=class e{constructor(e,t){Bg(this,"_lifecycle"),Bg(this,"_element"),Bg(this,"_releaseLock",null),Bg(this,"_value",null),Bg(this,"_afterMountCallbacks",[]),Bg(this,"_state",{destroyedBeforeInitialization:!1,mountingInProgress:null}),Bg(this,"release",function(e){let t=null;return function(){return t||(t={current:e(...arguments)}),t.current}}((()=>{const{_releaseLock:e,_state:t,_element:n,_lifecycle:i}=this;t.mountingInProgress?t.mountingInProgress.then((()=>i.unmount({element:n,mountResult:this.value}))).catch((e=>{console.error("Semaphore unmounting error:",e)})).then(e.resolve).then((()=>{this._value=null})):(t.destroyedBeforeInitialization=!0,e.resolve())}))),this._element=e,this._lifecycle=t,this._lock()}get value(){return this._value}unsafeSetValue(e){this._value=e,this._afterMountCallbacks.forEach((t=>t(e))),this._afterMountCallbacks=[]}runAfterMount(e){const{_value:t,_afterMountCallbacks:n}=this;t?e(t):n.push(e)}_lock(){const{_semaphores:t}=e,{_state:n,_element:i,_lifecycle:o}=this,r=t.get(i)||Promise.resolve(null),s=function(){const e={resolve:null,promise:null};return e.promise=new Promise((t=>{e.resolve=t})),e}();this._releaseLock=s;const a=r.then((()=>n.destroyedBeforeInitialization?Promise.resolve(void 0):(n.mountingInProgress=o.mount().then((e=>(e&&this.unsafeSetValue(e),e))),n.mountingInProgress))).then((async e=>{e&&o.afterMount&&await o.afterMount({element:i,mountResult:e})})).then((()=>s.promise)).catch((e=>{console.error("Semaphore mounting error:",e)})).then((()=>{t.get(i)===a&&t.delete(i)}));t.set(i,a)}};Bg(jg,"_semaphores",new Map);let Lg=jg;const zg="$__CKEditorReactContextMetadata";const Og=i.createContext(null),Ng=e=>t=>(e=>!!e&&"object"===typeof e&&"status"in e&&["initializing","initialized","error"].includes(e.status))(t)&&t.status===e,Fg=Ng("initializing"),Vg=e=>Ng("initialized")(e)&&"ready"===e.watchdog.state,Hg=(Wg="react",Ug={version:"9.5.0",frameworkVersion:i.version},function(e){Pg(e.config.get("licenseKey"))||e.on("collectUsageData",((e,t)=>{let{setUsageData:n}=t;n(`integration.${Wg}`,Ug)}))});var Wg,Ug;function qg(e){return Pg(e.licenseKey)?e:function(e,t){const n=e.extraPlugins||[];return{...e,extraPlugins:[...n,...t.filter((e=>!n.includes(e)))]}}(e,[Hg])}const $g="Lock from React integration (@ckeditor/ckeditor5-react)";class Gg extends i.Component{constructor(e){super(e),Bg(this,"domContainer",i.createRef()),Bg(this,"editorSemaphore",null),this._checkVersion()}_checkVersion(){const{CKEDITOR_VERSION:e}=window;if(!e)return console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');const[t]=e.split(".").map(Number);t>=42||e.startsWith("0.0.0")||console.warn("The <CKEditor> component requires using CKEditor 5 in version 42+ or nightly build.")}get _semaphoreValue(){const{editorSemaphore:e}=this;return e?e.value:null}get watchdog(){const{_semaphoreValue:e}=this;return e?e.watchdog:null}get editor(){const{_semaphoreValue:e}=this;return e?e.instance:null}shouldComponentUpdate(e){const{props:t,editorSemaphore:n}=this;return e.id!==t.id||(e.disableWatchdog!==t.disableWatchdog||(n&&(n.runAfterMount((n=>{let{instance:i}=n;this._shouldUpdateEditorData(t,e,i)&&i.data.set(e.data)})),"disabled"in e&&n.runAfterMount((t=>{let{instance:n}=t;e.disabled?n.enableReadOnlyMode($g):n.disableReadOnlyMode($g)}))),!1))}componentDidMount(){Fg(this.context)||this._initLifeCycleSemaphore()}componentDidUpdate(){Fg(this.context)||this._initLifeCycleSemaphore()}componentWillUnmount(){this._unlockLifeCycleSemaphore()}_unlockLifeCycleSemaphore(){this.editorSemaphore&&(this.editorSemaphore.release(),this.editorSemaphore=null)}_initLifeCycleSemaphore(){this._unlockLifeCycleSemaphore(),this.editorSemaphore=new Lg(this.domContainer.current,{mount:async()=>this._initializeEditor(),afterMount:e=>{let{mountResult:t}=e;const{onReady:n}=this.props;n&&null!==this.domContainer.current&&n(t.instance)},unmount:async e=>{let{element:t,mountResult:n}=e;const{onAfterDestroy:i}=this.props;try{await this._destroyEditor(n),t.innerHTML=""}finally{i&&i(n.instance)}}})}render(){return i.createElement("div",{ref:this.domContainer})}async _initializeEditor(){if(this.props.disableWatchdog){return{instance:await this._createEditor(this.domContainer.current,this._getConfig()),watchdog:null}}const e=(()=>Vg(this.context)?new Kg(this.context.watchdog):new this.props.editor.EditorWatchdog(this.props.editor,this.props.watchdogConfig))(),t={current:0};return e.setCreator((async(n,i)=>{var o;const{editorSemaphore:r}=this,{onAfterDestroy:s}=this.props;t.current>0&&s&&(null==(o=null==r?void 0:r.value)?void 0:o.instance)&&s(r.value.instance);const a=await this._createEditor(n,i);return r&&t.current>0&&(r.unsafeSetValue({instance:a,watchdog:e}),setTimeout((()=>{this.props.onReady&&this.props.onReady(e.editor)}))),t.current++,a})),e.on("error",((e,t)=>{let{error:n,causesRestart:i}=t;(this.props.onError||console.error)(n,{phase:"runtime",willEditorRestart:i})})),await e.create(this.domContainer.current,this._getConfig()).catch((e=>{(this.props.onError||console.error)(e,{phase:"initialization",willEditorRestart:!1})})),{watchdog:e,instance:e.editor}}_createEditor(e,t){const{contextItemMetadata:n}=this.props;return n&&(t=function(e,t){return{...t,[zg]:e}}(n,t)),this.props.editor.create(e,qg(t)).then((e=>{"disabled"in this.props&&this.props.disabled&&e.enableReadOnlyMode($g);const t=e.model.document,n=e.editing.view.document;return t.on("change:data",(t=>{this.props.onChange&&this.props.onChange(t,e)})),n.on("focus",(t=>{this.props.onFocus&&this.props.onFocus(t,e)})),n.on("blur",(t=>{this.props.onBlur&&this.props.onBlur(t,e)})),e}))}async _destroyEditor(e){const{watchdog:t,instance:n}=e;return new Promise(((e,i)=>{setTimeout((async()=>{try{if(t)return await t.destroy(),e();if(n)return await n.destroy(),e();e()}catch(FA){console.error(FA),i(FA)}}))}))}_shouldUpdateEditorData(e,t,n){return e.data!==t.data&&n.data.get()!==t.data}_getConfig(){const e=this.props.config||{};return this.props.data&&e.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `content` property. The config value takes precedence over `content` property and will be used when both are specified."),{...e,initialData:e.initialData||this.props.data||""}}}Bg(Gg,"contextType",Og);class Kg{constructor(e){Bg(this,"_contextWatchdog"),Bg(this,"_id"),Bg(this,"_creator"),this._contextWatchdog=e,this._id=function(){const[e,t,n,i]=crypto.getRandomValues(new Uint32Array(4));return"e"+Sg[255&e]+Sg[e>>8&255]+Sg[e>>16&255]+Sg[e>>24&255]+Sg[255&t]+Sg[t>>8&255]+Sg[t>>16&255]+Sg[t>>24&255]+Sg[255&n]+Sg[n>>8&255]+Sg[n>>16&255]+Sg[n>>24&255]+Sg[255&i]+Sg[i>>8&255]+Sg[i>>16&255]+Sg[i>>24&255]}()}setCreator(e){this._creator=e}create(e,t){return this._contextWatchdog.add({sourceElementOrData:e,config:t,creator:this._creator,id:this._id,type:"editor"})}on(e,t){this._contextWatchdog.on("itemError",((e,n)=>{let{itemId:i,error:o}=n;i===this._id&&t(null,{error:o,causesRestart:void 0})}))}destroy(){return"ready"===this._contextWatchdog.state?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}function Yg(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}const Qg=(0,i.memo)((0,i.forwardRef)(((e,t)=>{let{id:n,semaphore:o,rootName:r}=e;const s=(0,i.useRef)(null);return(0,i.useEffect)((()=>{let e,t;return o.runAfterMount((n=>{let{instance:i}=n;if(!s.current)return;t=i;const{ui:o,model:a}=t,l=a.document.getRoot(r);l&&t.ui.getEditableElement(r)&&t.detachEditable(l),e=o.view.createEditable(r,s.current),o.addEditable(e),i.editing.view.forceRender()})),()=>{if(t&&"destroyed"!==t.state&&s.current){const e=t.model.document.getRoot(r);e&&t.detachEditable(e)}}}),[o.revision]),i.createElement("div",{key:o.revision,id:n,ref:Yg(t,s)})})));Qg.displayName="EditorEditable";const Zg=(0,i.forwardRef)(((e,t)=>{let{editor:n}=e;const o=(0,i.useRef)(null);return(0,i.useEffect)((()=>{const e=o.current;if(!n||!e)return;const t=n.ui.view.toolbar.element;return e.appendChild(t),()=>{e.contains(t)&&e.removeChild(t)}}),[n&&n.id]),i.createElement("div",{ref:Yg(o,t)})}));Zg.displayName="EditorToolbarWrapper";var Xg=n(726),Jg=n.n(Xg);const em=()=>{const[e,t]=(0,i.useState)({id:"",title:"",description:"",image:"",level:"",duration:"",rating:"",studentsCount:"",completed:"",totalChapters:"",progress:"",updatedAt:"",lessons:"",exercises:"",students:"",topics:[""]}),[n,o]=(0,i.useState)([{title:"",difficulty:"",designCode:"",testbenchCode:""}]),[r,s]=(0,i.useState)([{id:1,title:"",description:"",estimatedTime:"",completed:!1,sections:[{id:"1.1",title:"",content:""}]}]),a=n=>{t({...e,[n.target.name]:n.target.value})},l=(e,t,n,i)=>{const o=[...r];o[e].sections[t][n]=i,s(o)};return(0,ke.jsxs)(Bt,{sx:{maxWidth:"1000px",mx:"auto",p:4},children:[(0,ke.jsx)(kn,{variant:"h4",gutterBottom:!0,children:"Module Information"}),(0,ke.jsx)(Pl,{fullWidth:!0,label:"Title",name:"title",value:e.title,onChange:a,sx:{mb:2}}),(0,ke.jsx)(Pl,{fullWidth:!0,label:"Description",name:"description",value:e.description,onChange:a,multiline:!0,rows:2,sx:{mb:2}}),(0,ke.jsx)(Pl,{fullWidth:!0,label:"Level",name:"level",value:e.level,onChange:a,sx:{mb:4}}),(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,children:"Chapters"}),r.map(((e,t)=>(0,ke.jsxs)(Bt,{border:1,borderRadius:2,p:3,mb:3,children:[(0,ke.jsx)(Pl,{fullWidth:!0,label:"Chapter Title",value:e.title,onChange:e=>{const n=[...r];n[t].title=e.target.value,s(n)},sx:{mb:2}}),(0,ke.jsx)(Pl,{fullWidth:!0,label:"Chapter Description",value:e.description,onChange:e=>{const n=[...r];n[t].description=e.target.value,s(n)},multiline:!0,rows:2,sx:{mb:2}}),e.sections.map(((e,n)=>(0,ke.jsxs)(Bt,{border:1,borderColor:"grey.300",borderRadius:2,p:2,mb:2,children:[(0,ke.jsxs)(kn,{fontWeight:600,children:["Section ",e.id]}),(0,ke.jsx)(Pl,{fullWidth:!0,label:"Section Title",value:e.title,onChange:e=>l(t,n,"title",e.target.value),sx:{mb:2}}),(0,ke.jsx)(Gg,{editor:Jg(),data:e.content||"",onChange:(e,i)=>((e,t,n,i)=>{const o=i.getData();l(e,t,"content",o)})(t,n,0,i)}),e.content&&(0,ke.jsxs)(Bt,{mt:2,children:[(0,ke.jsx)(kn,{fontWeight:500,children:"Preview:"}),(0,ke.jsx)(Bt,{mt:1,p:2,border:1,borderRadius:2,bgcolor:"#f9f9f9",dangerouslySetInnerHTML:{__html:e.content}})]})]},e.id))),(0,ke.jsx)(Ii,{onClick:()=>(e=>{const t=[...r],n=t[e],i=`${n.id}.${n.sections.length+1}`;n.sections.push({id:i,title:"",content:""}),s(t)})(t),children:"+ Add Section"})]},e.id))),(0,ke.jsx)(Ii,{variant:"contained",onClick:()=>{const e=r.length+1;s([...r,{id:e,title:"",description:"",estimatedTime:"",completed:!1,sections:[{id:`${e}.1`,title:"",content:""}]}])},children:"+ Add Chapter"}),(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,mt:6,children:"Code Examples"}),n.map(((e,t)=>(0,ke.jsxs)(Bt,{border:1,borderRadius:2,p:3,mb:3,children:[(0,ke.jsx)(Pl,{fullWidth:!0,label:"Title",value:e.title,onChange:e=>{const i=[...n];i[t].title=e.target.value,o(i)},sx:{mb:2}}),(0,ke.jsx)(Pl,{fullWidth:!0,label:"Difficulty",value:e.difficulty,onChange:e=>{const i=[...n];i[t].difficulty=e.target.value,o(i)},sx:{mb:2}}),(0,ke.jsx)(Pl,{fullWidth:!0,label:"Design Code",value:e.designCode,onChange:e=>{const i=[...n];i[t].designCode=e.target.value,o(i)},multiline:!0,rows:4,sx:{mb:2}}),(0,ke.jsx)(Pl,{fullWidth:!0,label:"Testbench Code",value:e.testbenchCode,onChange:e=>{const i=[...n];i[t].testbenchCode=e.target.value,o(i)},multiline:!0,rows:4})]},t))),(0,ke.jsx)(Ii,{variant:"outlined",onClick:()=>{o([...n,{title:"",difficulty:"",designCode:"",testbenchCode:""}])},children:"+ Add Code Example"})]})},tm=["className","component","disableGutters","fixed","maxWidth","classes"],nm=(0,Ie.A)(),im=Fh("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${(0,gn.A)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),om=e=>Hh({props:e,name:"MuiContainer",defaultTheme:nm});const rm=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{createStyledComponent:t=im,useThemeProps:n=om,componentName:o="MuiContainer"}=e,r=t((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}})}),(e=>{let{theme:t,ownerState:n}=e;return n.fixed&&Object.keys(t.breakpoints.values).reduce(((e,n)=>{const i=n,o=t.breakpoints.values[i];return 0!==o&&(e[t.breakpoints.up(i)]={maxWidth:`${o}${t.breakpoints.unit}`}),e}),{})}),(e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({},"xs"===n.maxWidth&&{[t.breakpoints.up("xs")]:{maxWidth:Math.max(t.breakpoints.values.xs,444)}},n.maxWidth&&"xs"!==n.maxWidth&&{[t.breakpoints.up(n.maxWidth)]:{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`}})})),s=i.forwardRef((function(e,t){const i=n(e),{className:s,component:a="div",disableGutters:l=!1,fixed:c=!1,maxWidth:d="lg"}=i,u=(0,Re.A)(i,tm),p=(0,we.A)({},i,{component:a,disableGutters:l,fixed:c,maxWidth:d}),h=((e,t)=>{const{classes:n,fixed:i,disableGutters:o,maxWidth:r}=e;return cn({root:["root",r&&`maxWidth${(0,gn.A)(String(r))}`,i&&"fixed",o&&"disableGutters"]},(e=>Et(t,e)),n)})(p,o);return(0,ke.jsx)(r,(0,we.A)({as:a,ownerState:p,className:_t(h.root,s),ref:t},u))}));return s}({createStyledComponent:hn("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${mn(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>Ce({props:e,name:"MuiContainer"})}),sm=rm,am=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],lm={entering:{transform:"none"},entered:{transform:"none"}},cm=i.forwardRef((function(e,t){const n=Ei(),o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:r,appear:s=!0,children:a,easing:l,in:c,onEnter:d,onEntered:u,onEntering:p,onExit:h,onExited:g,onExiting:m,style:f,timeout:b=o,TransitionComponent:y=Ks}=e,w=(0,Re.A)(e,am),v=i.useRef(null),k=An(v,ms(a),t),_=e=>t=>{if(e){const n=v.current;void 0===t?e(n):e(n,t)}},x=_(p),A=_(((e,t)=>{Ys(e);const i=Qs({style:f,timeout:b,easing:l},{mode:"enter"});e.style.webkitTransition=n.transitions.create("transform",i),e.style.transition=n.transitions.create("transform",i),d&&d(e,t)})),C=_(u),S=_(m),I=_((e=>{const t=Qs({style:f,timeout:b,easing:l},{mode:"exit"});e.style.webkitTransition=n.transitions.create("transform",t),e.style.transition=n.transitions.create("transform",t),h&&h(e)})),T=_(g);return(0,ke.jsx)(y,(0,we.A)({appear:s,in:c,nodeRef:v,onEnter:A,onEntered:C,onEntering:x,onExit:I,onExited:T,onExiting:S,addEndListener:e=>{r&&r(v.current,e)},timeout:b},w,{children:(e,t)=>i.cloneElement(a,(0,we.A)({style:(0,we.A)({transform:"scale(0)",visibility:"exited"!==e||c?void 0:"hidden"},lm[e],f,a.props.style),ref:k},t))}))})),dm=cm,um=e=>{const t=i.useRef({});return i.useEffect((()=>{t.current=e})),t.current};const pm=function(e){const{badgeContent:t,invisible:n=!1,max:i=99,showZero:o=!1}=e,r=um({badgeContent:t,max:i});let s=n;!1!==n||0!==t||o||(s=!0);const{badgeContent:a,max:l=i}=s?r:e;return{badgeContent:a,invisible:s,max:l,displayValue:a&&Number(a)>l?`${l}+`:a}};function hm(e){return Et("MuiBadge",e)}const gm=Dt("MuiBadge",["root","badge","dot","standard","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft","invisible","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","overlapRectangular","overlapCircular","anchorOriginTopLeftCircular","anchorOriginTopLeftRectangular","anchorOriginTopRightCircular","anchorOriginTopRightRectangular","anchorOriginBottomLeftCircular","anchorOriginBottomLeftRectangular","anchorOriginBottomRightCircular","anchorOriginBottomRightRectangular"]),mm=["anchorOrigin","className","classes","component","components","componentsProps","children","overlap","color","invisible","max","badgeContent","slots","slotProps","showZero","variant"],fm=hn("span",{name:"MuiBadge",slot:"Root",overridesResolver:(e,t)=>t.root})({position:"relative",display:"inline-flex",verticalAlign:"middle",flexShrink:0}),bm=hn("span",{name:"MuiBadge",slot:"Badge",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.badge,t[n.variant],t[`anchorOrigin${mn(n.anchorOrigin.vertical)}${mn(n.anchorOrigin.horizontal)}${mn(n.overlap)}`],"default"!==n.color&&t[`color${mn(n.color)}`],n.invisible&&t.invisible]}})((e=>{let{theme:t}=e;var n;return{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"center",alignContent:"center",alignItems:"center",position:"absolute",boxSizing:"border-box",fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(12),minWidth:20,lineHeight:1,padding:"0 6px",height:20,borderRadius:10,zIndex:1,transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.enteringScreen}),variants:[...Object.keys((null!=(n=t.vars)?n:t).palette).filter((e=>{var n,i;return(null!=(n=t.vars)?n:t).palette[e].main&&(null!=(i=t.vars)?i:t).palette[e].contrastText})).map((e=>({props:{color:e},style:{backgroundColor:(t.vars||t).palette[e].main,color:(t.vars||t).palette[e].contrastText}}))),{props:{variant:"dot"},style:{borderRadius:4,height:8,minWidth:8,padding:0}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,right:0,transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${gm.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,right:0,transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${gm.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{top:0,left:0,transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${gm.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"rectangular"===t.overlap},style:{bottom:0,left:0,transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${gm.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",right:"14%",transform:"scale(1) translate(50%, -50%)",transformOrigin:"100% 0%",[`&.${gm.invisible}`]:{transform:"scale(0) translate(50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"right"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",right:"14%",transform:"scale(1) translate(50%, 50%)",transformOrigin:"100% 100%",[`&.${gm.invisible}`]:{transform:"scale(0) translate(50%, 50%)"}}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{top:"14%",left:"14%",transform:"scale(1) translate(-50%, -50%)",transformOrigin:"0% 0%",[`&.${gm.invisible}`]:{transform:"scale(0) translate(-50%, -50%)"}}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchorOrigin.vertical&&"left"===t.anchorOrigin.horizontal&&"circular"===t.overlap},style:{bottom:"14%",left:"14%",transform:"scale(1) translate(-50%, 50%)",transformOrigin:"0% 100%",[`&.${gm.invisible}`]:{transform:"scale(0) translate(-50%, 50%)"}}},{props:{invisible:!0},style:{transition:t.transitions.create("transform",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.leavingScreen})}}]}})),ym=i.forwardRef((function(e,t){var n,i,o,r,s,a;const l=Ce({props:e,name:"MuiBadge"}),{anchorOrigin:c={vertical:"top",horizontal:"right"},className:d,component:u,components:p={},componentsProps:h={},children:g,overlap:m="rectangular",color:f="default",invisible:b=!1,max:y=99,badgeContent:w,slots:v,slotProps:k,showZero:_=!1,variant:x="standard"}=l,A=(0,Re.A)(l,mm),{badgeContent:C,invisible:S,max:I,displayValue:T}=pm({max:y,invisible:b,badgeContent:w,showZero:_}),E=um({anchorOrigin:c,color:f,overlap:m,variant:x,badgeContent:w}),D=S||null==C&&"dot"!==x,{color:M=f,overlap:P=m,anchorOrigin:R=c,variant:B=x}=D?E:l,j="dot"!==B?T:void 0,L=(0,we.A)({},l,{badgeContent:C,invisible:D,max:I,displayValue:j,showZero:_,anchorOrigin:R,color:M,overlap:P,variant:B}),z=(e=>{const{color:t,anchorOrigin:n,invisible:i,overlap:o,variant:r,classes:s={}}=e;return cn({root:["root"],badge:["badge",r,i&&"invisible",`anchorOrigin${mn(n.vertical)}${mn(n.horizontal)}`,`anchorOrigin${mn(n.vertical)}${mn(n.horizontal)}${mn(o)}`,`overlap${mn(o)}`,"default"!==t&&`color${mn(t)}`]},hm,s)})(L),O=null!=(n=null!=(i=null==v?void 0:v.root)?i:p.Root)?n:fm,N=null!=(o=null!=(r=null==v?void 0:v.badge)?r:p.Badge)?o:bm,F=null!=(s=null==k?void 0:k.root)?s:h.root,V=null!=(a=null==k?void 0:k.badge)?a:h.badge,H=xs({elementType:O,externalSlotProps:F,externalForwardedProps:A,additionalProps:{ref:t,as:u},ownerState:L,className:_t(null==F?void 0:F.className,z.root,d)}),W=xs({elementType:N,externalSlotProps:V,ownerState:L,className:_t(z.badge,null==V?void 0:V.className)});return(0,ke.jsxs)(O,(0,we.A)({},H,{children:[g,(0,ke.jsx)(N,(0,we.A)({},W,{children:j}))]}))}));function wm(e){return Et("MuiListItemAvatar",e)}Dt("MuiListItemAvatar",["root","alignItemsFlexStart"]);const vm=["className"],km=hn("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((e=>{let{ownerState:t}=e;return(0,we.A)({minWidth:56,flexShrink:0},"flex-start"===t.alignItems&&{marginTop:8})})),_m=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiListItemAvatar"}),{className:o}=n,r=(0,Re.A)(n,vm),s=i.useContext(As),a=(0,we.A)({},n,{alignItems:s.alignItems}),l=(e=>{const{alignItems:t,classes:n}=e;return cn({root:["root","flex-start"===t&&"alignItemsFlexStart"]},wm,n)})(a);return(0,ke.jsx)(km,(0,we.A)({className:_t(l.root,o),ownerState:a,ref:t},r))})),xm=vo((0,ke.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Am(e){return Et("MuiAvatar",e)}Dt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Cm=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],Sm=hn("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,we.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,we.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),Im=hn("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Tm=hn(xm,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const Em=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiAvatar"}),{alt:o,children:r,className:s,component:a="div",slots:l={},slotProps:c={},imgProps:d,sizes:u,src:p,srcSet:h,variant:g="circular"}=n,m=(0,Re.A)(n,Cm);let f=null;const b=function(e){let{crossOrigin:t,referrerPolicy:n,src:o,srcSet:r}=e;const[s,a]=i.useState(!1);return i.useEffect((()=>{if(!o&&!r)return;a(!1);let e=!0;const i=new Image;return i.onload=()=>{e&&a("loaded")},i.onerror=()=>{e&&a("error")},i.crossOrigin=t,i.referrerPolicy=n,i.src=o,r&&(i.srcset=r),()=>{e=!1}}),[t,n,o,r]),s}((0,we.A)({},d,{src:p,srcSet:h})),y=p||h,w=y&&"error"!==b,v=(0,we.A)({},n,{colorDefault:!w,component:a,variant:g}),k=(e=>{const{classes:t,variant:n,colorDefault:i}=e;return cn({root:["root",n,i&&"colorDefault"],img:["img"],fallback:["fallback"]},Am,t)})(v),[_,x]=Du("img",{className:k.img,elementType:Im,externalForwardedProps:{slots:l,slotProps:{img:(0,we.A)({},d,c.img)}},additionalProps:{alt:o,src:p,srcSet:h,sizes:u},ownerState:v});return f=w?(0,ke.jsx)(_,(0,we.A)({},x)):r||0===r?r:y&&o?o[0]:(0,ke.jsx)(Tm,{ownerState:v,className:k.fallback}),(0,ke.jsx)(Sm,(0,we.A)({as:a,ownerState:v,className:_t(k.root,s),ref:t},m,{children:f}))}));function Dm(e){return Et("MuiCardActions",e)}Dt("MuiCardActions",["root","spacing"]);const Mm=["disableSpacing","className"],Pm=hn("div",{name:"MuiCardActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,we.A)({display:"flex",alignItems:"center",padding:8},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),Rm=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiCardActions"}),{disableSpacing:i=!1,className:o}=n,r=(0,Re.A)(n,Mm),s=(0,we.A)({},n,{disableSpacing:i}),a=(e=>{const{classes:t,disableSpacing:n}=e;return cn({root:["root",!n&&"spacing"]},Dm,t)})(s);return(0,ke.jsx)(Pm,(0,we.A)({className:_t(a.root,o),ownerState:s,ref:t},r))}));function Bm(e){return Et("MuiDialog",e)}const jm=Dt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);const Lm=i.createContext({}),zm=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],Om=hn(ma,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),Nm=hn(Ea,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),Fm=hn("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.container,t[`scroll${mn(n.scroll)}`]]}})((e=>{let{ownerState:t}=e;return(0,we.A)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),Vm=hn($i,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t[`scrollPaper${mn(n.scroll)}`],t[`paperWidth${mn(String(n.maxWidth))}`],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${jm.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:`${t.breakpoints.values[n.maxWidth]}${t.breakpoints.unit}`,[`&.${jm.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${jm.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})})),Hm=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiDialog"}),o=Ei(),r={enter:o.transitions.duration.enteringScreen,exit:o.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:c,children:d,className:u,disableEscapeKeyDown:p=!1,fullScreen:h=!1,fullWidth:g=!1,maxWidth:m="sm",onBackdropClick:f,onClick:b,onClose:y,open:w,PaperComponent:v=$i,PaperProps:k={},scroll:_="paper",TransitionComponent:x=ua,transitionDuration:A=r,TransitionProps:C}=n,S=(0,Re.A)(n,zm),I=(0,we.A)({},n,{disableEscapeKeyDown:p,fullScreen:h,fullWidth:g,maxWidth:m,scroll:_}),T=(e=>{const{classes:t,scroll:n,maxWidth:i,fullWidth:o,fullScreen:r}=e;return cn({root:["root"],container:["container",`scroll${mn(n)}`],paper:["paper",`paperScroll${mn(n)}`,`paperWidth${mn(String(i))}`,o&&"paperFullWidth",r&&"paperFullScreen"]},Bm,t)})(I),E=i.useRef(),D=Yo(a),M=i.useMemo((()=>({titleId:D})),[D]);return(0,ke.jsx)(Nm,(0,we.A)({className:_t(T.root,u),closeAfterTransition:!0,components:{Backdrop:Om},componentsProps:{backdrop:(0,we.A)({transitionDuration:A,as:l},c)},disableEscapeKeyDown:p,onClose:y,open:w,ref:t,onClick:e=>{b&&b(e),E.current&&(E.current=null,f&&f(e),y&&y(e,"backdropClick"))},ownerState:I},S,{children:(0,ke.jsx)(x,(0,we.A)({appear:!0,in:w,timeout:A,role:"presentation"},C,{children:(0,ke.jsx)(Fm,{className:_t(T.container),onMouseDown:e=>{E.current=e.target===e.currentTarget},ownerState:I,children:(0,ke.jsx)(Vm,(0,we.A)({as:v,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":D},k,{className:_t(T.paper,k.className),ownerState:I,children:(0,ke.jsx)(Lm.Provider,{value:M,children:d})}))})}))}))})),Wm=Hm;function Um(e){return Et("MuiDialogTitle",e)}const qm=Dt("MuiDialogTitle",["root"]),$m=["className","id"],Gm=hn(kn,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),Km=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiDialogTitle"}),{className:o,id:r}=n,s=(0,Re.A)(n,$m),a=n,l=(e=>{const{classes:t}=e;return cn({root:["root"]},Um,t)})(a),{titleId:c=r}=i.useContext(Lm);return(0,ke.jsx)(Gm,(0,we.A)({component:"h2",className:_t(l.root,o),ownerState:a,ref:t,variant:"h6",id:null!=r?r:c},s))}));function Ym(e){return Et("MuiDialogContent",e)}Dt("MuiDialogContent",["root","dividers"]);const Qm=["className","dividers"],Zm=hn("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dividers&&t.dividers]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${qm.root} + &`]:{paddingTop:0}})})),Xm=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1}=n,r=(0,Re.A)(n,Qm),s=(0,we.A)({},n,{dividers:o}),a=(e=>{const{classes:t,dividers:n}=e;return cn({root:["root",n&&"dividers"]},Ym,t)})(s);return(0,ke.jsx)(Zm,(0,we.A)({className:_t(a.root,i),ownerState:s,ref:t},r))}));function Jm(e){return Et("MuiDialogActions",e)}Dt("MuiDialogActions",["root","spacing"]);const ef=["className","disableSpacing"],tf=hn("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableSpacing&&t.spacing]}})((e=>{let{ownerState:t}=e;return(0,we.A)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),nf=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1}=n,r=(0,Re.A)(n,ef),s=(0,we.A)({},n,{disableSpacing:o}),a=(e=>{const{classes:t,disableSpacing:n}=e;return cn({root:["root",!n&&"spacing"]},Jm,t)})(s);return(0,ke.jsx)(tf,(0,we.A)({className:_t(a.root,i),ownerState:s,ref:t},r))})),of=vo((0,ke.jsx)("path",{d:"M14.69 2.21 4.33 11.49c-.64.58-.28 1.65.58 1.73L13 14l-4.85 6.76c-.22.31-.19.74.08 1.01.3.3.77.31 1.08.02l10.36-9.28c.64-.58.28-1.65-.58-1.73L11 10l4.85-6.76c.22-.31.19-.74-.08-1.01-.3-.3-.77-.31-1.08-.02"}),"ElectricBolt"),rf=vo((0,ke.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),sf=vo((0,ke.jsx)("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8z"}),"Login"),af=vo((0,ke.jsx)("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61"}),"FilterAlt"),lf=vo((0,ke.jsx)("path",{d:"M1 21h4V9H1zm22-11c0-1.1-.9-2-2-2h-6.31l.95-4.57.03-.32c0-.41-.17-.79-.44-1.06L14.17 1 7.59 7.59C7.22 7.95 7 8.45 7 9v10c0 1.1.9 2 2 2h9c.83 0 1.54-.5 1.84-1.22l3.02-7.05c.09-.23.14-.47.14-.73z"}),"ThumbUp"),cf=vo((0,ke.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Comment"),df=vo((0,ke.jsx)("path",{d:"M21 6h-2v9H6v2c0 .55.45 1 1 1h11l4 4V7c0-.55-.45-1-1-1m-4 6V3c0-.55-.45-1-1-1H3c-.55 0-1 .45-1 1v14l4-4h10c.55 0 1-.45 1-1"}),"QuestionAnswer"),uf=vo((0,ke.jsx)("path",{d:"M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92"}),"Share"),pf=vo((0,ke.jsx)("path",{d:"M20 10V8h-4V4h-2v4h-4V4H8v4H4v2h4v4H4v2h4v4h2v-4h4v4h2v-4h4v-2h-4v-4zm-6 4h-4v-4h4z"}),"Tag"),hf=vo((0,ke.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send");function gf(e,t){return function(){return e.apply(t,arguments)}}const{toString:mf}=Object.prototype,{getPrototypeOf:ff}=Object,bf=(yf=Object.create(null),e=>{const t=mf.call(e);return yf[t]||(yf[t]=t.slice(8,-1).toLowerCase())});var yf;const wf=e=>(e=e.toLowerCase(),t=>bf(t)===e),vf=e=>t=>typeof t===e,{isArray:kf}=Array,_f=vf("undefined");const xf=wf("ArrayBuffer");const Af=vf("string"),Cf=vf("function"),Sf=vf("number"),If=e=>null!==e&&"object"===typeof e,Tf=e=>{if("object"!==bf(e))return!1;const t=ff(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ef=wf("Date"),Df=wf("File"),Mf=wf("Blob"),Pf=wf("FileList"),Rf=wf("URLSearchParams"),[Bf,jf,Lf,zf]=["ReadableStream","Request","Response","Headers"].map(wf);function Of(e,t){let n,i,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),kf(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=o?Object.getOwnPropertyNames(e):Object.keys(e),r=i.length;let s;for(n=0;n<r;n++)s=i[n],t.call(null,e[s],s,e)}}function Nf(e,t){t=t.toLowerCase();const n=Object.keys(e);let i,o=n.length;for(;o-- >0;)if(i=n[o],t===i.toLowerCase())return i;return null}const Ff="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Vf=e=>!_f(e)&&e!==Ff;const Hf=(Wf="undefined"!==typeof Uint8Array&&ff(Uint8Array),e=>Wf&&e instanceof Wf);var Wf;const Uf=wf("HTMLFormElement"),qf=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),$f=wf("RegExp"),Gf=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),i={};Of(n,((n,o)=>{let r;!1!==(r=t(n,o,e))&&(i[o]=r||n)})),Object.defineProperties(e,i)};const Kf=wf("AsyncFunction"),Yf=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,i=[],Ff.addEventListener("message",(e=>{let{source:t,data:o}=e;t===Ff&&o===n&&i.length&&i.shift()()}),!1),e=>{i.push(e),Ff.postMessage(n,"*")}):e=>setTimeout(e);var n,i})("function"===typeof setImmediate,Cf(Ff.postMessage)),Qf="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Ff):"undefined"!==typeof process&&process.nextTick||Yf,Zf={isArray:kf,isArrayBuffer:xf,isBuffer:function(e){return null!==e&&!_f(e)&&null!==e.constructor&&!_f(e.constructor)&&Cf(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Cf(e.append)&&("formdata"===(t=bf(e))||"object"===t&&Cf(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&xf(e.buffer),t},isString:Af,isNumber:Sf,isBoolean:e=>!0===e||!1===e,isObject:If,isPlainObject:Tf,isReadableStream:Bf,isRequest:jf,isResponse:Lf,isHeaders:zf,isUndefined:_f,isDate:Ef,isFile:Df,isBlob:Mf,isRegExp:$f,isFunction:Cf,isStream:e=>If(e)&&Cf(e.pipe),isURLSearchParams:Rf,isTypedArray:Hf,isFileList:Pf,forEach:Of,merge:function e(){const{caseless:t}=Vf(this)&&this||{},n={},i=(i,o)=>{const r=t&&Nf(n,o)||o;Tf(n[r])&&Tf(i)?n[r]=e(n[r],i):Tf(i)?n[r]=e({},i):kf(i)?n[r]=i.slice():n[r]=i};for(let o=0,r=arguments.length;o<r;o++)arguments[o]&&Of(arguments[o],i);return n},extend:function(e,t,n){let{allOwnKeys:i}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Of(t,((t,i)=>{n&&Cf(t)?e[i]=gf(t,n):e[i]=t}),{allOwnKeys:i}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,i)=>{let o,r,s;const a={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),r=o.length;r-- >0;)s=o[r],i&&!i(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&ff(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:bf,kindOfTest:wf,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const i=e.indexOf(t,n);return-1!==i&&i===n},toArray:e=>{if(!e)return null;if(kf(e))return e;let t=e.length;if(!Sf(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=n.next())&&!i.done;){const n=i.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const i=[];for(;null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:Uf,hasOwnProperty:qf,hasOwnProp:qf,reduceDescriptors:Gf,freezeMethods:e=>{Gf(e,((t,n)=>{if(Cf(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const i=e[n];Cf(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},i=e=>{e.forEach((e=>{n[e]=!0}))};return kf(e)?i(e):i(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Nf,global:Ff,isContextDefined:Vf,isSpecCompliantForm:function(e){return!!(e&&Cf(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,i)=>{if(If(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const o=kf(e)?[]:{};return Of(e,((e,t)=>{const r=n(e,i+1);!_f(r)&&(o[t]=r)})),t[i]=void 0,o}}return e};return n(e,0)},isAsyncFn:Kf,isThenable:e=>e&&(If(e)||Cf(e))&&Cf(e.then)&&Cf(e.catch),setImmediate:Yf,asap:Qf};function Xf(e,t,n,i,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),o&&(this.response=o,this.status=o.status?o.status:null)}Zf.inherits(Xf,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Zf.toJSONObject(this.config),code:this.code,status:this.status}}});const Jf=Xf.prototype,eb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{eb[e]={value:e}})),Object.defineProperties(Xf,eb),Object.defineProperty(Jf,"isAxiosError",{value:!0}),Xf.from=(e,t,n,i,o,r)=>{const s=Object.create(Jf);return Zf.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Xf.call(s,e.message,t,n,i,o),s.cause=e,s.name=e.name,r&&Object.assign(s,r),s};const tb=Xf;function nb(e){return Zf.isPlainObject(e)||Zf.isArray(e)}function ib(e){return Zf.endsWith(e,"[]")?e.slice(0,-2):e}function ob(e,t,n){return e?e.concat(t).map((function(e,t){return e=ib(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const rb=Zf.toFlatObject(Zf,{},null,(function(e){return/^is[A-Z]/.test(e)}));const sb=function(e,t,n){if(!Zf.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(n=Zf.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Zf.isUndefined(t[e])}))).metaTokens,o=n.visitor||c,r=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&Zf.isSpecCompliantForm(t);if(!Zf.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Zf.isDate(e))return e.toISOString();if(!a&&Zf.isBlob(e))throw new tb("Blob is not supported. Use a Buffer instead.");return Zf.isArrayBuffer(e)||Zf.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,o){let a=e;if(e&&!o&&"object"===typeof e)if(Zf.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(Zf.isArray(e)&&function(e){return Zf.isArray(e)&&!e.some(nb)}(e)||(Zf.isFileList(e)||Zf.endsWith(n,"[]"))&&(a=Zf.toArray(e)))return n=ib(n),a.forEach((function(e,i){!Zf.isUndefined(e)&&null!==e&&t.append(!0===s?ob([n],i,r):null===s?n:n+"[]",l(e))})),!1;return!!nb(e)||(t.append(ob(o,n,r),l(e)),!1)}const d=[],u=Object.assign(rb,{defaultVisitor:c,convertValue:l,isVisitable:nb});if(!Zf.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!Zf.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+i.join("."));d.push(n),Zf.forEach(n,(function(n,r){!0===(!(Zf.isUndefined(n)||null===n)&&o.call(t,n,Zf.isString(r)?r.trim():r,i,u))&&e(n,i?i.concat(r):[r])})),d.pop()}}(e),t};function ab(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function lb(e,t){this._pairs=[],e&&sb(e,this,t)}const cb=lb.prototype;cb.append=function(e,t){this._pairs.push([e,t])},cb.toString=function(e){const t=e?function(t){return e.call(this,t,ab)}:ab;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const db=lb;function ub(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pb(e,t,n){if(!t)return e;const i=n&&n.encode||ub;Zf.isFunction(n)&&(n={serialize:n});const o=n&&n.serialize;let r;if(r=o?o(t,n):Zf.isURLSearchParams(t)?t.toString():new db(t,n).toString(i),r){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}const hb=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Zf.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},gb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mb={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:db,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},fb="undefined"!==typeof window&&"undefined"!==typeof document,bb="object"===typeof navigator&&navigator||void 0,yb=fb&&(!bb||["ReactNative","NativeScript","NS"].indexOf(bb.product)<0),wb="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,vb=fb&&window.location.href||"http://localhost",kb={...e,...mb};const _b=function(e){function t(e,n,i,o){let r=e[o++];if("__proto__"===r)return!0;const s=Number.isFinite(+r),a=o>=e.length;if(r=!r&&Zf.isArray(i)?i.length:r,a)return Zf.hasOwnProp(i,r)?i[r]=[i[r],n]:i[r]=n,!s;i[r]&&Zf.isObject(i[r])||(i[r]=[]);return t(e,n,i[r],o)&&Zf.isArray(i[r])&&(i[r]=function(e){const t={},n=Object.keys(e);let i;const o=n.length;let r;for(i=0;i<o;i++)r=n[i],t[r]=e[r];return t}(i[r])),!s}if(Zf.isFormData(e)&&Zf.isFunction(e.entries)){const n={};return Zf.forEachEntry(e,((e,i)=>{t(function(e){return Zf.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,n,0)})),n}return null};const xb={transitional:gb,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",i=n.indexOf("application/json")>-1,o=Zf.isObject(e);o&&Zf.isHTMLForm(e)&&(e=new FormData(e));if(Zf.isFormData(e))return i?JSON.stringify(_b(e)):e;if(Zf.isArrayBuffer(e)||Zf.isBuffer(e)||Zf.isStream(e)||Zf.isFile(e)||Zf.isBlob(e)||Zf.isReadableStream(e))return e;if(Zf.isArrayBufferView(e))return e.buffer;if(Zf.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let r;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return sb(e,new kb.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return kb.isNode&&Zf.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((r=Zf.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return sb(r?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),function(e,t,n){if(Zf.isString(e))try{return(t||JSON.parse)(e),Zf.trim(e)}catch(FA){if("SyntaxError"!==FA.name)throw FA}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||xb.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(Zf.isResponse(e)||Zf.isReadableStream(e))return e;if(e&&Zf.isString(e)&&(n&&!this.responseType||i)){const n=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(FA){if(n){if("SyntaxError"===FA.name)throw tb.from(FA,tb.ERR_BAD_RESPONSE,this,null,this.response);throw FA}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kb.classes.FormData,Blob:kb.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Zf.forEach(["delete","get","head","post","put","patch"],(e=>{xb.headers[e]={}}));const Ab=xb,Cb=Zf.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Sb=Symbol("internals");function Ib(e){return e&&String(e).trim().toLowerCase()}function Tb(e){return!1===e||null==e?e:Zf.isArray(e)?e.map(Tb):String(e)}function Eb(e,t,n,i,o){return Zf.isFunction(i)?i.call(this,t,n):(o&&(t=n),Zf.isString(t)?Zf.isString(i)?-1!==t.indexOf(i):Zf.isRegExp(i)?i.test(t):void 0:void 0)}class Db{constructor(e){e&&this.set(e)}set(e,t,n){const i=this;function o(e,t,n){const o=Ib(t);if(!o)throw new Error("header name must be a non-empty string");const r=Zf.findKey(i,o);(!r||void 0===i[r]||!0===n||void 0===n&&!1!==i[r])&&(i[r||t]=Tb(e))}const r=(e,t)=>Zf.forEach(e,((e,n)=>o(e,n,t)));if(Zf.isPlainObject(e)||e instanceof this.constructor)r(e,t);else if(Zf.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))r((e=>{const t={};let n,i,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),i=e.substring(o+1).trim(),!n||t[n]&&Cb[n]||("set-cookie"===n?t[n]?t[n].push(i):t[n]=[i]:t[n]=t[n]?t[n]+", "+i:i)})),t})(e),t);else if(Zf.isHeaders(e))for(const[s,a]of e.entries())o(a,s,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=Ib(e)){const n=Zf.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(e);)t[i[1]]=i[2];return t}(e);if(Zf.isFunction(t))return t.call(this,e,n);if(Zf.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ib(e)){const n=Zf.findKey(this,e);return!(!n||void 0===this[n]||t&&!Eb(0,this[n],n,t))}return!1}delete(e,t){const n=this;let i=!1;function o(e){if(e=Ib(e)){const o=Zf.findKey(n,e);!o||t&&!Eb(0,n[o],o,t)||(delete n[o],i=!0)}}return Zf.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let n=t.length,i=!1;for(;n--;){const o=t[n];e&&!Eb(0,this[o],o,e,!0)||(delete this[o],i=!0)}return i}normalize(e){const t=this,n={};return Zf.forEach(this,((i,o)=>{const r=Zf.findKey(n,o);if(r)return t[r]=Tb(i),void delete t[o];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();s!==o&&delete t[o],t[s]=Tb(i),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return Zf.forEach(this,((n,i)=>{null!=n&&!1!==n&&(t[i]=e&&Zf.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return i.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[Sb]=this[Sb]={accessors:{}}).accessors,n=this.prototype;function i(e){const i=Ib(e);t[i]||(!function(e,t){const n=Zf.toCamelCase(" "+t);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+n,{value:function(e,n,o){return this[i].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[i]=!0)}return Zf.isArray(e)?e.forEach(i):i(e),this}}Db.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Zf.reduceDescriptors(Db.prototype,((e,t)=>{let{value:n}=e,i=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[i]=e}}})),Zf.freezeMethods(Db);const Mb=Db;function Pb(e,t){const n=this||Ab,i=t||n,o=Mb.from(i.headers);let r=i.data;return Zf.forEach(e,(function(e){r=e.call(n,r,o.normalize(),t?t.status:void 0)})),o.normalize(),r}function Rb(e){return!(!e||!e.__CANCEL__)}function Bb(e,t,n){tb.call(this,null==e?"canceled":e,tb.ERR_CANCELED,t,n),this.name="CanceledError"}Zf.inherits(Bb,tb,{__CANCEL__:!0});const jb=Bb;function Lb(e,t,n){const i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new tb("Request failed with status code "+n.status,[tb.ERR_BAD_REQUEST,tb.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const zb=function(e,t){e=e||10;const n=new Array(e),i=new Array(e);let o,r=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=i[s];o||(o=l),n[r]=a,i[r]=l;let d=s,u=0;for(;d!==r;)u+=n[d++],d%=e;if(r=(r+1)%e,r===s&&(s=(s+1)%e),l-o<t)return;const p=c&&l-c;return p?Math.round(1e3*u/p):void 0}};const Ob=function(e,t){let n,i,o=0,r=1e3/t;const s=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=r,n=null,i&&(clearTimeout(i),i=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=r?s(l,e):(n=l,i||(i=setTimeout((()=>{i=null,s(n)}),r-t)))},()=>n&&s(n)]},Nb=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0;const o=zb(50,250);return Ob((n=>{const r=n.loaded,s=n.lengthComputable?n.total:void 0,a=r-i,l=o(a);i=r;e({loaded:r,total:s,progress:s?r/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&r<=s?(s-r)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},Fb=(e,t)=>{const n=null!=e;return[i=>t[0]({lengthComputable:n,total:e,loaded:i}),t[1]]},Vb=e=>function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return Zf.asap((()=>e(...n)))},Hb=kb.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,kb.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(kb.origin),kb.navigator&&/(msie|trident)/i.test(kb.navigator.userAgent)):()=>!0,Wb=kb.hasStandardBrowserEnv?{write(e,t,n,i,o,r){const s=[e+"="+encodeURIComponent(t)];Zf.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Zf.isString(i)&&s.push("path="+i),Zf.isString(o)&&s.push("domain="+o),!0===r&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ub(e,t,n){let i=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(i||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const qb=e=>e instanceof Mb?{...e}:e;function $b(e,t){t=t||{};const n={};function i(e,t,n,i){return Zf.isPlainObject(e)&&Zf.isPlainObject(t)?Zf.merge.call({caseless:i},e,t):Zf.isPlainObject(t)?Zf.merge({},t):Zf.isArray(t)?t.slice():t}function o(e,t,n,o){return Zf.isUndefined(t)?Zf.isUndefined(e)?void 0:i(void 0,e,0,o):i(e,t,0,o)}function r(e,t){if(!Zf.isUndefined(t))return i(void 0,t)}function s(e,t){return Zf.isUndefined(t)?Zf.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function a(n,o,r){return r in t?i(n,o):r in e?i(void 0,n):void 0}const l={url:r,method:r,data:r,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,n)=>o(qb(e),qb(t),0,!0)};return Zf.forEach(Object.keys(Object.assign({},e,t)),(function(i){const r=l[i]||o,s=r(e[i],t[i],i);Zf.isUndefined(s)&&r!==a||(n[i]=s)})),n}const Gb=e=>{const t=$b({},e);let n,{data:i,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=Mb.from(a),t.url=pb(Ub(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Zf.isFormData(i))if(kb.hasStandardBrowserEnv||kb.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(kb.hasStandardBrowserEnv&&(o&&Zf.isFunction(o)&&(o=o(t)),o||!1!==o&&Hb(t.url))){const e=r&&s&&Wb.read(s);e&&a.set(r,e)}return t},Kb="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const i=Gb(e);let o=i.data;const r=Mb.from(i.headers).normalize();let s,a,l,c,d,{responseType:u,onUploadProgress:p,onDownloadProgress:h}=i;function g(){c&&c(),d&&d(),i.cancelToken&&i.cancelToken.unsubscribe(s),i.signal&&i.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function f(){if(!m)return;const i=Mb.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Lb((function(e){t(e),g()}),(function(e){n(e),g()}),{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:i,config:e,request:m}),m=null}m.open(i.method.toUpperCase(),i.url,!0),m.timeout=i.timeout,"onloadend"in m?m.onloadend=f:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(f)},m.onabort=function(){m&&(n(new tb("Request aborted",tb.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new tb("Network Error",tb.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const o=i.transitional||gb;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),n(new tb(t,o.clarifyTimeoutError?tb.ETIMEDOUT:tb.ECONNABORTED,e,m)),m=null},void 0===o&&r.setContentType(null),"setRequestHeader"in m&&Zf.forEach(r.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),Zf.isUndefined(i.withCredentials)||(m.withCredentials=!!i.withCredentials),u&&"json"!==u&&(m.responseType=i.responseType),h&&([l,d]=Nb(h,!0),m.addEventListener("progress",l)),p&&m.upload&&([a,c]=Nb(p),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(s=t=>{m&&(n(!t||t.type?new jb(null,e,m):t),m.abort(),m=null)},i.cancelToken&&i.cancelToken.subscribe(s),i.signal&&(i.signal.aborted?s():i.signal.addEventListener("abort",s)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);b&&-1===kb.protocols.indexOf(b)?n(new tb("Unsupported protocol "+b+":",tb.ERR_BAD_REQUEST,e)):m.send(o||null)}))},Yb=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,i=new AbortController;const o=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;i.abort(t instanceof tb?t:new jb(t instanceof Error?t.message:t))}};let r=t&&setTimeout((()=>{r=null,o(new tb(`timeout ${t} of ms exceeded`,tb.ETIMEDOUT))}),t);const s=()=>{e&&(r&&clearTimeout(r),r=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:a}=i;return a.unsubscribe=()=>Zf.asap(s),a}},Qb=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let i,o=0;for(;o<n;)i=o+t,yield e.slice(o,i),o=i},Zb=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Xb=(e,t,n,i)=>{const o=async function*(e,t){for await(const n of Zb(e))yield*Qb(n,t)}(e,t);let r,s=0,a=e=>{r||(r=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await o.next();if(t)return a(),void e.close();let r=i.byteLength;if(n){let e=s+=r;n(e)}e.enqueue(new Uint8Array(i))}catch(t){throw a(t),t}},cancel:e=>(a(e),o.return())},{highWaterMark:2})},Jb="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,ey=Jb&&"function"===typeof ReadableStream,ty=Jb&&("function"===typeof TextEncoder?(ny=new TextEncoder,e=>ny.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var ny;const iy=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!e(...n)}catch(FA){return!1}},oy=ey&&iy((()=>{let e=!1;const t=new Request(kb.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),ry=ey&&iy((()=>Zf.isReadableStream(new Response("").body))),sy={stream:ry&&(e=>e.body)};var ay;Jb&&(ay=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!sy[e]&&(sy[e]=Zf.isFunction(ay[e])?t=>t[e]():(t,n)=>{throw new tb(`Response type '${e}' is not supported`,tb.ERR_NOT_SUPPORT,n)})})));const ly=async(e,t)=>{const n=Zf.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(Zf.isBlob(e))return e.size;if(Zf.isSpecCompliantForm(e)){const t=new Request(kb.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Zf.isArrayBufferView(e)||Zf.isArrayBuffer(e)?e.byteLength:(Zf.isURLSearchParams(e)&&(e+=""),Zf.isString(e)?(await ty(e)).byteLength:void 0)})(t):n},cy=Jb&&(async e=>{let{url:t,method:n,data:i,signal:o,cancelToken:r,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:d,withCredentials:u="same-origin",fetchOptions:p}=Gb(e);c=c?(c+"").toLowerCase():"text";let h,g=Yb([o,r&&r.toAbortSignal()],s);const m=g&&g.unsubscribe&&(()=>{g.unsubscribe()});let f;try{if(l&&oy&&"get"!==n&&"head"!==n&&0!==(f=await ly(d,i))){let e,n=new Request(t,{method:"POST",body:i,duplex:"half"});if(Zf.isFormData(i)&&(e=n.headers.get("content-type"))&&d.setContentType(e),n.body){const[e,t]=Fb(f,Nb(Vb(l)));i=Xb(n.body,65536,e,t)}}Zf.isString(u)||(u=u?"include":"omit");const o="credentials"in Request.prototype;h=new Request(t,{...p,signal:g,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:i,duplex:"half",credentials:o?u:void 0});let r=await fetch(h);const s=ry&&("stream"===c||"response"===c);if(ry&&(a||s&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=r[t]}));const t=Zf.toFiniteNumber(r.headers.get("content-length")),[n,i]=a&&Fb(t,Nb(Vb(a),!0))||[];r=new Response(Xb(r.body,65536,n,(()=>{i&&i(),m&&m()})),e)}c=c||"text";let b=await sy[Zf.findKey(sy,c)||"text"](r,e);return!s&&m&&m(),await new Promise(((t,n)=>{Lb(t,n,{data:b,headers:Mb.from(r.headers),status:r.status,statusText:r.statusText,config:e,request:h})}))}catch(b){if(m&&m(),b&&"TypeError"===b.name&&/fetch/i.test(b.message))throw Object.assign(new tb("Network Error",tb.ERR_NETWORK,e,h),{cause:b.cause||b});throw tb.from(b,b&&b.code,e,h)}}),dy={http:null,xhr:Kb,fetch:cy};Zf.forEach(dy,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(FA){}Object.defineProperty(e,"adapterName",{value:t})}}));const uy=e=>`- ${e}`,py=e=>Zf.isFunction(e)||null===e||!1===e,hy=e=>{e=Zf.isArray(e)?e:[e];const{length:t}=e;let n,i;const o={};for(let r=0;r<t;r++){let t;if(n=e[r],i=n,!py(n)&&(i=dy[(t=String(n)).toLowerCase()],void 0===i))throw new tb(`Unknown adapter '${t}'`);if(i)break;o[t||"#"+r]=i}if(!i){const e=Object.entries(o).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(uy).join("\n"):" "+uy(e[0]):"as no adapter specified";throw new tb("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return i};function gy(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new jb(null,e)}function my(e){gy(e),e.headers=Mb.from(e.headers),e.data=Pb.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return hy(e.adapter||Ab.adapter)(e).then((function(t){return gy(e),t.data=Pb.call(e,e.transformResponse,t),t.headers=Mb.from(t.headers),t}),(function(t){return Rb(t)||(gy(e),t&&t.response&&(t.response.data=Pb.call(e,e.transformResponse,t.response),t.response.headers=Mb.from(t.response.headers))),Promise.reject(t)}))}const fy="1.8.4",by={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{by[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const yy={};by.transitional=function(e,t,n){function i(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,r)=>{if(!1===e)throw new tb(i(o," has been removed"+(t?" in "+t:"")),tb.ERR_DEPRECATED);return t&&!yy[o]&&(yy[o]=!0,console.warn(i(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,r)}},by.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const wy={assertOptions:function(e,t,n){if("object"!==typeof e)throw new tb("options must be an object",tb.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let o=i.length;for(;o-- >0;){const r=i[o],s=t[r];if(s){const t=e[r],n=void 0===t||s(t,r,e);if(!0!==n)throw new tb("option "+r+" must be "+n,tb.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new tb("Unknown option "+r,tb.ERR_BAD_OPTION)}},validators:by},vy=wy.validators;class ky{constructor(e){this.defaults=e,this.interceptors={request:new hb,response:new hb}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(FA){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=$b(this.defaults,t);const{transitional:n,paramsSerializer:i,headers:o}=t;void 0!==n&&wy.assertOptions(n,{silentJSONParsing:vy.transitional(vy.boolean),forcedJSONParsing:vy.transitional(vy.boolean),clarifyTimeoutError:vy.transitional(vy.boolean)},!1),null!=i&&(Zf.isFunction(i)?t.paramsSerializer={serialize:i}:wy.assertOptions(i,{encode:vy.function,serialize:vy.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),wy.assertOptions(t,{baseUrl:vy.spelling("baseURL"),withXsrfToken:vy.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let r=o&&Zf.merge(o.common,o[t.method]);o&&Zf.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=Mb.concat(r,o);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,u=0;if(!a){const e=[my.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=s.length;let p=t;for(u=0;u<d;){const e=s[u++],t=s[u++];try{p=e(p)}catch(h){t.call(this,h);break}}try{c=my.call(this,p)}catch(h){return Promise.reject(h)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return pb(Ub((e=$b(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Zf.forEach(["delete","get","head","options"],(function(e){ky.prototype[e]=function(t,n){return this.request($b(n||{},{method:e,url:t,data:(n||{}).data}))}})),Zf.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,o){return this.request($b(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}ky.prototype[e]=t(),ky.prototype[e+"Form"]=t(!0)}));const _y=ky;class xy{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const i=new Promise((e=>{n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e,i,o){n.reason||(n.reason=new jb(e,i,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new xy((function(t){e=t})),cancel:e}}}const Ay=xy;const Cy={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cy).forEach((e=>{let[t,n]=e;Cy[n]=t}));const Sy=Cy;const Iy=function e(t){const n=new _y(t),i=gf(_y.prototype.request,n);return Zf.extend(i,_y.prototype,n,{allOwnKeys:!0}),Zf.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e($b(t,n))},i}(Ab);Iy.Axios=_y,Iy.CanceledError=jb,Iy.CancelToken=Ay,Iy.isCancel=Rb,Iy.VERSION=fy,Iy.toFormData=sb,Iy.AxiosError=tb,Iy.Cancel=Iy.CanceledError,Iy.all=function(e){return Promise.all(e)},Iy.spread=function(e){return function(t){return e.apply(null,t)}},Iy.isAxiosError=function(e){return Zf.isObject(e)&&!0===e.isAxiosError},Iy.mergeConfig=$b,Iy.AxiosHeaders=Mb,Iy.formToJSON=e=>_b(Zf.isHTMLForm(e)?new FormData(e):e),Iy.getAdapter=hy,Iy.HttpStatusCode=Sy,Iy.default=Iy;const Ty=Iy,Ey=()=>{var e;const[t,n]=(0,i.useState)(!1),[o,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(""),[p,h]=(0,i.useState)(!1),[g,m]=(0,i.useState)(null),[f,b]=(0,i.useState)({title:"",content:"",tags:[],currentTag:"",codeSnippet:""}),[y,w]=(0,i.useState)([]),[v,k]=(0,i.useState)(!0),[_,x]=(0,i.useState)(null),[A,C]=(0,i.useState)(1),[S,I]=(0,i.useState)(1),[T,E]=(0,i.useState)(null),[D,M]=(0,i.useState)(""),[P,R]=(0,i.useState)(0),[B,j]=(0,i.useState)(!1),[L,z]=(0,i.useState)(!!localStorage.getItem("token")),[O,N]=(0,i.useState)({open:!1,message:"",severity:"info"}),[F,V]=(0,i.useState)((()=>{const e=localStorage.getItem("forumBookmarks");return e?JSON.parse(e):[]})),[H,W]=(0,i.useState)({});(0,i.useEffect)((()=>{U()}),[A,T,D,P]),(0,i.useEffect)((()=>{localStorage.setItem("forumBookmarks",JSON.stringify(F))}),[F]);const U=async()=>{try{k(!0);const t=`${P}-${T||"notag"}-${D||"nosearch"}-${A}`;if(H[t])return console.log("Using cached data"),w(H[t]),void k(!1);let n=[],i=null;const o=JSON.parse(localStorage.getItem("localQuestions")||"[]");o.length>0&&(n=o);const r=new AbortController,s=setTimeout((()=>r.abort()),1e3);try{const e={page:A,limit:10,...T&&{tag:T},...D&&{search:D},...1===P&&{sort:"likes"},...2===P&&{unanswered:!0}},t=await Ty.get("/api/forum",{params:e,signal:r.signal});clearTimeout(s),t.data&&t.data.questions&&(n=[...t.data.questions,...n],n=n.filter(((e,t,n)=>t===n.findIndex((t=>(t._id||t.id)===(e._id||e.id))))))}catch(e){clearTimeout(s),console.warn("API error or timeout:",e),0===n.length&&(i="No questions found. Be the first to ask a question!")}let a=[...n.filter((e=>{if(D){var t;const n=D.toLowerCase();if(!(e.title.toLowerCase().includes(n)||e.content.toLowerCase().includes(n)||(null===(t=e.tags)||void 0===t?void 0:t.some((e=>e.toLowerCase().includes(n))))))return!1}return!!(!T||e.tags&&e.tags.some((e=>e.toLowerCase()===T.toLowerCase())))&&(!(2===P&&e.comments&&e.comments.length>0)&&!(3===P&&!F.includes(e._id||e.id)))}))];1===P?a.sort(((e,t)=>{var n,i;return((null===(n=t.likes)||void 0===n?void 0:n.length)||0)-((null===(i=e.likes)||void 0===i?void 0:i.length)||0)})):a.sort(((e,t)=>new Date(t.createdAt)-new Date(e.createdAt))),W({...H,[t]:a}),w(a),I(Math.max(1,Math.ceil(a.length/10))),x(i)}catch(t){console.error("Error in fetchQuestions:",t),x("Failed to fetch questions. Please try again later."),w([])}finally{k(!1)}},q=()=>{n(!0)},$=()=>{n(!1),b({title:"",content:"",tags:[],currentTag:"",codeSnippet:""}),j(!1)},G=e=>{L?(a(e),r(!0)):N({open:!0,message:"Please log in to answer questions",severity:"warning"})},K=()=>{r(!1),a(null),c(""),u(""),h(!1)},Y=()=>{f.currentTag.trim()&&b({...f,tags:[...f.tags,f.currentTag.trim()],currentTag:""})},Q=async()=>{try{k(!0),x(null);const e={name:"Test User",email:"test@example.com",id:"test-user-id"},t="mock-jwt-token-for-testing";localStorage.setItem("token",t),localStorage.setItem("userData",JSON.stringify(e)),z(!0),N({open:!0,message:"Signed in successfully as Test User",severity:"success"}),setTimeout((()=>{U()}),300)}catch(e){console.error("Login error:",e),N({open:!0,message:"Sign-in failed. Please try again.",severity:"error"})}finally{k(!1)}},Z=()=>{N({...O,open:!1})};return(0,ke.jsxs)(Bt,{className:"forum-page",children:[(0,ke.jsxs)(Bt,{className:"forum-header",children:[(0,ke.jsx)(Bt,{sx:{position:"relative",zIndex:1},children:(0,ke.jsxs)(sm,{maxWidth:"lg",children:[(0,ke.jsxs)(Vi,{container:!0,spacing:3,alignItems:"center",children:[(0,ke.jsx)(Vi,{item:!0,xs:12,md:7,children:(0,ke.jsx)(ua,{in:!0,timeout:1e3,children:(0,ke.jsxs)(Bt,{sx:{position:"relative",zIndex:2},children:[(0,ke.jsx)(Bt,{sx:{position:"absolute",top:-15,right:{xs:-15,md:20},opacity:.15,transform:"rotate(15deg)",display:{xs:"none",md:"block"}},children:(0,ke.jsx)(No,{sx:{fontSize:120,color:"white"}})}),(0,ke.jsx)(Bt,{sx:{position:"absolute",bottom:-30,left:{xs:-15,md:50},opacity:.15,transform:"rotate(-10deg)",display:{xs:"none",md:"block"}},children:(0,ke.jsx)(Ho,{sx:{fontSize:100,color:"white"}})}),(0,ke.jsxs)(kn,{variant:"overline",sx:{color:"rgba(255,255,255,0.9)",letterSpacing:3,fontWeight:500,fontSize:"0.95rem",display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,ke.jsx)(of,{fontSize:"small"})," VERILOG COMMUNITY"]}),(0,ke.jsx)(kn,{variant:"h2",component:"h1",sx:{fontWeight:800,letterSpacing:-.5,fontSize:{xs:"2.5rem",md:"3.5rem"},lineHeight:1.1,background:"linear-gradient(90deg, #ffffff 0%, #e1bee7 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",mb:3},children:"Verilog Forum"}),(0,ke.jsx)(kn,{variant:"h6",sx:{maxWidth:"700px",fontWeight:400,fontSize:{xs:"1rem",md:"1.25rem"},lineHeight:1.5,color:"rgba(255,255,255,0.85)",mb:3},children:"Connect with Verilog experts, share your knowledge, and find solutions to your hardware design challenges."}),(0,ke.jsxs)(Zh,{direction:"row",spacing:2,children:[(0,ke.jsx)(Ii,{variant:"contained",color:"secondary",startIcon:(0,ke.jsx)(rf,{}),onClick:q,disabled:!L,className:"wavy-button",children:"Ask Question"}),!L&&(0,ke.jsx)(Ii,{variant:"outlined",color:"inherit",startIcon:(0,ke.jsx)(sf,{}),onClick:Q,sx:{borderColor:"rgba(255,255,255,0.7)",color:"white"},children:"Sign In"})]})]})})}),(0,ke.jsx)(Vi,{item:!0,xs:12,md:5,children:(0,ke.jsx)(dm,{in:!0,style:{transitionDelay:"300ms"},children:(0,ke.jsx)(Bt,{sx:{textAlign:"center"},children:(0,ke.jsx)("img",{src:"/forum-illustration.svg",alt:"Verilog Forum",style:{maxWidth:"100%",height:"auto"},onError:e=>{e.target.style.display="none"}})})})})]}),(0,ke.jsx)(ua,{in:!0,timeout:1e3,style:{transitionDelay:"500ms"},children:(0,ke.jsxs)(Bt,{sx:{display:"flex",flexWrap:"wrap",gap:{xs:4,md:8},mt:4,justifyContent:{xs:"center",md:"flex-start"},color:"rgba(255,255,255,0.9)"},children:[(0,ke.jsxs)(Bt,{sx:{textAlign:"center"},children:[(0,ke.jsx)(kn,{variant:"h3",sx:{fontWeight:700,mb:1},children:y.length}),(0,ke.jsx)(kn,{variant:"body1",sx:{fontWeight:500},children:"Questions"})]}),(0,ke.jsxs)(Bt,{sx:{textAlign:"center"},children:[(0,ke.jsx)(kn,{variant:"h3",sx:{fontWeight:700,mb:1},children:y.reduce(((e,t)=>{var n;return e+((null===(n=t.comments)||void 0===n?void 0:n.length)||0)}),0)}),(0,ke.jsx)(kn,{variant:"body1",sx:{fontWeight:500},children:"Answers"})]}),(0,ke.jsxs)(Bt,{sx:{textAlign:"center"},children:[(0,ke.jsx)(kn,{variant:"h3",sx:{fontWeight:700,mb:1},children:F.length}),(0,ke.jsx)(kn,{variant:"body1",sx:{fontWeight:500},children:"Bookmarked"})]})]})})]})}),(0,ke.jsx)(Bt,{className:"wave-shape",children:(0,ke.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:(0,ke.jsx)("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"})})})]}),(0,ke.jsxs)(sm,{maxWidth:"lg",sx:{py:6},id:"forum-content",className:"forum-content",children:[(0,ke.jsx)($i,{elevation:3,sx:{p:3,borderRadius:3,backgroundColor:"white",mb:4,position:"relative",top:-30},children:(0,ke.jsxs)(Vi,{container:!0,spacing:2,children:[(0,ke.jsx)(Vi,{item:!0,xs:12,children:(0,ke.jsx)(Pl,{fullWidth:!0,placeholder:"Search questions, topics, or tags...",value:D,onChange:e=>M(e.target.value),InputProps:{startAdornment:(0,ke.jsx)(Ol,{position:"start",children:(0,ke.jsx)(mc,{color:"primary"})}),sx:{borderRadius:2,backgroundColor:"#f5f5f5","&:hover":{backgroundColor:"#ffffff",boxShadow:"0 0 0 2px #e1bee7"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#9c27b0"},transition:"all 0.3s ease"}}})}),(0,ke.jsx)(Vi,{item:!0,xs:12,children:(0,ke.jsxs)(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:2},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(af,{color:"primary",fontSize:"small",sx:{mr:1}}),(0,ke.jsx)(kn,{variant:"subtitle2",fontWeight:"bold",children:"Filter by:"})]}),(0,ke.jsxs)(Kd,{value:P,onChange:(e,t)=>{R(t),C(1)},sx:{"& .MuiTabs-indicator":{height:3,borderRadius:3},"& .MuiTab-root":{textTransform:"none",fontSize:"0.9rem",fontWeight:600,minWidth:{xs:"auto",sm:100}}},children:[(0,ke.jsx)(Jd,{label:"Latest Questions"}),(0,ke.jsx)(Jd,{label:"Most Liked"}),(0,ke.jsx)(Jd,{label:(0,ke.jsx)(ym,{badgeContent:y.filter((e=>!e.comments||0===e.comments.length)).length,color:"error",children:"Unanswered"})}),(0,ke.jsx)(Jd,{label:"Bookmarked",disabled:0===F.length})]}),L?(0,ke.jsx)(Ii,{variant:"contained",color:"primary",startIcon:(0,ke.jsx)(rf,{}),onClick:q,className:"wavy-button",children:"Ask Question"}):(0,ke.jsx)(Ii,{variant:"contained",color:"secondary",startIcon:(0,ke.jsx)(sf,{}),onClick:Q,children:"Sign In to Ask"})]})})]})}),_&&(0,ke.jsx)(mh,{severity:"error",sx:{mb:3},children:_}),v?(0,ke.jsxs)(Bt,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:8},children:[(0,ke.jsx)(Lp,{color:"primary",size:60,thickness:4}),(0,ke.jsx)(kn,{variant:"body1",sx:{mt:2},children:"Loading discussions..."})]}):(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(Ts,{sx:{mb:4},children:y.length>0?y.map((e=>{var t,n,o,r,s,a,l,c;return(0,ke.jsx)(i.Fragment,{children:(0,ke.jsxs)(Qi,{className:"forum-card",elevation:2,sx:{mb:3,borderRadius:2,overflow:"hidden",transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.15)"}},children:[(0,ke.jsxs)(go,{children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,ke.jsx)(_m,{children:(0,ke.jsx)(Em,{sx:{bgcolor:"primary.main"},children:(null===(t=e.author)||void 0===t||null===(n=t.name)||void 0===n?void 0:n[0])||"U"})}),(0,ke.jsxs)(Bt,{sx:{flex:1},children:[(0,ke.jsx)(kn,{variant:"h6",className:"question-title",children:e.title}),(0,ke.jsxs)(kn,{variant:"body2",color:"text.secondary",children:["Posted by ",(null===(o=e.author)||void 0===o?void 0:o.name)||"Unknown"," \u2022 "," ",new Date(e.createdAt||Date.now()).toLocaleDateString()]})]})]}),(0,ke.jsx)(kn,{variant:"body1",paragraph:!0,children:e.content}),(c=e.codeSnippet,c?(0,ke.jsxs)($i,{sx:{p:2,bgcolor:"#f5f5f5",mt:2},children:[(0,ke.jsxs)(kn,{variant:"subtitle2",gutterBottom:!0,children:[(0,ke.jsx)(Ho,{sx:{mr:1,verticalAlign:"middle"}}),"Code Snippet"]}),(0,ke.jsx)("pre",{style:{margin:0,whiteSpace:"pre-wrap"},children:c})]}):null),(0,ke.jsx)(Zh,{direction:"row",spacing:1,sx:{mb:2,flexWrap:"wrap",gap:1},children:e.tags&&e.tags.map((e=>(0,ke.jsx)(To,{label:e,size:"small",onClick:()=>E(e),color:T===e?"primary":"default",className:"category-chip"},e)))})]}),(0,ke.jsxs)(Rm,{sx:{justifyContent:"space-between",bgcolor:"rgba(0,0,0,0.02)",px:2},children:[(0,ke.jsxs)(Bt,{children:[(0,ke.jsxs)(th,{size:"small",onClick:()=>(async e=>{try{const n=localStorage.getItem("token");if(!n)return void N({open:!0,message:"Please log in to like questions",severity:"warning"});const i=JSON.parse(localStorage.getItem("userData")||"{}").id||"local-user",o=[...y],r=o.findIndex((t=>(t._id||t.id)===e));if(-1===r)throw new Error("Question not found");o[r].likes||(o[r].likes=[]);const s=o[r].likes,a=s.indexOf(i);-1===a?s.push(i):s.splice(a,1),w(o);try{await Ty.post(`/api/forum/${e}/like`,{},{headers:{Authorization:`Bearer ${n}`}})}catch(t){console.warn("API error when liking question:",t);const n=JSON.parse(localStorage.getItem("localQuestions")||"[]"),i=n.findIndex((t=>t.id===e));-1!==i&&(n[i].likes||(n[i].likes=[]),n[i].likes=s,localStorage.setItem("localQuestions",JSON.stringify(n)))}Object.keys(H).forEach((t=>{const n=[...H[t]],i=n.findIndex((t=>(t._id||t.id)===e));if(-1!==i){n[i]=o[r];const e={...H};e[t]=n,W(e)}})),N({open:!0,message:-1===a?"Question liked!":"Like removed",severity:"success"})}catch(n){console.error("Error liking question:",n),N({open:!0,message:"Failed to like question",severity:"error"})}})(e._id||e.id),color:null!==(r=e.likes)&&void 0!==r&&r.includes(JSON.parse(localStorage.getItem("userData")||"{}").id||"local-user")?"primary":"default",children:[(0,ke.jsx)(lf,{}),(0,ke.jsx)(kn,{variant:"body2",sx:{ml:.5},children:(null===(s=e.likes)||void 0===s?void 0:s.length)||0})]}),(0,ke.jsxs)(th,{size:"small",onClick:()=>{return t=e._id||e.id,void m(g===t?null:t);var t},children:[(0,ke.jsx)(cf,{}),(0,ke.jsx)(kn,{variant:"body2",sx:{ml:.5},children:(null===(a=e.comments)||void 0===a?void 0:a.length)||0})]}),(0,ke.jsx)(Ii,{size:"small",startIcon:(0,ke.jsx)(df,{}),variant:"text",color:"primary",onClick:()=>G(e),sx:{ml:1},className:"answer-button",children:"Answer"})]}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(th,{size:"small",onClick:()=>{return t=e._id||e.id,void(F.includes(t)?(V(F.filter((e=>e!==t))),N({open:!0,message:"Removed from bookmarks",severity:"info"})):(V([...F,t]),N({open:!0,message:"Added to bookmarks",severity:"success"})));var t},children:F.includes(e._id||e.id)?(0,ke.jsx)(yh,{color:"primary"}):(0,ke.jsx)(wh,{})}),(0,ke.jsx)(th,{size:"small",onClick:()=>(e=>{navigator.share?navigator.share({title:e.title,text:e.content,url:window.location.href}).then((()=>{N({open:!0,message:"Shared successfully",severity:"success"})})).catch((e=>{console.error("Error sharing:",e)})):navigator.clipboard.writeText(window.location.href).then((()=>{N({open:!0,message:"Link copied to clipboard",severity:"success"})}),(()=>{N({open:!0,message:"Failed to copy link",severity:"error"})}))})(e),children:(0,ke.jsx)(uf,{})})]})]}),(0,ke.jsx)(Cu,{in:g===(e._id||e.id),timeout:"auto",unmountOnExit:!0,children:(0,ke.jsxs)(go,{sx:{bgcolor:"rgba(0,0,0,0.02)",pt:0},children:[(0,ke.jsx)(jo,{sx:{mb:2}}),(0,ke.jsxs)(kn,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(cf,{sx:{mr:1,fontSize:"1.2rem"}}),"Answers (",(null===(l=e.comments)||void 0===l?void 0:l.length)||0,")"]}),e.comments&&e.comments.length>0?e.comments.map(((e,t)=>{var n,i,o;return(0,ke.jsxs)($i,{sx:{mb:2,p:2,bgcolor:"background.paper",borderRadius:2},elevation:1,children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,ke.jsx)(Em,{sx:{width:32,height:32,mr:1,bgcolor:"secondary.main"},children:(null===(n=e.author)||void 0===n||null===(i=n.name)||void 0===i?void 0:i[0])||"A"}),(0,ke.jsx)(kn,{variant:"subtitle2",children:(null===(o=e.author)||void 0===o?void 0:o.name)||"Anonymous"}),(0,ke.jsx)(kn,{variant:"caption",sx:{ml:1,color:"text.secondary"},children:e.createdAt?new Date(e.createdAt).toLocaleDateString():"Unknown date"})]}),(0,ke.jsx)(kn,{variant:"body2",sx:{ml:5},children:e.content}),e.codeSnippet&&(0,ke.jsx)(Bt,{sx:{ml:5,mt:1},children:(0,ke.jsx)($i,{sx:{p:1.5,bgcolor:"#f5f5f5",borderRadius:1},children:(0,ke.jsx)("pre",{style:{margin:0,whiteSpace:"pre-wrap",fontSize:"0.85rem"},children:e.codeSnippet})})})]},t)})):(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",sx:{py:2},children:"No answers yet. Be the first to answer!"}),(0,ke.jsx)(Ii,{variant:"contained",startIcon:(0,ke.jsx)(df,{}),sx:{mt:1},onClick:()=>G(e),disabled:!L,className:"wavy-button",children:"Add an Answer"})]})})]})},e._id||e.id)})):(0,ke.jsxs)($i,{elevation:1,sx:{textAlign:"center",py:6,px:3,borderRadius:2,bgcolor:"rgba(0,0,0,0.02)"},children:[(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,color:"text.secondary",children:"No questions found"}),(0,ke.jsx)(kn,{variant:"body1",color:"text.secondary",sx:{mb:3},children:T?`No questions with the tag "${T}" found.`:"Be the first to ask a question!"}),(0,ke.jsx)(Ii,{variant:"contained",color:"primary",startIcon:(0,ke.jsx)(rf,{}),onClick:q,disabled:!L,className:"wavy-button",children:"Ask Question"})]})}),S>1&&(0,ke.jsx)(Bt,{sx:{display:"flex",justifyContent:"center",mt:3},children:(0,ke.jsx)(gc,{count:S,page:A,onChange:(e,t)=>{C(t)},color:"primary",size:"large",showFirstButton:!0,showLastButton:!0,sx:{"& .MuiPaginationItem-root":{fontSize:"1rem"},"& .Mui-selected":{backgroundColor:"rgba(156, 39, 176, 0.15) !important",fontWeight:"bold"}}})})]})]}),(0,ke.jsxs)(Wm,{open:t,onClose:$,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:3}},children:[(0,ke.jsx)(Km,{sx:{bgcolor:"primary.main",color:"white",pt:2.5,pb:2.5,fontSize:"1.3rem",fontWeight:"bold"},children:"Ask a Question"}),(0,ke.jsxs)(Xm,{sx:{pt:3,pb:1},children:[(0,ke.jsx)(Pl,{autoFocus:!0,margin:"dense",label:"Title",fullWidth:!0,value:f.title,onChange:e=>b({...f,title:e.target.value}),sx:{mb:2},InputProps:{sx:{borderRadius:2}}}),(0,ke.jsx)(Pl,{margin:"dense",label:"Question",fullWidth:!0,multiline:!0,rows:4,value:f.content,onChange:e=>b({...f,content:e.target.value}),sx:{mb:2},InputProps:{sx:{borderRadius:2}}}),(0,ke.jsxs)(Bt,{sx:{mt:2,mb:3},children:[(0,ke.jsxs)(kn,{variant:"subtitle2",gutterBottom:!0,sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(pf,{sx:{mr:1,verticalAlign:"middle",color:"primary.main"}}),"Tags"]}),(0,ke.jsxs)(Bt,{sx:{display:"flex",gap:1,mb:1,flexWrap:"wrap"},children:[(0,ke.jsx)(Pl,{size:"small",label:"Add Tag",value:f.currentTag,onChange:e=>b({...f,currentTag:e.target.value}),onKeyPress:e=>{"Enter"===e.key&&f.currentTag.trim()&&(Y(),e.preventDefault())},InputProps:{sx:{borderRadius:2}}}),(0,ke.jsx)(Ii,{variant:"outlined",onClick:Y,disabled:!f.currentTag.trim(),sx:{borderRadius:2},children:"Add"})]}),(0,ke.jsx)(Zh,{direction:"row",spacing:1,flexWrap:"wrap",gap:1,children:f.tags.map((e=>(0,ke.jsx)(To,{label:e,onDelete:()=>{return t=e,void b({...f,tags:f.tags.filter((e=>e!==t))});var t},className:"category-chip"},e)))})]}),(0,ke.jsxs)(Bt,{sx:{mt:2,mb:2},children:[(0,ke.jsx)(Ii,{startIcon:(0,ke.jsx)(Ho,{}),onClick:()=>j(!B),sx:{mb:1,borderRadius:2},variant:"outlined",color:"secondary",children:B?"Remove Code Snippet":"Add Code Snippet"}),B&&(0,ke.jsxs)($i,{sx:{p:2,bgcolor:"#f5f5f5",borderRadius:2},children:[(0,ke.jsx)(kn,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:1},children:"Insert your Verilog code here:"}),(0,ke.jsx)(rr,{minRows:5,placeholder:"module example(input clk, input reset, output reg [7:0] count);",value:f.codeSnippet,onChange:e=>b({...f,codeSnippet:e.target.value}),style:{width:"100%",padding:"12px",fontFamily:"monospace",fontSize:"0.9rem",borderRadius:"8px",border:"1px solid #e0e0e0"}})]})]})]}),(0,ke.jsxs)(nf,{sx:{px:3,py:2},children:[(0,ke.jsx)(Ii,{onClick:$,variant:"outlined",sx:{borderRadius:2},children:"Cancel"}),(0,ke.jsx)(Ii,{onClick:async()=>{try{var e;const n=localStorage.getItem("token");if(!n)return void x("Please log in to post a question");const i={id:`local-${Date.now()}`,title:f.title,content:f.content,tags:f.tags,codeSnippet:f.codeSnippet,author:{name:(null===(e=JSON.parse(localStorage.getItem("userData")))||void 0===e?void 0:e.name)||"You"},createdAt:(new Date).toISOString(),likes:[],comments:[]};try{const e=await Ty.post("/api/forum",{title:f.title,content:f.content,tags:f.tags,codeSnippet:f.codeSnippet},{headers:{Authorization:`Bearer ${n}`}});w([e.data,...y])}catch(t){console.error("API error when posting question:",t);const e=JSON.parse(localStorage.getItem("localQuestions")||"[]");e.unshift(i),localStorage.setItem("localQuestions",JSON.stringify(e)),w([i,...y])}$(),x(null),N({open:!0,message:"Question posted successfully!",severity:"success"})}catch(n){console.error("Error in handleSubmitQuestion:",n),n.response&&401===n.response.status?x("You must be logged in to post a question"):x("Failed to post question. Please try again later.")}},variant:"contained",color:"primary",disabled:!f.title.trim()||!f.content.trim(),sx:{borderRadius:2},className:"wavy-button",children:"Post Question"})]})]}),(0,ke.jsxs)(Wm,{open:o,onClose:K,maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:3}},children:[(0,ke.jsx)(Km,{sx:{bgcolor:"primary.main",color:"white",pt:2.5,pb:2.5,fontSize:"1.3rem",fontWeight:"bold"},children:"Answer Question"}),(0,ke.jsxs)(Xm,{sx:{pt:3,pb:1},children:[s&&(0,ke.jsxs)($i,{sx:{p:2,mb:3,bgcolor:"rgba(0,0,0,0.02)",borderRadius:2},children:[(0,ke.jsx)(kn,{variant:"h6",gutterBottom:!0,children:s.title}),(0,ke.jsxs)(kn,{variant:"body2",color:"text.secondary",sx:{mb:2},children:["You are answering ",(null===(e=s.author)||void 0===e?void 0:e.name)||"Unknown","'s question"]}),(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,sx:{color:"text.secondary",overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:s.content})]}),(0,ke.jsx)(Pl,{autoFocus:!0,margin:"dense",label:"Your Answer",fullWidth:!0,multiline:!0,rows:4,value:l,onChange:e=>c(e.target.value),sx:{mb:2},InputProps:{sx:{borderRadius:2}}}),(0,ke.jsxs)(Bt,{sx:{mt:2,mb:2},children:[(0,ke.jsx)(Ii,{startIcon:(0,ke.jsx)(Ho,{}),onClick:()=>h(!p),sx:{mb:1,borderRadius:2},variant:"outlined",color:"secondary",children:p?"Remove Code Snippet":"Add Code Snippet"}),p&&(0,ke.jsxs)($i,{sx:{p:2,bgcolor:"#f5f5f5",borderRadius:2},children:[(0,ke.jsx)(kn,{variant:"caption",color:"text.secondary",sx:{display:"block",mb:1},children:"Insert your Verilog code here:"}),(0,ke.jsx)(rr,{minRows:5,placeholder:"module example(input clk, input reset, output reg [7:0] count);",value:d,onChange:e=>u(e.target.value),style:{width:"100%",padding:"12px",fontFamily:"monospace",fontSize:"0.9rem",borderRadius:"8px",border:"1px solid #e0e0e0"}})]})]})]}),(0,ke.jsxs)(nf,{sx:{px:3,py:2},children:[(0,ke.jsx)(Ii,{onClick:K,variant:"outlined",sx:{borderRadius:2},children:"Cancel"}),(0,ke.jsx)(Ii,{onClick:async()=>{if(s&&l.trim())try{var e;const n=localStorage.getItem("token");if(!n)return void N({open:!0,message:"Please log in to answer questions",severity:"warning"});const i={id:`local-comment-${Date.now()}`,content:l,codeSnippet:d,author:{name:(null===(e=JSON.parse(localStorage.getItem("userData")))||void 0===e?void 0:e.name)||"You"},createdAt:(new Date).toISOString()};try{await Ty.post(`/api/forum/${s._id||s.id}/comments`,{content:l,codeSnippet:d},{headers:{Authorization:`Bearer ${n}`}})}catch(t){console.error("API error when posting answer:",t);const e=JSON.parse(localStorage.getItem("localQuestions")||"[]"),n=e.findIndex((e=>e.id===s.id));-1!==n&&(e[n].comments||(e[n].comments=[]),e[n].comments.push(i),localStorage.setItem("localQuestions",JSON.stringify(e)));const o=[...y],r=o.findIndex((e=>(e._id||e.id)===(s._id||s.id)));-1!==r&&(o[r].comments||(o[r].comments=[]),o[r].comments.push(i),w(o))}K(),U(),N({open:!0,message:"Answer posted successfully!",severity:"success"})}catch(n){console.error("Error in handleSubmitAnswer:",n),N({open:!0,message:"Failed to post answer. Please try again.",severity:"error"})}},variant:"contained",color:"primary",disabled:!l.trim(),startIcon:(0,ke.jsx)(hf,{}),sx:{borderRadius:2},className:"wavy-button",children:"Post Answer"})]})]}),(0,ke.jsx)(ap,{open:O.open,autoHideDuration:6e3,onClose:Z,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,ke.jsx)(mh,{onClose:Z,severity:O.severity,variant:"filled",sx:{width:"100%"},children:O.message})})]})},Dy=vo((0,ke.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),My=vo((0,ke.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Py=vo((0,ke.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Ry(e){return Et("MuiCheckbox",e)}const By=Dt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),jy=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Ly=hn(lg,{shouldForwardProp:e=>pn(e)||"classes"===e,name:"MuiCheckbox",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.indeterminate&&t.indeterminate,t[`size${mn(n.size)}`],"default"!==n.color&&t[`color${mn(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({color:(t.vars||t).palette.text.secondary},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${"default"===n.color?t.vars.palette.action.activeChannel:t.vars.palette[n.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:(0,Ne.X4)("default"===n.color?t.palette.action.active:t.palette[n.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==n.color&&{[`&.${By.checked}, &.${By.indeterminate}`]:{color:(t.vars||t).palette[n.color].main},[`&.${By.disabled}`]:{color:(t.vars||t).palette.action.disabled}})})),zy=(0,ke.jsx)(My,{}),Oy=(0,ke.jsx)(Dy,{}),Ny=(0,ke.jsx)(Py,{}),Fy=i.forwardRef((function(e,t){var n,o;const r=Ce({props:e,name:"MuiCheckbox"}),{checkedIcon:s=zy,color:a="primary",icon:l=Oy,indeterminate:c=!1,indeterminateIcon:d=Ny,inputProps:u,size:p="medium",className:h}=r,g=(0,Re.A)(r,jy),m=c?d:l,f=c?d:s,b=(0,we.A)({},r,{color:a,indeterminate:c,size:p}),y=(e=>{const{classes:t,indeterminate:n,color:i,size:o}=e,r=cn({root:["root",n&&"indeterminate",`color${mn(i)}`,`size${mn(o)}`]},Ry,t);return(0,we.A)({},t,r)})(b);return(0,ke.jsx)(Ly,(0,we.A)({type:"checkbox",inputProps:(0,we.A)({"data-indeterminate":c},u),icon:i.cloneElement(m,{fontSize:null!=(n=m.props.fontSize)?n:p}),checkedIcon:i.cloneElement(f,{fontSize:null!=(o=f.props.fontSize)?o:p}),ownerState:b,ref:t,className:_t(y.root,h)},g,{classes:y}))})),Vy=vo((0,ke.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),Hy=vo((0,ke.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock"),Wy=vo((0,ke.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),Uy=vo((0,ke.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");const qy=(0,i.createContext)(null);function $y(e){let{clientId:t,nonce:n,onScriptLoadSuccess:o,onScriptLoadError:r,children:s}=e;const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{nonce:t,onScriptLoadSuccess:n,onScriptLoadError:o}=e,[r,s]=(0,i.useState)(!1),a=(0,i.useRef)(n);a.current=n;const l=(0,i.useRef)(o);return l.current=o,(0,i.useEffect)((()=>{const e=document.createElement("script");return e.src="https://accounts.google.com/gsi/client",e.async=!0,e.defer=!0,e.nonce=t,e.onload=()=>{var e;s(!0),null===(e=a.current)||void 0===e||e.call(a)},e.onerror=()=>{var e;s(!1),null===(e=l.current)||void 0===e||e.call(l)},document.body.appendChild(e),()=>{document.body.removeChild(e)}}),[t]),r}({nonce:n,onScriptLoadSuccess:o,onScriptLoadError:r}),l=(0,i.useMemo)((()=>({clientId:t,scriptLoadedSuccessfully:a})),[t,a]);return i.createElement(qy.Provider,{value:l},s)}function Gy(){const e=(0,i.useContext)(qy);if(!e)throw new Error("Google OAuth components must be used within GoogleOAuthProvider");return e}function Ky(e){var t;return null!==(t=null===e||void 0===e?void 0:e.clientId)&&void 0!==t?t:null===e||void 0===e?void 0:e.client_id}const Yy={large:40,medium:32,small:20};function Qy(e){let{onSuccess:t,onError:n,useOneTap:o,promptMomentNotification:r,type:s="standard",theme:a="outline",size:l="large",text:c,shape:d,logo_alignment:u,width:p,locale:h,click_listener:g,containerProps:m,...f}=e;const b=(0,i.useRef)(null),{clientId:y,scriptLoadedSuccessfully:w}=Gy(),v=(0,i.useRef)(t);v.current=t;const k=(0,i.useRef)(n);k.current=n;const _=(0,i.useRef)(r);return _.current=r,(0,i.useEffect)((()=>{var e,t,n,i,r,m,x,A,C;if(w)return null===(n=null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===n||n.initialize({client_id:y,callback:e=>{var t;if(!(null===e||void 0===e?void 0:e.credential))return null===(t=k.current)||void 0===t?void 0:t.call(k);const{credential:n,select_by:i}=e;v.current({credential:n,clientId:Ky(e),select_by:i})},...f}),null===(m=null===(r=null===(i=null===window||void 0===window?void 0:window.google)||void 0===i?void 0:i.accounts)||void 0===r?void 0:r.id)||void 0===m||m.renderButton(b.current,{type:s,theme:a,size:l,text:c,shape:d,logo_alignment:u,width:p,locale:h,click_listener:g}),o&&(null===(C=null===(A=null===(x=null===window||void 0===window?void 0:window.google)||void 0===x?void 0:x.accounts)||void 0===A?void 0:A.id)||void 0===C||C.prompt(_.current)),()=>{var e,t,n;o&&(null===(n=null===(t=null===(e=null===window||void 0===window?void 0:window.google)||void 0===e?void 0:e.accounts)||void 0===t?void 0:t.id)||void 0===n||n.cancel())}}),[y,w,o,s,a,l,c,d,u,p,h]),i.createElement("div",{...m,ref:b,style:{height:Yy[l],...null===m||void 0===m?void 0:m.style}})}const Zy=(0,i.createContext)(),Xy=e=>{let{children:t}=e;const[n,o]=(0,i.useState)(null),[r,s]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)(null),u=J();return(0,i.useEffect)((()=>{(async()=>{const e=localStorage.getItem("VeriGeektoken");console.log(e);try{const t=await Ty.get("http://localhost:5000/api/auth/profile",{headers:{Authorization:`Bearer ${e}`}});console.log(t.data),200==t.status?o(t.data):u("/login")}catch{console.log("not happens"),u("/login")}})()}),[]),(0,ke.jsx)(Zy.Provider,{value:{user:n,setUser:o,setIsAuthenticated:s,isAuthenticated:r,loading:a,error:c},children:t})},Jy=Zy;function ew(e){return Et("MuiDialogContentText",e)}Dt("MuiDialogContentText",["root"]);const tw=["children","className"],nw=hn(kn,{shouldForwardProp:e=>pn(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),iw=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiDialogContentText"}),{className:i}=n,o=(0,Re.A)(n,tw),r=(e=>{const{classes:t}=e,n=cn({root:["root"]},ew,t);return(0,we.A)({},t,n)})(o);return(0,ke.jsx)(nw,(0,we.A)({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o,className:_t(r.root,i)},n,{classes:r}))}));function ow(e,t,n,o,r){const[s,a]=i.useState((()=>r&&n?n(e).matches:o?o(e).matches:t));return Cn((()=>{let t=!0;if(!n)return;const i=n(e),o=()=>{t&&a(i.matches)};return o(),i.addListener(o),()=>{t=!1,i.removeListener(o)}}),[e,n]),s}const rw=o.useSyncExternalStore;function sw(e,t,n,o,r){const s=i.useCallback((()=>t),[t]),a=i.useMemo((()=>{if(r&&n)return()=>n(e).matches;if(null!==o){const{matches:t}=o(e);return()=>t}return s}),[s,e,o,r,n]),[l,c]=i.useMemo((()=>{if(null===n)return[s,()=>()=>{}];const t=n(e);return[()=>t.matches,e=>(t.addListener(e),()=>{t.removeListener(e)})]}),[s,n,e]);return rw(c,l,a)}function aw(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Ee(),i="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,{defaultMatches:o=!1,matchMedia:r=(i?window.matchMedia:null),ssrMatchMedia:s=null,noSsr:a=!1}=Vh({name:"MuiUseMediaQuery",props:t,theme:n});let l="function"===typeof e?e(n):e;l=l.replace(/^@media( ?)/m,"");return(void 0!==rw?sw:ow)(l,o,r,s,a)}function lw(e){let{isOpen:t,errorText:n}=e;const[o,r]=i.useState(t),s=aw(Ei().breakpoints.down("md")),a=()=>{r(!1)};return(0,ke.jsxs)(i.Fragment,{children:[(0,ke.jsx)(Ii,{variant:"outlined",onClick:()=>{r(!0)},children:"Open responsive dialog"}),(0,ke.jsxs)(Wm,{fullScreen:s,open:o,onClose:a,"aria-labelledby":"responsive-dialog-title",children:[(0,ke.jsx)(Km,{id:"responsive-dialog-title",children:"Use Google's location service?"}),(0,ke.jsx)(Xm,{children:(0,ke.jsx)(iw,{children:n})}),(0,ke.jsx)(nf,{children:(0,ke.jsx)(Ii,{autoFocus:!0,onClick:a,children:"OK"})})]})]})}const cw="https://www.verigeek.xyz",dw=()=>{const e=J(),{user:t,setUser:n}=(0,i.useContext)(Zy),[o,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(""),[l,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)({open:!1,message:"",severity:"info"}),[p,h]=(0,i.useState)({email:"",password:"",rememberMe:!1}),[g,m]=(0,i.useState)({});function f(){return(0,ke.jsx)(Qy,{onSuccess:async t=>{const{credential:i}=t;console.log("$$$$$$$$$$$$$$$credentials "),console.log(i);const o=await Ty.post(`${cw}/api/auth/google`,{token:i});if(console.log(o),200==o.status){let t=o.data.token;console.log(t),localStorage.setItem("VeriGeektoken",o.data.token),n({name:o.data.name,email:o.data.email}),e("/")}else a("cannot able to login please try again"),r(!0)},onError:()=>console.log("Login Failed")})}const b=e=>{const{name:t,value:n,checked:i}=e.target;h({...p,[t]:"rememberMe"===t?i:n}),g[t]&&m({...g,[t]:""})},y=()=>{u({...d,open:!1})};return(0,ke.jsxs)(Bt,{className:"container page-container",children:[(0,ke.jsx)(lw,{isOpen:o,text:s}),(0,ke.jsx)(Vi,{container:!0,justifyContent:"center",children:(0,ke.jsxs)(Vi,{item:!0,xs:12,sm:8,md:6,lg:4,children:[(0,ke.jsxs)($i,{elevation:3,sx:{p:4,mt:4},children:[(0,ke.jsxs)(Bt,{sx:{mb:3,textAlign:"center"},children:[(0,ke.jsx)(kn,{component:"h1",variant:"h5",gutterBottom:!0,children:"Sign in to VeriGeek"}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:"Empower Your Logic, Code Your Circuit!"})]}),(0,ke.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(()=>{const e={};return p.email||(e.email="Email is required"),p.password||(e.password="Password is required"),m(e),0===Object.keys(e).length})()&&("user@example.com"===p.email&&"password"===p.password?(u({open:!0,message:"Login successful! Redirecting...",severity:"success"}),localStorage.setItem("demoUserLoggedIn","true"),setTimeout((()=>{e("/")}),1500)):u({open:!0,message:"Invalid credentials. Try email: user@example.com, password: password",severity:"error"}))},noValidate:!0,children:[(0,ke.jsx)(f,{}),(0,ke.jsx)(Pl,{fullWidth:!0,margin:"normal",label:"Email Address",type:"email",name:"email",value:p.email,onChange:b,error:!!g.email,helperText:g.email,InputProps:{startAdornment:(0,ke.jsx)(Ol,{position:"start",children:(0,ke.jsx)(Vy,{})})}}),(0,ke.jsx)(Pl,{fullWidth:!0,margin:"normal",label:"Password",type:l?"text":"password",name:"password",value:p.password,onChange:b,error:!!g.password,helperText:g.password,InputProps:{startAdornment:(0,ke.jsx)(Ol,{position:"start",children:(0,ke.jsx)(Hy,{})}),endAdornment:(0,ke.jsx)(Ol,{position:"end",children:(0,ke.jsx)(th,{onClick:()=>c(!l),edge:"end",children:l?(0,ke.jsx)(Wy,{}):(0,ke.jsx)(Uy,{})})})}}),(0,ke.jsxs)(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mt:1},children:[(0,ke.jsx)(ig,{control:(0,ke.jsx)(Fy,{name:"rememberMe",checked:p.rememberMe,onChange:b,color:"primary"}),label:"Remember me"}),(0,ke.jsx)(rn,{to:"/forgot-password",style:{color:"#6a0dad",textDecoration:"none"},children:"Forgot password?"})]}),(0,ke.jsx)(Ii,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large",sx:{mt:3,mb:2},children:"Sign In"}),(0,ke.jsx)(jo,{sx:{my:2},children:(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"OR"})}),(0,ke.jsx)(Bt,{sx:{textAlign:"center"},children:(0,ke.jsxs)(kn,{variant:"body2",children:["Don't have an account yet?"," ",(0,ke.jsx)(rn,{to:"/register",style:{color:"#6a0dad",textDecoration:"none"},children:"Sign Up"})]})})]})]}),(0,ke.jsx)(Bt,{sx:{textAlign:"center",mt:2},children:(0,ke.jsxs)(kn,{variant:"body2",color:"text.secondary",children:["For demo purposes, use: ",(0,ke.jsx)("br",{}),"Email: user@example.com ",(0,ke.jsx)("br",{}),"Password: password"]})})]})}),(0,ke.jsx)(ap,{open:d.open,autoHideDuration:6e3,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,ke.jsx)(mh,{onClose:y,severity:d.severity,sx:{width:"100%"},children:d.message})})]})},uw=vo((0,ke.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person"),pw=()=>{const e=J(),[t,n]=(0,i.useState)(!1),[o,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)({open:!1,message:"",severity:"info"}),[l,c]=(0,i.useState)({name:"",email:"",password:"",confirmPassword:""}),[d,u]=(0,i.useState)({}),p=e=>{const{name:t,value:n}=e.target;c({...l,[t]:n}),d[t]&&u({...d,[t]:""})},h=()=>{a({...s,open:!1})};return(0,ke.jsxs)(Bt,{className:"container page-container",children:[(0,ke.jsx)(Vi,{container:!0,justifyContent:"center",children:(0,ke.jsx)(Vi,{item:!0,xs:12,sm:8,md:6,lg:5,children:(0,ke.jsxs)($i,{elevation:3,sx:{p:4,mt:4},children:[(0,ke.jsxs)(Bt,{sx:{mb:3,textAlign:"center"},children:[(0,ke.jsx)(Bt,{component:"img",src:"/images/LOGO.png",alt:"VeriGeek Logo",sx:{width:120,mb:2}}),(0,ke.jsx)(kn,{component:"h1",variant:"h5",gutterBottom:!0,children:"Join VeriGeek"}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",sx:{fontStyle:"italic"},children:"Empower Your Logic, Code Your Circuit!"})]}),(0,ke.jsxs)("form",{onSubmit:t=>{t.preventDefault(),(()=>{const e={};return l.name.trim()||(e.name="Name is required"),l.email?/\S+@\S+\.\S+/.test(l.email)||(e.email="Email is invalid"):e.email="Email is required",l.password?l.password.length<6&&(e.password="Password must be at least 6 characters"):e.password="Password is required",l.password!==l.confirmPassword&&(e.confirmPassword="Passwords do not match"),u(e),0===Object.keys(e).length})()&&setTimeout((()=>{a({open:!0,message:"Registration successful! Redirecting to login...",severity:"success"}),setTimeout((()=>{e("/login")}),1500)}),1e3)},noValidate:!0,children:[(0,ke.jsx)(Pl,{fullWidth:!0,margin:"normal",label:"Full Name",name:"name",value:l.name,onChange:p,error:!!d.name,helperText:d.name,InputProps:{startAdornment:(0,ke.jsx)(Ol,{position:"start",children:(0,ke.jsx)(uw,{})})}}),(0,ke.jsx)(Pl,{fullWidth:!0,margin:"normal",label:"Email Address",type:"email",name:"email",value:l.email,onChange:p,error:!!d.email,helperText:d.email,InputProps:{startAdornment:(0,ke.jsx)(Ol,{position:"start",children:(0,ke.jsx)(Vy,{})})}}),(0,ke.jsx)(Pl,{fullWidth:!0,margin:"normal",label:"Password",type:t?"text":"password",name:"password",value:l.password,onChange:p,error:!!d.password,helperText:d.password,InputProps:{startAdornment:(0,ke.jsx)(Ol,{position:"start",children:(0,ke.jsx)(Hy,{})}),endAdornment:(0,ke.jsx)(Ol,{position:"end",children:(0,ke.jsx)(th,{onClick:()=>n(!t),edge:"end",children:t?(0,ke.jsx)(Wy,{}):(0,ke.jsx)(Uy,{})})})}}),(0,ke.jsx)(Pl,{fullWidth:!0,margin:"normal",label:"Confirm Password",type:o?"text":"password",name:"confirmPassword",value:l.confirmPassword,onChange:p,error:!!d.confirmPassword,helperText:d.confirmPassword,InputProps:{startAdornment:(0,ke.jsx)(Ol,{position:"start",children:(0,ke.jsx)(Hy,{})}),endAdornment:(0,ke.jsx)(Ol,{position:"end",children:(0,ke.jsx)(th,{onClick:()=>r(!o),edge:"end",children:o?(0,ke.jsx)(Wy,{}):(0,ke.jsx)(Uy,{})})})}}),(0,ke.jsx)(Ii,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",size:"large",sx:{mt:3,mb:2},children:"Sign Up"}),(0,ke.jsx)(jo,{sx:{my:2},children:(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"OR"})}),(0,ke.jsx)(Bt,{sx:{textAlign:"center"},children:(0,ke.jsxs)(kn,{variant:"body2",children:["Already have an account?"," ",(0,ke.jsx)(rn,{to:"/login",style:{color:"#6a0dad",textDecoration:"none"},children:"Sign In"})]})})]})]})})}),(0,ke.jsx)(ap,{open:s.open,autoHideDuration:6e3,onClose:h,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,ke.jsx)(mh,{onClose:h,severity:s.severity,sx:{width:"100%"},children:s.message})})]})},hw=vo((0,ke.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link"),gw=vo((0,ke.jsx)("path",{d:"m16.24 11.51 1.57-1.57-3.75-3.75-1.57 1.57-4.14-4.13c-.78-.78-2.05-.78-2.83 0l-1.9 1.9c-.78.78-.78 2.05 0 2.83l4.13 4.13L3 17.25V21h3.75l4.76-4.76 4.13 4.13c.95.95 2.23.6 2.83 0l1.9-1.9c.78-.78.78-2.05 0-2.83zm-7.06-.44L5.04 6.94l1.89-1.9L8.2 6.31 7.02 7.5l1.41 1.41 1.19-1.19 1.45 1.45zm7.88 7.89-4.13-4.13 1.9-1.9 1.45 1.45-1.19 1.19 1.41 1.41 1.19-1.19 1.27 1.27zm3.65-11.92c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.47-.47-1.12-.29-1.41 0l-1.83 1.83 3.75 3.75z"}),"DesignServices"),mw=vo((0,ke.jsx)("path",{d:"M10 15l5.19-3L10 9v6m11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44-.9-.25-1.48-.83-1.73-1.73-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73.47-.13 1.33-.22 2.65-.28 1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"}),"YouTube"),fw=vo((0,ke.jsx)("path",{d:"M20 18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"Laptop"),bw=vo((0,ke.jsx)("path",{d:"M17.5 4.5c-1.95 0-4.05.4-5.5 1.5-1.45-1.1-3.55-1.5-5.5-1.5S2.45 4.9 1 6v14.65c0 .65.73.45.75.45C3.1 20.45 5.05 20 6.5 20c1.95 0 4.05.4 5.5 1.5 1.35-.85 3.8-1.5 5.5-1.5 1.65 0 3.35.3 4.75 1.05.41.21.75-.19.75-.45V6c-1.49-1.12-3.63-1.5-5.5-1.5m3.5 14c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5V8c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5z"}),"ImportContacts"),yw=vo((0,ke.jsx)("path",{d:"M6.36 18.78 6.61 21l1.62-1.54 2.77-7.6c-.68-.17-1.28-.51-1.77-.98zm8.41-7.9c-.49.47-1.1.81-1.77.98l2.77 7.6L17.39 21l.26-2.22zM15 8c0-1.3-.84-2.4-2-2.82V3h-2v2.18C9.84 5.6 9 6.7 9 8c0 1.66 1.34 3 3 3s3-1.34 3-3m-3 1c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1"}),"Architecture"),ww=()=>{const e=Ei(),[t,n]=(aw(e.breakpoints.down("sm")),aw(e.breakpoints.down("md")),(0,i.useState)(0)),[o,r]=(0,i.useState)(""),[s,a]=(0,i.useState)("All"),[l,c]=(0,i.useState)((()=>{const e=localStorage.getItem("bookmarkedResources");return e?JSON.parse(e):[]})),[d,u]=(0,i.useState)(!1),[p,h]=(0,i.useState)("newest"),g=["All","Books","Tools","Videos","Courses","Papers","Communities"],m=[{id:1,title:"Digital Design and Computer Architecture: RISC-V Edition",author:"Sarah Harris, David Harris",description:"Comprehensive textbook covering digital design principles and RISC-V architecture implementation.",link:"https://www.amazon.com/Digital-Design-Computer-Architecture-RISC-V/dp/0128200642",category:"Books",tags:["Digital Design","RISC-V","Computer Architecture"],featured:!0,image:"/images/resources/books/digital-design-riscv.jpg",date:"2023-10-15"},{id:2,title:"SystemVerilog for Verification",author:"Chris Spear, Greg Tumbush",description:"A guide to learning the SystemVerilog for hardware verification and comprehensive coverage of the language features.",link:"https://www.amazon.com/SystemVerilog-Verification-Learning-Testbench-Language/dp/1461407141",category:"Books",tags:["SystemVerilog","Verification","HDL"],featured:!0,image:"/images/resources/books/systemverilog.jpg"},{id:3,title:"CMOS VLSI Design",author:"Neil Weste, David Harris",description:"Essential textbook covering CMOS circuit design principles, layout, and system-level considerations.",link:"https://www.amazon.com/CMOS-VLSI-Design-Systems-Perspective/dp/0321547748",category:"Books",tags:["CMOS","VLSI","Circuit Design"],featured:!1,image:"/images/resources/books/cmos-vlsi.jpg"},{id:4,title:"Verilog HDL Guide",author:"Samir Palnitkar",description:"Comprehensive guide to Verilog HDL, covering language basics to advanced design techniques.",link:"https://d1.amobbs.com/bbs_upload782111/files_33/ourdev_585395BQ8J9A.pdf",category:"Books",tags:["Verilog","HDL","Digital Design"],featured:!1,image:"/images/resources/books/verilog-guide.jpg"},{id:5,title:"Advanced ASIC Chip Synthesis",author:"Himanshu Bhatnagar",description:"Practical guide to ASIC design flow using industry-standard tools for synthesis and timing analysis.",link:"https://www.amazon.com/Advanced-ASIC-Chip-Synthesis-Publication/dp/0792375688",category:"Books",tags:["ASIC","Synthesis","Timing Analysis"],featured:!1,image:"/images/resources/books/asic-synthesis.jpg"},{id:6,title:"Xilinx Vivado Design Suite",author:"Xilinx",description:"Industry-standard FPGA design tool for RTL development, synthesis, implementation, and verification.",link:"https://www.xilinx.com/products/design-tools/vivado.html",category:"Tools",tags:["FPGA","Synthesis","Implementation"],featured:!0,image:"/images/resources/tools/vivado.jpg"},{id:7,title:"ModelSim FPGA Edition",author:"Mentor Graphics",description:"Popular HDL simulator for Verilog and VHDL design verification.",link:"https://www.intel.com/content/www/us/en/software/programmable/quartus-prime/model-sim.html",category:"Tools",tags:["Simulation","Verification","FPGA"],featured:!1,image:"https://tse2.mm.bing.net/th?id=OIP.tihMTqO4UlgqEuVvLRm0SwHaFj&pid=Api&P=0&h=180"},{id:8,title:"Synopsys Design Compiler",author:"Synopsys",description:"Industry-leading logic synthesis tool for transforming RTL into optimized gate-level netlists.",link:"https://www.synopsys.com/implementation-and-signoff/rtl-synthesis-test/design-compiler-graphical.html",category:"Tools",tags:["Synthesis","ASIC","Optimization"],featured:!0,image:"https://tse2.mm.bing.net/th?id=OIP.nbqfletMaBmPGrh4vtswrAAAAA&pid=Api&P=0&h=180"},{id:9,title:"Cadence Innovus Implementation System",author:"Cadence",description:"Advanced physical implementation tool for digital SoC designs with focus on power, performance, and area optimization.",link:"https://www.cadence.com/en_US/home/tools/digital-design-and-signoff/soc-implementation-and-floorplanning/innovus-implementation-system.html",category:"Tools",tags:["Physical Design","Place & Route","Timing"],featured:!1,image:"https://tse2.mm.bing.net/th?id=OIP.nbqfletMaBmPGrh4vtswrAAAAA&pid=Api&P=0&h=180"},{id:10,title:"Synopsys VCS",author:"Synopsys",description:"High-performance simulator for Verilog, SystemVerilog, VHDL, and mixed-language designs.",link:"https://www.synopsys.com/verification/simulation/vcs.html",category:"Tools",tags:["Simulation","Verification","UVM"],featured:!1,image:"https://tse3.mm.bing.net/th?id=OIP.m_9JB7yZuw48pI7pgnPdoQAAAA&pid=Api&P=0&h=180"},{id:11,title:"Digital Design with Verilog",author:"NPTEL",description:"Comprehensive course on digital design using Verilog HDL from basic concepts to advanced designs.",link:"https://www.youtube.com/playlist?list=PLJ5C_6qdAvBGKh_GssdOLz5SSGwU__3Hh",category:"Videos",tags:["Verilog","Digital Design","HDL"],featured:!0,image:"https://tse3.mm.bing.net/th?id=OIP.FVMsud99reUkR6VARapNiQHaHa&pid=Api&P=0&h=180"},{id:12,title:"SystemVerilog for Verification",author:"Verification Guide",description:"Tutorial series on SystemVerilog for hardware verification, covering OOP concepts, testbench architecture, and advanced features.",link:"https://www.youtube.com/playlist?list=PLxqLblRbXVJ5Qf4lN6v1wL5pJES5bYpMY",category:"Videos",tags:["SystemVerilog","Verification","UVM"],featured:!1,image:"https://tse4.mm.bing.net/th?id=OIP.xIkkZnnlbUM_y2sXgDlL9gHaE4&pid=Api&P=0&h=180"},{id:13,title:"RISC-V CPU Design",author:"Onur Mutlu",description:"Comprehensive lectures on CPU architecture and RISC-V processor design from basic concepts to implementation.",link:"https://www.youtube.com/playlist?list=PL5Q2soXY2Zi-EXLVgkrbIQrkrISBxCBCY",category:"Videos",tags:["RISC-V","Processor Design","Architecture"],featured:!0,image:"https://tse3.mm.bing.net/th?id=OIP.GM3zSqly7b0MLNbWNUOfzAHaEL&pid=Api&P=0&h=180"},{id:14,title:"VLSI CAD: Logic to Layout",author:"University of Illinois",description:"A comprehensive course on VLSI design flow from logic synthesis to physical design and layout.",link:"https://www.coursera.org/learn/vlsi-cad-logic",category:"Courses",tags:["VLSI","CAD","Physical Design"],featured:!0,image:"https://tse2.mm.bing.net/th?id=OIP.o3H8zhypXIzjgNRjTN2M_wHaGi&pid=Api&P=0&h=180"},{id:15,title:"Hardware Description Languages for FPGA Design",author:"University of Colorado Boulder",description:"Course covering HDL design for FPGAs, including Verilog and VHDL implementation techniques.",link:"https://www.coursera.org/learn/fpga-hardware-description-languages",category:"Courses",tags:["HDL","FPGA","Verilog"],featured:!1,image:"https://tse3.mm.bing.net/th?id=OIP.GxlD1kPHN4gOs_E6Fl_-ogHaHa&pid=Api&P=0&h=180"},{id:16,title:"Functional Hardware Verification",author:"EDA Playground",description:"Practical course on SystemVerilog and UVM for functional verification of digital designs.",link:"https://www.edaplayground.com/",category:"Courses",tags:["Verification","SystemVerilog","UVM"],featured:!1,image:"https://tse4.mm.bing.net/th?id=OIP.y3ZitubCLhn2DkMEUw0kaQAAAA&pid=Api&P=0&h=180"},{id:17,title:"The RISC-V Instruction Set Manual",author:"RISC-V Foundation",description:"Official specification of the RISC-V instruction set architecture, covering the base and standard extension instruction sets.",link:"https://riscv.org/technical/specifications/",category:"Papers",tags:["RISC-V","ISA","Specification"],featured:!0,image:"https://tse1.mm.bing.net/th?id=OIP.T5X7UbWZedVZMHdzB9YPCQHaE8&pid=Api&P=0&h=180"},{id:18,title:"A Survey of Architectural Approaches for Data Compression in Cache and Main Memory Systems",author:"Sparsh Mittal, Jeffrey S. Vetter",description:"Comprehensive survey of memory compression techniques in modern computer architectures.",link:"https://ieeexplore.ieee.org/document/7556912",category:"Papers",tags:["Memory Systems","Compression","Architecture"],featured:!1,image:"/images/resources/papers/survey-architectural-approaches.jpg"},{id:19,title:"A Survey Of Techniques for Architecting and Managing Asymmetric DRAM Cache",author:"Sparsh Mittal",description:"Survey of DRAM cache architecture techniques for improving memory system performance.",link:"https://arxiv.org/abs/1607.04508",category:"Papers",tags:["DRAM","Cache","Memory Systems"],featured:!1,image:"/images/resources/papers/survey-architecting-managing.jpg"},{id:20,title:"Stack Overflow Hardware",author:"Stack Exchange",description:"Q&A forum for hardware design, Verilog, VHDL, and FPGA-related questions.",link:"https://stackoverflow.com/questions/tagged/verilog",category:"Communities",tags:["Q&A","Verilog","FPGA"],featured:!1,image:"/images/resources/communities/stackoverflow.png"},{id:21,title:"RISC-V International",author:"RISC-V",description:"The official community and working groups for the RISC-V instruction set architecture.",link:"https://riscv.org/",category:"Communities",tags:["RISC-V","ISA","Open Source"],featured:!0,image:"https://tse3.mm.bing.net/th?id=OIP.5NSprjwGUqgQY7ZIxR93PwHaHa&pid=Api&P=0&h=180"},{id:22,title:"FPGA",author:"Reddit",description:"Active community for FPGA designers, students, and hobbyists to discuss projects, tools, and techniques.",link:"https://www.reddit.com/r/FPGA/",category:"Communities",tags:["FPGA","Community","Discussion"],featured:!0,image:"https://tse4.mm.bing.net/th?id=OIP.uyS3KHUP6ZA_LggIY4b6WAHaHL&pid=Api&P=0&h=180"}],f=m.map((e=>({...e,date:e.date||"2023-01-01"}))),b=f.reduce(((e,t)=>(e[t.id]=t.image,e)),{}),[y,w]=(e=>{const[t,n]=(0,i.useState)({});return(0,i.useEffect)((()=>{const t=Object.entries(e).map((e=>{let[t,i]=e;return new Promise(((e,o)=>{const r=new Image;r.src=i,r.onload=()=>{n((e=>({...e,[t]:!0}))),e(t)},r.onerror=()=>{n((e=>({...e,[t]:!1}))),o(t)}}))}));Promise.allSettled(t).then((e=>{console.log("All images processed")}))}),[e]),[t,n]})(b);(0,i.useEffect)((()=>{localStorage.setItem("bookmarkedResources",JSON.stringify(l))}),[l]);const v=(()=>{let e=f;if(o){const t=o.toLowerCase();e=e.filter((e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.author.toLowerCase().includes(t)||e.tags.some((e=>e.toLowerCase().includes(t)))))}return"All"!==s&&(e=e.filter((e=>e.category===s))),1===t?e=e.filter((e=>e.featured)):2===t&&(e=e.filter((e=>l.includes(e.id)))),"newest"===p?e.sort(((e,t)=>new Date(t.date)-new Date(e.date))):"oldest"===p?e.sort(((e,t)=>new Date(e.date)-new Date(t.date))):"az"===p?e.sort(((e,t)=>e.title.localeCompare(t.title))):"za"===p&&e.sort(((e,t)=>t.title.localeCompare(e.title))),e})(),k=e=>{const t=y[e.id],n=l.includes(e.id);return(0,ke.jsx)(Vi,{item:!0,xs:12,md:6,children:(0,ke.jsxs)(Qi,{elevation:3,className:"resources-card",sx:{display:"flex",height:"100%",overflow:"hidden",border:"1px solid #eaeaea",position:"relative",transition:"box-shadow 0.3s ease","&:hover":{boxShadow:"0 5px 15px rgba(0,0,0,0.1)"}},children:[(0,ke.jsxs)(Bt,{sx:{width:"150px",minWidth:"150px",height:"180px",position:"relative",bgcolor:"white",borderRight:"1px solid #eaeaea",display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden"},children:[(0,ke.jsx)(Bt,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,bgcolor:"white",zIndex:0}}),void 0===t&&(0,ke.jsx)(Lp,{size:24,sx:{position:"absolute",zIndex:1,color:"primary.light"}}),!1!==t&&(0,ke.jsx)(Bt,{component:"img",className:"resources-card-image",sx:{position:"relative",zIndex:1,maxWidth:"130px",maxHeight:"160px",width:"auto",height:"auto",objectFit:"contain",display:"block",opacity:t?1:0,transition:"opacity 0.3s ease-in-out",backgroundColor:"white"},src:e.image,alt:e.title,onLoad:t=>{setTimeout((()=>{t.target.style.opacity=1,y[e.id]||w((t=>({...t,[e.id]:!0})))}),50)},onError:t=>{console.error(`Failed to load image for ${e.title}: ${e.image}`),t.target.onerror=null;const n=A(e.category);t.target.src=n,w((t=>({...t,[e.id]:!1})))}}),!1===t&&(0,ke.jsx)(Bt,{component:"img",className:"resources-card-image",sx:{position:"relative",zIndex:1,maxWidth:"130px",maxHeight:"160px",width:"auto",height:"auto",objectFit:"contain",display:"block",backgroundColor:"white"},src:A(e.category),alt:e.title}),n&&(0,ke.jsx)(Bt,{sx:{position:"absolute",top:5,right:5,zIndex:2},children:(0,ke.jsx)(yh,{color:"primary",fontSize:"small",className:"bookmark-animation"})})]}),(0,ke.jsxs)(Bt,{sx:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},children:[(0,ke.jsxs)(go,{sx:{flex:"1 0 auto",pb:1},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mb:1},children:[x(e.author)&&(0,ke.jsx)(Bt,{component:"img",src:x(e.author).src,alt:x(e.author).alt,sx:{width:20,height:20,mr:1,objectFit:"contain"}}),(0,ke.jsx)(kn,{variant:"h6",component:"div",sx:{fontSize:"1rem",fontWeight:"bold"},children:e.title})]}),(0,ke.jsxs)(kn,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:["By ",e.author]}),(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical"},children:e.description}),(0,ke.jsx)(Bt,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:e.tags.map(((e,t)=>(0,ke.jsx)(To,{label:e,size:"small",className:"category-chip",sx:{backgroundColor:"rgba(106, 13, 173, 0.08)",fontSize:"0.7rem",mb:.5}},t)))})]}),(0,ke.jsxs)(Rm,{sx:{pt:0,display:"flex",justifyContent:"space-between"},children:[(0,ke.jsx)(Ii,{size:"small",color:"primary",href:e.link,target:"_blank",rel:"noopener noreferrer",startIcon:(0,ke.jsx)(hw,{}),variant:"contained",sx:{borderRadius:2},children:"Visit Resource"}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(th,{size:"small",onClick:t=>{return n=e.id,void c((e=>e.includes(n)?e.filter((e=>e!==n)):[...e,n]));var n},color:n?"primary":"default",children:n?(0,ke.jsx)(yh,{fontSize:"small"}):(0,ke.jsx)(wh,{fontSize:"small"})}),(0,ke.jsx)(th,{size:"small",onClick:t=>(e=>{navigator.share?navigator.share({title:e.title,text:`Check out this resource: ${e.title} by ${e.author}`,url:e.link}).catch((e=>{console.error("Error sharing resource:",e)})):navigator.clipboard.writeText(e.link).then((()=>{alert("Link copied to clipboard!")})).catch((e=>{console.error("Failed to copy link:",e)}))})(e),children:(0,ke.jsx)(uf,{fontSize:"small"})})]})]})]})]})},e.id)},_=e=>{switch(e){case"Books":return(0,ke.jsx)(qo,{fontSize:"small"});case"Tools":return(0,ke.jsx)(gw,{fontSize:"small"});case"Videos":return(0,ke.jsx)(mw,{fontSize:"small"});case"Courses":return(0,ke.jsx)(Vo,{fontSize:"small"});case"Papers":return(0,ke.jsx)(pp,{fontSize:"small"});case"Communities":return(0,ke.jsx)(fw,{fontSize:"small"});default:return(0,ke.jsx)(bw,{fontSize:"small"})}},x=e=>{switch(e){case"Reddit":return{src:"/images/reddit-logo.png",alt:"Reddit Logo"};case"Stack Exchange":return{src:"/images/stackoverflow-icon.png",alt:"Stack Overflow Logo"};case"RISC-V":return{src:"/images/riscv-logo.png",alt:"RISC-V Logo"};default:return null}},A=()=>"/images/BACKGROUNDLESS_LOGO.png";return(0,ke.jsxs)(Bt,{sx:{overflow:"hidden"},className:"resources-page",children:[(0,ke.jsxs)(Bt,{className:"resources-hero",children:[(0,ke.jsxs)(sm,{maxWidth:"lg",children:[(0,ke.jsxs)(Vi,{container:!0,spacing:3,alignItems:"center",children:[(0,ke.jsx)(Vi,{item:!0,xs:12,md:7,children:(0,ke.jsx)(ua,{in:!0,timeout:1e3,children:(0,ke.jsxs)(Bt,{sx:{position:"relative",zIndex:2},children:[(0,ke.jsx)(Bt,{sx:{position:"absolute",top:-15,right:{xs:-15,md:20},opacity:.15,transform:"rotate(15deg)",display:{xs:"none",md:"block"}},children:(0,ke.jsx)(No,{sx:{fontSize:120,color:"white"}})}),(0,ke.jsx)(Bt,{sx:{position:"absolute",bottom:-30,left:{xs:-15,md:50},opacity:.15,transform:"rotate(-10deg)",display:{xs:"none",md:"block"}},children:(0,ke.jsx)(yw,{sx:{fontSize:100,color:"white"}})}),(0,ke.jsxs)(kn,{variant:"overline",sx:{fontSize:"1rem",fontWeight:500,letterSpacing:2,opacity:.9,mb:1,display:"flex",alignItems:"center",gap:1},children:[(0,ke.jsx)(of,{fontSize:"small"})," KNOWLEDGE HUB"]}),(0,ke.jsx)(kn,{variant:"h2",component:"h1",sx:{fontWeight:800,fontSize:{xs:"2.5rem",md:"3.5rem"},mb:2,lineHeight:1.2,background:"linear-gradient(90deg, #ffffff 0%, #e1bee7 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Engineering Learning Resources"}),(0,ke.jsx)(kn,{variant:"h6",sx:{fontWeight:400,opacity:.9,maxWidth:"700px",mb:4},children:"Explore our curated collection of high-quality resources to accelerate your learning in VLSI, digital design, and computer architecture."}),(0,ke.jsxs)(Bt,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[(0,ke.jsx)(Ii,{variant:"contained",color:"secondary",size:"large",sx:{borderRadius:2,fontWeight:600,px:3,py:1,textTransform:"none"},onClick:()=>{n(1),document.getElementById("resources-section").scrollIntoView({behavior:"smooth"})},children:"Featured Resources"}),(0,ke.jsx)(Ii,{variant:"outlined",color:"inherit",size:"large",sx:{borderRadius:2,fontWeight:600,px:3,py:1,textTransform:"none",borderColor:"rgba(255,255,255,0.5)","&:hover":{borderColor:"white",backgroundColor:"rgba(255,255,255,0.1)"}},onClick:()=>{document.getElementById("resource-suggestion").scrollIntoView({behavior:"smooth"})},children:"Suggest Resource"})]})]})})}),(0,ke.jsx)(Vi,{item:!0,xs:12,md:5,sx:{display:{xs:"none",md:"block"}},children:(0,ke.jsx)(dm,{in:!0,style:{transitionDelay:"300ms"},children:(0,ke.jsx)(Bt,{component:"img",src:"/images/resource-hero-image.png",alt:"Learning resources",sx:{width:"100%",maxWidth:"450px",filter:"drop-shadow(0 10px 20px rgba(0,0,0,0.2))",transform:"translateY(20px)"},onError:e=>{e.target.onerror=null,e.target.style.display="none"}})})})]}),(0,ke.jsx)(Fp,{direction:"up",in:!0,style:{transitionDelay:"500ms"},children:(0,ke.jsxs)(Bt,{sx:{display:"flex",flexWrap:"wrap",gap:{xs:4,md:8},mt:8,justifyContent:{xs:"center",md:"flex-start"},color:"rgba(255,255,255,0.9)"},children:[(0,ke.jsxs)(Bt,{sx:{textAlign:"center"},children:[(0,ke.jsx)(kn,{variant:"h3",sx:{fontWeight:700,mb:1},children:m.length}),(0,ke.jsx)(kn,{variant:"body1",sx:{fontWeight:500},children:"Learning Resources"})]}),(0,ke.jsxs)(Bt,{sx:{textAlign:"center"},children:[(0,ke.jsx)(kn,{variant:"h3",sx:{fontWeight:700,mb:1},children:m.filter((e=>e.featured)).length}),(0,ke.jsx)(kn,{variant:"body1",sx:{fontWeight:500},children:"Featured Resources"})]}),(0,ke.jsxs)(Bt,{sx:{textAlign:"center"},children:[(0,ke.jsx)(kn,{variant:"h3",sx:{fontWeight:700,mb:1},children:g.length-1}),(0,ke.jsx)(kn,{variant:"body1",sx:{fontWeight:500},children:"Categories"})]}),(0,ke.jsxs)(Bt,{sx:{textAlign:"center"},children:[(0,ke.jsx)(kn,{variant:"h3",sx:{fontWeight:700,mb:1},children:m.reduce(((e,t)=>e+t.tags.length),0)}),(0,ke.jsx)(kn,{variant:"body1",sx:{fontWeight:500},children:"Topics & Tags"})]})]})})]}),(0,ke.jsx)(Bt,{className:"wave-shape",children:(0,ke.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:(0,ke.jsx)("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"})})})]}),(0,ke.jsxs)(sm,{maxWidth:"lg",sx:{py:6},id:"resources-section",className:"resources-section",children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",mb:4},children:[(0,ke.jsxs)(Kd,{value:t,onChange:(e,t)=>{n(t)},sx:{"& .MuiTabs-indicator":{height:3,borderRadius:3},"& .MuiTab-root":{textTransform:"none",fontSize:"1rem",fontWeight:600,minWidth:{xs:"auto",sm:120}}},children:[(0,ke.jsx)(Jd,{label:"All Resources"}),(0,ke.jsx)(Jd,{label:"Featured"}),(0,ke.jsx)(Jd,{label:(0,ke.jsx)(ym,{badgeContent:l.length,color:"secondary",sx:{"& .MuiBadge-badge":{fontWeight:"bold",fontSize:"0.7rem"}},children:"Bookmarked"})})]}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mt:{xs:2,sm:0}},children:[(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",sx:{mr:1},children:"Sort:"}),(0,ke.jsx)(Pl,{select:!0,size:"small",value:p,onChange:e=>h(e.target.value),sx:{minWidth:130,"& .MuiSelect-select":{py:1}},children:[{value:"newest",label:"Newest First"},{value:"oldest",label:"Oldest First"},{value:"az",label:"A-Z"},{value:"za",label:"Z-A"}].map((e=>(0,ke.jsx)(Gl,{value:e.value,children:e.label},e.value)))})]})]}),(0,ke.jsx)($i,{elevation:2,className:"resources-filters",sx:{p:3,mb:4,borderRadius:3,backgroundColor:"white",boxShadow:"0 4px 20px rgba(0,0,0,0.05)"},children:(0,ke.jsxs)(Bt,{sx:{position:"relative",zIndex:1},children:[(0,ke.jsxs)(Vi,{container:!0,spacing:3,children:[(0,ke.jsx)(Vi,{item:!0,xs:12,md:8,children:(0,ke.jsx)(Pl,{fullWidth:!0,placeholder:"Search resources by title, author, description or tags...",variant:"outlined",value:o,onChange:e=>r(e.target.value),InputProps:{startAdornment:(0,ke.jsx)(Ol,{position:"start",children:(0,ke.jsx)(mc,{color:"primary"})}),sx:{borderRadius:2,pr:1}}})}),(0,ke.jsx)(Vi,{item:!0,xs:12,md:4,children:(0,ke.jsxs)(Bt,{sx:{position:"relative",height:"100%"},children:[(0,ke.jsxs)(Ii,{fullWidth:!0,variant:"outlined",color:"primary",onClick:()=>u(!d),sx:{height:"100%",justifyContent:"space-between",textTransform:"none",borderRadius:2},startIcon:(0,ke.jsx)(af,{}),endIcon:(0,ke.jsx)(Fo,{sx:{transform:d?"rotate(90deg)":"rotate(0deg)",transition:"transform 0.3s ease"}}),children:["Filter by category: ",s]}),d&&(0,ke.jsx)($i,{elevation:3,sx:{position:"absolute",top:"100%",left:0,right:0,mt:1,p:2,zIndex:10,borderRadius:2,display:"flex",flexWrap:"wrap",gap:1},children:g.map((e=>(0,ke.jsx)(To,{label:e,icon:"All"!==e?_(e):null,onClick:()=>{a(e),u(!1)},className:"category-chip",sx:{backgroundColor:s===e?"primary.main":"rgba(0, 0, 0, 0.05)",color:s===e?"white":"text.primary",fontWeight:s===e?600:400,"&:hover":{backgroundColor:s===e?"primary.dark":"rgba(0, 0, 0, 0.1)"},px:1}},e)))})]})})]}),(o||"All"!==s)&&(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",flexWrap:"wrap",gap:1,mt:2},children:[(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"Active filters:"}),o&&(0,ke.jsx)(To,{label:`Search: "${o}"`,onDelete:()=>r(""),size:"small",sx:{fontWeight:500}}),"All"!==s&&(0,ke.jsx)(To,{icon:_(s),label:s,onDelete:()=>a("All"),size:"small",color:"primary",sx:{fontWeight:500}}),(o||"All"!==s)&&(0,ke.jsx)(Ii,{size:"small",onClick:()=>{r(""),a("All")},sx:{ml:"auto",textTransform:"none"},children:"Clear all"})]})]})}),(0,ke.jsx)(Bt,{sx:{mb:3,display:"flex",alignItems:"center",justifyContent:"space-between"},children:(0,ke.jsxs)(kn,{variant:"body2",color:"text.secondary",children:["Showing ",v.length," of ",m.length," resources","All"!==s&&` in ${s}`,1===t&&" (Featured)",2===t&&" (Bookmarked)"]})}),v.length>0?(0,ke.jsx)(Vi,{container:!0,spacing:3,sx:{mb:6},children:v.map((e=>k(e)))}):(0,ke.jsxs)($i,{elevation:0,sx:{textAlign:"center",py:8,px:3,borderRadius:3,bgcolor:"rgba(106, 13, 173, 0.04)",mb:6},children:[(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,children:"No resources found matching your criteria"}),(0,ke.jsx)(kn,{variant:"body1",color:"text.secondary",paragraph:!0,children:"Try adjusting your search terms or filters to find what you're looking for"}),(0,ke.jsx)(Ii,{variant:"outlined",color:"primary",onClick:()=>{r(""),a("All"),n(0)},sx:{mt:2,borderRadius:2,textTransform:"none"},children:"Reset all filters"})]}),(0,ke.jsx)($i,{id:"resource-suggestion",className:"resources-suggestion",sx:{p:{xs:3,md:6},mb:4,borderRadius:3,background:"linear-gradient(135deg, rgba(156, 39, 176, 0.08) 0%, rgba(106, 27, 154, 0.16) 100%)",position:"relative",overflow:"hidden"},children:(0,ke.jsxs)(Vi,{container:!0,spacing:4,sx:{position:"relative",zIndex:2},children:[(0,ke.jsxs)(Vi,{item:!0,xs:12,md:8,children:[(0,ke.jsx)(kn,{variant:"h4",component:"h2",gutterBottom:!0,sx:{fontWeight:700},children:"Suggest a Resource"}),(0,ke.jsx)(kn,{variant:"body1",paragraph:!0,children:"Know of a great resource related to VLSI, digital design, or computer architecture that's not listed? Help our community grow by suggesting it for inclusion in our curated collection."}),(0,ke.jsx)(kn,{variant:"body1",paragraph:!0,children:"We value high-quality resources that provide clear explanations, practical examples, and up-to-date information on relevant topics. Your contributions help make VeriGeek a comprehensive learning hub."}),(0,ke.jsx)(Ii,{variant:"contained",color:"primary",size:"large",onClick:()=>window.open("https://forms.gle/2HaiM9RCd7HbpPmJ7","_blank"),sx:{mt:2,borderRadius:2,textTransform:"none",fontWeight:600,px:4},children:"Submit Resource"})]}),(0,ke.jsx)(Vi,{item:!0,xs:12,md:4,sx:{display:"flex",alignItems:"center",justifyContent:{xs:"center",md:"flex-end"}},children:(0,ke.jsx)(Bt,{sx:{width:180,height:180,backgroundImage:'url("/images/BACKGROUNDLESS_LOGO.png")',backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",opacity:.9},"aria-label":"VeriGeek Logo"})})]})})]})]})};function vw(e){return Et("MuiTableContainer",e)}Dt("MuiTableContainer",["root"]);const kw=["className","component"],_w=hn("div",{name:"MuiTableContainer",slot:"Root",overridesResolver:(e,t)=>t.root})({width:"100%",overflowX:"auto"}),xw=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiTableContainer"}),{className:i,component:o="div"}=n,r=(0,Re.A)(n,kw),s=(0,we.A)({},n,{component:o}),a=(e=>{const{classes:t}=e;return cn({root:["root"]},vw,t)})(s);return(0,ke.jsx)(_w,(0,we.A)({ref:t,as:o,className:_t(a.root,i),ownerState:s},r))}));const Aw=i.createContext();function Cw(e){return Et("MuiTable",e)}Dt("MuiTable",["root","stickyHeader"]);const Sw=["className","component","padding","size","stickyHeader"],Iw=hn("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,we.A)({},t.typography.body2,{padding:t.spacing(2),color:(t.vars||t).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},n.stickyHeader&&{borderCollapse:"separate"})})),Tw="table",Ew=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiTable"}),{className:o,component:r=Tw,padding:s="normal",size:a="medium",stickyHeader:l=!1}=n,c=(0,Re.A)(n,Sw),d=(0,we.A)({},n,{component:r,padding:s,size:a,stickyHeader:l}),u=(e=>{const{classes:t,stickyHeader:n}=e;return cn({root:["root",n&&"stickyHeader"]},Cw,t)})(d),p=i.useMemo((()=>({padding:s,size:a,stickyHeader:l})),[s,a,l]);return(0,ke.jsx)(Aw.Provider,{value:p,children:(0,ke.jsx)(Iw,(0,we.A)({as:r,role:r===Tw?null:"table",ref:t,className:_t(u.root,o),ownerState:d},c))})}));const Dw=i.createContext();function Mw(e){return Et("MuiTableHead",e)}Dt("MuiTableHead",["root"]);const Pw=["className","component"],Rw=hn("thead",{name:"MuiTableHead",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-header-group"}),Bw={variant:"head"},jw="thead",Lw=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiTableHead"}),{className:i,component:o=jw}=n,r=(0,Re.A)(n,Pw),s=(0,we.A)({},n,{component:o}),a=(e=>{const{classes:t}=e;return cn({root:["root"]},Mw,t)})(s);return(0,ke.jsx)(Dw.Provider,{value:Bw,children:(0,ke.jsx)(Rw,(0,we.A)({as:o,className:_t(a.root,i),ref:t,role:o===jw?null:"rowgroup",ownerState:s},r))})}));function zw(e){return Et("MuiTableRow",e)}const Ow=Dt("MuiTableRow",["root","selected","hover","head","footer"]),Nw=["className","component","hover","selected"],Fw=hn("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.head&&t.head,n.footer&&t.footer]}})((e=>{let{theme:t}=e;return{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${Ow.hover}:hover`]:{backgroundColor:(t.vars||t).palette.action.hover},[`&.${Ow.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:(0,Ne.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:(0,Ne.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity)}}}})),Vw="tr",Hw=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiTableRow"}),{className:o,component:r=Vw,hover:s=!1,selected:a=!1}=n,l=(0,Re.A)(n,Nw),c=i.useContext(Dw),d=(0,we.A)({},n,{component:r,hover:s,selected:a,head:c&&"head"===c.variant,footer:c&&"footer"===c.variant}),u=(e=>{const{classes:t,selected:n,hover:i,head:o,footer:r}=e;return cn({root:["root",n&&"selected",i&&"hover",o&&"head",r&&"footer"]},zw,t)})(d);return(0,ke.jsx)(Fw,(0,we.A)({as:r,ref:t,className:_t(u.root,o),role:r===Vw?null:"row",ownerState:d},l))})),Ww=Hw;function Uw(e){return Et("MuiTableCell",e)}const qw=Dt("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),$w=["align","className","component","padding","scope","size","sortDirection","variant"],Gw=hn("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`size${mn(n.size)}`],"normal"!==n.padding&&t[`padding${mn(n.padding)}`],"inherit"!==n.align&&t[`align${mn(n.align)}`],n.stickyHeader&&t.stickyHeader]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({},t.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:t.vars?`1px solid ${t.vars.palette.TableCell.border}`:`1px solid\n    ${"light"===t.palette.mode?(0,Ne.a)((0,Ne.X4)(t.palette.divider,1),.88):(0,Ne.e$)((0,Ne.X4)(t.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===n.variant&&{color:(t.vars||t).palette.text.primary,lineHeight:t.typography.pxToRem(24),fontWeight:t.typography.fontWeightMedium},"body"===n.variant&&{color:(t.vars||t).palette.text.primary},"footer"===n.variant&&{color:(t.vars||t).palette.text.secondary,lineHeight:t.typography.pxToRem(21),fontSize:t.typography.pxToRem(12)},"small"===n.size&&{padding:"6px 16px",[`&.${qw.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===n.padding&&{width:48,padding:"0 0 0 4px"},"none"===n.padding&&{padding:0},"left"===n.align&&{textAlign:"left"},"center"===n.align&&{textAlign:"center"},"right"===n.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===n.align&&{textAlign:"justify"},n.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(t.vars||t).palette.background.default})})),Kw=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiTableCell"}),{align:o="inherit",className:r,component:s,padding:a,scope:l,size:c,sortDirection:d,variant:u}=n,p=(0,Re.A)(n,$w),h=i.useContext(Aw),g=i.useContext(Dw),m=g&&"head"===g.variant;let f;f=s||(m?"th":"td");let b=l;"td"===f?b=void 0:!b&&m&&(b="col");const y=u||g&&g.variant,w=(0,we.A)({},n,{align:o,component:f,padding:a||(h&&h.padding?h.padding:"normal"),size:c||(h&&h.size?h.size:"medium"),sortDirection:d,stickyHeader:"head"===y&&h&&h.stickyHeader,variant:y}),v=(e=>{const{classes:t,variant:n,align:i,padding:o,size:r,stickyHeader:s}=e;return cn({root:["root",n,s&&"stickyHeader","inherit"!==i&&`align${mn(i)}`,"normal"!==o&&`padding${mn(o)}`,`size${mn(r)}`]},Uw,t)})(w);let k=null;return d&&(k="asc"===d?"ascending":"descending"),(0,ke.jsx)(Gw,(0,we.A)({as:f,ref:t,className:_t(v.root,r),"aria-sort":k,scope:b,ownerState:w},p))})),Yw=Kw;function Qw(e){return Et("MuiTableBody",e)}Dt("MuiTableBody",["root"]);const Zw=["className","component"],Xw=hn("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),Jw={variant:"body"},ev="tbody",tv=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiTableBody"}),{className:i,component:o=ev}=n,r=(0,Re.A)(n,Zw),s=(0,we.A)({},n,{component:o}),a=(e=>{const{classes:t}=e;return cn({root:["root"]},Qw,t)})(s);return(0,ke.jsx)(Dw.Provider,{value:Jw,children:(0,ke.jsx)(Xw,(0,we.A)({className:_t(a.root,i),as:o,ref:t,role:o===ev?null:"rowgroup",ownerState:s},r))})})),nv=vo((0,ke.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 16H5V5h14zM7 10h2v7H7zm4-3h2v10h-2zm4 6h2v4h-2z"}),"AssessmentOutlined"),iv=vo((0,ke.jsx)("path",{d:"M22 9V7h-2V5c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-2h2v-2h-2v-2h2v-2h-2V9zm-4 10H4V5h14zM6 13h5v4H6zm6-6h4v3h-4zM6 7h5v5H6zm6 4h4v6h-4z"}),"DeveloperBoardOutlined"),ov=vo((0,ke.jsx)("path",{d:"M15 9H9v6h6zm-2 4h-2v-2h2zm8-2V9h-2V7c0-1.1-.9-2-2-2h-2V3h-2v2h-2V3H9v2H7c-1.1 0-2 .9-2 2v2H3v2h2v2H3v2h2v2c0 1.1.9 2 2 2h2v2h2v-2h2v2h2v-2h2c1.1 0 2-.9 2-2v-2h2v-2h-2v-2zm-4 6H7V7h10z"}),"MemoryOutlined"),rv=vo((0,ke.jsx)("path",{d:"M4 7v2c0 .55-.45 1-1 1H2v4h1c.55 0 1 .45 1 1v2c0 1.65 1.35 3 3 3h3v-2H7c-.55 0-1-.45-1-1v-2c0-1.3-.84-2.42-2-2.83v-.34C5.16 11.42 6 10.3 6 9V7c0-.55.45-1 1-1h3V4H7C5.35 4 4 5.35 4 7m17 3c-.55 0-1-.45-1-1V7c0-1.65-1.35-3-3-3h-3v2h3c.55 0 1 .45 1 1v2c0 1.3.84 2.42 2 2.83v.34c-1.16.41-2 1.52-2 2.83v2c0 .55-.45 1-1 1h-3v2h3c1.65 0 3-1.35 3-3v-2c0-.55.45-1 1-1h1v-4z"}),"DataObjectOutlined"),sv=vo((0,ke.jsx)("path",{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2zM4 6h16v10H4z"}),"ComputerOutlined"),av=vo((0,ke.jsx)("path",{d:"M7.77 6.76 6.23 5.48.82 12l5.41 6.52 1.54-1.28L3.42 12zM7 13h2v-2H7zm10-2h-2v2h2zm-6 2h2v-2h-2zm6.77-7.52-1.54 1.28L20.58 12l-4.35 5.24 1.54 1.28L23.18 12z"}),"SettingsEthernetOutlined"),lv=vo((0,ke.jsx)("path",{d:"M7 19c-1.1 0-2 .9-2 2h14c0-1.1-.9-2-2-2h-4v-2h3c1.1 0 2-.9 2-2h-8c-1.66 0-3-1.34-3-3 0-1.09.59-2.04 1.47-2.57.41.59 1.06 1 1.83 1.06.7.06 1.36-.19 1.85-.62l.59 1.61.94-.34.34.94 1.88-.68-.34-.94.94-.34-2.74-7.52-.94.34-.34-.94-1.88.68.34.94-.94.35.56 1.55c-1.17-.04-2.19.75-2.48 1.86C6.27 8.14 5 9.92 5 12c0 2.76 2.24 5 5 5v2zm5.86-14.48 1.71 4.7-.94.34-1.71-4.7zM10.5 7c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1"}),"BiotechOutlined"),cv=vo((0,ke.jsx)("path",{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5zm0 10.99h7c-.53 4.12-3.28 7.79-7 8.94V12H5V6.3l7-3.11z"}),"SecurityOutlined"),dv=vo((0,ke.jsx)("path",{d:"M12 7V3H2v18h20V7zM6 19H4v-2h2zm0-4H4v-2h2zm0-4H4V9h2zm0-4H4V5h2zm4 12H8v-2h2zm0-4H8v-2h2zm0-4H8V9h2zm0-4H8V5h2zm10 12h-8v-2h2v-2h-2v-2h2v-2h-2V9h8zm-2-8h-2v2h2zm0 4h-2v2h2z"}),"BusinessOutlined"),uv=vo((0,ke.jsx)("path",{d:"M23 8c0 1.1-.9 2-2 2-.18 0-.35-.02-.51-.07l-3.56 3.55c.05.16.07.34.07.52 0 1.1-.9 2-2 2s-2-.9-2-2c0-.18.02-.36.07-.52l-2.55-2.55c-.16.05-.34.07-.52.07s-.36-.02-.52-.07l-4.55 4.56c.05.16.07.33.07.51 0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2c.18 0 .35.02.51.07l4.56-4.55C8.02 9.36 8 9.18 8 9c0-1.1.9-2 2-2s2 .9 2 2c0 .18-.02.36-.07.52l2.55 2.55c.16-.05.34-.07.52-.07s.36.02.52.07l3.55-3.56C19.02 8.35 19 8.18 19 8c0-1.1.9-2 2-2s2 .9 2 2"}),"Timeline"),pv=vo((0,ke.jsx)("path",{d:"m16 6 2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"}),"TrendingUp"),hv=()=>{const[e,t]=(0,i.useState)(0),n=[{title:"RTL Design Engineer",description:"Design digital circuits using hardware description languages (HDLs) like Verilog and VHDL.",responsibilities:["Translate specifications into synthesizable RTL code","Create and optimize digital circuits for performance, power, and area","Develop testbenches for functional verification","Debug and fix design issues","Collaborate with verification and physical design teams"],skills:["Verilog/VHDL","Digital Design Concepts","Logic Design","Timing Analysis","Low Power Design Techniques"],education:"B.S./M.S. in Electrical/Computer Engineering",salary:"$110,000 - $150,000",growth:"Steady",companies:["Intel","AMD","Nvidia","Qualcomm","Apple","Samsung"],icon:(0,ke.jsx)(Lo,{})},{title:"Verification Engineer",description:"Ensure RTL designs meet specifications through comprehensive testing and verification approaches.",responsibilities:["Develop verification plans and testbenches","Implement coverage-driven verification strategies","Create assertions to verify design properties","Perform functional and formal verification","Debug design issues and collaborate with design teams"],skills:["SystemVerilog","UVM (Universal Verification Methodology)","Assertions","Functional Coverage","Simulation Tools (VCS, ModelSim, etc.)"],education:"B.S./M.S. in Electrical/Computer Engineering",salary:"$115,000 - $160,000",growth:"High",companies:["Synopsys","Cadence","Intel","AMD","Broadcom","MediaTek"],icon:(0,ke.jsx)(nv,{})},{title:"Physical Design Engineer",description:"Transform RTL code into optimized physical layouts for semiconductor manufacturing.",responsibilities:["Floorplan design and optimization","Placement and routing of logic cells","Clock tree synthesis","Timing closure and signoff","Design rule checking (DRC) and layout vs. schematic (LVS) verification"],skills:["Physical Design Flow","Placement & Routing Tools","Timing Analysis","Power Analysis","DRC/LVS Verification"],education:"B.S./M.S. in Electrical/Computer Engineering",salary:"$120,000 - $165,000",growth:"Steady",companies:["TSMC","Global Foundries","Intel","Samsung","Qualcomm","Apple"],icon:(0,ke.jsx)(iv,{})},{title:"FPGA Engineer",description:"Design and implement digital systems on field-programmable gate arrays (FPGAs).",responsibilities:["Develop RTL code for FPGA implementation","Perform synthesis, place and route","Create timing constraints","Debug and optimize designs for performance","Develop test frameworks and validation"],skills:["Verilog/VHDL","FPGA Architecture","Synthesis Tools (Vivado, Quartus)","Timing Constraints","Debugging Tools"],education:"B.S./M.S. in Electrical/Computer Engineering",salary:"$100,000 - $140,000",growth:"Moderate",companies:["Xilinx/AMD","Intel","Microchip","Lattice Semiconductor","Defense Contractors"],icon:(0,ke.jsx)(ov,{})},{title:"DFT Engineer",description:"Design for Testability (DFT) engineers ensure that manufactured chips can be tested effectively.",responsibilities:["Implement scan chain insertion and test logic","Develop ATPG (Automatic Test Pattern Generation) strategies","Implement BIST (Built-In Self-Test) circuits","Optimize test coverage and test time","Create test plans and collaborate with test engineers"],skills:["DFT Methodologies","ATPG Tools","Scan Insertion","BIST Design","Boundary Scan/JTAG"],education:"B.S./M.S. in Electrical/Computer Engineering",salary:"$110,000 - $150,000",growth:"Moderate",companies:["Intel","Qualcomm","Broadcom","NXP","Mentor Graphics/Siemens"],icon:(0,ke.jsx)(rv,{})},{title:"Analog/Mixed-Signal Design Engineer",description:"Design analog and mixed-signal circuits like PLLs, ADCs, DACs, and high-speed interfaces.",responsibilities:["Design analog and mixed-signal circuits","Perform circuit simulation and analysis","Create and review schematics and layouts","Characterize and validate circuits","Debug and optimize for performance"],skills:["Analog Circuit Design","Mixed-Signal Design","SPICE Simulation","Layout Tools","Signal Integrity Analysis"],education:"M.S./Ph.D. in Electrical Engineering",salary:"$130,000 - $180,000",growth:"Moderate",companies:["Texas Instruments","Analog Devices","Infineon","NXP","Skyworks","Qualcomm"],icon:(0,ke.jsx)(sv,{})},{title:"SoC Design Engineer",description:"Integrate various IP blocks to create complete system-on-chip solutions for specific applications.",responsibilities:["IP integration and connectivity design","Memory subsystem design and optimization","Power domain planning and implementation","Bus architecture and protocol implementation","SoC level verification and validation"],skills:["IP Integration","Bus Protocols (AXI, APB, etc.)","Memory Architecture","Power Management","System-level Design"],education:"M.S. in Electrical/Computer Engineering",salary:"$125,000 - $175,000",growth:"High",companies:["Apple","Qualcomm","MediaTek","Samsung","Google","Tesla"],icon:(0,ke.jsx)(av,{})},{title:"Semiconductor Process Engineer",description:"Develop and optimize manufacturing processes for semiconductor fabrication.",responsibilities:["Process development and optimization","Yield analysis and improvement","Defect reduction strategies","Process integration with design requirements","New technology node implementation"],skills:["Semiconductor Physics","Process Integration","Yield Analysis","Statistical Process Control","Equipment Optimization"],education:"M.S./Ph.D. in Electrical Engineering or Materials Science",salary:"$120,000 - $160,000",growth:"Moderate",companies:["TSMC","Intel","Samsung","GlobalFoundries","Micron","Applied Materials"],icon:(0,ke.jsx)(lv,{})},{title:"Hardware Security Engineer",description:"Design and implement security features in hardware to protect against various attacks and vulnerabilities.",responsibilities:["Implement secure boot and trusted execution","Design anti-tamper mechanisms","Conduct side-channel attack analysis","Implement cryptographic hardware accelerators","Vulnerability assessment and testing"],skills:["Hardware Security Primitives","Cryptography","Side-channel Analysis","Secure Boot Architecture","Security Verification"],education:"M.S./Ph.D. in Electrical/Computer Engineering",salary:"$130,000 - $180,000",growth:"High",companies:["Intel","ARM","Apple","Qualcomm","Defense Contractors","NXP"],icon:(0,ke.jsx)(cv,{})}],o=[{title:"AI Hardware Acceleration",description:"The rapid growth of artificial intelligence applications is driving demand for specialized hardware accelerators, including GPUs, TPUs, and custom ASIC solutions.",impact:"Companies are hiring VLSI engineers with experience in designing efficient compute architectures for machine learning workloads.",timeframe:"Current and growing over next 5 years"},{title:"RISC-V Adoption",description:"The open-source RISC-V instruction set architecture is gaining momentum as an alternative to proprietary architectures.",impact:"Creates opportunities for engineers with expertise in processor design and RISC-V implementation.",timeframe:"Growing over next 3-5 years"},{title:"Chiplet-Based Architecture",description:"Companies are moving from monolithic chips to smaller, specialized chiplets that are integrated together, enabling more complex systems and better yield.",impact:"Increasing demand for engineers skilled in high-speed interfaces, packaging technologies, and system integration.",timeframe:"Current and growing over next 3-4 years"},{title:"Hardware Security",description:"With growing concerns about hardware vulnerabilities, companies are focusing on security features built directly into hardware designs.",impact:"Rising demand for VLSI engineers with expertise in security protocols, secure boot, trusted execution environments, and side-channel attack prevention.",timeframe:"Current and ongoing"},{title:"3D Integration",description:"Three-dimensional integration of chips allows for higher density and performance with lower power consumption.",impact:"Creates opportunities for engineers with knowledge of 3D design methodologies, through-silicon vias (TSVs), and thermal management.",timeframe:"Growing over next 3-5 years"},{title:"Automotive Semiconductor Growth",description:"The automotive industry is increasingly adopting advanced driver assistance systems (ADAS) and electric vehicles, requiring specialized semiconductor solutions.",impact:"High demand for engineers with expertise in functional safety, automotive-grade reliability, and low-power design for EV applications.",timeframe:"Current and accelerating over next 5-7 years"},{title:"Specialized IoT SoCs",description:"The Internet of Things market is driving demand for ultra-low-power, application-specific SoCs with integrated wireless connectivity and security features.",impact:"Growing opportunities for engineers specializing in low-power design, wireless protocols, and edge computing architectures.",timeframe:"Current and steady growth over next 3-5 years"},{title:"Advanced Packaging Technologies",description:"As Moore's Law slows, advanced packaging technologies like FOWLP and 2.5D/3D integration are gaining importance.",impact:"Increasing demand for engineers with expertise in advanced packaging, high-speed signal integrity, and thermal management.",timeframe:"Current and growing over next 3-6 years"}],r=[{degree:"Bachelor's Degree in Electrical/Computer Engineering",description:"Provides foundational knowledge in digital logic, circuit design, and computer architecture.",courses:["Digital Logic Design","Computer Architecture","Electronic Circuits","Signals and Systems","Semiconductor Devices"],duration:"4 years",career:"Entry-level positions in RTL design, verification, or FPGA development"},{degree:"Master's Degree in VLSI/Microelectronics",description:"Offers specialized knowledge in advanced digital design, semiconductor physics, and EDA tools.",courses:["Advanced VLSI Design","Digital System Testing","Low Power Design","Physical Design Automation","Hardware Security"],duration:"1.5-2 years",career:"Mid-level positions in design, verification, or physical design"},{degree:"Ph.D. in Electrical Engineering (VLSI focus)",description:"Involves original research in specialized areas such as novel architectures or emerging technologies.",courses:["Advanced Research Seminars","Specialized Topics","Dissertation Research"],duration:"4-6 years",career:"Research positions, architecture development, or specialized design roles"},{degree:"Industry Certifications",description:"Certifications from tool vendors or industry associations that validate expertise in specific areas.",courses:["Synopsys Certified Professional","Cadence Certified Expert","Xilinx/AMD Certified Developer","UVM Methodology Certification"],duration:"Varies (weeks to months)",career:"Enhances credentials for specialized roles or tool expertise"},{degree:"Bachelor's Degree in Electrical Engineering",description:"Focuses on power systems, control systems, electromagnetics, and basic electronics.",courses:["Circuit Theory","Electromagnetic Fields","Power Systems","Control Systems","Basic Digital Electronics"],duration:"4 years",career:"May transition to VLSI with additional coursework or further study"},{degree:"Master's in Embedded Systems",description:"Combines hardware and software aspects of system design, often including FPGA and SoC components.",courses:["Embedded Hardware Design","Real-time Operating Systems","FPGA-based System Design","Hardware-Software Co-design","IoT System Architecture"],duration:"1.5-2 years",career:"Positions in embedded systems design, FPGA development, and IoT hardware"},{degree:"Bootcamps and Short Courses",description:"Intensive, focused training programs that rapidly build specific VLSI or EDA tool skills.",courses:["Hardware Description Languages","EDA Tool Training","FPGA Programming","Physical Design Flow","Project-Based Learning"],duration:"2-6 months",career:"Supplement formal education or assist in career transitions"}],s=[{field:"Power Electronics",description:"Design and development of systems that convert and control electrical power for various applications.",roles:["Power Electronics Engineer","Power System Designer","Energy Management Engineer"],skills:["Power Conversion","Inverter Design","Battery Management","Motor Drives"],growth:"High (driven by EV and renewable energy growth)",relatedToVLSI:"IC design for power management circuits and motor control"},{field:"Signal Processing",description:"Processing, analyzing, and manipulating signals for communications, audio/video, and data analysis.",roles:["DSP Engineer","Algorithm Developer","Wireless System Engineer"],skills:["Digital Signal Processing","Filter Design","Communication Systems","Algorithm Optimization"],growth:"Moderate to High",relatedToVLSI:"Hardware implementation of DSP algorithms and accelerators"},{field:"Embedded Systems",description:"Integration of hardware and software to create specialized computing systems.",roles:["Embedded System Engineer","Firmware Developer","IoT Hardware Engineer"],skills:["Microcontroller Programming","RTOS","PCB Design","Low-level Drivers"],growth:"High",relatedToVLSI:"SoC design, hardware/software interfaces, FPGA prototyping"},{field:"RF/Wireless Communications",description:"Design of systems and components for wireless data transmission and reception.",roles:["RF Engineer","Wireless System Designer","Antenna Engineer"],skills:["RF Circuit Design","Wireless Protocols","Antenna Design","Signal Integrity"],growth:"Moderate to High (with 5G/6G expansion)",relatedToVLSI:"RF transceiver chip design, wireless SoCs"},{field:"Robotics & Control Systems",description:"Design of automated systems, robots, and their control electronics.",roles:["Robotics Engineer","Control Systems Engineer","Automation Engineer"],skills:["Sensor Integration","Motor Control","Feedback Systems","Path Planning"],growth:"High",relatedToVLSI:"SoC design for robotics, sensor interface circuits"},{field:"Biomedical Electronics",description:"Development of electronic devices for medical diagnostics, monitoring, and treatment.",roles:["Biomedical Engineer","Medical Device Engineer","Healthcare IoT Developer"],skills:["Biosignal Processing","Low-power Design","Medical Standards","Sensor Interfaces"],growth:"High",relatedToVLSI:"Ultra-low power ICs, implantable electronics, sensor front-ends"}],a=[{region:"Silicon Valley, USA",majorEmployers:["Intel","AMD","Nvidia","Apple","Qualcomm","Broadcom"],salaryRange:"$120,000 - $200,000",dominantRoles:"SoC Design, AI Hardware, RTL Design",jobGrowth:"High",costOfLiving:"Very High"},{region:"Bangalore, India",majorEmployers:["Intel","AMD","Qualcomm","Texas Instruments","Analog Devices","Nvidia"],salaryRange:"\u20b915,00,000 - \u20b950,00,000",dominantRoles:"Verification, Physical Design, RTL Design",jobGrowth:"Very High",costOfLiving:"Moderate"},{region:"Hsinchu, Taiwan",majorEmployers:["TSMC","MediaTek","Realtek","Novatek","Global Unichip"],salaryRange:"NT$ 1,200,000 - 2,400,000",dominantRoles:"Physical Design, Process Engineering, Analog Design",jobGrowth:"High",costOfLiving:"Moderate"},{region:"Shenzhen, China",majorEmployers:["Huawei HiSilicon","ZTE","SMIC","Spreadtrum","Allwinner"],salaryRange:"\xa5250,000 - \xa5800,000",dominantRoles:"RTL Design, SoC Integration, Mobile Processors",jobGrowth:"High",costOfLiving:"Moderate"},{region:"Austin, USA",majorEmployers:["Samsung","NXP","AMD","Apple","Infineon"],salaryRange:"$100,000 - $170,000",dominantRoles:"Verification, RTL Design, Analog Design",jobGrowth:"High",costOfLiving:"Moderate to High"},{region:"Munich, Germany",majorEmployers:["Infineon","NXP","Intel","Bosch","Siemens"],salaryRange:"\u20ac60,000 - \u20ac120,000",dominantRoles:"Automotive Semiconductors, Power ICs, Security",jobGrowth:"Moderate",costOfLiving:"High"}],l=[{name:"Synopsys Certified Design Professional",provider:"Synopsys",focus:"Design Compiler, IC Compiler, PrimeTime",value:"Recognition of proficiency in Synopsys-based design flows",duration:"3-6 months preparation",cost:"$500-$1000 per exam"},{name:"Cadence Certified Expert",provider:"Cadence Design Systems",focus:"Genus, Innovus, Tempus, Voltus",value:"Industry recognition for Cadence tool expertise",duration:"3-6 months preparation",cost:"$600-$1200 per exam"},{name:"Xilinx/AMD Certified Developer",provider:"Xilinx/AMD",focus:"FPGA design using Vivado or Vitis",value:"Validates skills in FPGA design and implementation",duration:"2-4 months preparation",cost:"$400-$800"},{name:"Accellera UVM Certification",provider:"Accellera Systems Initiative",focus:"Universal Verification Methodology practices",value:"Validation of verification expertise using industry standards",duration:"2-3 months preparation",cost:"$300-$600"},{name:"Certified RISC-V Professional",provider:"RISC-V International",focus:"RISC-V architecture and implementation",value:"Demonstrates expertise in the growing RISC-V ecosystem",duration:"1-3 months preparation",cost:"$200-$500"}];return(0,ke.jsxs)(Bt,{sx:{p:3},children:[(0,ke.jsxs)(Kd,{value:e,onChange:(e,n)=>{t(n)},variant:"scrollable",scrollButtons:"auto",children:[(0,ke.jsx)(Jd,{label:"Career Roles"}),(0,ke.jsx)(Jd,{label:"Industry Trends"}),(0,ke.jsx)(Jd,{label:"Educational Paths"}),(0,ke.jsx)(Jd,{label:"ECE Career Fields"}),(0,ke.jsx)(Jd,{label:"Regional Job Market"}),(0,ke.jsx)(Jd,{label:"Certifications"})]}),(0,ke.jsx)(Bt,{sx:{mt:3},children:(()=>{switch(e){case 0:return(0,ke.jsxs)(Bt,{sx:{pt:2},children:[(0,ke.jsx)(kn,{variant:"h5",gutterBottom:!0,sx:{borderLeft:"4px solid #6a0dad",pl:2,fontWeight:600,mb:3},children:"VLSI Career Pathways"}),(0,ke.jsx)(kn,{variant:"body1",sx:{mb:4,maxWidth:900},children:"The semiconductor industry offers diverse career opportunities with competitive compensation and continuous innovation. Explore the various specialized roles below to find your ideal career path."}),(0,ke.jsx)(Vi,{container:!0,spacing:4,children:n.map(((e,t)=>(0,ke.jsx)(Vi,{item:!0,xs:12,children:(0,ke.jsxs)(ju,{sx:{boxShadow:"0 2px 8px rgba(0,0,0,0.08)",borderRadius:"8px !important",overflow:"hidden","&::before":{display:"none"},"&.Mui-expanded":{margin:"8px 0"}},children:[(0,ke.jsx)(Hu,{expandIcon:(0,ke.jsx)(bp,{}),"aria-controls":`panel${t}-content`,id:`panel${t}-header`,sx:{backgroundColor:"rgba(106, 13, 173, 0.03)","&.Mui-expanded":{borderBottom:"1px solid rgba(0, 0, 0, 0.08)"}},children:(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[(0,ke.jsx)(Bt,{sx:{backgroundColor:"rgba(106, 13, 173, 0.1)",borderRadius:"50%",p:1.2,mr:2.5,color:"#6a0dad",display:"flex"},children:e.icon}),(0,ke.jsxs)(Bt,{sx:{flexGrow:1},children:[(0,ke.jsx)(kn,{variant:"h6",sx:{fontWeight:600},children:e.title}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",sx:{mt:.5},children:e.description})]}),(0,ke.jsxs)(Bt,{sx:{display:{xs:"none",md:"flex"},alignItems:"center",gap:3,mr:2},children:[(0,ke.jsxs)(Bt,{sx:{textAlign:"center"},children:[(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"Salary Range"}),(0,ke.jsx)(kn,{variant:"body1",fontWeight:"medium",color:"primary.main",children:e.salary})]}),(0,ke.jsxs)(Bt,{sx:{textAlign:"center"},children:[(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"Growth"}),(0,ke.jsx)(To,{label:e.growth,size:"small",sx:{fontWeight:"medium",backgroundColor:"High"===e.growth?"rgba(46, 125, 50, 0.1)":"Moderate"===e.growth?"rgba(237, 108, 2, 0.1)":"rgba(0, 114, 178, 0.1)",color:"High"===e.growth?"rgb(46, 125, 50)":"Moderate"===e.growth?"rgb(237, 108, 2)":"rgb(0, 114, 178)"}})]})]})]})}),(0,ke.jsx)($u,{sx:{p:4},children:(0,ke.jsxs)(Vi,{container:!0,spacing:4,children:[(0,ke.jsxs)(Vi,{item:!0,xs:12,md:6,children:[(0,ke.jsxs)(kn,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600,display:"flex",alignItems:"center",mb:2},children:[(0,ke.jsx)(Uo,{sx:{mr:1.5,color:"#6a0dad"}}),"Key Responsibilities"]}),(0,ke.jsx)(Ts,{sx:{bgcolor:"rgba(106, 13, 173, 0.03)",borderRadius:2,py:1},children:e.responsibilities.map(((e,t)=>(0,ke.jsxs)(pu,{sx:{py:.5},children:[(0,ke.jsx)(mu,{sx:{minWidth:36},children:(0,ke.jsx)(hp,{color:"primary",fontSize:"small"})}),(0,ke.jsx)(yu,{primary:e,primaryTypographyProps:{variant:"body2",sx:{fontWeight:500}}})]},t)))}),(0,ke.jsxs)(kn,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600,mt:4,mb:2,display:"flex",alignItems:"center"},children:[(0,ke.jsx)(Lo,{sx:{mr:1.5,color:"#6a0dad"}}),"Required Skills"]}),(0,ke.jsx)(Bt,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:3},children:e.skills.map(((e,t)=>(0,ke.jsx)(To,{label:e,sx:{backgroundColor:"rgba(106, 13, 173, 0.08)",fontWeight:500,p:.5}},t)))}),(0,ke.jsxs)(kn,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600,display:"flex",alignItems:"center"},children:[(0,ke.jsx)(Vo,{sx:{mr:1.5,color:"#6a0dad"}}),"Typical Education"]}),(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,sx:{ml:4},children:e.education})]}),(0,ke.jsxs)(Vi,{item:!0,xs:12,md:6,children:[(0,ke.jsxs)(kn,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600,display:"flex",alignItems:"center",mb:2},children:[(0,ke.jsx)(dv,{sx:{mr:1.5,color:"#6a0dad"}}),"Top Companies Hiring"]}),(0,ke.jsx)(Bt,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:4,backgroundColor:"rgba(0, 0, 0, 0.02)",borderRadius:2,p:2},children:e.companies.map(((e,t)=>(0,ke.jsx)(To,{label:e,variant:"outlined",sx:{borderColor:"rgba(106, 13, 173, 0.3)","&:hover":{backgroundColor:"rgba(106, 13, 173, 0.05)"}}},t)))}),(0,ke.jsxs)(kn,{variant:"subtitle1",gutterBottom:!0,sx:{fontWeight:600,display:"flex",alignItems:"center",mb:2},children:[(0,ke.jsx)(uv,{sx:{mr:1.5,color:"#6a0dad"}}),"Career Path Progression"]}),(0,ke.jsxs)(Bt,{sx:{p:2,border:"1px solid rgba(0, 0, 0, 0.08)",borderRadius:2,backgroundColor:"white"},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mb:2,pb:1.5,borderBottom:"1px dashed rgba(0, 0, 0, 0.1)"},children:[(0,ke.jsx)(Bt,{sx:{width:20,height:20,borderRadius:"50%",backgroundColor:"rgba(106, 13, 173, 0.7)",mr:2,fontSize:"0.75rem",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},children:"1"}),(0,ke.jsxs)(kn,{variant:"body2",sx:{fontWeight:500},children:["Junior ",e.title," (0-3 years)"]})]}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mb:2,pb:1.5,borderBottom:"1px dashed rgba(0, 0, 0, 0.1)"},children:[(0,ke.jsx)(Bt,{sx:{width:20,height:20,borderRadius:"50%",backgroundColor:"rgba(106, 13, 173, 0.7)",mr:2,fontSize:"0.75rem",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},children:"2"}),(0,ke.jsxs)(kn,{variant:"body2",sx:{fontWeight:500},children:[e.title," (3-7 years)"]})]}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mb:2,pb:1.5,borderBottom:"1px dashed rgba(0, 0, 0, 0.1)"},children:[(0,ke.jsx)(Bt,{sx:{width:20,height:20,borderRadius:"50%",backgroundColor:"rgba(106, 13, 173, 0.7)",mr:2,fontSize:"0.75rem",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},children:"3"}),(0,ke.jsxs)(kn,{variant:"body2",sx:{fontWeight:500},children:["Senior ",e.title," (7+ years)"]})]}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(Bt,{sx:{width:20,height:20,borderRadius:"50%",backgroundColor:"rgba(106, 13, 173, 0.7)",mr:2,fontSize:"0.75rem",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},children:"4"}),(0,ke.jsx)(kn,{variant:"body2",sx:{fontWeight:500},children:"Lead/Principal Engineer (10+ years)"})]})]}),(0,ke.jsx)(Ii,{variant:"contained",color:"primary",sx:{mt:4,px:3,py:1,borderRadius:2,boxShadow:"0 4px 8px rgba(106, 13, 173, 0.2)","&:hover":{boxShadow:"0 6px 12px rgba(106, 13, 173, 0.3)"}},component:"a",href:"/modules",children:"Explore Related Modules"})]})]})})]})},t)))})]});case 1:return(0,ke.jsxs)(Vi,{container:!0,spacing:4,children:[o.map(((e,t)=>(0,ke.jsx)(Vi,{item:!0,xs:12,md:6,children:(0,ke.jsxs)($i,{elevation:2,sx:{p:3,height:"100%",borderLeft:"4px solid #6a0dad"},children:[(0,ke.jsx)(kn,{variant:"h6",gutterBottom:!0,children:e.title}),(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,children:e.description}),(0,ke.jsx)(jo,{sx:{my:2}}),(0,ke.jsx)(kn,{variant:"subtitle2",gutterBottom:!0,color:"primary",children:"Career Impact"}),(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,children:e.impact}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(pv,{sx:{color:"text.secondary",mr:1}}),(0,ke.jsxs)(kn,{variant:"body2",color:"text.secondary",children:["Timeframe: ",e.timeframe]})]})]})},t))),(0,ke.jsx)(Vi,{item:!0,xs:12,children:(0,ke.jsxs)($i,{elevation:1,sx:{p:3,mt:2,bgcolor:"rgba(106, 13, 173, 0.04)"},children:[(0,ke.jsx)(kn,{variant:"h6",gutterBottom:!0,children:"Stay Ahead of the Curve"}),(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,children:"Keep yourself updated with the latest industry trends and emerging technologies in VLSI and semiconductor design. Continuous learning is key to a successful career."})]})})]});case 2:return(0,ke.jsx)(Vi,{container:!0,spacing:4,children:r.map(((e,t)=>(0,ke.jsx)(Vi,{item:!0,xs:12,md:6,children:(0,ke.jsx)(Qi,{variant:"outlined",children:(0,ke.jsxs)(go,{children:[(0,ke.jsx)(kn,{variant:"h6",gutterBottom:!0,children:e.degree}),(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,children:e.description}),(0,ke.jsx)(kn,{variant:"subtitle2",gutterBottom:!0,children:"Courses:"}),(0,ke.jsx)(Ts,{dense:!0,children:e.courses.map(((e,t)=>(0,ke.jsxs)(pu,{children:[(0,ke.jsx)(mu,{sx:{minWidth:32},children:(0,ke.jsx)(Vo,{fontSize:"small",color:"primary"})}),(0,ke.jsx)(yu,{primary:e})]},t)))}),(0,ke.jsx)(jo,{sx:{my:1}}),(0,ke.jsxs)(kn,{variant:"body2",children:[(0,ke.jsx)("strong",{children:"Duration:"})," ",e.duration]}),(0,ke.jsxs)(kn,{variant:"body2",children:[(0,ke.jsx)("strong",{children:"Career Outcome:"})," ",e.career]})]})})},t)))});case 3:return(0,ke.jsx)(Vi,{container:!0,spacing:4,children:s.map(((e,t)=>(0,ke.jsx)(Vi,{item:!0,xs:12,md:6,children:(0,ke.jsxs)($i,{elevation:2,sx:{p:3},children:[(0,ke.jsx)(kn,{variant:"h6",gutterBottom:!0,children:e.field}),(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,children:e.description}),(0,ke.jsx)(kn,{variant:"subtitle2",gutterBottom:!0,children:"Typical Roles:"}),(0,ke.jsx)(Ts,{dense:!0,children:e.roles.map(((e,t)=>(0,ke.jsxs)(pu,{children:[(0,ke.jsx)(mu,{children:(0,ke.jsx)(Uo,{fontSize:"small",color:"primary"})}),(0,ke.jsx)(yu,{primary:e})]},t)))}),(0,ke.jsx)(kn,{variant:"subtitle2",gutterBottom:!0,children:"Key Skills:"}),(0,ke.jsx)(Bt,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:e.skills.map(((e,t)=>(0,ke.jsx)(To,{label:e,variant:"outlined"},t)))}),(0,ke.jsx)(jo,{sx:{my:1}}),(0,ke.jsxs)(kn,{variant:"body2",children:[(0,ke.jsx)("strong",{children:"Growth:"})," ",e.growth]}),(0,ke.jsxs)(kn,{variant:"body2",children:[(0,ke.jsx)("strong",{children:"Related to VLSI:"})," ",e.relatedToVLSI]})]})},t)))});case 4:return(0,ke.jsx)(Vi,{container:!0,spacing:4,children:a.map(((e,t)=>(0,ke.jsx)(Vi,{item:!0,xs:12,md:6,children:(0,ke.jsxs)($i,{elevation:2,sx:{p:3},children:[(0,ke.jsx)(kn,{variant:"h6",gutterBottom:!0,children:e.region}),(0,ke.jsxs)(kn,{variant:"body2",paragraph:!0,children:[(0,ke.jsx)("strong",{children:"Major Employers:"})," ",e.majorEmployers.join(", ")]}),(0,ke.jsxs)(kn,{variant:"body2",paragraph:!0,children:[(0,ke.jsx)("strong",{children:"Salary Range:"})," ",e.salaryRange]}),(0,ke.jsxs)(kn,{variant:"body2",paragraph:!0,children:[(0,ke.jsx)("strong",{children:"Dominant Roles:"})," ",e.dominantRoles]}),(0,ke.jsxs)(kn,{variant:"body2",paragraph:!0,children:[(0,ke.jsx)("strong",{children:"Job Growth:"})," ",e.jobGrowth]}),(0,ke.jsxs)(kn,{variant:"body2",paragraph:!0,children:[(0,ke.jsx)("strong",{children:"Cost of Living:"})," ",e.costOfLiving]})]})},t)))});case 5:return(0,ke.jsx)(xw,{component:$i,children:(0,ke.jsxs)(Ew,{children:[(0,ke.jsx)(Lw,{children:(0,ke.jsxs)(Ww,{children:[(0,ke.jsx)(Yw,{children:"Certification"}),(0,ke.jsx)(Yw,{children:"Provider"}),(0,ke.jsx)(Yw,{children:"Focus"}),(0,ke.jsx)(Yw,{children:"Value"}),(0,ke.jsx)(Yw,{children:"Duration"}),(0,ke.jsx)(Yw,{children:"Cost"})]})}),(0,ke.jsx)(tv,{children:l.map(((e,t)=>(0,ke.jsxs)(Ww,{children:[(0,ke.jsx)(Yw,{children:e.name}),(0,ke.jsx)(Yw,{children:e.provider}),(0,ke.jsx)(Yw,{children:e.focus}),(0,ke.jsx)(Yw,{children:e.value}),(0,ke.jsx)(Yw,{children:e.duration}),(0,ke.jsx)(Yw,{children:e.cost})]},t)))})]})});default:return(0,ke.jsx)("div",{children:"Invalid Tab"})}})()})]})};function gv(e){return Et("MuiToggleButtonGroup",e)}const mv=Dt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]);const fv=i.createContext({});const bv=i.createContext(void 0);function yv(e){return Et("MuiToggleButton",e)}const wv=Dt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),vv=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],kv=hn("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${mv.grouped}`]:t.grouped},{[`& .${mv.grouped}`]:t[`grouped${mn(n.orientation)}`]},{[`& .${mv.firstButton}`]:t.firstButton},{[`& .${mv.lastButton}`]:t.lastButton},{[`& .${mv.middleButton}`]:t.middleButton},t.root,"vertical"===n.orientation&&t.vertical,n.fullWidth&&t.fullWidth]}})((e=>{let{ownerState:t,theme:n}=e;return(0,we.A)({display:"inline-flex",borderRadius:(n.vars||n).shape.borderRadius},"vertical"===t.orientation&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},{[`& .${mv.grouped}`]:(0,we.A)({},"horizontal"===t.orientation?{[`&.${mv.selected} + .${mv.grouped}.${mv.selected}`]:{borderLeft:0,marginLeft:0}}:{[`&.${mv.selected} + .${mv.grouped}.${mv.selected}`]:{borderTop:0,marginTop:0}})},"horizontal"===t.orientation?{[`& .${mv.firstButton},& .${mv.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${mv.lastButton},& .${mv.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0}}:{[`& .${mv.firstButton},& .${mv.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${mv.lastButton},& .${mv.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0}},"horizontal"===t.orientation?{[`& .${mv.lastButton}.${wv.disabled},& .${mv.middleButton}.${wv.disabled}`]:{borderLeft:"1px solid transparent"}}:{[`& .${mv.lastButton}.${wv.disabled},& .${mv.middleButton}.${wv.disabled}`]:{borderTop:"1px solid transparent"}})})),_v=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiToggleButtonGroup"}),{children:o,className:r,color:s="standard",disabled:a=!1,exclusive:l=!1,fullWidth:c=!1,onChange:d,orientation:u="horizontal",size:p="medium",value:h}=n,g=(0,Re.A)(n,vv),m=(0,we.A)({},n,{disabled:a,fullWidth:c,orientation:u,size:p}),f=(e=>{const{classes:t,orientation:n,fullWidth:i,disabled:o}=e;return cn({root:["root","vertical"===n&&"vertical",i&&"fullWidth"],grouped:["grouped",`grouped${mn(n)}`,o&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]},gv,t)})(m),b=i.useCallback(((e,t)=>{if(!d)return;const n=h&&h.indexOf(t);let i;h&&n>=0?(i=h.slice(),i.splice(n,1)):i=h?h.concat(t):[t],d(e,i)}),[d,h]),y=i.useCallback(((e,t)=>{d&&d(e,h===t?null:t)}),[d,h]),w=i.useMemo((()=>({className:f.grouped,onChange:l?y:b,value:h,size:p,fullWidth:c,color:s,disabled:a})),[f.grouped,l,y,b,h,p,c,s,a]),v=function(e){return i.Children.toArray(e).filter((e=>i.isValidElement(e)))}(o),k=v.length,_=e=>{const t=0===e,n=e===k-1;return t&&n?"":t?f.firstButton:n?f.lastButton:f.middleButton};return(0,ke.jsx)(kv,(0,we.A)({role:"group",className:_t(f.root,r),ref:t,ownerState:m},g,{children:(0,ke.jsx)(fv.Provider,{value:w,children:v.map(((e,t)=>(0,ke.jsx)(bv.Provider,{value:_(t),children:e},t)))})}))})),xv=_v;function Av(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,td.A)(e,t,n)}function Cv(e){if(e.type)return e;if("#"===e.charAt(0))return Cv(function(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?`rgb${4===n.length?"a":""}(${n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", ")})`:""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,Be.A)(9,e));let i,o=e.substring(t+1,e.length-1);if("color"===n){if(o=o.split(" "),i=o.shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,Be.A)(10,i))}else o=o.split(",");return o=o.map((e=>parseFloat(e))),{type:n,values:o,colorSpace:i}}function Sv(e){const{type:t,colorSpace:n}=e;let{values:i}=e;return-1!==t.indexOf("rgb")?i=i.map(((e,t)=>t<3?parseInt(e,10):e)):-1!==t.indexOf("hsl")&&(i[1]=`${i[1]}%`,i[2]=`${i[2]}%`),i=-1!==t.indexOf("color")?`${n} ${i.join(" ")}`:`${i.join(", ")}`,`${t}(${i})`}function Iv(e,t){return e=Cv(e),t=Av(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]=`/${t}`:e.values[3]=t,Sv(e)}function Tv(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}const Ev=["value"],Dv=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],Mv=hn(bi,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${mn(n.size)}`]]}})((e=>{let t,{theme:n,ownerState:i}=e,o="standard"===i.color?n.palette.text.primary:n.palette[i.color].main;return n.vars&&(o="standard"===i.color?n.vars.palette.text.primary:n.vars.palette[i.color].main,t="standard"===i.color?n.vars.palette.text.primaryChannel:n.vars.palette[i.color].mainChannel),(0,we.A)({},n.typography.button,{borderRadius:(n.vars||n).shape.borderRadius,padding:11,border:`1px solid ${(n.vars||n).palette.divider}`,color:(n.vars||n).palette.action.active},i.fullWidth&&{width:"100%"},{[`&.${wv.disabled}`]:{color:(n.vars||n).palette.action.disabled,border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:Iv(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${wv.selected}`]:{color:o,backgroundColor:n.vars?`rgba(${t} / ${n.vars.palette.action.selectedOpacity})`:Iv(o,n.palette.action.selectedOpacity),"&:hover":{backgroundColor:n.vars?`rgba(${t} / calc(${n.vars.palette.action.selectedOpacity} + ${n.vars.palette.action.hoverOpacity}))`:Iv(o,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?`rgba(${t} / ${n.vars.palette.action.selectedOpacity})`:Iv(o,n.palette.action.selectedOpacity)}}}},"small"===i.size&&{padding:7,fontSize:n.typography.pxToRem(13)},"large"===i.size&&{padding:15,fontSize:n.typography.pxToRem(15)})})),Pv=i.forwardRef((function(e,t){const n=i.useContext(fv),{value:o}=n,r=(0,Re.A)(n,Ev),s=i.useContext(bv),a=Ce({props:ve((0,we.A)({},r,{selected:Tv(e.value,o)}),e),name:"MuiToggleButton"}),{children:l,className:c,color:d="standard",disabled:u=!1,disableFocusRipple:p=!1,fullWidth:h=!1,onChange:g,onClick:m,selected:f,size:b="medium",value:y}=a,w=(0,Re.A)(a,Dv),v=(0,we.A)({},a,{color:d,disabled:u,disableFocusRipple:p,fullWidth:h,size:b}),k=(e=>{const{classes:t,fullWidth:n,selected:i,disabled:o,size:r,color:s}=e;return cn({root:["root",i&&"selected",o&&"disabled",n&&"fullWidth",`size${mn(r)}`,s]},yv,t)})(v),_=s||"";return(0,ke.jsx)(Mv,(0,we.A)({className:_t(r.className,k.root,c,_),disabled:u,focusRipple:!p,ref:t,onClick:e=>{m&&(m(e,y),e.defaultPrevented)||g&&g(e,y)},onChange:g,value:y,ownerState:v,"aria-pressed":f},w,{children:l}))}));var Rv=n(2374);function Bv(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function jv(e){return e instanceof Bv(e).Element||e instanceof Element}function Lv(e){return e instanceof Bv(e).HTMLElement||e instanceof HTMLElement}function zv(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Bv(e).ShadowRoot||e instanceof ShadowRoot)}var Ov=Math.max,Nv=Math.min,Fv=Math.round;function Vv(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Hv(){return!/^((?!chrome|android).)*safari/i.test(Vv())}function Wv(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var i=e.getBoundingClientRect(),o=1,r=1;t&&Lv(e)&&(o=e.offsetWidth>0&&Fv(i.width)/e.offsetWidth||1,r=e.offsetHeight>0&&Fv(i.height)/e.offsetHeight||1);var s=(jv(e)?Bv(e):window).visualViewport,a=!Hv()&&n,l=(i.left+(a&&s?s.offsetLeft:0))/o,c=(i.top+(a&&s?s.offsetTop:0))/r,d=i.width/o,u=i.height/r;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l,x:l,y:c}}function Uv(e){var t=Bv(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function qv(e){return e?(e.nodeName||"").toLowerCase():null}function $v(e){return((jv(e)?e.ownerDocument:e.document)||window.document).documentElement}function Gv(e){return Wv($v(e)).left+Uv(e).scrollLeft}function Kv(e){return Bv(e).getComputedStyle(e)}function Yv(e){var t=Kv(e),n=t.overflow,i=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+i)}function Qv(e,t,n){void 0===n&&(n=!1);var i=Lv(t),o=Lv(t)&&function(e){var t=e.getBoundingClientRect(),n=Fv(t.width)/e.offsetWidth||1,i=Fv(t.height)/e.offsetHeight||1;return 1!==n||1!==i}(t),r=$v(t),s=Wv(e,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&(("body"!==qv(t)||Yv(r))&&(a=function(e){return e!==Bv(e)&&Lv(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Uv(e);var t}(t)),Lv(t)?((l=Wv(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):r&&(l.x=Gv(r))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Zv(e){var t=Wv(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function Xv(e){return"html"===qv(e)?e:e.assignedSlot||e.parentNode||(zv(e)?e.host:null)||$v(e)}function Jv(e){return["html","body","#document"].indexOf(qv(e))>=0?e.ownerDocument.body:Lv(e)&&Yv(e)?e:Jv(Xv(e))}function ek(e,t){var n;void 0===t&&(t=[]);var i=Jv(e),o=i===(null==(n=e.ownerDocument)?void 0:n.body),r=Bv(i),s=o?[r].concat(r.visualViewport||[],Yv(i)?i:[]):i,a=t.concat(s);return o?a:a.concat(ek(Xv(s)))}function tk(e){return["table","td","th"].indexOf(qv(e))>=0}function nk(e){return Lv(e)&&"fixed"!==Kv(e).position?e.offsetParent:null}function ik(e){for(var t=Bv(e),n=nk(e);n&&tk(n)&&"static"===Kv(n).position;)n=nk(n);return n&&("html"===qv(n)||"body"===qv(n)&&"static"===Kv(n).position)?t:n||function(e){var t=/firefox/i.test(Vv());if(/Trident/i.test(Vv())&&Lv(e)&&"fixed"===Kv(e).position)return null;var n=Xv(e);for(zv(n)&&(n=n.host);Lv(n)&&["html","body"].indexOf(qv(n))<0;){var i=Kv(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||t&&"filter"===i.willChange||t&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(e)||t}var ok="top",rk="bottom",sk="right",ak="left",lk="auto",ck=[ok,rk,sk,ak],dk="start",uk="end",pk="viewport",hk="popper",gk=ck.reduce((function(e,t){return e.concat([t+"-"+dk,t+"-"+uk])}),[]),mk=[].concat(ck,[lk]).reduce((function(e,t){return e.concat([t,t+"-"+dk,t+"-"+uk])}),[]),fk=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function bk(e){var t=new Map,n=new Set,i=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var i=t.get(e);i&&o(i)}})),i.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),i}function yk(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var wk={placement:"bottom",modifiers:[],strategy:"absolute"};function vk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function kk(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,i=void 0===n?[]:n,o=t.defaultOptions,r=void 0===o?wk:o;return function(e,t,n){void 0===n&&(n=r);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},wk,r),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:o,setOptions:function(n){var a="function"===typeof n?n(o.options):n;c(),o.options=Object.assign({},r,o.options,a),o.scrollParents={reference:jv(e)?ek(e):e.contextElement?ek(e.contextElement):[],popper:ek(t)};var d=function(e){var t=bk(e);return fk.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(i,o.options.modifiers)));return o.orderedModifiers=d.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,i=void 0===n?{}:n,r=e.effect;if("function"===typeof r){var a=r({state:o,name:t,instance:l,options:i}),c=function(){};s.push(a||c)}})),l.update()},forceUpdate:function(){if(!a){var e=o.elements,t=e.reference,n=e.popper;if(vk(t,n)){o.rects={reference:Qv(t,ik(n),"fixed"===o.options.strategy),popper:Zv(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var i=0;i<o.orderedModifiers.length;i++)if(!0!==o.reset){var r=o.orderedModifiers[i],s=r.fn,c=r.options,d=void 0===c?{}:c,u=r.name;"function"===typeof s&&(o=s({state:o,options:d,name:u,instance:l})||o)}else o.reset=!1,i=-1}}},update:yk((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){c(),a=!0}};if(!vk(e,t))return l;function c(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}var _k={passive:!0};function xk(e){return e.split("-")[0]}function Ak(e){return e.split("-")[1]}function Ck(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Sk(e){var t,n=e.reference,i=e.element,o=e.placement,r=o?xk(o):null,s=o?Ak(o):null,a=n.x+n.width/2-i.width/2,l=n.y+n.height/2-i.height/2;switch(r){case ok:t={x:a,y:n.y-i.height};break;case rk:t={x:a,y:n.y+n.height};break;case sk:t={x:n.x+n.width,y:l};break;case ak:t={x:n.x-i.width,y:l};break;default:t={x:n.x,y:n.y}}var c=r?Ck(r):null;if(null!=c){var d="y"===c?"height":"width";switch(s){case dk:t[c]=t[c]-(n[d]/2-i[d]/2);break;case uk:t[c]=t[c]+(n[d]/2-i[d]/2)}}return t}var Ik={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Tk(e){var t,n=e.popper,i=e.popperRect,o=e.placement,r=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,d=e.roundOffsets,u=e.isFixed,p=s.x,h=void 0===p?0:p,g=s.y,m=void 0===g?0:g,f="function"===typeof d?d({x:h,y:m}):{x:h,y:m};h=f.x,m=f.y;var b=s.hasOwnProperty("x"),y=s.hasOwnProperty("y"),w=ak,v=ok,k=window;if(c){var _=ik(n),x="clientHeight",A="clientWidth";if(_===Bv(n)&&"static"!==Kv(_=$v(n)).position&&"absolute"===a&&(x="scrollHeight",A="scrollWidth"),o===ok||(o===ak||o===sk)&&r===uk)v=rk,m-=(u&&_===k&&k.visualViewport?k.visualViewport.height:_[x])-i.height,m*=l?1:-1;if(o===ak||(o===ok||o===rk)&&r===uk)w=sk,h-=(u&&_===k&&k.visualViewport?k.visualViewport.width:_[A])-i.width,h*=l?1:-1}var C,S=Object.assign({position:a},c&&Ik),I=!0===d?function(e,t){var n=e.x,i=e.y,o=t.devicePixelRatio||1;return{x:Fv(n*o)/o||0,y:Fv(i*o)/o||0}}({x:h,y:m},Bv(n)):{x:h,y:m};return h=I.x,m=I.y,l?Object.assign({},S,((C={})[v]=y?"0":"",C[w]=b?"0":"",C.transform=(k.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",C)):Object.assign({},S,((t={})[v]=y?m+"px":"",t[w]=b?h+"px":"",t.transform="",t))}const Ek={name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},i=t.attributes[e]||{},o=t.elements[e];Lv(o)&&qv(o)&&(Object.assign(o.style,n),Object.keys(i).forEach((function(e){var t=i[e];!1===t?o.removeAttribute(e):o.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var i=t.elements[e],o=t.attributes[e]||{},r=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});Lv(i)&&qv(i)&&(Object.assign(i.style,r),Object.keys(o).forEach((function(e){i.removeAttribute(e)})))}))}},requires:["computeStyles"]};const Dk={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.offset,r=void 0===o?[0,0]:o,s=mk.reduce((function(e,n){return e[n]=function(e,t,n){var i=xk(e),o=[ak,ok].indexOf(i)>=0?-1:1,r="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=r[0],a=r[1];return s=s||0,a=(a||0)*o,[ak,sk].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,r),e}),{}),a=s[t.placement],l=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}};var Mk={left:"right",right:"left",bottom:"top",top:"bottom"};function Pk(e){return e.replace(/left|right|bottom|top/g,(function(e){return Mk[e]}))}var Rk={start:"end",end:"start"};function Bk(e){return e.replace(/start|end/g,(function(e){return Rk[e]}))}function jk(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&zv(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Lk(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function zk(e,t,n){return t===pk?Lk(function(e,t){var n=Bv(e),i=$v(e),o=n.visualViewport,r=i.clientWidth,s=i.clientHeight,a=0,l=0;if(o){r=o.width,s=o.height;var c=Hv();(c||!c&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:r,height:s,x:a+Gv(e),y:l}}(e,n)):jv(t)?function(e,t){var n=Wv(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Lk(function(e){var t,n=$v(e),i=Uv(e),o=null==(t=e.ownerDocument)?void 0:t.body,r=Ov(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Ov(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-i.scrollLeft+Gv(e),l=-i.scrollTop;return"rtl"===Kv(o||n).direction&&(a+=Ov(n.clientWidth,o?o.clientWidth:0)-r),{width:r,height:s,x:a,y:l}}($v(e)))}function Ok(e,t,n,i){var o="clippingParents"===t?function(e){var t=ek(Xv(e)),n=["absolute","fixed"].indexOf(Kv(e).position)>=0&&Lv(e)?ik(e):e;return jv(n)?t.filter((function(e){return jv(e)&&jk(e,n)&&"body"!==qv(e)})):[]}(e):[].concat(t),r=[].concat(o,[n]),s=r[0],a=r.reduce((function(t,n){var o=zk(e,n,i);return t.top=Ov(o.top,t.top),t.right=Nv(o.right,t.right),t.bottom=Nv(o.bottom,t.bottom),t.left=Ov(o.left,t.left),t}),zk(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Nk(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function Fk(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function Vk(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=void 0===i?e.placement:i,r=n.strategy,s=void 0===r?e.strategy:r,a=n.boundary,l=void 0===a?"clippingParents":a,c=n.rootBoundary,d=void 0===c?pk:c,u=n.elementContext,p=void 0===u?hk:u,h=n.altBoundary,g=void 0!==h&&h,m=n.padding,f=void 0===m?0:m,b=Nk("number"!==typeof f?f:Fk(f,ck)),y=p===hk?"reference":hk,w=e.rects.popper,v=e.elements[g?y:p],k=Ok(jv(v)?v:v.contextElement||$v(e.elements.popper),l,d,s),_=Wv(e.elements.reference),x=Sk({reference:_,element:w,strategy:"absolute",placement:o}),A=Lk(Object.assign({},w,x)),C=p===hk?A:_,S={top:k.top-C.top+b.top,bottom:C.bottom-k.bottom+b.bottom,left:k.left-C.left+b.left,right:C.right-k.right+b.right},I=e.modifiersData.offset;if(p===hk&&I){var T=I[o];Object.keys(S).forEach((function(e){var t=[sk,rk].indexOf(e)>=0?1:-1,n=[ok,rk].indexOf(e)>=0?"y":"x";S[e]+=T[n]*t}))}return S}const Hk={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var o=n.mainAxis,r=void 0===o||o,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,c=n.padding,d=n.boundary,u=n.rootBoundary,p=n.altBoundary,h=n.flipVariations,g=void 0===h||h,m=n.allowedAutoPlacements,f=t.options.placement,b=xk(f),y=l||(b===f||!g?[Pk(f)]:function(e){if(xk(e)===lk)return[];var t=Pk(e);return[Bk(e),t,Bk(t)]}(f)),w=[f].concat(y).reduce((function(e,n){return e.concat(xk(n)===lk?function(e,t){void 0===t&&(t={});var n=t,i=n.placement,o=n.boundary,r=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=void 0===l?mk:l,d=Ak(i),u=d?a?gk:gk.filter((function(e){return Ak(e)===d})):ck,p=u.filter((function(e){return c.indexOf(e)>=0}));0===p.length&&(p=u);var h=p.reduce((function(t,n){return t[n]=Vk(e,{placement:n,boundary:o,rootBoundary:r,padding:s})[xk(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:d,rootBoundary:u,padding:c,flipVariations:g,allowedAutoPlacements:m}):n)}),[]),v=t.rects.reference,k=t.rects.popper,_=new Map,x=!0,A=w[0],C=0;C<w.length;C++){var S=w[C],I=xk(S),T=Ak(S)===dk,E=[ok,rk].indexOf(I)>=0,D=E?"width":"height",M=Vk(t,{placement:S,boundary:d,rootBoundary:u,altBoundary:p,padding:c}),P=E?T?sk:ak:T?rk:ok;v[D]>k[D]&&(P=Pk(P));var R=Pk(P),B=[];if(r&&B.push(M[I]<=0),a&&B.push(M[P]<=0,M[R]<=0),B.every((function(e){return e}))){A=S,x=!1;break}_.set(S,B)}if(x)for(var j=function(e){var t=w.find((function(t){var n=_.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return A=t,"break"},L=g?3:1;L>0;L--){if("break"===j(L))break}t.placement!==A&&(t.modifiersData[i]._skip=!0,t.placement=A,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Wk(e,t,n){return Ov(e,Nv(t,n))}const Uk={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,i=e.name,o=n.mainAxis,r=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,c=n.rootBoundary,d=n.altBoundary,u=n.padding,p=n.tether,h=void 0===p||p,g=n.tetherOffset,m=void 0===g?0:g,f=Vk(t,{boundary:l,rootBoundary:c,padding:u,altBoundary:d}),b=xk(t.placement),y=Ak(t.placement),w=!y,v=Ck(b),k="x"===v?"y":"x",_=t.modifiersData.popperOffsets,x=t.rects.reference,A=t.rects.popper,C="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,S="number"===typeof C?{mainAxis:C,altAxis:C}:Object.assign({mainAxis:0,altAxis:0},C),I=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(_){if(r){var E,D="y"===v?ok:ak,M="y"===v?rk:sk,P="y"===v?"height":"width",R=_[v],B=R+f[D],j=R-f[M],L=h?-A[P]/2:0,z=y===dk?x[P]:A[P],O=y===dk?-A[P]:-x[P],N=t.elements.arrow,F=h&&N?Zv(N):{width:0,height:0},V=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},H=V[D],W=V[M],U=Wk(0,x[P],F[P]),q=w?x[P]/2-L-U-H-S.mainAxis:z-U-H-S.mainAxis,$=w?-x[P]/2+L+U+W+S.mainAxis:O+U+W+S.mainAxis,G=t.elements.arrow&&ik(t.elements.arrow),K=G?"y"===v?G.clientTop||0:G.clientLeft||0:0,Y=null!=(E=null==I?void 0:I[v])?E:0,Q=R+$-Y,Z=Wk(h?Nv(B,R+q-Y-K):B,R,h?Ov(j,Q):j);_[v]=Z,T[v]=Z-R}if(a){var X,J="x"===v?ok:ak,ee="x"===v?rk:sk,te=_[k],ne="y"===k?"height":"width",ie=te+f[J],oe=te-f[ee],re=-1!==[ok,ak].indexOf(b),se=null!=(X=null==I?void 0:I[k])?X:0,ae=re?ie:te-x[ne]-A[ne]-se+S.altAxis,le=re?te+x[ne]+A[ne]-se-S.altAxis:oe,ce=h&&re?function(e,t,n){var i=Wk(e,t,n);return i>n?n:i}(ae,te,le):Wk(h?ae:ie,te,h?le:oe);_[k]=ce,T[k]=ce-te}t.modifiersData[i]=T}},requiresIfExists:["offset"]};const qk={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,i=e.name,o=e.options,r=n.elements.arrow,s=n.modifiersData.popperOffsets,a=xk(n.placement),l=Ck(a),c=[ak,sk].indexOf(a)>=0?"height":"width";if(r&&s){var d=function(e,t){return Nk("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:Fk(e,ck))}(o.padding,n),u=Zv(r),p="y"===l?ok:ak,h="y"===l?rk:sk,g=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],f=ik(r),b=f?"y"===l?f.clientHeight||0:f.clientWidth||0:0,y=g/2-m/2,w=d[p],v=b-u[c]-d[h],k=b/2-u[c]/2+y,_=Wk(w,k,v),x=l;n.modifiersData[i]=((t={})[x]=_,t.centerOffset=_-k,t)}},effect:function(e){var t=e.state,n=e.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!==typeof i||(i=t.elements.popper.querySelector(i)))&&jk(t.elements.popper,i)&&(t.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $k(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Gk(e){return[ok,sk,rk,ak].some((function(t){return e[t]>=0}))}var Kk=kk({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,i=e.options,o=i.scroll,r=void 0===o||o,s=i.resize,a=void 0===s||s,l=Bv(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return r&&c.forEach((function(e){e.addEventListener("scroll",n.update,_k)})),a&&l.addEventListener("resize",n.update,_k),function(){r&&c.forEach((function(e){e.removeEventListener("scroll",n.update,_k)})),a&&l.removeEventListener("resize",n.update,_k)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Sk({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,i=n.gpuAcceleration,o=void 0===i||i,r=n.adaptive,s=void 0===r||r,a=n.roundOffsets,l=void 0===a||a,c={placement:xk(t.placement),variation:Ak(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Tk(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Tk(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},Ek,Dk,Hk,Uk,qk,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,i=t.rects.reference,o=t.rects.popper,r=t.modifiersData.preventOverflow,s=Vk(t,{elementContext:"reference"}),a=Vk(t,{altBoundary:!0}),l=$k(s,i),c=$k(a,o,r),d=Gk(l),u=Gk(c);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}}]});function Yk(e){return Et("MuiPopper",e)}Dt("MuiPopper",["root"]);const Qk=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Zk=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Xk(e){return"function"===typeof e?e():e}function Jk(e){return void 0!==e.nodeType}const e_={},t_=i.forwardRef((function(e,t){var n;const{anchorEl:o,children:r,direction:s,disablePortal:a,modifiers:l,open:c,placement:d,popperOptions:u,popperRef:p,slotProps:h={},slots:g={},TransitionProps:m}=e,f=(0,Re.A)(e,Qk),b=i.useRef(null),y=xn(b,t),w=i.useRef(null),v=xn(w,p),k=i.useRef(v);Cn((()=>{k.current=v}),[v]),i.useImperativeHandle(p,(()=>w.current),[]);const _=function(e,t){if("ltr"===t)return e;switch(e){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return e}}(d,s),[x,A]=i.useState(_),[C,S]=i.useState(Xk(o));i.useEffect((()=>{w.current&&w.current.forceUpdate()})),i.useEffect((()=>{o&&S(Xk(o))}),[o]),Cn((()=>{if(!C||!c)return;let e=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:e=>{let{state:t}=e;(e=>{A(e.placement)})(t)}}];null!=l&&(e=e.concat(l)),u&&null!=u.modifiers&&(e=e.concat(u.modifiers));const t=Kk(C,b.current,(0,we.A)({placement:_},u,{modifiers:e}));return k.current(t),()=>{t.destroy(),k.current(null)}}),[C,a,l,c,u,_]);const I={placement:x};null!==m&&(I.TransitionProps=m);const T=(e=>{const{classes:t}=e;return cn({root:["root"]},Yk,t)})(e),E=null!=(n=g.root)?n:"div",D=xs({elementType:E,externalSlotProps:h.root,externalForwardedProps:f,additionalProps:{role:"tooltip",ref:y},ownerState:e,className:T.root});return(0,ke.jsx)(E,(0,we.A)({},D,{children:"function"===typeof r?r(I):r}))})),n_=i.forwardRef((function(e,t){const{anchorEl:n,children:o,container:r,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:c,open:d,placement:u="bottom",popperOptions:p=e_,popperRef:h,style:g,transition:m=!1,slotProps:f={},slots:b={}}=e,y=(0,Re.A)(e,Zk),[w,v]=i.useState(!0);if(!l&&!d&&(!m||w))return null;let k;if(r)k=r;else if(n){const e=Xk(n);k=e&&Jk(e)?Zo(e).body:Zo(null).body}const _=d||!l||m&&!w?void 0:"none",x=m?{in:d,onEnter:()=>{v(!1)},onExited:()=>{v(!0)}}:void 0;return(0,ke.jsx)(aa,{disablePortal:a,container:k,children:(0,ke.jsx)(t_,(0,we.A)({anchorEl:n,direction:s,disablePortal:a,modifiers:c,ref:t,open:m?!w:d,placement:u,popperOptions:p,popperRef:h,slotProps:f,slots:b},y,{style:(0,we.A)({position:"fixed",top:0,left:0,display:_},g),TransitionProps:x,children:o}))})})),i_=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],o_=hn(n_,{name:"MuiPopper",slot:"Root",overridesResolver:(e,t)=>t.root})({}),r_=i.forwardRef((function(e,t){var n;const i=(0,Rv.A)(),o=Ce({props:e,name:"MuiPopper"}),{anchorEl:r,component:s,components:a,componentsProps:l,container:c,disablePortal:d,keepMounted:u,modifiers:p,open:h,placement:g,popperOptions:m,popperRef:f,transition:b,slots:y,slotProps:w}=o,v=(0,Re.A)(o,i_),k=null!=(n=null==y?void 0:y.root)?n:null==a?void 0:a.Root,_=(0,we.A)({anchorEl:r,container:c,disablePortal:d,keepMounted:u,modifiers:p,open:h,placement:g,popperOptions:m,popperRef:f,transition:b},v);return(0,ke.jsx)(o_,(0,we.A)({as:s,direction:null==i?void 0:i.direction,slots:{root:k},slotProps:null!=w?w:l},_,{ref:t}))})),s_=r_;function a_(e){return Et("MuiTooltip",e)}const l_=Dt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),c_=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];const d_=hn(s_,{name:"MuiTooltip",slot:"Popper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.popper,!n.disableInteractive&&t.popperInteractive,n.arrow&&t.popperArrow,!n.open&&t.popperClose]}})((e=>{let{theme:t,ownerState:n,open:i}=e;return(0,we.A)({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!n.disableInteractive&&{pointerEvents:"auto"},!i&&{pointerEvents:"none"},n.arrow&&{[`&[data-popper-placement*="bottom"] .${l_.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${l_.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${l_.arrow}`]:(0,we.A)({},n.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${l_.arrow}`]:(0,we.A)({},n.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})})),u_=hn("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.tooltip,n.touch&&t.touch,n.arrow&&t.tooltipArrow,t[`tooltipPlacement${mn(n.placement.split("-")[0])}`]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:(0,Ne.X4)(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},n.arrow&&{position:"relative",margin:0},n.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:(i=16/14,Math.round(1e5*i)/1e5)+"em",fontWeight:t.typography.fontWeightRegular},{[`.${l_.popper}[data-popper-placement*="left"] &`]:(0,we.A)({transformOrigin:"right center"},n.isRtl?(0,we.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"}):(0,we.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"})),[`.${l_.popper}[data-popper-placement*="right"] &`]:(0,we.A)({transformOrigin:"left center"},n.isRtl?(0,we.A)({marginRight:"14px"},n.touch&&{marginRight:"24px"}):(0,we.A)({marginLeft:"14px"},n.touch&&{marginLeft:"24px"})),[`.${l_.popper}[data-popper-placement*="top"] &`]:(0,we.A)({transformOrigin:"center bottom",marginBottom:"14px"},n.touch&&{marginBottom:"24px"}),[`.${l_.popper}[data-popper-placement*="bottom"] &`]:(0,we.A)({transformOrigin:"center top",marginTop:"14px"},n.touch&&{marginTop:"24px"})});var i})),p_=hn("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(e,t)=>t.arrow})((e=>{let{theme:t}=e;return{overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:(0,Ne.X4)(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}}));let h_=!1;const g_=new Dn;let m_={x:0,y:0};function f_(e,t){return function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=arguments[r];t&&t(n,...o),e(n,...o)}}const b_=i.forwardRef((function(e,t){var n,o,r,s,a,l,c,d,u,p,h,g,m,f,b,y,w,v,k;const _=Ce({props:e,name:"MuiTooltip"}),{arrow:x=!1,children:A,components:C={},componentsProps:S={},describeChild:I=!1,disableFocusListener:T=!1,disableHoverListener:E=!1,disableInteractive:D=!1,disableTouchListener:M=!1,enterDelay:P=100,enterNextDelay:R=0,enterTouchDelay:B=700,followCursor:j=!1,id:L,leaveDelay:z=0,leaveTouchDelay:O=1500,onClose:N,onOpen:F,open:V,placement:H="bottom",PopperComponent:W,PopperProps:U={},slotProps:q={},slots:$={},title:G,TransitionComponent:K=na,TransitionProps:Y}=_,Q=(0,Re.A)(_,c_),Z=i.isValidElement(A)?A:(0,ke.jsx)("span",{children:A}),X=Ei(),J=Vt(),[ee,te]=i.useState(),[ne,ie]=i.useState(null),oe=i.useRef(!1),re=D||j,se=Mn(),ae=Mn(),le=Mn(),ce=Mn(),[de,ue]=al({controlled:V,default:!1,name:"Tooltip",state:"open"});let pe=de;const he=id(L),ge=i.useRef(),me=In((()=>{void 0!==ge.current&&(document.body.style.WebkitUserSelect=ge.current,ge.current=void 0),ce.clear()}));i.useEffect((()=>me),[me]);const fe=e=>{g_.clear(),h_=!0,ue(!0),F&&!pe&&F(e)},be=In((e=>{g_.start(800+z,(()=>{h_=!1})),ue(!1),N&&pe&&N(e),se.start(X.transitions.duration.shortest,(()=>{oe.current=!1}))})),ye=e=>{oe.current&&"touchstart"!==e.type||(ee&&ee.removeAttribute("title"),ae.clear(),le.clear(),P||h_&&R?ae.start(h_?R:P,(()=>{fe(e)})):fe(e))},ve=e=>{ae.clear(),le.start(z,(()=>{be(e)}))},{isFocusVisibleRef:_e,onBlur:xe,onFocus:Ae,ref:Se}=Fn(),[,Ie]=i.useState(!1),Te=e=>{xe(e),!1===_e.current&&(Ie(!1),ve(e))},Ee=e=>{ee||te(e.currentTarget),Ae(e),!0===_e.current&&(Ie(!0),ye(e))},De=e=>{oe.current=!0;const t=Z.props;t.onTouchStart&&t.onTouchStart(e)},Me=e=>{De(e),le.clear(),se.clear(),me(),ge.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",ce.start(B,(()=>{document.body.style.WebkitUserSelect=ge.current,ye(e)}))},Pe=e=>{Z.props.onTouchEnd&&Z.props.onTouchEnd(e),me(),le.start(O,(()=>{be(e)}))};i.useEffect((()=>{if(pe)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){"Escape"!==e.key&&"Esc"!==e.key||be(e)}}),[be,pe]);const Be=An(ms(Z),Se,te,t);G||0===G||(pe=!1);const je=i.useRef(),Le={},ze="string"===typeof G;I?(Le.title=pe||!ze||E?null:G,Le["aria-describedby"]=pe?he:null):(Le["aria-label"]=ze?G:null,Le["aria-labelledby"]=pe&&!ze?he:null);const Oe=(0,we.A)({},Le,Q,Z.props,{className:_t(Q.className,Z.props.className),onTouchStart:De,ref:Be},j?{onMouseMove:e=>{const t=Z.props;t.onMouseMove&&t.onMouseMove(e),m_={x:e.clientX,y:e.clientY},je.current&&je.current.update()}}:{});const Ne={};M||(Oe.onTouchStart=Me,Oe.onTouchEnd=Pe),E||(Oe.onMouseOver=f_(ye,Oe.onMouseOver),Oe.onMouseLeave=f_(ve,Oe.onMouseLeave),re||(Ne.onMouseOver=ye,Ne.onMouseLeave=ve)),T||(Oe.onFocus=f_(Ee,Oe.onFocus),Oe.onBlur=f_(Te,Oe.onBlur),re||(Ne.onFocus=Ee,Ne.onBlur=Te));const Fe=i.useMemo((()=>{var e;let t=[{name:"arrow",enabled:Boolean(ne),options:{element:ne,padding:4}}];return null!=(e=U.popperOptions)&&e.modifiers&&(t=t.concat(U.popperOptions.modifiers)),(0,we.A)({},U.popperOptions,{modifiers:t})}),[ne,U]),Ve=(0,we.A)({},_,{isRtl:J,arrow:x,disableInteractive:re,placement:H,PopperComponentProp:W,touch:oe.current}),He=(e=>{const{classes:t,disableInteractive:n,arrow:i,touch:o,placement:r}=e;return cn({popper:["popper",!n&&"popperInteractive",i&&"popperArrow"],tooltip:["tooltip",i&&"tooltipArrow",o&&"touch",`tooltipPlacement${mn(r.split("-")[0])}`],arrow:["arrow"]},a_,t)})(Ve),We=null!=(n=null!=(o=$.popper)?o:C.Popper)?n:d_,Ue=null!=(r=null!=(s=null!=(a=$.transition)?a:C.Transition)?s:K)?r:na,qe=null!=(l=null!=(c=$.tooltip)?c:C.Tooltip)?l:u_,$e=null!=(d=null!=(u=$.arrow)?u:C.Arrow)?d:p_,Ge=bs(We,(0,we.A)({},U,null!=(p=q.popper)?p:S.popper,{className:_t(He.popper,null==U?void 0:U.className,null==(h=null!=(g=q.popper)?g:S.popper)?void 0:h.className)}),Ve),Ke=bs(Ue,(0,we.A)({},Y,null!=(m=q.transition)?m:S.transition),Ve),Ye=bs(qe,(0,we.A)({},null!=(f=q.tooltip)?f:S.tooltip,{className:_t(He.tooltip,null==(b=null!=(y=q.tooltip)?y:S.tooltip)?void 0:b.className)}),Ve),Qe=bs($e,(0,we.A)({},null!=(w=q.arrow)?w:S.arrow,{className:_t(He.arrow,null==(v=null!=(k=q.arrow)?k:S.arrow)?void 0:v.className)}),Ve);return(0,ke.jsxs)(i.Fragment,{children:[i.cloneElement(Z,Oe),(0,ke.jsx)(We,(0,we.A)({as:null!=W?W:s_,placement:H,anchorEl:j?{getBoundingClientRect:()=>({top:m_.y,left:m_.x,right:m_.x,bottom:m_.y,width:0,height:0})}:ee,popperRef:je,open:!!ee&&pe,id:he,transition:!0},Ne,Ge,{popperOptions:Fe,children:e=>{let{TransitionProps:t}=e;return(0,ke.jsx)(Ue,(0,we.A)({timeout:X.transitions.duration.shorter},t,Ke,{children:(0,ke.jsxs)(qe,(0,we.A)({},Ye,{children:[G,x?(0,ke.jsx)($e,(0,we.A)({},Qe,{ref:ie})):null]}))}))}}))]})})),y_=b_,w_=vo((0,ke.jsx)("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),v_=vo((0,ke.jsx)("path",{d:"M20 4H4c-1.11 0-1.99.89-1.99 2L2 18c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V6c0-1.11-.89-2-2-2M8.5 15H7.3l-2.55-3.5V15H3.5V9h1.25l2.5 3.5V9H8.5zm5-4.74H11v1.12h2.5v1.26H11v1.11h2.5V15h-4V9h4zm7 3.74c0 .55-.45 1-1 1h-4c-.55 0-1-.45-1-1V9h1.25v4.51h1.13V9.99h1.25v3.51h1.12V9h1.25z"}),"FiberNew"),k_=()=>{const[e,t]=(0,i.useState)([]),[n,o]=(0,i.useState)([]),[r,s]=(0,i.useState)(!0),[a,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(null),[u,p]=(0,i.useState)("all"),[h,g]=(0,i.useState)(""),[m,f]=(0,i.useState)(new Date),[b,y]=(0,i.useState)(1),[w,v]=(0,i.useState)({open:!1,message:"",severity:"info"}),[k,_]=(0,i.useState)((()=>{const e=localStorage.getItem("blogBookmarks");return e?JSON.parse(e):[]})),x=[{value:"all",label:"All Categories"},{value:"vlsi",label:"VLSI"},{value:"electronics",label:"Electronics"},{value:"diy-electronics",label:"DIY Electronics"},{value:"electrical-engineering",label:"Electrical Engineering"},{value:"electronics-design",label:"Electronics Design"},{value:"fpga",label:"FPGA"}],A=(0,i.useCallback)((()=>{s(!0),d(null),setTimeout((()=>{try{const e=[{id:1,title:"An Introduction to RISC-V Architecture",link:"https://riscv.org/technical/specifications/",pubDate:"2023-10-15T10:30:00Z",source:"IEEE Spectrum",category:"VLSI",description:"RISC-V is an open-source hardware instruction set architecture (ISA) based on established reduced instruction set computer (RISC) principles.",image:"https://tse2.mm.bing.net/th?id=OIP.L9UGTbq3m8yaLCyWvLGgfAHaEU&pid=Api&P=0&h=180"},{id:6,title:"SystemVerilog for FPGA Design Verification",link:"https://www.intel.com/content/www/us/en/docs/programmable/683671/current/systemverilog-support.html",pubDate:"2023-11-02T13:45:00Z",source:"IEEE Spectrum",category:"VLSI",description:"SystemVerilog offers powerful features for FPGA design verification, helping engineers ensure correct functionality before hardware implementation.",image:"https://tse3.mm.bing.net/th?id=OIP.EgPsTipFoMIIu77aDfj_mgHaEa&pid=Api&P=0&h=180"},{id:10,title:"Next-Generation Silicon Photonics",link:"https://www.intel.com/content/www/us/en/architecture-and-technology/silicon-photonics/silicon-photonics-overview.html",pubDate:"2023-11-08T08:10:00Z",source:"IEEE Spectrum",category:"VLSI",description:"Silicon photonics is revolutionizing data center interconnects and promises to enable new architectures for optical computing.",image:"https://tse4.mm.bing.net/th?id=OIP.dHU7N0K9osbYg2DjRhTuawAAAA&pid=Api&P=0&h=180"},{id:12,title:"Advances in EDA Tools for Advanced Node Designs",link:"https://www.cadence.com/en_US/home/tools/custom-ic-analog-rf-design.html",pubDate:new Date(Date.now()-54e5).toISOString(),source:"Semiconductor Engineering",category:"VLSI",description:"Electronic Design Automation tools are evolving to address the complexities of designing for 3nm and below process nodes.",image:"https://tse3.mm.bing.net/th?id=OIP.4JPZWCwrjSlBtY0P9rVwsAHaEK&pid=Api&P=0&h=180",isNew:!0},{id:13,title:"Understanding FinFET Technology",link:"https://www.synopsys.com/glossary/what-is-finfet.html",pubDate:"2023-11-14T09:15:00Z",source:"Synopsys Blog",category:"VLSI",description:"FinFET technology has revolutionized transistor design, offering better performance and lower power consumption for modern semiconductor devices.",image:"https://tse4.mm.bing.net/th?id=OIP.X37fwrrZlZNrVOI4h5uPpgHaEI&pid=Api&P=0&h=180"},{id:14,title:"The Impact of Quantum Computing on VLSI Design",link:"https://spectrum.ieee.org/quantum-computing",pubDate:"2023-11-04T11:30:00Z",source:"IEEE Spectrum",category:"VLSI",description:"Quantum computing is poised to transform VLSI design methodologies, introducing new paradigms for circuit simulation and verification.",image:"https://tse3.mm.bing.net/th?id=OIP.Kz5EmGV3JiGU8zwp3isIOQHaEP&pid=Api&P=0&h=180"},{id:2,title:"The Future of FPGAs in Edge Computing",link:"https://www.eetimes.com/lattice-targets-low-power-edge-ai-with-new-small-fpga/",pubDate:"2023-09-22T14:20:00Z",source:"EE Times",category:"FPGA",description:"As edge computing continues to grow, FPGAs are becoming increasingly important for real-time processing and low-latency applications.",image:"https://tse1.mm.bing.net/th?id=OIP.73i22c7Jmu2Z26caAhrfhgHaEq&pid=Api&P=0&h=180"},{id:7,title:"Exploring the AMD Acquisition of Xilinx",link:"https://www.amd.com/en/corporate/xilinx-acquisition",pubDate:new Date(Date.now()-36e5).toISOString(),source:"EE Times",category:"FPGA",description:"AMD's acquisition of Xilinx creates a powerhouse in the FPGA market, with implications for product roadmaps and competitive landscape.",image:"https://tse3.mm.bing.net/th?id=OIP.zSmanO1kM358s9T6bXtqhwHaEK&pid=Api&P=0&h=180",isNew:!0},{id:15,title:"High-Level Synthesis for FPGAs",link:"https://www.xilinx.com/products/design-tools/vitis/vitis-hls.html",pubDate:"2023-10-18T13:40:00Z",source:"FPGA Journal",category:"FPGA",description:"High-Level Synthesis tools are changing how engineers approach FPGA design, enabling C/C++ code to be directly implemented in hardware.",image:"https://tse3.mm.bing.net/th?id=OIP.oGO7TgQn74v45BoZtmwC7QHaE8&pid=Api&P=0&h=180"},{id:16,title:"Partial Reconfiguration Techniques in Modern FPGAs",link:"https://www.intel.com/content/www/us/en/programmable/documentation/lat1578341945488.html",pubDate:"2023-11-07T10:25:00Z",source:"Intel FPGA",category:"FPGA",description:"Partial reconfiguration allows portions of an FPGA to be reconfigured while the rest of the device continues to operate, enabling dynamic system adaptation.",image:"https://tse2.mm.bing.net/th?id=OIP.5ZNwCog-DOqEX_pf4OYIOQHaFC&pid=Api&P=0&h=180"},{id:17,title:"FPGA Security Considerations",link:"https://www.design-reuse.com/articles/48257/fpga-security.html",pubDate:"2023-10-22T09:30:00Z",source:"Design & Reuse",category:"FPGA",description:"As FPGAs become more prevalent in critical infrastructure, understanding and implementing robust security measures is essential for system integrity.",image:"https://tse1.mm.bing.net/th?id=OIP.nDepN5kschboP1d716U8CgHaE8&pid=Api&P=0&h=180"},{id:3,title:"Build Your Own Logic Analyzer with Raspberry Pi",link:"https://r.search.yahoo.com/_ylt=Awr1TVHOVPJnCQIA84S7HAx.;_ylu=Y29sbwNzZzMEcG9zAzYEdnRpZAMEc2VjA3Ny/RV=2/RE=1745144271/RO=10/RU=https%3a%2f%2fhackaday.com%2f2023%2f08%2f31%2flogic-analyzers-tapping-into-raspberry-pi-secrets%2f/RK=2/RS=x8zMOc_50N4Ad39peNRnZgZraDg-",pubDate:"2023-11-05T08:40:00Z",source:"Hackaday",category:"DIY Electronics",description:"Learn how to build a cost-effective logic analyzer using Raspberry Pi and some basic components to debug your digital circuits.",image:"https://tse2.mm.bing.net/th?id=OIP.DZe6p211sJOBGJEojRttWgHaE7&pid=Api&P=0&h=180"},{id:11,title:"Building a Retro Computing Platform with Modern FPGAs",link:"https://github.com/MiSTer-devel/Main_MiSTer/wiki",pubDate:"2023-10-25T16:40:00Z",source:"Hackaday",category:"DIY Electronics",description:"Learn how to recreate vintage computer architectures using modern FPGA development boards for a blend of nostalgia and cutting-edge technology.",image:"https://cdna.artstation.com/p/assets/images/images/018/894/572/large/gil-monteiro-1.jpg?1561133409"},{id:18,title:"Arduino-Based Spectrum Analyzer",link:"https://create.arduino.cc/projecthub/mircemk/diy-audio-spectrum-analyzer-with-rgb-led-strip-71bc1e",pubDate:"2023-11-10T14:20:00Z",source:"Arduino Project Hub",category:"DIY Electronics",description:"Create your own audio spectrum analyzer with RGB LED visualization using an Arduino and a few common electronic components.",image:"https://tse2.mm.bing.net/th?id=OIP.Mu8n68KvboW76Jrt3vf5aAHaEK&pid=Api&P=0&h=180"},{id:19,title:"DIY Electronic Load for Testing Power Supplies",link:"https://hackaday.io/project/180636-diy-electronic-load",pubDate:"2023-10-12T11:15:00Z",source:"Hackaday.io",category:"DIY Electronics",description:"Build a versatile electronic load capable of testing power supplies, batteries, and other current sources with adjustable parameters.",image:"https://tse3.mm.bing.net/th?id=OIP.psdp6S53gwaa2nq6rboaxAHaFc&pid=Api&P=0&h=180"},{id:20,title:"ESP32 Weather Station with E-Ink Display",link:"https://randomnerdtutorials.com/esp32-esp8266-e-paper-display-spi/",pubDate:"2023-11-02T15:45:00Z",source:"Random Nerd Tutorials",category:"DIY Electronics",description:"Create a low-power weather station using an ESP32 microcontroller and an e-ink display that can run for months on a single battery charge.",image:"https://tse1.mm.bing.net/th?id=OIP.SzIvTmvLM7csgsuN4KcGCgHaEu&pid=Api&P=0&h=180"},{id:4,title:"Understanding Power Integrity in PCB Design",link:"https://www.intel.com/content/www/us/en/developer/articles/technical/power-delivery-for-intel-xeon-phi-processor.html",pubDate:"2023-10-30T11:15:00Z",source:"All About Circuits",category:"Electrical Engineering",description:"Power integrity is a critical aspect of PCB design that ensures your circuit receives clean and stable power, essential for reliable operation.",image:"https://tse1.mm.bing.net/th?id=OIP.vsCLQJ03vliSTnK91wrI1wHaEo&pid=Api&P=0&h=180"},{id:21,title:"Thermal Management in High-Power Electronics",link:"https://www.electronics-cooling.com/2017/07/thermal-management-high-power-electronics/",pubDate:"2023-10-14T09:20:00Z",source:"Electronics Cooling",category:"Electrical Engineering",description:"Effective thermal management is crucial for high-power electronic systems to ensure reliability and performance over their operational lifetime.",image:"https://tse2.mm.bing.net/th?id=OIP.KoBBf9r8NYHLSP-nCGS8OQAAAA&pid=Api&P=0&h=180"},{id:22,title:"Signal Integrity Analysis for High-Speed Interfaces",link:"https://www.keysight.com/us/en/assets/7018-03406/application-notes/5989-5699.pdf",pubDate:"2023-11-09T14:30:00Z",source:"Keysight Technologies",category:"Electrical Engineering",description:"High-speed digital interfaces require careful signal integrity analysis to ensure reliable data transmission across PCB traces and connectors.",image:"https://tse3.mm.bing.net/th?id=OIP.SDihwWZT1nmtETJm7ZS0PQHaEK&pid=Api&P=0&h=180"},{id:23,title:"EMC/EMI Design Considerations for Electronic Products",link:"https://incompliancemag.com/article/emc-design-fundamentals/",pubDate:"2023-10-28T12:45:00Z",source:"In Compliance Magazine",category:"Electrical Engineering",description:"Electromagnetic compatibility (EMC) and interference (EMI) are critical design considerations for ensuring electronic products meet regulatory requirements.",image:"https://tse1.mm.bing.net/th?id=OIP.mEEh6Aruk3y6XTm2unMSSwAAAA&pid=Api&P=0&h=180"},{id:24,title:"Battery Management Systems for Electric Vehicles",link:"https://www.ti.com/applications/automotive/hev-ev-powertrain/battery-management-system.html",pubDate:"2023-11-01T10:10:00Z",source:"Texas Instruments",category:"Electrical Engineering",description:"Battery management systems (BMS) are essential for monitoring and controlling the state of lithium-ion battery packs in electric vehicles.",image:"https://tse3.mm.bing.net/th?id=OIP.T-YbKFRTsw2dJhmNA-dX7gHaEv&pid=Api&P=0&h=180"},{id:5,title:"Advances in Analog-to-Digital Converters",link:"https://www.analog.com/en/products/analog-to-digital-converters.html",pubDate:"2023-11-10T09:30:00Z",source:"EDN Network",category:"Electronics Design",description:"Explore the latest innovations in ADC technology, including improved resolution, lower power consumption, and higher sampling rates.",image:"https://tse2.mm.bing.net/th?id=OIP.XS5ZfOwso2I_U1W3Fwg-bQHaEK&pid=Api&P=0&h=180"},{id:8,title:"The Evolution of PCB Design Software",link:"https://www.altium.com/solution/pcb-design-software",pubDate:new Date(Date.now()-72e5).toISOString(),source:"All About Circuits",category:"Electronics Design",description:"Modern PCB design software has evolved to include advanced features like simulation, collaborative workflows, and AI-powered routing assistance.",image:"https://tse4.mm.bing.net/th?id=OIP.PVcV78klISs55AZ3i6mfJQHaE4&pid=Api&P=0&h=180",isNew:!0},{id:25,title:"Designing Mixed-Signal Circuits for IoT Applications",link:"https://www.maximintegrated.com/en/design/technical-documents/tutorials/7/7279.html",pubDate:"2023-11-05T11:20:00Z",source:"Maxim Integrated",category:"Electronics Design",description:"IoT devices require optimized mixed-signal circuits to balance power consumption, performance, and connectivity requirements.",image:"https://tse2.mm.bing.net/th?id=OIP.pBWPzXxQYnKmfSDW6WxsPgHaEc&pid=Api&P=0&h=180"},{id:26,title:"Low-Power Design Techniques for Wearable Electronics",link:"https://www.eetimes.com/techniques-for-reducing-power-consumption-in-wearable-electronics/",pubDate:"2023-10-19T14:15:00Z",source:"EE Times",category:"Electronics Design",description:"Wearable electronic devices demand ultra-low power consumption while maintaining functionality, requiring specialized design approaches.",image:"https://tse1.mm.bing.net/th?id=OIP.K7qsJ3JxIIKIijC7fY9rPwHaEK&pid=Api&P=0&h=180"},{id:27,title:"RF Circuit Design Considerations for 5G Applications",link:"https://www.keysight.com/us/en/assets/7018-06235/white-papers/5992-3309.pdf",pubDate:"2023-10-27T09:45:00Z",source:"Keysight Technologies",category:"Electronics Design",description:"Designing RF circuits for 5G applications presents unique challenges in terms of bandwidth, power efficiency, and signal integrity.",image:"https://tse3.mm.bing.net/th?id=OIP.azYQ1fw7-YNIaAiK__RL1gHaFf&pid=Api&P=0&h=180"},{id:9,title:"Embedded Machine Learning on Microcontrollers",link:"https://www.tensorflow.org/lite/microcontrollers",pubDate:"2023-11-12T15:20:00Z",source:"Embedded.com",category:"Electronics",description:"Implementing ML on microcontrollers opens new possibilities for edge computing with minimal power consumption and small form factors.",image:"https://tse3.mm.bing.net/th?id=OIP.Rd7-fYT4aSZH8BiVg1LPJQHaEK&pid=Api&P=0&h=180"},{id:28,title:"The Role of GaN Semiconductors in Power Electronics",link:"https://www.powerelectronicsnews.com/gallium-nitride-gan-the-future-of-power-semiconductors/",pubDate:"2023-11-08T10:45:00Z",source:"Power Electronics News",category:"Electronics",description:"Gallium Nitride (GaN) semiconductors are transforming power electronics with higher efficiency and smaller form factors compared to silicon alternatives.",image:"https://tse1.mm.bing.net/th?id=OIP.OhcY9wRYablTK5m5mLFxYgHaFS&pid=Api&P=0&h=180"},{id:29,title:"Open Hardware Platforms for Electronics Prototyping",link:"https://www.openhardware.io/",pubDate:"2023-10-20T13:45:00Z",source:"Open Hardware IO",category:"Electronics",description:"Open hardware platforms provide accessible resources for electronics prototyping, fostering innovation and collaboration in the maker community.",image:"https://tse3.mm.bing.net/th?id=OIP.w4TbSxghBH67Ct8e7cnZXQHaEo&pid=Api&P=0&h=180"},{id:30,title:"Energy Harvesting Technologies for IoT Devices",link:"https://www.mouser.com/applications/energy-harvesting-for-iot/",pubDate:"2023-11-03T09:15:00Z",source:"Mouser Electronics",category:"Electronics",description:"Energy harvesting technologies enable IoT devices to operate without batteries by capturing energy from ambient sources like light, vibration, or heat.",image:"https://tse2.mm.bing.net/th?id=OIP.Ov3nBvQBzNCl2MsES_rk1gHaEK&pid=Api&P=0&h=180"},{id:31,title:"Flexible and Printed Electronics Applications",link:"https://www.idtechex.com/en/reports/printed-and-flexible-electronics/1",pubDate:"2023-10-31T11:30:00Z",source:"IDTechEx",category:"Electronics",description:"Flexible and printed electronics enable new form factors and applications, from wearable sensors to rollable displays and smart packaging.",image:"https://tse4.mm.bing.net/th?id=OIP.8K8FjZN_BBWiJzIZm4gESwHaEc&pid=Api&P=0&h=180"}];t(e),o(h||"all"!==u?S(e,h,u):e),f(new Date),s(!1),y(1);const n=setTimeout((()=>{Math.random()>.7&&v({open:!0,message:"New blog posts are available",severity:"info"})}),6e4);return()=>clearTimeout(n)}catch(e){d("Failed to load blog posts. Please try again later."),s(!1)}}),[h,u])}),[h,u]);(0,i.useEffect)((()=>{A(),localStorage.setItem("blogBookmarks",JSON.stringify(k))}),[A,k]);const C=()=>{l(!0),setTimeout((()=>{A(),l(!1),v({open:!0,message:"Blog feed updated successfully",severity:"success"})}),1e3)},S=(e,t,n)=>{let i=[...e];if("all"!==n&&(i=i.filter((e=>e.category.toLowerCase()===n.toLowerCase()))),t){const e=t.toLowerCase();i=i.filter((t=>t.title.toLowerCase().includes(e)||t.description.toLowerCase().includes(e)||t.source.toLowerCase().includes(e)||t.category.toLowerCase().includes(e)))}return i},I=e=>{const t=new Date(e),n=new Date-t,i=Math.round(n/6e4),o=Math.round(n/36e5);return i<60?i<=1?"Just now":`${i} mins ago`:o<24?`${o} hour${o>1?"s":""} ago`:t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},T=(e,t)=>{"clickaway"!==t&&v({...w,open:!1})},E=9*b,D=E-9,M=n.slice(D,E),P=Math.ceil(n.length/9);return(0,ke.jsxs)(Bt,{className:"blog-page",children:[(0,ke.jsx)(Bt,{className:"blog-header",children:(0,ke.jsxs)(sm,{maxWidth:"lg",children:[(0,ke.jsxs)(Bt,{sx:{position:"relative",zIndex:2,py:4},children:[(0,ke.jsx)(Bt,{sx:{position:"absolute",top:-15,right:{xs:-15,md:20},opacity:.15,transform:"rotate(15deg)",display:{xs:"none",md:"block"}},children:(0,ke.jsx)(No,{sx:{fontSize:120,color:"white"}})}),(0,ke.jsx)(Bt,{sx:{position:"absolute",bottom:-30,left:{xs:-15,md:50},opacity:.15,transform:"rotate(-10deg)",display:{xs:"none",md:"block"}},children:(0,ke.jsx)(Ho,{sx:{fontSize:100,color:"white"}})}),(0,ke.jsx)(ua,{in:!0,timeout:1e3,children:(0,ke.jsxs)(Bt,{sx:{mb:3},children:[(0,ke.jsxs)(kn,{variant:"overline",sx:{color:"rgba(255,255,255,0.9)",letterSpacing:3,fontWeight:500,fontSize:"0.95rem",display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,ke.jsx)(of,{fontSize:"small"})," LATEST TECH INSIGHTS"]}),(0,ke.jsxs)(kn,{variant:"h2",component:"h1",sx:{fontWeight:800,letterSpacing:-.5,fontSize:{xs:"2.5rem",md:"3.5rem"},lineHeight:1.1,background:"linear-gradient(90deg, #ffffff 0%, #e1bee7 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",mb:3},children:["Engineering ",(0,ke.jsx)("br",{}),"Knowledge Hub"]})]})}),(0,ke.jsx)(ua,{in:!0,timeout:1500,style:{transitionDelay:"300ms"},children:(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"h6",sx:{maxWidth:"700px",fontWeight:400,fontSize:{xs:"1rem",md:"1.25rem"},lineHeight:1.5,color:"rgba(255,255,255,0.85)"},children:"Explore curated insights from the world of VLSI design, FPGAs, and electronic systems. Stay at the forefront of technological innovation with our expert-driven content."}),(0,ke.jsxs)(Zh,{direction:"row",spacing:3,sx:{mt:4,display:{xs:"none",sm:"flex"},color:"rgba(255,255,255,0.8)"},divider:(0,ke.jsx)(jo,{orientation:"vertical",flexItem:!0,sx:{backgroundColor:"rgba(255,255,255,0.2)"}}),children:[(0,ke.jsxs)(Bt,{children:[(0,ke.jsxs)(kn,{variant:"h5",fontWeight:"bold",sx:{color:"#e1bee7"},children:[e.length,"+"]}),(0,ke.jsx)(kn,{variant:"body2",children:"Articles"})]}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"h5",fontWeight:"bold",sx:{color:"#e1bee7"},children:x.length-1}),(0,ke.jsx)(kn,{variant:"body2",children:"Categories"})]}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"h5",fontWeight:"bold",sx:{color:"#e1bee7"},children:"Weekly"}),(0,ke.jsx)(kn,{variant:"body2",children:"Updates"})]})]})]})})]}),(0,ke.jsx)(dm,{in:!0,style:{transitionDelay:"600ms"},children:(0,ke.jsx)($i,{elevation:3,sx:{p:3,mt:5,borderRadius:3,backgroundColor:"rgba(255, 255, 255, 0.9)",backdropFilter:"blur(10px)",transition:"all 0.3s ease",transform:"translateY(20px)"},children:(0,ke.jsxs)(Vi,{container:!0,spacing:3,children:[(0,ke.jsx)(Vi,{item:!0,xs:12,children:(0,ke.jsx)(Pl,{fullWidth:!0,variant:"outlined",placeholder:"Search for articles, topics, or keywords...",value:h,onChange:t=>{const n=t.target.value;g(n),o(S(e,n,u))},InputProps:{startAdornment:(0,ke.jsx)(Ol,{position:"start",children:(0,ke.jsx)(mc,{color:"primary"})}),sx:{borderRadius:2,backgroundColor:"#f5f5f5","&:hover":{backgroundColor:"#ffffff",boxShadow:"0 0 0 2px #e1bee7"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"transparent"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#9c27b0"},transition:"all 0.3s ease"}}})}),(0,ke.jsx)(Vi,{item:!0,xs:12,children:(0,ke.jsxs)(Bt,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},alignItems:{xs:"stretch",sm:"center"},justifyContent:"space-between",gap:2},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,ke.jsx)(af,{color:"primary",fontSize:"small"}),(0,ke.jsx)(kn,{variant:"subtitle2",fontWeight:"bold",children:"Filter by category:"})]}),(0,ke.jsx)(xv,{value:u,exclusive:!0,onChange:(t,n)=>{null!==n&&(t=>{const n=t.target.value;p(n),o(S(e,h,n))})({target:{value:n}})},"aria-label":"category filter",sx:{flexWrap:"wrap",justifyContent:"center","& .MuiToggleButtonGroup-grouped":{m:.5,borderRadius:"16px !important",border:"1px solid #e0e0e0 !important","&.Mui-selected":{backgroundColor:"#9c27b0",color:"white","&:hover":{backgroundColor:"#7b1fa2"}}}},children:x.map((e=>(0,ke.jsx)(Pv,{value:e.value,sx:{px:2,py:.5,textTransform:"none",fontSize:"0.875rem",transition:"all 0.2s ease",backgroundColor:"white"},children:e.label},e.value)))})]})})]})})})]})}),(0,ke.jsx)(Bt,{className:"blog-content",sx:{py:6,bgcolor:"#f5f5f5"},children:(0,ke.jsxs)(sm,{maxWidth:"lg",children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,ke.jsxs)(kn,{variant:"body2",color:"text.secondary",children:["Last updated: ",m.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})," \u2022 ",n.length," articles"]}),(0,ke.jsx)(y_,{title:"Refresh content",children:(0,ke.jsx)(th,{onClick:C,disabled:r||a,color:"primary",children:(0,ke.jsx)(w_,{})})})]}),r?(0,ke.jsxs)(Bt,{sx:{display:"flex",flexDirection:"column",alignItems:"center",py:8},children:[(0,ke.jsx)(Lp,{color:"primary",size:60,thickness:4}),(0,ke.jsx)(kn,{variant:"body1",sx:{mt:2},children:"Fetching the latest articles..."})]}):c?(0,ke.jsxs)(Bt,{className:"error-message",sx:{p:3,bgcolor:"#fee",borderRadius:2},children:[(0,ke.jsx)(kn,{color:"error",children:c}),(0,ke.jsx)(Ii,{variant:"outlined",color:"primary",sx:{mt:2},onClick:C,children:"Try Again"})]}):0===n.length?(0,ke.jsxs)(Bt,{className:"no-results",sx:{textAlign:"center",py:8},children:[(0,ke.jsx)(kn,{variant:"h6",children:"No blogs found matching your criteria"}),(0,ke.jsx)(Ii,{variant:"outlined",color:"primary",sx:{mt:2},onClick:()=>{g(""),p("all")},children:"Clear Filters"})]}):(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(Vi,{container:!0,spacing:3,className:"blog-grid",children:M.map((e=>{return(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,md:4,children:(0,ke.jsxs)(Qi,{className:"blog-card",elevation:2,sx:{height:"100%",display:"flex",flexDirection:"column",position:"relative"},children:[e.isNew&&(0,ke.jsx)(To,{icon:(0,ke.jsx)(v_,{}),label:"New",color:"secondary",size:"small",sx:{position:"absolute",top:10,right:10,zIndex:2,fontWeight:"bold"}}),e.image&&(0,ke.jsx)(co,{component:"img",height:"180",image:e.image,alt:e.title,onError:e=>{e.target.onerror=null,e.target.src="/logo192.png"},sx:{objectFit:"cover",background:"linear-gradient(to right, #f5f5f5, #e0e0e0)"}}),(0,ke.jsxs)(go,{sx:{flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,ke.jsx)(To,{label:e.category,size:"small",sx:{alignSelf:"flex-start",mb:1.5,bgcolor:"#e1bee7",color:"#6a1b9a",fontWeight:500}}),(0,ke.jsx)(kn,{variant:"h6",component:"h2",gutterBottom:!0,sx:{fontWeight:500},children:(0,ke.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",style:{color:"inherit",textDecoration:"none"},children:e.title})}),(0,ke.jsxs)(Bt,{sx:{display:"flex",justifyContent:"space-between",mb:2},children:[(0,ke.jsx)(kn,{variant:"caption",color:"text.secondary",children:e.source}),(0,ke.jsx)(kn,{variant:"caption",color:"text.secondary",children:I(e.pubDate)})]}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",paragraph:!0,sx:{mb:2},children:(t=e.description,n=120,t?t.length<=n?t:t.substring(0,n)+"...":"")}),(0,ke.jsxs)(Bt,{sx:{mt:"auto",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ke.jsx)(Ii,{variant:"text",color:"primary",href:e.link,target:"_blank",rel:"noopener noreferrer",endIcon:(0,ke.jsx)(Fo,{}),size:"small",children:"Read More"}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(th,{size:"small",onClick:()=>{return t=e.id,void(k.includes(t)?(_(k.filter((e=>e!==t))),v({open:!0,message:"Removed from bookmarks",severity:"info"})):(_([...k,t]),v({open:!0,message:"Added to bookmarks",severity:"success"})));var t},color:"primary",children:k.includes(e.id)?(0,ke.jsx)(yh,{}):(0,ke.jsx)(wh,{})}),(0,ke.jsx)(th,{size:"small",onClick:()=>(e=>{navigator.share?navigator.share({title:e.title,text:e.description,url:e.link}).then((()=>{v({open:!0,message:"Shared successfully",severity:"success"})})).catch((e=>{console.error("Error sharing:",e)})):navigator.clipboard.writeText(e.link).then((()=>{v({open:!0,message:"Link copied to clipboard",severity:"success"})}),(()=>{v({open:!0,message:"Failed to copy link",severity:"error"})}))})(e),color:"primary",children:(0,ke.jsx)(uf,{})})]})]})]})]})},e.id);var t,n}))}),P>1&&(0,ke.jsx)(Bt,{sx:{display:"flex",justifyContent:"center",mt:6},children:(0,ke.jsx)(gc,{count:P,page:b,onChange:(e,t)=>{y(t),document.querySelector(".blog-content").scrollIntoView({behavior:"smooth"})},color:"primary",size:"large",showFirstButton:!0,showLastButton:!0,sx:{"& .MuiPaginationItem-root":{fontSize:"1rem"},"& .Mui-selected":{backgroundColor:"rgba(156, 39, 176, 0.15) !important",fontWeight:"bold"}}})})]})]})}),(0,ke.jsx)(Bt,{className:"newsletter",sx:{bgcolor:"#9c27b0",color:"white",py:6},children:(0,ke.jsxs)(sm,{maxWidth:"md",sx:{textAlign:"center"},children:[(0,ke.jsx)(kn,{variant:"h4",component:"h2",gutterBottom:!0,children:"Never Miss an Update"}),(0,ke.jsx)(kn,{variant:"body1",paragraph:!0,sx:{mb:4,maxWidth:"600px",mx:"auto"},children:"Subscribe to our newsletter for weekly curated content on VLSI, digital design, and more."}),(0,ke.jsxs)(Bt,{component:"form",sx:{display:"flex",maxWidth:"500px",mx:"auto",flexDirection:{xs:"column",sm:"row"},gap:{xs:2,sm:0}},onSubmit:e=>{e.preventDefault(),v({open:!0,message:"Newsletter subscription successful!",severity:"success"})},children:[(0,ke.jsx)(Pl,{fullWidth:!0,variant:"outlined",placeholder:"Your email address",type:"email",required:!0,InputProps:{sx:{bgcolor:"white",borderRadius:{xs:1,sm:"4px 0 0 4px"},"& fieldset":{borderColor:"white",borderRight:{sm:"none"}}}}}),(0,ke.jsx)(Ii,{type:"submit",variant:"contained",sx:{bgcolor:"#6a1b9a",borderRadius:{xs:1,sm:"0 4px 4px 0"},"&:hover":{bgcolor:"#4a148c"},px:3},children:"Subscribe"})]})]})}),(0,ke.jsx)(ap,{open:w.open,autoHideDuration:4e3,onClose:T,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,ke.jsx)(mh,{onClose:T,severity:w.severity,variant:"filled",sx:{width:"100%"},children:w.message})})]})},__=vo([(0,ke.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,ke.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),x_=()=>{const{id:e}=ee(),[t,n]=(0,i.useState)(null),[o,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(!1),[l,c]=(0,i.useState)([]);(0,i.useEffect)((()=>{r(!0);const t=setTimeout((()=>{const t={id:parseInt(e),title:"Understanding SystemVerilog Interfaces for Effective Verification",author:"Sarah Johnson",date:"October 15, 2023",readTime:"8 min read",image:"https://picsum.photos/800/400",category:"Verification",tags:["SystemVerilog","Interfaces","UVM","Verification"],content:'\n          <p>SystemVerilog interfaces are a powerful feature that help organize and simplify the connection between design blocks and verification components. This article explores how to use interfaces effectively to improve your verification environment.</p>\n\n          <h2>What are SystemVerilog Interfaces?</h2>\n          <p>An interface in SystemVerilog is a bundle of signals and possibly tasks and functions that can be referenced as a single unit. Interfaces allow you to group related signals together, making it easier to connect modules and verification components.</p>\n\n          <p>Here\'s a simple example of an interface declaration:</p>\n          <pre><code>\n// Simple bus interface example\ninterface simple_bus;\n  logic clk;\n  logic reset;\n  logic [7:0] data;\n  logic valid;\n  logic ready;\n  \n  modport master (\n    output clk, reset, data, valid,\n    input ready\n  );\n  \n  modport slave (\n    input clk, reset, data, valid,\n    output ready\n  );\nendinterface\n          </code></pre>\n\n          <h2>Benefits of Using Interfaces</h2>\n          <ul>\n            <li><strong>Simplified Module Connections</strong>: Pass a single interface instance instead of individual signals</li>\n            <li><strong>Abstraction</strong>: Hide implementation details behind a well-defined interface</li>\n            <li><strong>Reusability</strong>: Reuse the same interface definition across different modules</li>\n            <li><strong>Maintainability</strong>: Change interface details in one place</li>\n          </ul>\n\n          <h2>Interfaces in UVM</h2>\n          <p>The Universal Verification Methodology (UVM) makes extensive use of interfaces. Typically, you\'ll create a virtual interface handle in your UVM components to access the DUT signals.</p>\n\n          <p>Here\'s how you might use a virtual interface in a UVM driver:</p>\n          <pre><code>\n// Example UVM driver with virtual interface\nclass my_driver extends uvm_driver #(my_transaction);\n  virtual simple_bus vif;\n  \n  function void build_phase(uvm_phase phase);\n    super.build_phase(phase);\n    if(!uvm_config_db#(virtual simple_bus)::get(this, "", "vif", vif))\n      `uvm_fatal("NO_VIF", "Virtual interface not set")\n  endfunction\n  \n  task run_phase(uvm_phase phase);\n    forever begin\n      seq_item_port.get_next_item(req);\n      // Drive signals through the virtual interface\n      vif.data = req.data;\n      vif.valid = 1;\n      @(posedge vif.clk);\n      while (!vif.ready) @(posedge vif.clk);\n      vif.valid = 0;\n      seq_item_port.item_done();\n    end\n  endtask\nendclass\n          </code></pre>\n\n          <h2>Best Practices</h2>\n          <p>When working with interfaces, consider these best practices:</p>\n          <ol>\n            <li>Define modports to clarify signal directions</li>\n            <li>Include tasks and functions in interfaces for common operations</li>\n            <li>Use clocking blocks for synchronous logic</li>\n            <li>Create interface classes for more complex abstractions</li>\n          </ol>\n\n          <h2>Conclusion</h2>\n          <p>SystemVerilog interfaces are a valuable tool for organizing your design and verification code. By grouping related signals together and providing a clean abstraction boundary, interfaces help make your code more maintainable and reusable.</p>\n\n          <p>In your next project, consider using interfaces from the start to help structure your design and verification components in a more modular way.</p>\n        ',likes:124,comments:28};n(t),c([{id:2,title:"Advanced UVM Techniques for SoC Verification",image:"https://picsum.photos/400/250?random=1",date:"September 5, 2023",category:"Verification"},{id:3,title:"Getting Started with FPGA Development",image:"https://picsum.photos/400/250?random=2",date:"August 12, 2023",category:"FPGA"},{id:4,title:"Synthesis Best Practices for Better Timing Closure",image:"https://picsum.photos/400/250?random=3",date:"July 28, 2023",category:"Synthesis"}]),r(!1)}),1e3);return()=>clearTimeout(t)}),[e]);const d=()=>{a(!s)},u=()=>{navigator.share?navigator.share({title:t.title,text:`Check out this blog: ${t.title}`,url:window.location.href}).catch((e=>{console.error("Error sharing:",e)})):navigator.clipboard.writeText(window.location.href).then((()=>{alert("Link copied to clipboard!")})).catch((e=>{console.error("Failed to copy link:",e)}))};return o?(0,ke.jsx)(Bt,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"70vh"},children:(0,ke.jsx)(Lp,{size:60})}):(0,ke.jsxs)(sm,{maxWidth:"lg",sx:{py:8},children:[(0,ke.jsx)(Ii,{component:rn,to:"/blog",startIcon:(0,ke.jsx)(lp,{}),sx:{mb:4},children:"Back to Blogs"}),t&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsxs)($i,{elevation:2,sx:{p:0,overflow:"hidden",mb:6,borderRadius:2},children:[(0,ke.jsx)(Bt,{component:"img",src:t.image,alt:t.title,sx:{width:"100%",height:{xs:200,sm:300,md:400},objectFit:"cover"}}),(0,ke.jsxs)(Bt,{sx:{p:{xs:3,md:5}},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",mb:2},children:[(0,ke.jsx)(To,{label:t.category,color:"primary",size:"small",sx:{fontWeight:500,mb:{xs:1,sm:0}}}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(th,{onClick:d,children:s?(0,ke.jsx)(yh,{color:"primary"}):(0,ke.jsx)(wh,{})}),(0,ke.jsx)(th,{onClick:u,children:(0,ke.jsx)(uf,{})})]})]}),(0,ke.jsx)(kn,{variant:"h3",component:"h1",sx:{fontWeight:700,fontSize:{xs:"1.75rem",sm:"2.5rem",md:"3rem"},mb:3},children:t.title}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,ke.jsx)(Em,{alt:t.author,src:"/static/images/avatar/1.jpg",sx:{mr:2}}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"subtitle1",sx:{fontWeight:500},children:t.author}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",color:"text.secondary"},children:[(0,ke.jsx)(kn,{variant:"body2",sx:{mr:2},children:t.date}),(0,ke.jsx)(__,{fontSize:"small",sx:{fontSize:"0.8rem",mr:.5}}),(0,ke.jsx)(kn,{variant:"body2",children:t.readTime})]})]})]}),(0,ke.jsx)(Bt,{sx:{mb:4},dangerouslySetInnerHTML:{__html:t.content}}),(0,ke.jsx)(Bt,{sx:{display:"flex",flexWrap:"wrap",gap:1,mb:3},children:t.tags.map(((e,t)=>(0,ke.jsx)(To,{label:e,variant:"outlined",size:"small",sx:{borderRadius:1}},t)))}),(0,ke.jsx)(jo,{sx:{my:4}}),(0,ke.jsxs)(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsxs)(Ii,{startIcon:(0,ke.jsx)(lf,{}),sx:{mr:2},children:[t.likes," Likes"]}),(0,ke.jsxs)(Ii,{startIcon:(0,ke.jsx)(cf,{}),children:[t.comments," Comments"]})]}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(th,{onClick:u,children:(0,ke.jsx)(uf,{})}),(0,ke.jsx)(th,{onClick:d,children:s?(0,ke.jsx)(yh,{color:"primary"}):(0,ke.jsx)(wh,{})})]})]})]})]}),(0,ke.jsxs)(Bt,{sx:{mt:8,mb:4},children:[(0,ke.jsx)(kn,{variant:"h4",component:"h2",sx:{mb:4,fontWeight:700},children:"Related Articles"}),(0,ke.jsx)(Vi,{container:!0,spacing:3,children:l.map((e=>(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,md:4,children:(0,ke.jsx)($i,{elevation:2,sx:{overflow:"hidden",height:"100%",display:"flex",flexDirection:"column",transition:"transform 0.3s, box-shadow 0.3s","&:hover":{transform:"translateY(-5px)",boxShadow:6},borderRadius:2},children:(0,ke.jsxs)(Bt,{component:rn,to:`/blog/${e.id}`,sx:{textDecoration:"none",color:"inherit",flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,ke.jsx)(Bt,{component:"img",src:e.image,alt:e.title,sx:{width:"100%",height:200,objectFit:"cover"}}),(0,ke.jsxs)(Bt,{sx:{p:3,flexGrow:1,display:"flex",flexDirection:"column"},children:[(0,ke.jsx)(To,{label:e.category,size:"small",sx:{alignSelf:"flex-start",mb:2}}),(0,ke.jsx)(kn,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:e.title}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",sx:{mt:"auto"},children:e.date})]})]})})},e.id)))})]})]})]})},A_=vo((0,ke.jsx)("path",{d:"M13 11.33 18 18H6l5-6.67V6h2m2.96-2H8.04c-.42 0-.65.48-.39.81L9 6.5v4.17L3.2 18.4c-.49.66-.02 1.6.8 1.6h16c.82 0 1.29-.94.8-1.6L15 10.67V6.5l1.35-1.69c.26-.33.03-.81-.39-.81"}),"ScienceOutlined"),C_=vo((0,ke.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-5 14H7v-2h7zm3-4H7v-2h10zm0-4H7V7h10z"}),"Article"),S_=vo((0,ke.jsx)("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61M13 14h-2V8h2z"}),"Timer"),I_=vo((0,ke.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),T_=()=>{const[e,t]=(0,i.useState)(""),[n,o]=(0,i.useState)("All"),[r,s]=(0,i.useState)("All"),[a,l]=(0,i.useState)("All"),[c,d]=(0,i.useState)(0),[u,p]=(0,i.useState)([]),[h,g]=(0,i.useState)(1),[m,f]=(0,i.useState)(!1),[b,y]=(0,i.useState)(!0),[w,v]=(0,i.useState)([]),[k,_]=(0,i.useState)(""),[x,A]=(0,i.useState)(""),[C,S]=(0,i.useState)(!1),[I,T]=(0,i.useState)(!1),E=[{name:"All",icon:(0,ke.jsx)(fc,{})},{name:"Verification",icon:(0,ke.jsx)(A_,{})},{name:"FPGA Design",icon:(0,ke.jsx)(yw,{})},{name:"Computer Architecture",icon:(0,ke.jsx)(yw,{})},{name:"Machine Learning Hardware",icon:(0,ke.jsx)(of,{})},{name:"Hardware Security",icon:(0,ke.jsx)(C_,{})},{name:"Low Power Design",icon:(0,ke.jsx)(of,{})},{name:"RISC-V",icon:(0,ke.jsx)(qo,{})}],D=(E.map((e=>e.name)),[{id:1,title:"Enhancing UVM Testbench Reusability, Readability and Maintainability through Object-Oriented-Programming Concepts",authors:"S. Logesh, V. Anand, P. Samuel",abstract:"Universal Verification Methodology (UVM) standardizes the verification process by providing a predefined class structure, methods and a run-flow mechanism. As UVM has grown into a complex verification methodology over the years, for achieving improved performance and enhanced features, the verification engineer faces increased complexity in debugging, test case development for complex verification scenarios and the maintenance of testbenches.",source:"IEEE",publishDate:"2021-12-21",category:"Verification",tags:["UVM","Verification","SystemVerilog"],link:"https://dvcon-proceedings.org/wp-content/uploads/1050-Strategies-to-Maximize-Reusability-of-UVM-Test-Scenarios-in-SoC-Verification.pdf",citations:14,image:"https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",featured:!0},{id:2,title:"A Survey on Hardware Trojan Detection Techniques",authors:"Syed Kamran Haider, Chenglu Jin, Masab Ahmad, Devu Manikantan Shila, Omer Khan, Marten van Dijk",abstract:"Hardware Trojans (HTs) are malicious modifications made to integrated circuits (ICs) with the intent to harm the end-user or obtain secret information. In this survey, we present a comprehensive classification and analysis of HT detection techniques.",source:"IEEE",publishDate:"2021-09-01",category:"Hardware Security",tags:["Hardware Security","Hardware Trojans","IC Security"],link:"https://r.search.yahoo.com/_ylt=Awr1QPLAaPJn8QEAz127HAx.;_ylu=Y29sbwNzZzMEcG9zAzEEdnRpZAMEc2VjA3Ny/RV=2/RE=1745149376/RO=10/RU=https%3a%2f%2fieeexplore.ieee.org%2fdocument%2f7169073/RK=2/RS=2ldod.TrFz4eY1zbz2dwaDOLEv0-",citations:31,image:"https://images.unsplash.com/photo-1518770660439-4636190af475?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",featured:!1},{id:3,title:"Coverage-Based Verification of System Verilog Assertions",authors:"G.C. Pradeep, B.J. LaMeres",abstract:"This paper presents a framework for coverage-based verification of SystemVerilog assertions (SVA). The methodology leverages coverage-driven verification to ensure the completeness of assertion-based verification. The paper defines coverage metrics specific to SVA and discusses how to integrate them with traditional code and functional coverage.",source:"Springer",publishDate:"2021-07-15",category:"Verification",tags:["Formal Verification","Static Verification","SystemVerilog"],link:"https://r.search.yahoo.com/_ylt=AwrPrxjcaPJnxAIAP3W7HAx.;_ylu=Y29sbwNzZzMEcG9zAzEEdnRpZAMEc2VjA3Ny/RV=2/RE=1745149405/RO=10/RU=https%3a%2f%2flink.springer.com%2fbook%2f10.1007%2f978-1-4614-7324-4/RK=2/RS=2rI0vYpubLyAoA9Sod8XrN5q_RM-",citations:12,image:"https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2069&q=80",featured:!0},{id:4,title:"Machine Learning Accelerators for RISC-V: A Systematic Review",authors:"J. Patel, R. Jordans, H. Corporaal",abstract:"This paper provides a systematic review of machine learning accelerators for the RISC-V architecture. We analyze recent publications and trends in developing dedicated hardware for machine learning applications based on the open RISC-V instruction set architecture.",source:"IEEE",publishDate:"2022-05-20",category:"Machine Learning Hardware",tags:["RISC-V","Machine Learning","Hardware Accelerators"],link:"https://r.search.yahoo.com/_ylt=AwrKB1LsaPJnDwIAT5y7HAx.;_ylu=Y29sbwNzZzMEcG9zAzEEdnRpZAMEc2VjA3Ny/RV=2/RE=1745149421/RO=10/RU=https%3a%2f%2farxiv.org%2fabs%2f2107.07169/RK=2/RS=ZFoOKL59CiTppo0GOzi3Bl7J88c-",citations:19,image:"https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2065&q=80",featured:!0},{id:5,title:"Formal Verification of RISC-V Processors",authors:"Y.-C. Chen, C. Mendis, M. Carbin, S. Amarasinghe",abstract:"This paper presents a methodology for formal verification of RISC-V processors. We introduce techniques for verifying the correctness of instruction execution and memory operations in RISC-V implementations. Our approach builds on established formal methods and applies them specifically to the RISC-V architecture.",source:"ACM",publishDate:"2022-03-12",category:"Verification",tags:["Formal Verification","RISC-V","Processors"],link:"https://r.search.yahoo.com/_ylt=Awr1UY4ps_JnXwIA3we7HAx.;_ylu=Y29sbwNzZzMEcG9zAzEEdnRpZAMEc2VjA3Ny/RV=2/RE=1745168425/RO=10/RU=https%3a%2f%2fdl.acm.org%2fdoi%2fabs%2f10.1007%2f978-981-96-0602-3_8/RK=2/RS=RPQBfyQShi30Q6o74wy7anqdcE8-",citations:25,image:"https://images.unsplash.com/photo-1580927752452-89d86da3fa0a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",featured:!1},{id:6,title:"A Survey of FPGA-Based Neural Network Inference Accelerator",authors:"K. Guo, S. Zeng, J. Yu, Y. Wang, H. Yang",abstract:"Deep neural networks (DNNs) have achieved significant accuracy improvement in many machine learning and computer vision applications. However, deploying DNNs in real applications faces tremendous challenges due to their high computational complexity and resource consumption. To address these issues, hardware accelerations of DNN, especially FPGA-based neural network inference accelerator, attract much research attention.",source:"ACM",publishDate:"2019-12-18",category:"FPGA Design",tags:["FPGA","Neural Networks","Accelerators","Machine Learning"],link:"https://r.search.yahoo.com/_ylt=AwrKGAM.s_JnnQIAB6i7HAx.;_ylu=Y29sbwNzZzMEcG9zAzEEdnRpZAMEc2VjA3Ny/RV=2/RE=1745168446/RO=10/RU=https%3a%2f%2fdl.acm.org%2fdoi%2f10.1145%2f3289185/RK=2/RS=UUenq16d6o0Ojx9Bi9KgbNI_zKs-",citations:465,image:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",featured:!0},{id:7,title:"Security Assessment of PUF-Based Authentication in FPGA Implementation",authors:"P. Gu, J. Li, D. Zhang, Z. Zhang, F. Gao",abstract:"Physical unclonable function (PUF) is considered an efficient hardware fingerprint solution for low-cost security applications. However, vulnerabilities of PUF-based authentication in practical hardware implementations deserve more attention. In this paper, we present a comprehensive security analysis of the strong PUF-based authentication in field-programmable gate arrays (FPGAs).",source:"IEEE",publishDate:"2021-03-25",category:"Hardware Security",tags:["FPGA","PUF","Hardware Security","Authentication"],link:"https://r.search.yahoo.com/_ylt=AwrKD3lYs_JnYwIAD327HAx.;_ylu=Y29sbwNzZzMEcG9zAzEEdnRpZAMEc2VjA3Ny/RV=2/RE=1745168473/RO=10/RU=https%3a%2f%2fieeexplore.ieee.org%2fdocument%2f8397339/RK=2/RS=GBnUwK7Fmhvw9.ptI0RYKUPE1_4-",citations:37,image:"https://images.unsplash.com/photo-1563770660941-bdc9d6cf3999?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",featured:!0},{id:8,title:"An Ultra-Low-Power Always-On Keyword Spotting Accelerator Using Quantized Convolutional Neural Networks and Frequency Domain Processing",authors:"Y. Zhang, N. Suda, L. Lai, V. Chandra",abstract:"This paper presents an ultra-low-power always-on keyword spotting (KWS) accelerator. The proposed system utilizes quantized convolutional neural networks (CNNs) and frequency domain processing to achieve power consumption below 100 \u03bcW while maintaining high accuracy for multiple keyword detection.",source:"IEEE",publishDate:"2021-05-10",category:"Low Power Design",tags:["IoT","Low Power","Audio Processing"],link:"https://r.search.yahoo.com/_ylt=Awr1UY5ns_JnXwIAd7.7HAx.;_ylu=Y29sbwNzZzMEcG9zAzEEdnRpZAMEc2VjA3Ny/RV=2/RE=1745168488/RO=10/RU=https%3a%2f%2fieeexplore.ieee.org%2fdocument%2f8936893/RK=2/RS=myoVMQLjWa2mREJgKdzkXaC8Yjc-",citations:26,image:"https://images.unsplash.com/photo-1494251268900-9273173b8f2e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",featured:!1},{id:9,title:"Hardware-Based Security for FPGA Intellectual Property Protection",authors:"M. Fyrbiak, S. Wallat, C. Paar",abstract:"Field Programmable Gate Arrays (FPGAs) are widely deployed in many applications domains, ranging from aerospace and military to consumer and automotive products. Protecting intellectual property and preventing attacks like malicious manipulations of a design, reverse engineering, or cloning is a major concern for FPGA design houses and IP core providers.",source:"Springer",publishDate:"2020-07-04",category:"Hardware Security",tags:["FPGA","Security","Intellectual Property","Hardware Protection"],link:"https://r.search.yahoo.com/_ylt=Awr1UY52s_JnLQIAR0q7HAx.;_ylu=Y29sbwNzZzMEcG9zAzEEdnRpZAMEc2VjA3Ny/RV=2/RE=1745168502/RO=10/RU=https%3a%2f%2flink.springer.com%2fchapter%2f10.1007%2f978-3-030-79701-0_4/RK=2/RS=Ot8NnFUlwXSfK9ohPl9S3_HW8wQ-",citations:32,image:"https://images.unsplash.com/photo-1542831371-29b0f74f9713?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",featured:!0},{id:10,title:"GAP8: A RISC-V SoC for AI at the Edge of the IoT",authors:"E. Flamand, D. Rossi, F. Conti, I. Loi, A. Pullini, F. Rotenberg, L. Benini",abstract:"The IoT edge requires sensors data to be processed close to the sensor interface. Deep Learning has revolutionized data analytics in several application domains, including computer vision, speech recognition, and natural language processing, achieving near- or super-human performance. We present GAP8, a RISC-V multi-core System-on-Chip augmented with an integrated neural engine for cost-effective computation of CNNS at the very edge of the IoT.",source:"IEEE",publishDate:"2018-04-30",category:"Computer Architecture",tags:["RISC-V","IoT","Deep Learning","Edge Computing"],link:"https://r.search.yahoo.com/_ylt=AwrKD3mMs_JnVgIAt967HAx.;_ylu=Y29sbwNzZzMEcG9zAzEEdnRpZAMEc2VjA3Ny/RV=2/RE=1745168525/RO=10/RU=https%3a%2f%2fieeexplore.ieee.org%2fdocument%2f8445101/RK=2/RS=gF6v2TCJDkc1RjwpkeN7tG_uu0Y-",citations:282,image:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2034&q=80",featured:!0},{id:11,title:"5G Testbed for Optical and Radio Access Network Integration",authors:"A. Tzanakaki, M. Anastasopoulos, D. Simeonidou",abstract:"This paper presents an experimental demonstration of a 5G converged optical-wireless network architecture. The proposed architecture integrates heterogeneous radio access with optical network infrastructure, adopting Network Function Virtualization (NFV) and Mobile Edge Computing (MEC) to support various 5G services.",source:"IEEE",publishDate:"2020-06-15",category:"Computer Architecture",tags:["5G","Network Architecture","Software Defined Networks"],link:"https://research-information.bris.ac.uk/ws/portalfiles/portal/201450748/Full_text_PDF_accepted_author_manuscript_.pdf",citations:35,image:"https://images.unsplash.com/photo-1533709752211-118fcaf03312?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",featured:!1},{id:12,title:"STONNE: Enabling Cycle-Level Microarchitectural Simulation for DNN Inference Accelerators",authors:"F. Mu\xf1oz-Mart\xednez, J. L. Abell\xe1n, M. E. Acacio, T. Krishna",abstract:"Deep Neural Networks (DNNs) have seen a tremendous surge in popularity in recent years. This has led to several innovations in hardware accelerators to improve the performance and energy-efficiency of DNN computations. Alongside, researchers have started innovating in new dataflows to better map DNN computations to the accelerator microarchitecture.",source:"IEEE",publishDate:"2021-05-13",category:"Machine Learning Hardware",tags:["DNN","Hardware Accelerators","Microarchitecture","Simulation"],link:"https://r.search.yahoo.com/_ylt=Awr1QPKys_JnCwIAd0K7HAx.;_ylu=Y29sbwNzZzMEcG9zAzEEdnRpZAMEc2VjA3Ny/RV=2/RE=1745168562/RO=10/RU=https%3a%2f%2fieeexplore.ieee.org%2fdocument%2f9668279/RK=2/RS=gF8bbRNeBDl1ZY9IA2Gk8sXQN2w-",citations:48,image:"https://images.unsplash.com/photo-1538222586-5668c66c968a?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2033&q=80",featured:!0},{id:13,title:"Automated Design Space Exploration for FPGA-Based Accelerators",authors:"J. Peltenburg, J. van Straten, Z. Al-Ars, P. Hofstee",abstract:"This paper presents a methodology for automated design space exploration for FPGA-based accelerators. We propose a framework that systematically explores the design parameters to optimize accelerator performance according to specific metrics. The approach integrates with high-level synthesis tools to automate the evaluation of different design points.",source:"IEEE",publishDate:"2020-09-10",category:"FPGA Design",tags:["FPGA","Design Space Exploration","Hardware Accelerators","HLS"],link:"https://r.search.yahoo.com/_ylt=AwrPrxjFs_JnxAIANyO7HAx.;_ylu=Y29sbwNzZzMEcG9zAzEEdnRpZAMEc2VjA3Ny/RV=2/RE=1745168582/RO=10/RU=https%3a%2f%2fdl.acm.org%2fdoi%2f10.1016%2fj.sysarc.2024.103260/RK=2/RS=BPmaktYobcO0F3fv2852Umwckf0-",citations:28,image:"https://images.unsplash.com/photo-1516110833967-0b5716ca1387?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2074&q=80",featured:!1},{id:14,title:"Neuromorphic Computing Using Non-Volatile Memory",authors:"G. W. Burr, R. M. Shelby, A. Sebastian, S. Kim, S. Kim, S. Sidler, K. Virwani, M. Ishii, P. Narayanan, A. Fumarola",abstract:"Computation-in-memory based on crossbar arrays of non-volatile memory (NVM) devices can potentially accelerate the training of deep neural networks (DNN). We review recent progress in the use of NVM devices for implementing both spiking and deep neural networks, with a focus on our work at IBM on using phase-change memory (PCM) synapses for training fully-connected layers within a DNN.",source:"IEEE",publishDate:"2017-03-06",category:"Computer Architecture",tags:["Neuromorphic Computing","Non-Volatile Memory","Neural Networks"],link:"https://r.search.yahoo.com/_ylt=AwrPrxjTs_JnxAIAZxu7HAx.;_ylu=Y29sbwNzZzMEcG9zAzEEdnRpZAMEc2VjA3Ny/RV=2/RE=1745168596/RO=10/RU=https%3a%2f%2fwww.tandfonline.com%2fdoi%2ffull%2f10.1080%2f23746149.2016.1259585/RK=2/RS=J8YteKZt3yqUqMdA2sCjNxaPfsU-",citations:683,image:"https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",featured:!0},{id:15,title:"Side-Channel Analysis of Lattice-Based Post-Quantum Cryptography",authors:"S. Picek, B. Mazumdar, D. Dinu, S. S. Roy, A. Barenghi",abstract:"This paper evaluates the security of lattice-based post-quantum cryptographic schemes against side-channel attacks. We analyze the vulnerabilities of Ring-LWE and NTRU-based schemes that have been submitted to the NIST post-quantum cryptography standardization process. Our work demonstrates potential side-channel vulnerabilities and suggests countermeasures.",source:"ACM",publishDate:"2020-05-11",category:"Hardware Security",tags:["Post-Quantum Cryptography","Side-Channel Attacks","Security"],link:"https://eprint.iacr.org/2022/474",citations:54,image:"https://images.unsplash.com/photo-1616763355548-1b606f439f86?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80",featured:!1}]);(0,i.useEffect)((()=>{y(!0);const t=setTimeout((()=>{const t=(()=>{let t=[...D];if(e){const n=e.toLowerCase();t=t.filter((e=>e.title.toLowerCase().includes(n)||e.abstract.toLowerCase().includes(n)||e.authors.toLowerCase().includes(n)||e.tags.some((e=>e.toLowerCase().includes(n)))))}return"All"!==n&&(t=t.filter((e=>e.category===n))),"All"!==r&&(t=t.filter((e=>e.source===r))),1===c?t.sort(((e,t)=>t.citations-e.citations)):2===c?t=t.filter((e=>e.featured)):3===c&&(t=t.filter((e=>u.includes(e.id)))),t})();v(t),y(!1)}),800);return()=>clearTimeout(t)}),[e,n,r,a,c,u]);const M=6*h,P=M-6,R=w.slice(P,M),B=Math.ceil(w.length/6),j=e=>{switch(e){case"IEEE":return"badge-ieee";case"Springer":return"badge-springer";case"ACM":return"badge-acm";case"arXiv":return"badge-arxiv";case"Elsevier":return"badge-elsevier";default:return""}},L=e=>{switch(e){case"IEEE":return"/ieee.png";case"Springer":return"/SPRINGER.png";case"ACM":return"/ACM.png";default:return"/OTHER.png"}};return(0,ke.jsxs)(Bt,{className:"research-page",children:[(0,ke.jsxs)(Bt,{className:"research-hero",children:[(0,ke.jsx)(sm,{maxWidth:"lg",children:(0,ke.jsxs)(Vi,{container:!0,spacing:3,alignItems:"center",children:[(0,ke.jsx)(Vi,{item:!0,xs:12,md:7,children:(0,ke.jsxs)(Bt,{sx:{position:"relative",zIndex:2},children:[(0,ke.jsx)(Bt,{sx:{position:"absolute",top:-15,right:{xs:-15,md:20},opacity:.15,transform:"rotate(15deg)",display:{xs:"none",md:"block"}},children:(0,ke.jsx)(A_,{sx:{fontSize:120,color:"white"}})}),(0,ke.jsx)(Bt,{sx:{position:"absolute",bottom:-30,left:{xs:-15,md:50},opacity:.15,transform:"rotate(-10deg)",display:{xs:"none",md:"block"}},children:(0,ke.jsx)(C_,{sx:{fontSize:100,color:"white"}})}),(0,ke.jsxs)(kn,{variant:"overline",sx:{fontSize:"1rem",fontWeight:500,letterSpacing:2,opacity:.9,mb:1,display:"flex",alignItems:"center",gap:1},children:[(0,ke.jsx)(Vo,{fontSize:"small"})," ACADEMIC RESEARCH"]}),(0,ke.jsx)(kn,{variant:"h2",component:"h1",sx:{fontWeight:800,fontSize:{xs:"2.5rem",md:"3.5rem"},mb:2,lineHeight:1.2,background:"linear-gradient(90deg, #ffffff 0%, #e1bee7 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Research Papers"}),(0,ke.jsx)(kn,{variant:"h6",sx:{fontWeight:400,opacity:.9,maxWidth:"700px",mb:4},children:"Explore cutting-edge academic research in VLSI design, verification, FPGA development and computer architecture from top institutions around the world."})]})}),(0,ke.jsx)(Vi,{item:!0,xs:12,md:5,sx:{display:{xs:"none",md:"block"}},children:(0,ke.jsx)(Bt,{component:"img",src:"/images/research-hero.png",alt:"Research papers",sx:{width:"100%",maxWidth:"450px",filter:"drop-shadow(0 10px 20px rgba(0,0,0,0.2))",transform:"translateY(20px)"},onError:e=>{e.target.onerror=null,e.target.style.display="none"}})})]})}),(0,ke.jsx)(Bt,{className:"wave-shape",children:(0,ke.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:(0,ke.jsx)("path",{d:"M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"})})})]}),(0,ke.jsxs)(sm,{maxWidth:"lg",sx:{py:6},id:"research-section",className:"research-section",children:[(0,ke.jsx)(Bt,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",mb:4},children:(0,ke.jsxs)(Kd,{value:c,onChange:(e,t)=>{d(t)},sx:{"& .MuiTabs-indicator":{height:3,borderRadius:3},"& .MuiTab-root":{textTransform:"none",fontSize:"1rem",fontWeight:600,minWidth:{xs:"auto",sm:120}}},children:[(0,ke.jsx)(Jd,{label:"All Papers"}),(0,ke.jsx)(Jd,{label:"Trending"}),(0,ke.jsx)(Jd,{label:"Featured"}),(0,ke.jsx)(Jd,{label:(0,ke.jsx)(ym,{badgeContent:u.length||0,color:"secondary",sx:{"& .MuiBadge-badge":{fontWeight:"bold",fontSize:"0.7rem"}},children:"Bookmarked"})})]})}),(0,ke.jsx)($i,{elevation:2,className:"research-filters",sx:{p:3,mb:4,borderRadius:3,backgroundColor:"white",boxShadow:"0 4px 20px rgba(0,0,0,0.05)"},children:(0,ke.jsx)(Bt,{sx:{position:"relative",zIndex:1},children:(0,ke.jsxs)(Vi,{container:!0,spacing:3,children:[(0,ke.jsx)(Vi,{item:!0,xs:12,md:6,children:(0,ke.jsx)(Pl,{fullWidth:!0,placeholder:"Search by title, author, or keywords...",variant:"outlined",value:e,onChange:e=>t(e.target.value),InputProps:{startAdornment:(0,ke.jsx)(Ol,{position:"start",children:(0,ke.jsx)(mc,{color:"primary"})}),sx:{borderRadius:2,pr:1}}})}),(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,md:3,children:(0,ke.jsx)(Pl,{select:!0,fullWidth:!0,label:"Source",value:r,onChange:e=>s(e.target.value),children:["All","IEEE","Springer","ACM","arXiv","Elsevier"].map((e=>(0,ke.jsx)(Gl,{value:e,children:e},e)))})}),(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,md:3,children:(0,ke.jsx)(Pl,{select:!0,fullWidth:!0,label:"Publication Date",value:a,onChange:e=>l(e.target.value),children:["All","Last Week","Last Month","Last 3 Months","Last Year","Last 5 Years"].map((e=>(0,ke.jsx)(Gl,{value:e,children:e},e)))})})]})})}),(0,ke.jsx)($i,{elevation:3,sx:{p:2,mb:4,borderRadius:3,backgroundColor:"white",boxShadow:"0 4px 15px rgba(0,0,0,0.05)",overflowX:"auto","&::-webkit-scrollbar":{height:"6px"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"6px"}},className:"category-filter-container",children:(0,ke.jsx)(Bt,{sx:{display:"flex",gap:1.5,py:.5,minWidth:"max-content"},children:E.map((e=>(0,ke.jsx)(To,{label:e.name,icon:e.icon,onClick:()=>o(e.name),color:n===e.name?"primary":"default",variant:n===e.name?"filled":"outlined",className:"category-chip "+(n===e.name?"active":""),sx:{fontSize:"0.875rem",py:2.5,fontWeight:n===e.name?600:400,transition:"all 0.2s ease","&:hover":{transform:"translateY(-2px)",boxShadow:"0 4px 8px rgba(0,0,0,0.1)"},boxShadow:n===e.name?"0 4px 8px rgba(0,0,0,0.15)":"none",borderWidth:"1.5px",borderColor:n===e.name?"primary.main":"rgba(0,0,0,0.1)"}},e.name)))})}),(0,ke.jsxs)(Bt,{className:"tag-cloud",sx:{mb:4},children:[(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",sx:{mr:2,pt:.5},children:"Popular Topics:"}),["UVM","RISC-V","FPGA","SystemVerilog","Verification","Low Power","Machine Learning","EDA Tools","RTL Design","Formal Verification","Power Analysis","Hardware Security"].map((e=>(0,ke.jsx)(Bt,{className:"tag-item",onClick:()=>{t(e),window.scrollTo({top:0,behavior:"smooth"})},children:e},e)))]}),b?(0,ke.jsx)(Bt,{sx:{display:"flex",justifyContent:"center",py:8},children:(0,ke.jsx)(Lp,{size:60,thickness:4})}):(0,ke.jsx)(ke.Fragment,{children:R.length>0?(0,ke.jsx)(Vi,{container:!0,spacing:3,children:R.map((e=>{return(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,md:4,children:(0,ke.jsxs)(Qi,{className:"research-card",elevation:3,sx:{height:"100%",display:"flex",flexDirection:"column",borderRadius:2,transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"translateY(-5px)",boxShadow:"0 10px 20px rgba(0,0,0,0.1)"}},children:[(0,ke.jsxs)(Bt,{sx:{position:"relative"},children:[(0,ke.jsx)(co,{component:"img",height:"180",image:L(e.source),alt:e.title,sx:{objectFit:"contain",backgroundColor:"#f5f5f5",padding:"20px"},onError:e=>{e.target.onerror=null,e.target.src="/OTHER.png"}}),(0,ke.jsx)(Bt,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",bgcolor:"rgba(0,0,0,0.05)",backgroundImage:"linear-gradient(to top, rgba(0,0,0,0.1) 0%, transparent 50%)"}}),(0,ke.jsx)(To,{label:e.source,size:"small",className:`source-badge ${j(e.source)}`,sx:{position:"absolute",top:12,left:12,fontWeight:600,boxShadow:"0 2px 4px rgba(0,0,0,0.2)"}})]}),(0,ke.jsxs)(go,{sx:{flexGrow:1,pt:3,pb:0,px:3},children:[(0,ke.jsx)(kn,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600,lineHeight:1.3},children:e.title}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{mb:2,fontWeight:500,display:"flex",alignItems:"center"},children:e.authors}),(0,ke.jsxs)(kn,{variant:"body2",color:"text.secondary",sx:{mb:2,display:"flex",alignItems:"center",gap:1},children:[(0,ke.jsx)(S_,{fontSize:"small"})," ",(n=e.publishDate,new Date(n).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}))]}),(0,ke.jsx)(kn,{variant:"body2",paragraph:!0,sx:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",mb:1,color:"text.secondary"},children:e.abstract}),(0,ke.jsx)(Bt,{sx:{display:"flex",flexWrap:"wrap",gap:.5,mb:2},children:e.tags.map((e=>(0,ke.jsx)(To,{label:e,size:"small",variant:"outlined",sx:{borderRadius:1,fontSize:"0.75rem"},onClick:()=>t(e)},e)))})]}),(0,ke.jsxs)(Rm,{sx:{p:2,pt:0,px:3},children:[(0,ke.jsx)(Ii,{variant:"contained",color:"primary",size:"small",endIcon:(0,ke.jsx)(I_,{}),href:e.link,target:"_blank",rel:"noopener noreferrer",sx:{textTransform:"none",borderRadius:2,mr:1,flexGrow:1,boxShadow:"none","&:hover":{boxShadow:"0 2px 5px rgba(0,0,0,0.2)"}},children:"Read Paper"}),(0,ke.jsx)(th,{size:"small",color:u.includes(e.id)?"secondary":"default",onClick:()=>{return t=e.id,void p((e=>e.includes(t)?e.filter((e=>e!==t)):[...e,t]));var t},sx:{color:u.includes(e.id)?"secondary.main":"text.secondary"},children:u.includes(e.id)?(0,ke.jsx)(yh,{className:"bookmark-active"}):(0,ke.jsx)(wh,{})}),(0,ke.jsx)(th,{size:"small",onClick:()=>(e=>{navigator.share?navigator.share({title:e.title,text:`Check out this research paper: ${e.title} by ${e.authors}`,url:e.link}).catch((e=>{console.error("Error sharing paper:",e)})):navigator.clipboard.writeText(e.link).then((()=>{alert("Link copied to clipboard!")})).catch((e=>{console.error("Failed to copy link:",e)}))})(e),sx:{color:"text.secondary"},children:(0,ke.jsx)(uf,{})}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",ml:.5},children:[(0,ke.jsx)(Vo,{fontSize:"small",sx:{mr:.5,opacity:.7}}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:e.citations})]})]})]})},e.id);var n}))}):(0,ke.jsxs)($i,{elevation:0,sx:{p:4,textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.02)",borderRadius:3,boxShadow:"none"},children:[(0,ke.jsx)(kn,{variant:"h6",color:"text.secondary",children:"No research papers match your search criteria."}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"Try adjusting your filters or search query."}),(0,ke.jsx)(Ii,{variant:"outlined",color:"primary",sx:{mt:2},onClick:()=>{t(""),o("All"),s("All"),l("All")},children:"Clear Filters"})]})}),w.length>6&&(0,ke.jsx)(Bt,{sx:{display:"flex",justifyContent:"center",mt:5},className:"research-pagination",children:(0,ke.jsx)(gc,{count:B,page:h,onChange:(e,t)=>{g(t),document.querySelector(".research-section").scrollIntoView({behavior:"smooth"})},color:"primary",size:"large",shape:"rounded",showFirstButton:!0,showLastButton:!0})}),(0,ke.jsxs)(Bt,{className:"trending-papers",sx:{mt:8,py:5,px:4,borderRadius:4},children:[(0,ke.jsx)(kn,{variant:"h4",component:"h2",gutterBottom:!0,sx:{fontWeight:700},children:"Trending in Verification"}),(0,ke.jsx)(kn,{variant:"body1",paragraph:!0,sx:{opacity:.8,maxWidth:"800px",mb:4},children:"The most cited verification papers from the past year, showcasing groundbreaking methodologies and technologies."}),(0,ke.jsx)(Vi,{container:!0,spacing:3,children:D.filter((e=>"Verification"===e.category)).sort(((e,t)=>t.citations-e.citations)).slice(0,3).map((e=>(0,ke.jsx)(Vi,{item:!0,xs:12,md:4,children:(0,ke.jsxs)(Bt,{sx:{display:"flex",gap:2},children:[(0,ke.jsx)(of,{sx:{fontSize:"2rem",color:"primary.main",mt:.5,opacity:.8}}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"h6",component:"h3",gutterBottom:!0,sx:{fontWeight:600},children:e.title}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:e.authors}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",gap:1,mt:1},children:[(0,ke.jsxs)(kn,{variant:"body2",sx:{display:"flex",alignItems:"center",mr:2},children:[(0,ke.jsx)(Vo,{fontSize:"small",sx:{mr:.5}})," ",e.citations," citations"]}),(0,ke.jsx)(To,{label:e.source,size:"small",className:`source-badge ${j(e.source)}`})]})]})]})},`trending-${e.id}`)))})]}),(0,ke.jsx)(Bt,{className:"newsletter-section",sx:{mt:8,pb:6},children:(0,ke.jsxs)($i,{elevation:0,sx:{p:4,borderRadius:4,background:"linear-gradient(135deg, #7b1fa2 0%, #6a1b9a 100%)",color:"white",position:"relative",overflow:"hidden"},children:[(0,ke.jsx)(Bt,{sx:{position:"absolute",top:-50,right:-50,opacity:.1},children:(0,ke.jsx)(C_,{sx:{fontSize:200}})}),(0,ke.jsxs)(Vi,{container:!0,spacing:3,alignItems:"center",children:[(0,ke.jsxs)(Vi,{item:!0,xs:12,md:7,children:[(0,ke.jsx)(kn,{variant:"h4",component:"h2",gutterBottom:!0,sx:{fontWeight:700},children:"Stay Updated with Research"}),(0,ke.jsx)(kn,{variant:"body1",paragraph:!0,sx:{opacity:.9,mb:3},children:"Subscribe to our newsletter to receive weekly updates on the latest research papers in your areas of interest."})]}),(0,ke.jsx)(Vi,{item:!0,xs:12,md:5,children:C?(0,ke.jsxs)(Bt,{className:"success-message scale-in",sx:{p:2,borderRadius:2,bgcolor:"rgba(255, 255, 255, 0.15)",display:"flex",alignItems:"center",gap:2},children:[(0,ke.jsx)(Bt,{sx:{width:40,height:40,borderRadius:"50%",bgcolor:"success.main",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ke.jsx)(fh,{})}),(0,ke.jsx)(kn,{variant:"body1",sx:{fontWeight:500},children:"Thank you! Your subscription is confirmed."})]}):(0,ke.jsxs)(Bt,{sx:{display:"flex",flexDirection:"column",gap:1},className:"fade-in",children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",gap:1},children:[(0,ke.jsx)(Pl,{fullWidth:!0,placeholder:"Your email address",variant:"outlined",value:k,onChange:e=>_(e.target.value),error:!!x,helperText:x,FormHelperTextProps:{sx:{color:"rgba(255,255,255,0.7)"}},disabled:I,InputProps:{sx:{bgcolor:"rgba(255, 255, 255, 0.9)",borderRadius:2}}}),(0,ke.jsx)(Ii,{variant:"contained",onClick:()=>{A(""),k?(e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()))(k)?(T(!0),setTimeout((()=>{T(!1),S(!0),_(""),setTimeout((()=>{S(!1)}),5e3)}),1500)):A("Please enter a valid email address"):A("Email is required")},disabled:I,sx:{bgcolor:"white",color:"primary.main","&:hover":{bgcolor:"rgba(255, 255, 255, 0.9)"},borderRadius:2,whiteSpace:"nowrap",minWidth:I?"120px":"auto"},children:I?(0,ke.jsx)(Lp,{size:24,color:"primary"}):"Subscribe"})]}),(0,ke.jsx)(kn,{variant:"body2",sx:{mt:1,opacity:.8},children:"We'll never share your email with anyone else."})]})})]})]})})]}),(0,ke.jsx)("style",{jsx:"true",children:"\n        @keyframes fadeIn {\n          from { opacity: 0; transform: translateY(10px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n      "})]})},E_=vo((0,ke.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),D_=vo((0,ke.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),M_=()=>{const[e,t]=(0,i.useState)({name:"",email:"",subject:"",message:"",inquiry:""}),[n,o]=(0,i.useState)({}),[r,s]=(0,i.useState)({open:!1,message:"",severity:"success"}),a=e=>{const{name:i,value:r}=e.target;t((e=>({...e,[i]:r}))),n[i]&&o((e=>({...e,[i]:""})))},l=()=>{s((e=>({...e,open:!1})))};return(0,ke.jsxs)(Bt,{sx:{py:8,bgcolor:"#f9f9f9"},children:[(0,ke.jsxs)(sm,{maxWidth:"lg",children:[(0,ke.jsxs)(Bt,{sx:{textAlign:"center",mb:6},children:[(0,ke.jsx)(kn,{variant:"h2",component:"h1",sx:{fontWeight:800,mb:2,background:"linear-gradient(45deg, #6a0dad 30%, #9c27b0 90%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Get in Touch"}),(0,ke.jsx)(kn,{variant:"h6",color:"text.secondary",sx:{maxWidth:600,mx:"auto"},children:"Have questions about our platform? Want to collaborate? We're here to help you!"})]}),(0,ke.jsxs)(Vi,{container:!0,spacing:5,children:[(0,ke.jsx)(Vi,{item:!0,xs:12,md:7,children:(0,ke.jsxs)($i,{elevation:3,sx:{p:{xs:3,md:5},borderRadius:3,position:"relative",overflow:"hidden"},children:[(0,ke.jsx)(Bt,{sx:{position:"absolute",top:0,right:0,width:"150px",height:"150px",background:"linear-gradient(45deg, transparent 50%, rgba(106, 13, 173, 0.05) 50%)",zIndex:0}}),(0,ke.jsx)(kn,{variant:"h4",component:"h2",gutterBottom:!0,sx:{fontWeight:700,position:"relative",zIndex:1},children:"Send us a Message"}),(0,ke.jsx)(kn,{variant:"body1",paragraph:!0,sx:{mb:4,color:"text.secondary",position:"relative",zIndex:1},children:"Fill out the form below and we'll get back to you as soon as possible."}),(0,ke.jsx)(Bt,{component:"form",onSubmit:n=>{n.preventDefault(),(()=>{const t={};return e.name.trim()||(t.name="Name is required"),e.email.trim()?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.subject.trim()||(t.subject="Subject is required"),e.message.trim()?e.message.trim().length<10&&(t.message="Message must be at least 10 characters"):t.message="Message is required",e.inquiry||(t.inquiry="Please select an inquiry type"),o(t),0===Object.keys(t).length})()?(console.log("Form submitted:",e),s({open:!0,message:"Your message has been sent! We will get back to you soon.",severity:"success"}),t({name:"",email:"",subject:"",message:"",inquiry:""})):s({open:!0,message:"Please correct the errors in the form.",severity:"error"})},sx:{position:"relative",zIndex:1},children:(0,ke.jsxs)(Vi,{container:!0,spacing:3,children:[(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,children:(0,ke.jsx)(Pl,{fullWidth:!0,label:"Your Name",name:"name",value:e.name,onChange:a,error:!!n.name,helperText:n.name,required:!0})}),(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,children:(0,ke.jsx)(Pl,{fullWidth:!0,label:"Email Address",name:"email",type:"email",value:e.email,onChange:a,error:!!n.email,helperText:n.email,required:!0})}),(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,children:(0,ke.jsx)(Pl,{fullWidth:!0,label:"Subject",name:"subject",value:e.subject,onChange:a,error:!!n.subject,helperText:n.subject,required:!0})}),(0,ke.jsx)(Vi,{item:!0,xs:12,sm:6,children:(0,ke.jsxs)(ls,{fullWidth:!0,error:!!n.inquiry,required:!0,children:[(0,ke.jsx)(is,{children:"Inquiry Type"}),(0,ke.jsx)(Il,{name:"inquiry",value:e.inquiry,label:"Inquiry Type",onChange:a,children:["General Inquiry","Technical Support","Feedback","Partnership","Career Inquiry","Other"].map((e=>(0,ke.jsx)(Gl,{value:e,children:e},e)))}),n.inquiry&&(0,ke.jsx)(gs,{children:n.inquiry})]})}),(0,ke.jsx)(Vi,{item:!0,xs:12,children:(0,ke.jsx)(Pl,{fullWidth:!0,label:"Your Message",name:"message",multiline:!0,rows:6,value:e.message,onChange:a,error:!!n.message,helperText:n.message,required:!0})}),(0,ke.jsx)(Vi,{item:!0,xs:12,children:(0,ke.jsx)(Ii,{type:"submit",variant:"contained",color:"primary",size:"large",endIcon:(0,ke.jsx)(hf,{}),sx:{py:1.5,px:4,borderRadius:2,textTransform:"none",fontWeight:600},children:"Send Message"})})]})})]})}),(0,ke.jsx)(Vi,{item:!0,xs:12,md:5,children:(0,ke.jsxs)(Bt,{children:[(0,ke.jsxs)($i,{elevation:3,sx:{p:{xs:3,md:4},mb:4,borderRadius:3,background:"linear-gradient(135deg, #6a0dad 0%, #9c27b0 100%)",color:"white"},children:[(0,ke.jsx)(kn,{variant:"h4",component:"h2",gutterBottom:!0,sx:{fontWeight:700},children:"Contact Information"}),(0,ke.jsx)(kn,{variant:"body1",paragraph:!0,sx:{mb:4,opacity:.9},children:"You can reach out to us through any of the following channels:"}),(0,ke.jsxs)(Bt,{sx:{display:"flex",flexDirection:"column",gap:3},children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(Bt,{sx:{bgcolor:"rgba(255, 255, 255, 0.15)",borderRadius:"50%",p:1.5,mr:2,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ke.jsx)(Vy,{})}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"body2",sx:{opacity:.8},children:"Email Us"}),(0,ke.jsx)(kn,{variant:"subtitle1",sx:{fontWeight:500},children:"omdaga6@gmail.com"})]})]}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(Bt,{sx:{bgcolor:"rgba(255, 255, 255, 0.15)",borderRadius:"50%",p:1.5,mr:2,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ke.jsx)(E_,{})}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"body2",sx:{opacity:.8},children:"Call Us"}),(0,ke.jsx)(kn,{variant:"subtitle1",sx:{fontWeight:500},children:"+91 8859141410"})]})]}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(Bt,{sx:{bgcolor:"rgba(255, 255, 255, 0.15)",borderRadius:"50%",p:1.5,mr:2,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ke.jsx)(D_,{})}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(kn,{variant:"body2",sx:{opacity:.8},children:"Visit Us"}),(0,ke.jsx)(kn,{variant:"subtitle1",sx:{fontWeight:500},children:"IIT MANDI, HP, India"})]})]})]})]}),(0,ke.jsxs)($i,{elevation:3,sx:{p:{xs:3,md:4},borderRadius:3},children:[(0,ke.jsx)(kn,{variant:"h5",component:"h3",gutterBottom:!0,sx:{fontWeight:700},children:"Business Hours"}),(0,ke.jsx)(jo,{sx:{my:2}}),(0,ke.jsxs)(Vi,{container:!0,spacing:2,children:[(0,ke.jsx)(Vi,{item:!0,xs:6,children:(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"Monday - Friday:"})}),(0,ke.jsx)(Vi,{item:!0,xs:6,children:(0,ke.jsx)(kn,{variant:"body2",sx:{fontWeight:500},children:"9:00 AM - 6:00 PM"})}),(0,ke.jsx)(Vi,{item:!0,xs:6,children:(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"Saturday:"})}),(0,ke.jsx)(Vi,{item:!0,xs:6,children:(0,ke.jsx)(kn,{variant:"body2",sx:{fontWeight:500},children:"10:00 AM - 4:00 PM"})}),(0,ke.jsx)(Vi,{item:!0,xs:6,children:(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"Sunday:"})}),(0,ke.jsx)(Vi,{item:!0,xs:6,children:(0,ke.jsx)(kn,{variant:"body2",sx:{fontWeight:500},children:"Closed"})})]}),(0,ke.jsx)(jo,{sx:{my:2}}),(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"Note: Response times may vary during weekends and holidays."})]})]})})]}),(0,ke.jsxs)(Bt,{sx:{mt:8,textAlign:"center"},children:[(0,ke.jsx)(kn,{variant:"h4",component:"h2",gutterBottom:!0,sx:{fontWeight:700},children:"Frequently Asked Questions"}),(0,ke.jsx)(kn,{variant:"body1",sx:{mb:5,maxWidth:700,mx:"auto",color:"text.secondary"},children:"Can't find the answer you're looking for? Reach out to our customer support team."}),(0,ke.jsx)(Bt,{component:"a",href:"#",sx:{display:"inline-block",textDecoration:"none",color:"primary.main",fontWeight:600,"&:hover":{textDecoration:"underline"}},children:"View All FAQs"})]})]}),(0,ke.jsx)(ap,{open:r.open,autoHideDuration:6e3,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,ke.jsx)(mh,{onClose:l,severity:r.severity,sx:{width:"100%"},children:r.message})})]})},P_=()=>{const[e,t]=(0,i.useState)(""),[n,o]=(0,i.useState)(""),[r,s]=(0,i.useState)([""]),[a,l]=(0,i.useState)(""),[c,d]=(0,i.useState)("IEEE"),[u,p]=(0,i.useState)([""]),[h,g]=(0,i.useState)("IEEE"),[m,f]=(0,i.useState)(""),[b,y]=(0,i.useState)(!1),[w,v]=(0,i.useState)(""),[k,_]=(0,i.useState)("success"),x=()=>{s([...r,""])},A=()=>{p([...u,""])};return(0,ke.jsxs)("div",{className:"max-w-4xl mx-auto p-8 bg-white rounded-lg shadow-lg",children:[(0,ke.jsx)("h2",{className:"text-3xl font-semibold mb-8 text-center",children:"Submit Your Paper"}),(0,ke.jsxs)("form",{onSubmit:async t=>{t.preventDefault();const i={imageUri:e,title:n,authors:r,description:a,paperType:c,whatItCovers:u,source:h,researchPaperLink:m};console.log(i);try{const e=await fetch(`${cw}/api/admin/research-paper-upload`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});await e.json();e.ok?(v("Your paper has been submitted successfully!"),_("success")):(v("Something went wrong. Please try again."),_("error")),y(!0)}catch(o){v("Network error. Please try again."),_("error"),y(!0)}},children:[(0,ke.jsxs)("div",{className:"mb-6",children:[(0,ke.jsx)("label",{htmlFor:"imageUri",className:"block text-lg font-medium text-gray-700",children:"Image URI"}),(0,ke.jsx)("input",{type:"text",id:"imageUri",className:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:e,onChange:e=>t(e.target.value),required:!0})]}),(0,ke.jsxs)("div",{className:"mb-6",children:[(0,ke.jsx)("label",{htmlFor:"title",className:"block text-lg font-medium text-gray-700",children:"Title"}),(0,ke.jsx)("input",{type:"text",id:"title",className:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:n,onChange:e=>o(e.target.value),required:!0})]}),(0,ke.jsxs)("div",{className:"mb-6",children:[(0,ke.jsx)("label",{className:"block text-lg font-medium text-gray-700",children:"Authors"}),r.map(((e,t)=>(0,ke.jsxs)("div",{className:"flex items-center space-x-4 mb-3",children:[(0,ke.jsx)("input",{type:"text",className:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"Enter author name",value:e,onChange:e=>((e,t)=>{const n=[...r];n[e]=t.target.value,s(n)})(t,e)}),(0,ke.jsx)("button",{type:"button",onClick:()=>(e=>{const t=r.filter(((t,n)=>n!==e));s(t)})(t),className:"text-red-500 hover:text-red-700",children:"Delete"}),t===r.length-1&&(0,ke.jsx)("button",{type:"button",onClick:x,className:"text-blue-500 hover:text-blue-700",children:"Add Author"})]},t)))]}),(0,ke.jsxs)("div",{className:"mb-6",children:[(0,ke.jsx)("label",{htmlFor:"description",className:"block text-lg font-medium text-gray-700",children:"Description"}),(0,ke.jsx)("textarea",{id:"description",className:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",rows:"5",value:a,onChange:e=>l(e.target.value),required:!0})]}),(0,ke.jsxs)("div",{className:"mb-6",children:[(0,ke.jsx)("label",{htmlFor:"paperType",className:"block text-lg font-medium text-gray-700",children:"Type of Paper"}),(0,ke.jsxs)("select",{id:"paperType",className:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:c,onChange:e=>d(e.target.value),required:!0,children:[(0,ke.jsx)("option",{value:"IEEE",children:"IEEE"}),(0,ke.jsx)("option",{value:"ACM",children:"ACM"}),(0,ke.jsx)("option",{value:"SPRINGER",children:"SPRINGER"}),(0,ke.jsx)("option",{value:"arXiv",children:"arXiv"}),(0,ke.jsx)("option",{value:"Elsevier",children:"Elsevier"})]})]}),(0,ke.jsxs)("div",{className:"mb-6",children:[(0,ke.jsx)("label",{className:"block text-lg font-medium text-gray-700",children:"What it covers"}),u.map(((e,t)=>(0,ke.jsxs)("div",{className:"flex items-center space-x-4 mb-3",children:[(0,ke.jsx)("input",{type:"text",className:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",placeholder:"What does this paper cover?",value:e,onChange:e=>((e,t)=>{const n=[...u];n[e]=t.target.value,p(n)})(t,e)}),(0,ke.jsx)("button",{type:"button",onClick:()=>(e=>{const t=u.filter(((t,n)=>n!==e));p(t)})(t),className:"text-red-500 hover:text-red-700",children:"Delete"}),t===u.length-1&&(0,ke.jsx)("button",{type:"button",onClick:A,className:"text-blue-500 hover:text-blue-700",children:"Add What it Covers"})]},t)))]}),(0,ke.jsxs)("div",{className:"mb-6",children:[(0,ke.jsx)("label",{htmlFor:"researchPaperLink",className:"block text-lg font-medium text-gray-700",children:"Research Paper Link"}),(0,ke.jsx)("input",{type:"url",id:"researchPaperLink",className:"mt-2 block w-full px-4 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",value:m,onChange:e=>f(e.target.value),required:!0})]}),(0,ke.jsx)("div",{className:"mt-6",children:(0,ke.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 px-6 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Submit Paper"})})]}),b&&(0,ke.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 z-50",children:(0,ke.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg max-w-lg w-full",children:[(0,ke.jsx)("h3",{className:"text-xl font-semibold mb-4 "+("success"===k?"text-green-600":"text-red-600"),children:"success"===k?"Success":"Error"}),(0,ke.jsx)("p",{children:w}),(0,ke.jsx)("button",{onClick:()=>{y(!1)},className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-700",children:"Close"})]})})]})};function R_(e){return Et("MuiAppBar",e)}Dt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const B_=["className","color","enableColorOnDark","position"],j_=(e,t)=>e?`${null==e?void 0:e.replace(")","")}, ${t})`:t,L_=hn($i,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`position${mn(n.position)}`],t[`color${mn(n.color)}`]]}})((e=>{let{theme:t,ownerState:n}=e;const i="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,we.A)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,we.A)({},"default"===n.color&&{backgroundColor:i,color:t.palette.getContrastText(i)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,we.A)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,we.A)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:j_(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:j_(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:j_(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:j_(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},!["inherit","transparent"].includes(n.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),z_=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:r=!1,position:s="fixed"}=n,a=(0,Re.A)(n,B_),l=(0,we.A)({},n,{color:o,position:s,enableColorOnDark:r}),c=(e=>{const{color:t,position:n,classes:i}=e;return cn({root:["root",`color${mn(t)}`,`position${mn(n)}`]},R_,i)})(l);return(0,ke.jsx)(L_,(0,we.A)({square:!0,component:"header",ownerState:l,elevation:4,className:_t(c.root,i,"fixed"===s&&"mui-fixed"),ref:t},a))}));function O_(e){return Et("MuiToolbar",e)}Dt("MuiToolbar",["root","gutters","regular","dense"]);const N_=["className","component","disableGutters","variant"],F_=hn("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((e=>{let{theme:t,ownerState:n}=e;return(0,we.A)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},"dense"===n.variant&&{minHeight:48})}),(e=>{let{theme:t,ownerState:n}=e;return"regular"===n.variant&&t.mixins.toolbar})),V_=i.forwardRef((function(e,t){const n=Ce({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:r=!1,variant:s="regular"}=n,a=(0,Re.A)(n,N_),l=(0,we.A)({},n,{component:o,disableGutters:r,variant:s}),c=(e=>{const{classes:t,disableGutters:n,variant:i}=e;return cn({root:["root",!n&&"gutters",i]},O_,t)})(l);return(0,ke.jsx)(F_,(0,we.A)({as:o,className:_t(c.root,i),ref:t,ownerState:l},a))})),H_=vo((0,ke.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),W_=vo((0,ke.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),U_=vo((0,ke.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2"}),"ExitToApp"),q_=vo((0,ke.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),$_=vo((0,ke.jsx)("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2m6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1z"}),"Notifications");function G_(){const[e,t]=(0,i.useState)(""),[n,o]=(0,i.useState)(!1),r=e=>{const t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",document.body.appendChild(t),t.focus(),t.select();try{const e=document.execCommand("copy");alert(e?"Link copied!":"Failed to copy!")}catch(n){alert("Copy failed")}document.body.removeChild(t)};return(0,ke.jsxs)("div",{className:"inline-block",children:[(0,ke.jsx)("input",{type:"file",id:"fileInput",className:"hidden",onChange:async e=>{const n=e.target.files[0];if(!n)return;const i=new FormData;i.append("file",n);try{const e=await fetch(`${cw}/api/admin/upload-file`,{method:"POST",body:i}),n=await e.json();console.log("Signed URL:",n.url),t(n.url),o(!0)}catch(r){console.error("Upload failed:",r)}}}),(0,ke.jsx)("button",{onClick:()=>{document.getElementById("fileInput").click()},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:"Upload File"}),n&&(0,ke.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50",children:(0,ke.jsxs)("div",{className:"bg-white rounded-xl p-6 w-[90%] max-w-md shadow-lg text-center",children:[(0,ke.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Upload Successful \u2705"}),(0,ke.jsx)("p",{className:"text-sm text-gray-600 break-all bg-gray-100 p-2 rounded mb-4",children:e}),(0,ke.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,ke.jsx)("button",{onClick:()=>{navigator.clipboard?navigator.clipboard.writeText(e).then((()=>{alert("Link copied to clipboard!")})).catch((()=>{r(e)})):r(e)},className:"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition",children:"Copy Link"}),(0,ke.jsx)("button",{onClick:()=>o(!1),className:"bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400 transition",children:"Close"})]})]})})]})}const K_=()=>{const e=(0,i.useContext)(Jy),t=Ei(),n=aw(t.breakpoints.down("md")),o=J(),[r,s]=(0,i.useState)("true"===localStorage.getItem("demoUserLoggedIn")),[a,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(null),[u,p]=(0,i.useState)(null),[h,g]=(0,i.useState)(!1),[m,f]=(0,i.useState)(!0),b=[{id:1,text:'Your solution for "Creating a 2-to-1 Multiplexer" was evaluated',unread:!0},{id:2,text:"Jane Smith replied to your forum post",unread:!0},{id:3,text:'New module available: "Sequential Circuits"',unread:!1}],y=()=>{d(null)},w=()=>{p(null)},v=()=>{l(!a)},k=()=>{localStorage.removeItem("VeriGeektoken"),s(!1),y(),o("/")},_=()=>{g(!h)};let x=[{text:"Home",to:"/",icon:(0,ke.jsx)(H_,{})},{text:"Modules",to:"/modules",icon:(0,ke.jsx)(qo,{})},{text:"Code Editor",to:"/workspace",icon:(0,ke.jsx)(Ho,{})},{text:"Forum",to:"/forum",icon:(0,ke.jsx)(Wo,{})},{text:"Resources",to:"/resources",icon:(0,ke.jsx)(yh,{})},{text:"Research",to:"/research",icon:(0,ke.jsx)(qo,{})},{text:"Blog",to:"/blog",icon:(0,ke.jsx)(qo,{})},{text:"Careers",to:"/careers",icon:(0,ke.jsx)(Uo,{})}];const[A,C]=(0,i.useState)([{text:"Home",to:"/",icon:(0,ke.jsx)(H_,{})},{text:"Modules",to:"/modules",icon:(0,ke.jsx)(qo,{})},{text:"Code Editor",to:"/workspace",icon:(0,ke.jsx)(Ho,{})},{text:"Forum",to:"/forum",icon:(0,ke.jsx)(Wo,{})},{text:"Resources",to:"/resources",icon:(0,ke.jsx)(yh,{})},{text:"Research",to:"/research",icon:(0,ke.jsx)(qo,{})},{text:"Blog",to:"/blog",icon:(0,ke.jsx)(qo,{})},{text:"Careers",to:"/careers",icon:(0,ke.jsx)(Uo,{})}]);(0,i.useEffect)((()=>{if(null!=e.user)return e.user.email&&s(!0),"shivam.kumar262200628@gmail.com"==e.user.email&&(f(!0),C([...x,{text:"Add module",to:"/ckeditor",icon:(0,ke.jsx)(Uo,{})},{text:"Add chapter",to:"/ckeditor2",icon:(0,ke.jsx)(Uo,{})},{text:"Upload Research Paper",to:"/allResearchTopics",icon:(0,ke.jsx)(Uo,{})},{text:"Write Blog",to:"/advanceBlogWriter",icon:(0,ke.jsx)(Uo,{})}])),()=>{}}),[e.user]);const S=(0,ke.jsxs)(Bt,{sx:{width:250},role:"presentation",children:[(0,ke.jsxs)(Bt,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"space-between",bgcolor:"primary.main",color:"white"},children:[(0,ke.jsxs)(kn,{variant:"h6",sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(Bt,{component:"img",src:"/images/BACKGROUNDLESS_LOGO.png",alt:"VeriGeek Logo",sx:{height:28,mr:1}}),"VeriGeek"]}),(0,ke.jsx)(th,{color:"inherit",onClick:v,children:(0,ke.jsx)(W_,{})})]}),(0,ke.jsx)(jo,{}),(0,ke.jsx)(Ts,{children:A.map((e=>(0,ke.jsxs)(pu,{button:!0,component:rn,to:e.to,onClick:v,children:[(0,ke.jsx)(mu,{children:e.icon}),(0,ke.jsx)(yu,{primary:e.text})]},e.text)))}),(0,ke.jsx)(jo,{}),r?(0,ke.jsxs)(Ts,{children:[(0,ke.jsxs)(pu,{button:!0,component:rn,to:"/profile",children:[(0,ke.jsx)(mu,{children:(0,ke.jsx)(uw,{})}),(0,ke.jsx)(yu,{primary:"Profile"})]}),(0,ke.jsxs)(pu,{button:!0,component:rn,to:"/bookmarks",children:[(0,ke.jsx)(mu,{children:(0,ke.jsx)(yh,{})}),(0,ke.jsx)(yu,{primary:"Bookmarks"})]}),(0,ke.jsxs)(pu,{button:!0,onClick:k,children:[(0,ke.jsx)(mu,{children:(0,ke.jsx)(U_,{})}),(0,ke.jsx)(yu,{primary:"Logout"})]})]}):(0,ke.jsxs)(Ts,{children:[(0,ke.jsxs)(pu,{button:!0,component:rn,to:"/login",children:[(0,ke.jsx)(mu,{children:(0,ke.jsx)(q_,{})}),(0,ke.jsx)(yu,{primary:"Login"})]}),(0,ke.jsxs)(pu,{button:!0,component:rn,to:"/register",children:[(0,ke.jsx)(mu,{children:(0,ke.jsx)(uw,{})}),(0,ke.jsx)(yu,{primary:"Register"})]}),console.log(m)]})]});return(0,ke.jsxs)(z_,{position:"static",sx:{backgroundColor:"#6a0dad"},children:[(0,ke.jsx)(sm,{maxWidth:"xl",children:(0,ke.jsxs)(V_,{disableGutters:!0,children:[n&&(0,ke.jsx)(th,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:v,sx:{mr:2},children:(0,ke.jsx)(bh,{})}),(0,ke.jsxs)(kn,{variant:"h6",noWrap:!0,component:rn,to:"/",sx:{mr:2,display:{xs:"flex"},fontWeight:700,color:"inherit",textDecoration:"none",alignItems:"center"},children:[(0,ke.jsx)(Bt,{component:"img",src:"/images/BACKGROUNDLESS_LOGO.png",alt:"VeriGeek Logo",sx:{height:32,mr:1}}),"VERIGEEK"]}),(0,ke.jsx)(Bt,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:A.map((e=>(0,ke.jsx)(Ii,{component:rn,to:e.to,sx:{color:"white",display:"block",mx:1},children:e.text},e.text)))}),h?(0,ke.jsxs)(Bt,{sx:{position:"relative",backgroundColor:"rgba(255, 255, 255, 0.15)",borderRadius:1,"&:hover":{backgroundColor:"rgba(255, 255, 255, 0.25)"},marginRight:2,marginLeft:0,width:{xs:"100%",sm:"50%",md:"35%"}},children:[(0,ke.jsx)(Bt,{sx:{padding:t.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,ke.jsx)(mc,{})}),(0,ke.jsx)(kr,{placeholder:"Search modules, exercises\u2026",sx:{color:"inherit",padding:t.spacing(1,1,1,0),paddingLeft:`calc(1em + ${t.spacing(4)})`,transition:t.transitions.create("width"),width:"100%"},autoFocus:!0,onBlur:_})]}):(0,ke.jsx)(th,{color:"inherit",onClick:_,children:(0,ke.jsx)(mc,{})}),(0,ke.jsx)(Bt,{sx:{flexGrow:0},children:r?(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)(y_,{title:"Notifications",children:(0,ke.jsx)(th,{color:"inherit",onClick:e=>{p(e.currentTarget)},sx:{mr:1},children:(0,ke.jsx)(ym,{badgeContent:b.filter((e=>e.unread)).length,color:"error",children:(0,ke.jsx)($_,{})})})}),(0,ke.jsx)(y_,{title:"Open profile menu",children:(0,ke.jsx)(th,{onClick:e=>{d(e.currentTarget)},sx:{p:0,ml:1},children:(0,ke.jsx)(Em,{alt:"User Avatar",src:"/static/images/avatar/1.jpg"})})}),(0,ke.jsxs)(Za,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:c,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(c),onClose:y,children:[(0,ke.jsxs)(Gl,{component:rn,to:"/profile",onClick:y,children:[(0,ke.jsx)(mu,{children:(0,ke.jsx)(uw,{fontSize:"small"})}),(0,ke.jsx)(kn,{textAlign:"center",children:"Profile"})]}),(0,ke.jsxs)(Gl,{component:rn,to:"/bookmarks",onClick:y,children:[(0,ke.jsx)(mu,{children:(0,ke.jsx)(yh,{fontSize:"small"})}),(0,ke.jsx)(kn,{textAlign:"center",children:"Bookmarks"})]}),(0,ke.jsx)(jo,{}),(0,ke.jsxs)(Gl,{onClick:k,children:[(0,ke.jsx)(mu,{children:(0,ke.jsx)(U_,{fontSize:"small"})}),(0,ke.jsx)(kn,{textAlign:"center",children:"Logout"})]})]}),(0,ke.jsx)(G_,{}),(0,ke.jsxs)(Za,{sx:{mt:"45px",width:320},id:"menu-notifications",anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(u),onClose:w,PaperProps:{sx:{width:320,maxHeight:500}},children:[(0,ke.jsx)(kn,{sx:{p:2},variant:"h6",children:"Notifications"}),(0,ke.jsx)(jo,{}),b.length>0?(0,ke.jsxs)(ke.Fragment,{children:[b.map((e=>(0,ke.jsx)(Gl,{onClick:w,sx:{backgroundColor:e.unread?"rgba(106, 13, 173, 0.08)":"inherit",py:1.5},children:(0,ke.jsx)(yu,{primary:e.text,primaryTypographyProps:{variant:"body2"}})},e.id))),(0,ke.jsx)(jo,{}),(0,ke.jsx)(Bt,{sx:{p:1,display:"flex",justifyContent:"center"},children:(0,ke.jsx)(Ii,{size:"small",children:"View All"})})]}):(0,ke.jsx)(Bt,{sx:{p:2,textAlign:"center"},children:(0,ke.jsx)(kn,{variant:"body2",color:"text.secondary",children:"No notifications to display"})})]})]}):(0,ke.jsxs)(Bt,{sx:{display:{xs:"none",md:"flex"}},children:[(0,ke.jsx)(Ii,{color:"inherit",component:rn,to:"/login",sx:{mr:1},children:"Login"}),(0,ke.jsx)(Ii,{variant:"contained",color:"secondary",component:rn,to:"/register",sx:{bgcolor:"white",color:"#6a0dad"},children:"Register"})]})})]})}),(0,ke.jsx)(Qp,{anchor:"left",open:a,onClose:v,children:S})]})},Y_=vo((0,ke.jsx)("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook"),Q_=vo((0,ke.jsx)("path",{d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}),"Twitter"),Z_=vo((0,ke.jsx)("path",{d:"M19 3a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14m-.5 15.5v-5.3a3.26 3.26 0 0 0-3.26-3.26c-.85 0-1.84.52-2.32 1.3v-1.11h-2.79v8.37h2.79v-4.93c0-.77.62-1.4 1.39-1.4a1.4 1.4 0 0 1 1.4 1.4v4.93h2.79M6.88 8.56a1.68 1.68 0 0 0 1.68-1.68c0-.93-.75-1.69-1.68-1.69a1.69 1.69 0 0 0-1.69 1.69c0 .93.76 1.68 1.69 1.68m1.39 9.94v-8.37H5.5v8.37h2.77z"}),"LinkedIn"),X_=()=>{const e=(new Date).getFullYear();return(0,ke.jsx)(Bt,{component:"footer",sx:{bgcolor:"#303030",color:"white",py:6,mt:"auto"},children:(0,ke.jsxs)(sm,{maxWidth:"lg",children:[(0,ke.jsxs)(Vi,{container:!0,spacing:4,children:[(0,ke.jsxs)(Vi,{item:!0,xs:12,sm:6,md:3,children:[(0,ke.jsxs)(kn,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",display:"flex",alignItems:"center"},children:[(0,ke.jsx)(Bt,{component:"img",src:"/images/BACKGROUNDLESS_LOGO.png",alt:"VeriGeek Logo",sx:{height:32,mr:1}}),"VERIGEEK"]}),(0,ke.jsx)(kn,{variant:"body2",sx:{mb:2,fontStyle:"italic",color:"#f0f0f0"},children:"Empower Your Logic, Code Your Circuit!"}),(0,ke.jsx)(kn,{variant:"body2",sx:{mb:2},children:"The comprehensive learning platform for mastering Verilog and digital design."}),(0,ke.jsxs)(Bt,{sx:{mb:2},children:[(0,ke.jsx)(th,{color:"inherit","aria-label":"Facebook",component:"a",href:"#",target:"_blank",children:(0,ke.jsx)(Y_,{})}),(0,ke.jsx)(th,{color:"inherit","aria-label":"Twitter",component:"a",href:"#",target:"_blank",children:(0,ke.jsx)(Q_,{})}),(0,ke.jsx)(th,{color:"inherit","aria-label":"LinkedIn",component:"a",href:"#",target:"_blank",children:(0,ke.jsx)(Z_,{})}),(0,ke.jsx)(th,{color:"inherit","aria-label":"YouTube",component:"a",href:"#",target:"_blank",children:(0,ke.jsx)(mw,{})})]})]}),(0,ke.jsxs)(Vi,{item:!0,xs:12,sm:6,md:3,children:[(0,ke.jsx)(kn,{variant:"h6",gutterBottom:!0,children:"Quick Links"}),(0,ke.jsxs)(Ts,{dense:!0,disablePadding:!0,children:[(0,ke.jsx)(pu,{disableGutters:!0,children:(0,ke.jsx)(yu,{children:(0,ke.jsx)(rn,{to:"/",style:{color:"white",textDecoration:"none"},children:"Home"})})}),(0,ke.jsx)(pu,{disableGutters:!0,children:(0,ke.jsx)(yu,{children:(0,ke.jsx)(rn,{to:"/modules",style:{color:"white",textDecoration:"none"},children:"Browse Modules"})})}),(0,ke.jsx)(pu,{disableGutters:!0,children:(0,ke.jsx)(yu,{children:(0,ke.jsx)(rn,{to:"/forum",style:{color:"white",textDecoration:"none"},children:"Community Forum"})})}),(0,ke.jsx)(pu,{disableGutters:!0,children:(0,ke.jsx)(yu,{children:(0,ke.jsx)(rn,{to:"/resources",style:{color:"white",textDecoration:"none"},children:"Resources"})})}),(0,ke.jsx)(pu,{disableGutters:!0,children:(0,ke.jsx)(yu,{children:(0,ke.jsx)(rn,{to:"/research",style:{color:"white",textDecoration:"none"},children:"Research"})})}),(0,ke.jsx)(pu,{disableGutters:!0,children:(0,ke.jsx)(yu,{children:(0,ke.jsx)(rn,{to:"/careers",style:{color:"white",textDecoration:"none"},children:"Careers"})})}),(0,ke.jsx)(pu,{disableGutters:!0,children:(0,ke.jsx)(yu,{children:(0,ke.jsx)(rn,{to:"/editor",style:{color:"white",textDecoration:"none"},children:"Code Editor"})})}),(0,ke.jsx)(pu,{disableGutters:!0,children:(0,ke.jsx)(yu,{children:(0,ke.jsx)(rn,{to:"/register",style:{color:"white",textDecoration:"none"},children:"Get Started"})})})]})]}),(0,ke.jsxs)(Vi,{item:!0,xs:12,sm:6,md:3,children:[(0,ke.jsx)(kn,{variant:"h6",gutterBottom:!0,children:"Learn More"}),(0,ke.jsxs)(Ts,{dense:!0,disablePadding:!0,children:[(0,ke.jsx)(pu,{disableGutters:!0,children:(0,ke.jsx)(yu,{children:(0,ke.jsx)(rn,{to:"/about",style:{color:"white",textDecoration:"none"},children:"About Us"})})}),(0,ke.jsx)(pu,{disableGutters:!0,children:(0,ke.jsx)(yu,{children:(0,ke.jsx)(rn,{to:"/privacy",style:{color:"white",textDecoration:"none"},children:"Privacy Policy"})})}),(0,ke.jsx)(pu,{disableGutters:!0,children:(0,ke.jsx)(yu,{children:(0,ke.jsx)(rn,{to:"/terms",style:{color:"white",textDecoration:"none"},children:"Terms of Service"})})}),(0,ke.jsx)(pu,{disableGutters:!0,children:(0,ke.jsx)(yu,{children:(0,ke.jsx)(rn,{to:"/contact",style:{color:"white",textDecoration:"none"},children:"Contact Us"})})}),(0,ke.jsx)(pu,{disableGutters:!0,children:(0,ke.jsx)(yu,{children:(0,ke.jsx)(rn,{to:"/faq",style:{color:"white",textDecoration:"none"},children:"FAQ"})})})]})]}),(0,ke.jsxs)(Vi,{item:!0,xs:12,sm:6,md:3,children:[(0,ke.jsx)(kn,{variant:"h6",gutterBottom:!0,children:"Newsletter"}),(0,ke.jsx)(kn,{variant:"body2",sx:{mb:2},children:"Subscribe to get updates on new courses and features."}),(0,ke.jsx)(Pl,{fullWidth:!0,placeholder:"Your email address",variant:"outlined",size:"small",sx:{backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:1,"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(255, 255, 255, 0.3)"},"&:hover fieldset":{borderColor:"rgba(255, 255, 255, 0.5)"},"&.Mui-focused fieldset":{borderColor:"#6a0dad"}},"& .MuiInputBase-input":{color:"white"},mb:2},InputProps:{endAdornment:(0,ke.jsx)(Ol,{position:"end",children:(0,ke.jsx)(th,{"aria-label":"subscribe",edge:"end",sx:{color:"#6a0dad"},children:(0,ke.jsx)(hf,{})})})}}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,ke.jsx)(Vy,{fontSize:"small",sx:{mr:1}}),(0,ke.jsx)(kn,{variant:"body2",children:"omdaga6@gmail.com"})]}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,ke.jsx)(E_,{fontSize:"small",sx:{mr:1}}),(0,ke.jsx)(kn,{variant:"body2",children:"+91 8859141410"})]}),(0,ke.jsxs)(Bt,{sx:{display:"flex",alignItems:"center"},children:[(0,ke.jsx)(D_,{fontSize:"small",sx:{mr:1}}),(0,ke.jsx)(kn,{variant:"body2",children:"IIT MANDI , HP"})]})]})]})]}),(0,ke.jsx)(jo,{sx:{borderColor:"rgba(255, 255, 255, 0.1)",my:4}}),(0,ke.jsxs)(Bt,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row"},justifyContent:"space-between",alignItems:{sm:"center"}},children:[(0,ke.jsxs)(kn,{variant:"body2",sx:{mb:{xs:2,sm:0}},children:["\xa9 ",e," VeriGeek. All rights reserved."]}),(0,ke.jsxs)(Bt,{children:[(0,ke.jsx)(Ii,{color:"inherit",size:"small",component:rn,to:"/privacy",children:"Privacy"}),(0,ke.jsx)(Ii,{color:"inherit",size:"small",component:rn,to:"/terms",children:"Terms"}),(0,ke.jsx)(Ii,{color:"inherit",size:"small",component:rn,to:"/cookies",children:"Cookies"})]})]})]})})},J_=gt({palette:{primary:{main:"#6a0dad",light:"#9c4dcc",dark:"#3a006c",contrastText:"#ffffff"},secondary:{main:"#f50057",light:"#ff4081",dark:"#c51162",contrastText:"#ffffff"},background:{default:"#f5f5f5",paper:"#ffffff"},text:{primary:"#333333",secondary:"#666666"},error:{main:"#f44336"},warning:{main:"#ff9800"},info:{main:"#2196f3"},success:{main:"#4caf50"}},typography:{fontFamily:['"Roboto"','"Helvetica"',"Arial","sans-serif"].join(","),h1:{fontSize:"2.5rem",fontWeight:500},h2:{fontSize:"2rem",fontWeight:500},h3:{fontSize:"1.75rem",fontWeight:500},h4:{fontSize:"1.5rem",fontWeight:500},h5:{fontSize:"1.25rem",fontWeight:500},h6:{fontSize:"1rem",fontWeight:500}},shape:{borderRadius:8},shadows:["none","0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12)","0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12)","0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12)","0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)","0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)","0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12)","0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12)","0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12)","0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12)","0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12)","0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12)","0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12)","0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12)","0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12)","0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12)","0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12)","0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12)","0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12)","0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12)","0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12)","0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12)"],components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:8,padding:"8px 16px",fontWeight:500},contained:{boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"}}},MuiCard:{styleOverrides:{root:{borderRadius:8,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)"}}},MuiPaper:{styleOverrides:{rounded:{borderRadius:8},elevation1:{boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.1)"}}}}});gt({palette:{mode:"dark",primary:{main:"#6a0dad",light:"#9c4dcc",dark:"#3a006c",contrastText:"#ffffff"},secondary:{main:"#f50057",light:"#ff4081",dark:"#c51162",contrastText:"#ffffff"},background:{default:"#121212",paper:"#1e1e1e"},text:{primary:"#ffffff",secondary:"#cccccc"},error:{main:"#ef5350"},warning:{main:"#ffb74d"},info:{main:"#64b5f6"},success:{main:"#81c784"}},typography:{fontFamily:['"Roboto"','"Helvetica"',"Arial","sans-serif"].join(","),h1:{fontSize:"2.5rem",fontWeight:500},h2:{fontSize:"2rem",fontWeight:500},h3:{fontSize:"1.75rem",fontWeight:500},h4:{fontSize:"1.5rem",fontWeight:500},h5:{fontSize:"1.25rem",fontWeight:500},h6:{fontSize:"1rem",fontWeight:500}},shape:{borderRadius:8},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",borderRadius:8,padding:"8px 16px",fontWeight:500},contained:{boxShadow:"0px 2px 4px rgba(255, 255, 255, 0.1)"}}},MuiCard:{styleOverrides:{root:{borderRadius:8,backgroundColor:"#2a2a2a",boxShadow:"0px 4px 8px rgba(255, 255, 255, 0.05)"}}},MuiPaper:{styleOverrides:{rounded:{borderRadius:8},elevation1:{boxShadow:"0px 2px 4px rgba(255, 255, 255, 0.05)"}}}}});function ex(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function nx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tx(Object(n),!0).forEach((function(t){ex(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ix(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ox(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function rx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sx(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ax(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sx(Object(n),!0).forEach((function(t){rx(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sx(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lx(e){return function t(){for(var n=this,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t.apply(n,[].concat(o,i))}}}function cx(e){return{}.toString.call(e).includes("Object")}function dx(e){return"function"===typeof e}var ux=lx((function(e,t){throw new Error(e[t]||e.default)}))({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),px={changes:function(e,t){return cx(t)||ux("changeType"),Object.keys(t).some((function(t){return n=e,i=t,!Object.prototype.hasOwnProperty.call(n,i);var n,i}))&&ux("changeField"),t},selector:function(e){dx(e)||ux("selectorType")},handler:function(e){dx(e)||cx(e)||ux("handlerType"),cx(e)&&Object.values(e).some((function(e){return!dx(e)}))&&ux("handlersType")},initial:function(e){var t;e||ux("initialIsRequired"),cx(e)||ux("initialType"),t=e,Object.keys(t).length||ux("initialContent")}};function hx(e,t){return dx(t)?t(e.current):t}function gx(e,t){return e.current=ax(ax({},e.current),t),t}function mx(e,t,n){return dx(t)?t(e.current):Object.keys(n).forEach((function(n){var i;return null===(i=t[n])||void 0===i?void 0:i.call(t,e.current[n])})),n}var fx={create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};px.initial(e),px.handler(t);var n={current:e},i=lx(mx)(n,t),o=lx(gx)(n),r=lx(px.changes)(e),s=lx(hx)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return px.selector(e),e(n.current)},function(e){!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}}(i,o,r,s)(e)}]}};const bx=fx;const yx={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};const wx=function(e){return{}.toString.call(e).includes("Object")};var vx={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},kx=function(e){return function t(){for(var n=this,i=arguments.length,o=new Array(i),r=0;r<i;r++)o[r]=arguments[r];return o.length>=e.length?e.apply(this,o):function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return t.apply(n,[].concat(o,i))}}}((function(e,t){throw new Error(e[t]||e.default)}))(vx),_x={config:function(e){return e||kx("configIsRequired"),wx(e)||kx("configType"),e.urls?(console.warn(vx.deprecation),{paths:{vs:e.urls.monacoBase}}):e}};const xx=_x;const Ax=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}};const Cx=function e(t,n){return Object.keys(n).forEach((function(i){n[i]instanceof Object&&t[i]&&Object.assign(n[i],e(t[i],n[i]))})),nx(nx({},t),n)};var Sx={type:"cancelation",msg:"operation is manually canceled"};const Ix=function(e){var t=!1,n=new Promise((function(n,i){e.then((function(e){return t?i(Sx):n(e)})),e.catch(i)}));return n.cancel=function(){return t=!0},n};var Tx=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,o=!1,r=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){o=!0,r=l}finally{try{i||null==a.return||a.return()}finally{if(o)throw r}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ox(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ox(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(bx.create({config:yx,isInitialized:!1,resolve:null,reject:null,monaco:null}),2),Ex=Tx[0],Dx=Tx[1];function Mx(e){return document.body.appendChild(e)}function Px(e){var t=Ex((function(e){return{config:e.config,reject:e.reject}})),n=function(e){var t=document.createElement("script");return e&&(t.src=e),t}("".concat(t.config.paths.vs,"/loader.js"));return n.onload=function(){return e()},n.onerror=t.reject,n}function Rx(){var e=Ex((function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}})),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(function(t){Bx(t),e.resolve(t)}),(function(t){e.reject(t)}))}function Bx(e){Ex().monaco||Dx({monaco:e})}var jx=new Promise((function(e,t){return Dx({resolve:e,reject:t})})),Lx={config:function(e){var t=xx.config(e),n=t.monaco,i=ix(t,["monaco"]);Dx((function(e){return{config:Cx(e.config,i),monaco:n}}))},init:function(){var e=Ex((function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}}));if(!e.isInitialized){if(Dx({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),Ix(jx);if(window.monaco&&window.monaco.editor)return Bx(window.monaco),e.resolve(window.monaco),Ix(jx);Ax(Mx,Px)(Rx)}return Ix(jx)},__getMonacoInstance:function(){return Ex((function(e){return e.monaco}))}};const zx=Lx;var Ox={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},Nx={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}};var Fx=function(e){let{children:t}=e;return i.createElement("div",{style:Nx.container},t)};var Vx=function(e){let{width:t,height:n,isEditorReady:o,loading:r,_ref:s,className:a,wrapperProps:l}=e;return i.createElement("section",{style:{...Ox.wrapper,width:t,height:n},...l},!o&&i.createElement(Fx,null,r),i.createElement("div",{ref:s,style:{...Ox.fullWidth,...!o&&Ox.hide},className:a}))},Hx=(0,i.memo)(Vx);var Wx=function(e){(0,i.useEffect)(e,[])};var Ux=function(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=(0,i.useRef)(!0);(0,i.useEffect)(o.current||!n?()=>{o.current=!1}:e,t)};function qx(){}function $x(e,t,n,i){return function(e,t){return e.editor.getModel(Gx(e,t))}(e,i)||function(e,t,n,i){return e.editor.createModel(t,n,i?Gx(e,i):void 0)}(e,t,n,i)}function Gx(e,t){return e.Uri.parse(t)}var Kx=function(e){let{original:t,modified:n,language:o,originalLanguage:r,modifiedLanguage:s,originalModelPath:a,modifiedModelPath:l,keepCurrentOriginalModel:c=!1,keepCurrentModifiedModel:d=!1,theme:u="light",loading:p="Loading...",options:h={},height:g="100%",width:m="100%",className:f,wrapperProps:b={},beforeMount:y=qx,onMount:w=qx}=e,[v,k]=(0,i.useState)(!1),[_,x]=(0,i.useState)(!0),A=(0,i.useRef)(null),C=(0,i.useRef)(null),S=(0,i.useRef)(null),I=(0,i.useRef)(w),T=(0,i.useRef)(y),E=(0,i.useRef)(!1);Wx((()=>{let e=zx.init();return e.then((e=>(C.current=e)&&x(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>A.current?function(){let e=A.current?.getModel();c||e?.original?.dispose(),d||e?.modified?.dispose(),A.current?.dispose()}():e.cancel()})),Ux((()=>{if(A.current&&C.current){let e=A.current.getOriginalEditor(),n=$x(C.current,t||"",r||o||"text",a||"");n!==e.getModel()&&e.setModel(n)}}),[a],v),Ux((()=>{if(A.current&&C.current){let e=A.current.getModifiedEditor(),t=$x(C.current,n||"",s||o||"text",l||"");t!==e.getModel()&&e.setModel(t)}}),[l],v),Ux((()=>{let e=A.current.getModifiedEditor();e.getOption(C.current.editor.EditorOption.readOnly)?e.setValue(n||""):n!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),e.pushUndoStop())}),[n],v),Ux((()=>{A.current?.getModel()?.original.setValue(t||"")}),[t],v),Ux((()=>{let{original:e,modified:t}=A.current.getModel();C.current.editor.setModelLanguage(e,r||o||"text"),C.current.editor.setModelLanguage(t,s||o||"text")}),[o,r,s],v),Ux((()=>{C.current?.editor.setTheme(u)}),[u],v),Ux((()=>{A.current?.updateOptions(h)}),[h],v);let D=(0,i.useCallback)((()=>{if(!C.current)return;T.current(C.current);let e=$x(C.current,t||"",r||o||"text",a||""),i=$x(C.current,n||"",s||o||"text",l||"");A.current?.setModel({original:e,modified:i})}),[o,n,s,t,r,a,l]),M=(0,i.useCallback)((()=>{!E.current&&S.current&&(A.current=C.current.editor.createDiffEditor(S.current,{automaticLayout:!0,...h}),D(),C.current?.editor.setTheme(u),k(!0),E.current=!0)}),[h,u,D]);return(0,i.useEffect)((()=>{v&&I.current(A.current,C.current)}),[v]),(0,i.useEffect)((()=>{!_&&!v&&M()}),[_,v,M]),i.createElement(Hx,{width:m,height:g,isEditorReady:v,loading:p,_ref:S,className:f,wrapperProps:b})};(0,i.memo)(Kx);var Yx=function(e){let t=(0,i.useRef)();return(0,i.useEffect)((()=>{t.current=e}),[e]),t.current},Qx=new Map;var Zx=function(e){let{defaultValue:t,defaultLanguage:n,defaultPath:o,value:r,language:s,path:a,theme:l="light",line:c,loading:d="Loading...",options:u={},overrideServices:p={},saveViewState:h=!0,keepCurrentModel:g=!1,width:m="100%",height:f="100%",className:b,wrapperProps:y={},beforeMount:w=qx,onMount:v=qx,onChange:k,onValidate:_=qx}=e,[x,A]=(0,i.useState)(!1),[C,S]=(0,i.useState)(!0),I=(0,i.useRef)(null),T=(0,i.useRef)(null),E=(0,i.useRef)(null),D=(0,i.useRef)(v),M=(0,i.useRef)(w),P=(0,i.useRef)(),R=(0,i.useRef)(r),B=Yx(a),j=(0,i.useRef)(!1),L=(0,i.useRef)(!1);Wx((()=>{let e=zx.init();return e.then((e=>(I.current=e)&&S(!1))).catch((e=>"cancelation"!==e?.type&&console.error("Monaco initialization: error:",e))),()=>T.current?(P.current?.dispose(),g?h&&Qx.set(a,T.current.saveViewState()):T.current.getModel()?.dispose(),void T.current.dispose()):e.cancel()})),Ux((()=>{let e=$x(I.current,t||r||"",n||s||"",a||o||"");e!==T.current?.getModel()&&(h&&Qx.set(B,T.current?.saveViewState()),T.current?.setModel(e),h&&T.current?.restoreViewState(Qx.get(a)))}),[a],x),Ux((()=>{T.current?.updateOptions(u)}),[u],x),Ux((()=>{!T.current||void 0===r||(T.current.getOption(I.current.editor.EditorOption.readOnly)?T.current.setValue(r):r!==T.current.getValue()&&(L.current=!0,T.current.executeEdits("",[{range:T.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),T.current.pushUndoStop(),L.current=!1))}),[r],x),Ux((()=>{let e=T.current?.getModel();e&&s&&I.current?.editor.setModelLanguage(e,s)}),[s],x),Ux((()=>{void 0!==c&&T.current?.revealLine(c)}),[c],x),Ux((()=>{I.current?.editor.setTheme(l)}),[l],x);let z=(0,i.useCallback)((()=>{if(E.current&&I.current&&!j.current){M.current(I.current);let e=a||o,i=$x(I.current,r||t||"",n||s||"",e||"");T.current=I.current?.editor.create(E.current,{model:i,automaticLayout:!0,...u},p),h&&T.current.restoreViewState(Qx.get(e)),I.current.editor.setTheme(l),void 0!==c&&T.current.revealLine(c),A(!0),j.current=!0}}),[t,n,o,r,s,a,u,p,h,l,c]);return(0,i.useEffect)((()=>{x&&D.current(T.current,I.current)}),[x]),(0,i.useEffect)((()=>{!C&&!x&&z()}),[C,x,z]),R.current=r,(0,i.useEffect)((()=>{x&&k&&(P.current?.dispose(),P.current=T.current?.onDidChangeModelContent((e=>{L.current||k(T.current.getValue(),e)})))}),[x,k]),(0,i.useEffect)((()=>{if(x){let e=I.current.editor.onDidChangeMarkers((e=>{let t=T.current.getModel()?.uri;if(t&&e.find((e=>e.path===t.path))){let e=I.current.editor.getModelMarkers({resource:t});_?.(e)}}));return()=>{e?.dispose()}}return()=>{}}),[x,_]),i.createElement(Hx,{width:m,height:f,isEditorReady:x,loading:d,_ref:E,className:b,wrapperProps:y})},Xx=(0,i.memo)(Zx);const Jx=e=>{const t=(e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,((e,t,n)=>n?n.toUpperCase():t.toLowerCase())))(e);return t.charAt(0).toUpperCase()+t.slice(1)},eA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&""!==e.trim()&&n.indexOf(e)===t)).join(" ").trim()};var tA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nA=(0,i.forwardRef)(((e,t)=>{let{color:n="currentColor",size:o=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:l,iconNode:c,...d}=e;return(0,i.createElement)("svg",{ref:t,...tA,width:o,height:o,stroke:n,strokeWidth:s?24*Number(r)/Number(o):r,className:eA("lucide",a),...d},[...c.map((e=>{let[t,n]=e;return(0,i.createElement)(t,n)})),...Array.isArray(l)?l:[l]])})),iA=(e,t)=>{const n=(0,i.forwardRef)(((n,o)=>{let{className:r,...s}=n;return(0,i.createElement)(nA,{ref:o,iconNode:t,className:eA(`lucide-${a=Jx(e),a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...s});var a}));return n.displayName=Jx(e),n},oA=iA("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),rA=iA("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),sA=iA("moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),aA=iA("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),lA=iA("settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);const cA=function(){const[e,t]=(0,i.useState)(""),[n,o]=(0,i.useState)("Output will be shown here..."),[r,s]=(0,i.useState)(""),[a,l]=(0,i.useState)(!0),[c,d]=(0,i.useState)("verilog"),u=(0,i.useContext)(Jy),{projectId:p}=ee(),[h,g]=(0,i.useState)([]),[m,f]=(0,i.useState)("console"),[b,y]=(0,i.useState)(""),[w,v]=(0,i.useState)(""),[k,_]=(0,i.useState)(null);(0,i.useEffect)((()=>{if(!u.user||!p)return;(async()=>{try{const e=(await Ty.get(`${cw}/api/workspace/files-list`,{params:{id:p}})).data.projects.files.map((e=>({fileName:e.fileName,type:"file",content:e.content})));g(e)}catch(e){console.error(e)}})()}),[u.user,p]);const x=()=>{Ty.post(`${cw}/api/workspace/save-all-files`,{id:p,files:h}).catch(console.error)};return(0,ke.jsxs)("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[(0,ke.jsxs)("div",{className:"h-12 bg-gray-800 flex items-center justify-between px-4 border-b border-gray-700",children:[(0,ke.jsxs)("div",{className:"flex items-center gap-4",children:[(0,ke.jsx)("select",{value:c,onChange:e=>d(e.target.value),className:"bg-gray-700 text-white rounded-md px-2 py-1 text-sm border border-gray-600 focus:outline-none",children:["verilog"].map((e=>(0,ke.jsx)("option",{value:e,children:e},e)))}),(0,ke.jsx)("button",{onClick:()=>l(!a),className:"p-1.5 rounded-md hover:bg-gray-700",children:a?(0,ke.jsx)(rA,{size:18,className:"text-yellow-400"}):(0,ke.jsx)(sA,{size:18,className:"text-gray-400"})})]}),(0,ke.jsxs)("button",{onClick:async()=>{var e,t;const n=(null===(e=h.find((e=>e.fileName===b)))||void 0===e?void 0:e.content)||"",i=(null===(t=h.find((e=>e.fileName===w)))||void 0===t?void 0:t.content)||"";try{const e=await Ty.post(`${cw}/api/modules/compile-verilog`,{verilogCode:n,testbenchCode:i});if(e.data.waveform){const t=new Blob([e.data.waveform],{type:"text/plain"}),n=URL.createObjectURL(t);_(n),console.log(n)}o(e.data.output||"Simulation complete. No output.")}catch(c){var r,s,a,l;if(console.log(c.response.data.details),null!==c&&void 0!==c&&null!==(r=c.response)&&void 0!==r&&null!==(s=r.data)&&void 0!==s&&s.details)o(null===c||void 0===c||null===(a=c.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.details);else o(c.message)}},className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-1.5 rounded-md",children:[(0,ke.jsx)(aA,{size:16}),"Run"]})]}),(0,ke.jsxs)("div",{className:"flex-1 flex",children:[(0,ke.jsxs)("div",{className:"w-48 bg-gray-800 border-r border-gray-700 text-white overflow-y-auto",children:[(0,ke.jsxs)("div",{className:"p-2 flex items-center justify-between border-b border-gray-700",children:[(0,ke.jsx)("span",{className:"font-semibold",children:"Explorer"}),(0,ke.jsx)(lA,{size:16,className:"text-gray-400 cursor-pointer hover:text-white",onClick:async()=>{x();let e=prompt("Enter new file name");if(e)if(h.some((t=>t.fileName===e)))alert("File already exists. Choose a different name.");else try{const t=(await Ty.get(`${cw}/api/workspace/create-file`,{params:{id:p,fileName:e}})).data.updatedProject.files.map((e=>({fileName:e.fileName,type:"file",content:e.content})));g(t)}catch(t){console.error(t)}}})]}),(0,ke.jsx)("div",{className:"py-2",children:h.map((e=>(e=>{const n=e.fileName===r;return(0,ke.jsxs)("div",{onClick:()=>{t(e.content),s(e.fileName),x()},className:"flex items-center py-1 px-2 cursor-pointer "+(n?"bg-gray-700 text-white font-semibold":"hover:bg-gray-700 text-gray-300"),children:[(0,ke.jsx)(oA,{size:16,className:"mr-2"}),(0,ke.jsx)("span",{className:"text-sm",children:e.fileName})]},e.fileName)})(e)))})]}),(0,ke.jsx)("div",{className:"w-1/2 border-r border-gray-700",children:(0,ke.jsx)(Xx,{height:"calc(100vh - 48px)",defaultLanguage:"verilog",language:c,theme:a?"vs-dark":"light",value:e,onChange:e=>{if(e){t(e);const n=h.map((t=>t.fileName===r?{...t,content:e}:t));g(n)}},beforeMount:e=>{e.languages.register({id:"verilog"}),e.languages.setMonarchTokensProvider("verilog",{keywords:["module","endmodule","input","output","wire","reg","always","begin","end","if","else","case","endcase","default","posedge","negedge","assign","parameter","localparam","integer","initial"],operators:["=","==","!=","&&","||","&","|","^","~","+","-","*","/","<<",">>","<<<",">>>","<",">","<=",">=","?",":"],symbols:/[=><!~?:&|+\-*\/\^%]+/,tokenizer:{root:[[/[a-zA-Z_]\w*/,{cases:{"@keywords":"keyword","@default":"identifier"}}],[/\/\/.*/,"comment"],[/\/\*/,"comment","@comment"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/\d*\d+[bB][01_]+/,"number.binary"],[/\d*\d+[hH][0-9a-fA-F_]+/,"number.hex"],[/\d[\d_]*/,"number"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/"/,"string","@pop"]]}})},options:{minimap:{enabled:!1},fontSize:14,lineNumbers:"on",automaticLayout:!0}})}),(0,ke.jsxs)("div",{className:"w-1/2 bg-gray-800 text-white flex flex-col",children:[(0,ke.jsxs)("div",{className:"h-12 flex border-b border-gray-700",children:[(0,ke.jsx)("button",{onClick:()=>f("console"),className:"px-4 py-2 text-sm "+("console"===m?"bg-gray-700 font-bold":"hover:bg-gray-700"),children:"Console Output"}),(0,ke.jsx)("button",{onClick:()=>f("visual"),className:"px-4 py-2 text-sm "+("visual"===m?"bg-gray-700 font-bold":"hover:bg-gray-700"),children:"Visual Output"})]}),(0,ke.jsxs)("div",{className:"flex items-center gap-4 px-4 py-2 bg-gray-800 border-b border-gray-700",children:[(0,ke.jsxs)("select",{value:b,onChange:e=>y(e.target.value),className:"bg-gray-700 text-white rounded px-2 py-1 text-sm",children:[(0,ke.jsx)("option",{value:"",children:"Select Code File"}),h.map((e=>(0,ke.jsx)("option",{value:e.fileName,children:e.fileName},e.fileName)))]}),(0,ke.jsxs)("select",{value:w,onChange:e=>v(e.target.value),className:"bg-gray-700 text-white rounded px-2 py-1 text-sm",children:[(0,ke.jsx)("option",{value:"",children:"Select Testbench File"}),h.map((e=>(0,ke.jsx)("option",{value:e.fileName,children:e.fileName},e.fileName)))]})]}),(0,ke.jsx)("div",{className:"flex-1 p-4  overflow-auto",children:"console"===m?(0,ke.jsx)("pre",{className:"font-mono bg-black text-white p-2 rounded-md whitespace-pre-wrap",style:{height:"50vh"},children:n}):(0,ke.jsx)("div",{className:"overflow-auto w-full h-full bg-black text-white rounded-md",children:(0,ke.jsx)("iframe",{style:{height:"60vh"},title:"Visual Output",src:k?`https://vc.drom.io/?url=${encodeURIComponent(k)}`:"https://vc.drom.io/?github=programmingGod-byte/testing/main/wave.vcd",className:"w-full h-full border-none"})})})]})]})]})},dA=iA("chart-no-axes-column-increasing",[["line",{x1:"12",x2:"12",y1:"20",y2:"10",key:"1vz5eb"}],["line",{x1:"18",x2:"18",y1:"20",y2:"4",key:"cun8e5"}],["line",{x1:"6",x2:"6",y1:"20",y2:"16",key:"hq0ia6"}]]),uA=iA("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),pA=iA("code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]),hA=iA("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),gA=iA("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),mA=iA("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),fA=iA("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),bA=iA("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),yA=iA("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),wA=iA("clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),vA=iA("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),kA=[(0,ke.jsx)(dA,{className:"h-5 w-5"},"bar-chart"),(0,ke.jsx)(uA,{className:"h-5 w-5"},"layout"),(0,ke.jsx)(pA,{className:"h-5 w-5"},"code"),(0,ke.jsx)(hA,{className:"h-5 w-5"},"globe"),(0,ke.jsx)(gA,{className:"h-5 w-5"},"database"),(0,ke.jsx)(mA,{className:"h-5 w-5"},"shield")],_A=[{gradient:"from-blue-500 to-cyan-400",bg:"bg-gradient-to-r from-blue-500/10 to-cyan-400/10",border:"border-blue-500/20"},{gradient:"from-amber-500 to-orange-400",bg:"bg-gradient-to-r from-amber-500/10 to-orange-400/10",border:"border-amber-500/20"},{gradient:"from-emerald-500 to-green-400",bg:"bg-gradient-to-r from-emerald-500/10 to-green-400/10",border:"border-emerald-500/20"},{gradient:"from-violet-500 to-purple-400",bg:"bg-gradient-to-r from-violet-500/10 to-purple-400/10",border:"border-violet-500/20"},{gradient:"from-rose-500 to-pink-400",bg:"bg-gradient-to-r from-rose-500/10 to-pink-400/10",border:"border-rose-500/20"},{gradient:"from-indigo-500 to-blue-400",bg:"bg-gradient-to-r from-indigo-500/10 to-blue-400/10",border:"border-indigo-500/20"}];function xA(){const e=(0,i.useContext)(Jy),t=J();null==e.user&&t("/login");const[n,o]=(0,i.useState)([]),[r,s]=(0,i.useState)("");(0,i.useEffect)((()=>{(async()=>{if(e.user&&e.user.email)try{const t=await Ty.get(`${cw}/api/workspace/workspace-list`,{params:{email:e.user.email}});let n=[];Array.from(t.data.projects).forEach(((e,t)=>{const i=_A[Math.floor(Math.random()*_A.length)],o=kA[Math.floor(Math.random()*kA.length)];n.push({id:e._id,title:e.title,description:e.description,thumbnail:`/placeholder.svg?height=150&width=250&text=${e.title.replace(/\s+/g,"+")}`,icon:o,color:i.gradient,bgColor:i.bg,borderColor:i.border,lastEdited:"Just now",starred:!1})})),o(n)}catch(t){console.error("Failed to fetch projects:",t)}})()}),[e.user]);const[a,l]=(0,i.useState)({title:"",description:""}),[c,d]=(0,i.useState)(!1),[u,p]=(0,i.useState)(null),h=(0,i.useRef)(null),g=e=>{const{name:t,value:n}=e.target;l({...a,[t]:n})};(0,i.useEffect)((()=>{function e(e){h.current&&!h.current.contains(e.target)&&p(null)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const m=n.filter((e=>e.title.toLowerCase().includes(r.toLowerCase())));return(0,ke.jsxs)("div",{className:"min-h-screen bg-white text-gray-900",children:[(0,ke.jsxs)("main",{className:"relative container mx-auto p-6 md:p-8",children:[(0,ke.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,ke.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"My Projects"}),(0,ke.jsx)("input",{type:"text",value:r,onChange:e=>{s(e.target.value)},placeholder:"Search projects by title...",className:"px-4 py-2 rounded-md border border-gray-300"}),(0,ke.jsxs)("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-xl font-semibold flex items-center gap-2 text-white hover:from-blue-600 hover:to-indigo-700 transition-all duration-300 shadow-lg transform hover:scale-105",children:[(0,ke.jsx)(fA,{className:"h-5 w-5"}),"New Project"]})]}),(0,ke.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:m.map((e=>(0,ke.jsxs)("div",{className:`group rounded-xl overflow-hidden transition-all duration-300 transform hover:scale-105 hover:shadow-2xl border ${e.borderColor}`,children:[(0,ke.jsxs)("div",{className:"relative",children:[(0,ke.jsx)("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} opacity-15`}),(0,ke.jsxs)("div",{className:"h-48 flex items-center justify-center relative overflow-hidden",children:[(0,ke.jsx)("div",{className:"absolute inset-0 flex items-center justify-center opacity-10",children:(0,ke.jsx)("div",{className:"text-[120px] transform -rotate-12",children:e.icon})}),(0,ke.jsx)("div",{className:`z-10 px-6 py-3 rounded-lg bg-gradient-to-r ${e.color} shadow-lg`,children:(0,ke.jsx)("h3",{className:"text-xl font-bold text-white",children:e.title})}),(0,ke.jsx)("button",{onClick:()=>{return t=e.id,void o(n.map((e=>e.id===t?{...e,starred:!e.starred}:e)));var t},className:"absolute top-3 right-3 p-2 rounded-full bg-black/30 hover:bg-black/50 transition-colors duration-200",children:(0,ke.jsx)(bA,{className:`h-5 w-5 ${e.starred?"fill-yellow-400 text-yellow-400":"text-white"} transition-colors duration-200`})})]})]}),(0,ke.jsxs)("div",{className:"p-6",children:[(0,ke.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:e.description}),(0,ke.jsxs)("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[(0,ke.jsxs)("button",{onClick:()=>t(`/workspaceEditor/${e.id}`),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-medium hover:from-blue-700 hover:to-indigo-700 transition-colors duration-300",children:[(0,ke.jsx)(yA,{className:"h-4 w-4"}),"Open"]}),(0,ke.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-100",children:[(0,ke.jsx)(wA,{className:"h-4 w-4"}),e.lastEdited]})]})]})]},e.id)))})]}),c&&(0,ke.jsx)("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,ke.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-md border border-gray-300 shadow-2xl",children:[(0,ke.jsxs)("div",{className:"flex justify-between items-center p-6 border-b border-gray-300",children:[(0,ke.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Create New Project"}),(0,ke.jsx)("button",{onClick:()=>d(!1),className:"p-2 rounded-full hover:bg-gray-200 transition-colors duration-200",children:(0,ke.jsx)(vA,{className:"h-5 w-5"})})]}),(0,ke.jsx)("form",{onSubmit:async t=>{t.preventDefault();const i=_A[Math.floor(Math.random()*_A.length)],r=kA[Math.floor(Math.random()*kA.length)];try{const t=await Ty.post(`${cw}/api/workspace/create-workspace`,{email:e.user.email,title:a.title,description:a.description}),s={id:t.data.project._id,title:a.title,description:a.description,thumbnail:`/placeholder.svg?height=150&width=250&text=${a.title.replace(/\s+/g,"+")}`,icon:r,color:i.gradient,bgColor:i.bg,borderColor:i.border,lastEdited:"Just now",starred:!1};200==t.status&&o([s,...n])}catch{alert("Some error occurred")}l({title:"",description:""}),d(!1)},className:"p-6",children:(0,ke.jsxs)("div",{className:"space-y-5",children:[(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"block text-sm text-gray-700",htmlFor:"title",children:"Project Title"}),(0,ke.jsx)("input",{type:"text",name:"title",value:a.title,onChange:g,className:"w-full p-3 bg-gray-100 text-gray-900 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-600",placeholder:"Enter title"})]}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"block text-sm text-gray-700",htmlFor:"description",children:"Project Description"}),(0,ke.jsx)("textarea",{name:"description",value:a.description,onChange:g,className:"w-full p-3 bg-gray-100 text-gray-900 rounded-md border border-gray-300 focus:ring-2 focus:ring-blue-600",rows:"4",placeholder:"Enter description"})]}),(0,ke.jsx)("button",{type:"submit",className:"w-full p-3 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-xl font-semibold hover:bg-gradient-to-r hover:from-blue-700 hover:to-indigo-700",children:"Create Project"})]})})]})})]})}const AA=()=>Math.random().toString(36).substr(2,39),CA=()=>{const[e,t]=(0,i.useState)("overview"),[n,o]=(0,i.useState)({id:"",title:"",description:"",image:"",level:"",duration:"",rating:"",studentsCount:"",completed:"",totalChapters:"",progress:"",updatedAt:"",lessons:"",exercises:"",students:"",overview:""}),r=J(),[s,a]=(0,i.useState)([""]),[l,c]=(0,i.useState)([""]),[d,u]=(0,i.useState)([""]),[p,h]=(0,i.useState)([{title:"",type:"PDF",link:""}]),[g,m]=(0,i.useState)([{title:"",code:""}]),[f,b]=(0,i.useState)([{id:AA(),title:"",description:"",difficulty:"",type:"",completed:!1,code:"",testbench:""}]),y=e=>{o({...n,[e.target.name]:e.target.value})};return(0,ke.jsxs)("div",{className:"max-w-5xl mx-auto p-6 space-y-8",children:[(0,ke.jsx)("div",{className:"flex border-b mb-6",children:["overview","code-examples"].map((n=>(0,ke.jsx)("button",{className:_t("px-4 py-2 font-medium capitalize",e===n?"border-b-2 border-blue-600 text-blue-600":"text-gray-600"),onClick:()=>t(n),children:n.replace("-"," ")},n)))}),"overview"===e&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)("h1",{className:"text-3xl font-bold",children:"Edit Verilog Module Overview"}),(0,ke.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.keys(n).map(((e,t)=>"overview"!==e?(0,ke.jsx)("input",{required:!0,name:e,placeholder:e,value:n[e],onChange:y,className:"p-2 border rounded-lg"},t):null))}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("h2",{className:"font-semibold mt-4",children:"Overview of the Module"}),(0,ke.jsx)("textarea",{className:"w-full p-2 border rounded",rows:4,placeholder:"Overview of the module",value:n.overview,onChange:e=>o({...n,overview:e.target.value})})]}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("h2",{className:"font-semibold mt-4",children:"What You'll Learn"}),s.map(((e,t)=>(0,ke.jsx)("input",{required:!0,className:"w-full p-2 my-1 border rounded",value:e,onChange:e=>{const n=[...s];n[t]=e.target.value,a(n)}},t))),(0,ke.jsx)("button",{className:"mt-2 text-blue-600",onClick:()=>a([...s,""]),children:"+ Add Item"})]}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("h2",{className:"font-semibold mt-4",children:"Skills You'll Gain"}),l.map(((e,t)=>(0,ke.jsx)("input",{required:!0,className:"w-full p-2 my-1 border rounded",value:e,onChange:e=>{const n=[...l];n[t]=e.target.value,c(n)}},t))),(0,ke.jsx)("button",{className:"mt-2 text-blue-600",onClick:()=>c([...l,""]),children:"+ Add Skill"})]}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("h2",{className:"font-semibold mt-4",children:"Prerequisites"}),d.map(((e,t)=>(0,ke.jsx)("input",{required:!0,className:"w-full p-2 my-1 border rounded",value:e,onChange:e=>{const n=[...d];n[t]=e.target.value,u(n)}},t))),(0,ke.jsx)("button",{className:"mt-2 text-blue-600",onClick:()=>u([...d,""]),children:"+ Add Prerequisite"})]}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("h2",{className:"font-semibold mt-4",children:"Overview Code Samples"}),g.map(((e,t)=>(0,ke.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,ke.jsx)("input",{className:"w-full p-2 border rounded",placeholder:"Title",value:e.title,onChange:e=>{const n=[...g];n[t].title=e.target.value,m(n)}}),(0,ke.jsx)("textarea",{className:"w-full p-2 border rounded font-mono",placeholder:"Code",rows:4,value:e.code,onChange:e=>{const n=[...g];n[t].code=e.target.value,m(n)}})]},t))),(0,ke.jsx)("button",{className:"text-blue-600",onClick:()=>m([...g,{title:"",code:""}]),children:"+ Add Code Sample"})]}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("h2",{className:"font-semibold mt-4",children:"Additional Resources"}),p.map(((e,t)=>(0,ke.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-3",children:[(0,ke.jsx)("input",{className:"p-2 border rounded",placeholder:"Title",value:e.title,onChange:e=>{const n=[...p];n[t].title=e.target.value,h(n)}}),(0,ke.jsxs)("select",{className:"p-2 border rounded",value:e.type,onChange:e=>{const n=[...p];n[t].type=e.target.value,h(n)},children:[(0,ke.jsx)("option",{value:"PDF",children:"PDF"}),(0,ke.jsx)("option",{value:"Video",children:"Video"}),(0,ke.jsx)("option",{value:"Image",children:"Image"})]}),(0,ke.jsx)("input",{required:!0,className:"p-2 border rounded",placeholder:"Link",value:e.link,onChange:e=>{const n=[...p];n[t].link=e.target.value,h(n)}})]},t))),(0,ke.jsx)("button",{className:"text-blue-600",onClick:()=>h([...p,{title:"",type:"PDF",link:""}]),children:"+ Add Resource"})]}),(0,ke.jsx)("button",{className:"mt-6 px-4 py-2 bg-blue-600 text-white rounded-lg",onClick:async()=>{const{about:e,...t}=n,i={...t,learnItems:s,skills:l,prerequisites:d,resources:p,overviewCodeSamples:g,codeExamples:f};console.log("\ud83d\udce6 Final JSON Output:",JSON.stringify(i,null,2));let o=JSON.stringify(i,null,2);try{const e=await Ty.post(`${cw}/api/modules/create-module`,o,{headers:{"Content-Type":"application/json"}});console.log(e),alert("module uploded succesfully"),r("/ckeditor2")}catch(h){var a,c,u;console.log(h),null!==h&&void 0!==h&&null!==(a=h.response)&&void 0!==a&&null!==(c=a.data)&&void 0!==c&&null!==(u=c.error)&&void 0!==u&&u.message?alert(h.response.data.error.message):alert(h)}},children:"Convert to JSON"})]}),"code-examples"===e&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)("h1",{className:"text-3xl font-bold",children:"Code Examples"}),f.map(((e,t)=>(0,ke.jsxs)("div",{className:"space-y-3 mb-6 border p-4 rounded-lg",children:[(0,ke.jsx)("input",{required:!0,className:"w-full p-2 border rounded",placeholder:"ID",value:e.id,onChange:e=>{const n=[...f];n[t].id=e.target.value,b(n)}}),(0,ke.jsx)("input",{required:!0,className:"w-full p-2 border rounded",placeholder:"Title",value:e.title,onChange:e=>{const n=[...f];n[t].title=e.target.value,b(n)}}),(0,ke.jsx)("textarea",{className:"w-full p-2 border rounded",placeholder:"Description",rows:2,value:e.description,onChange:e=>{const n=[...f];n[t].description=e.target.value,b(n)}}),(0,ke.jsx)("input",{required:!0,className:"w-full p-2 border rounded",placeholder:"Difficulty",value:e.difficulty,onChange:e=>{const n=[...f];n[t].difficulty=e.target.value,b(n)}}),(0,ke.jsx)("input",{required:!0,className:"w-full p-2 border rounded",placeholder:"Type",value:e.type,onChange:e=>{const n=[...f];n[t].type=e.target.value,b(n)}}),(0,ke.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,ke.jsx)("input",{required:!0,type:"checkbox",checked:e.completed,onChange:e=>{const n=[...f];n[t].completed=e.target.checked,b(n)}}),(0,ke.jsx)("span",{children:"Completed"})]}),(0,ke.jsx)("h3",{className:"font-semibold mt-4",children:"Design Code"}),(0,ke.jsx)("textarea",{className:"w-full p-2 border rounded font-mono",placeholder:"Design Code",rows:6,value:e.code,onChange:e=>{const n=[...f];n[t].code=e.target.value,b(n)}}),(0,ke.jsx)("h3",{className:"font-semibold mt-4",children:"Testbench Code"}),(0,ke.jsx)("textarea",{className:"w-full p-2 border rounded font-mono",placeholder:"Testbench Code",rows:6,value:e.testbench,onChange:e=>{const n=[...f];n[t].testbench=e.target.value,b(n)}})]},t))),(0,ke.jsx)("button",{className:"text-blue-600",onClick:()=>b([...f,{id:AA(),title:"",description:"",difficulty:"",type:"",completed:!1,code:"",testbench:""}]),children:"+ Add Code Example"})]})]})};var SA,IA=new Uint8Array(16);function TA(){if(!SA&&!(SA="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return SA(IA)}const EA=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const DA=function(e){return"string"===typeof e&&EA.test(e)};for(var MA=[],PA=0;PA<256;++PA)MA.push((PA+256).toString(16).substr(1));const RA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(MA[e[t+0]]+MA[e[t+1]]+MA[e[t+2]]+MA[e[t+3]]+"-"+MA[e[t+4]]+MA[e[t+5]]+"-"+MA[e[t+6]]+MA[e[t+7]]+"-"+MA[e[t+8]]+MA[e[t+9]]+"-"+MA[e[t+10]]+MA[e[t+11]]+MA[e[t+12]]+MA[e[t+13]]+MA[e[t+14]]+MA[e[t+15]]).toLowerCase();if(!DA(n))throw TypeError("Stringified UUID is invalid");return n};const BA=function(e,t,n){var i=(e=e||{}).random||(e.rng||TA)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=i[o];return t}return RA(i)},jA=()=>{const[e,t]=(0,i.useState)([]),n=J(),[o,r]=(0,i.useState)(""),[s,a]=(0,i.useState)({id:BA(),title:"",description:"",estimatedTime:"",completed:!1,sections:[{id:BA(),title:"",content:""}],codeExamples:[{id:BA(),title:"",description:"",code:"",explanation:""}]});(0,i.useEffect)((()=>{Ty.post(`${cw}/api/modules/get-modules`).then((e=>{e.data.success&&t(e.data.modules)})).catch((e=>{console.error("Failed to fetch modules:",e)}))}),[]);const l=(e,t,n)=>{const i=[...s.sections];i[e][t]=n,a({...s,sections:i})},c=(e,t,n)=>{const i=[...s.codeExamples];i[e][t]=n,a({...s,codeExamples:i})};return(0,ke.jsxs)("div",{className:"max-w-5xl mx-auto p-6 bg-white shadow-xl rounded-lg",children:[(0,ke.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Add Chapter to Module"}),(0,ke.jsxs)("div",{className:"mb-6",children:[(0,ke.jsx)("label",{className:"block text-gray-600 mb-2 font-semibold",children:"Select Module"}),(0,ke.jsxs)("select",{value:o,onChange:e=>r(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400",children:[(0,ke.jsx)("option",{value:"",children:"-- Select a Module --"}),e.map((e=>(0,ke.jsxs)("option",{value:e.id,children:[e.title," \u2013 ",e.description.split(" ").slice(0,20).join(" "),e.description.split(" ").length>50?"...":""]},e.id)))]})]}),o&&(0,ke.jsxs)(ke.Fragment,{children:[(0,ke.jsx)("input",{type:"text",placeholder:"Chapter Title",value:s.title,onChange:e=>a({...s,title:e.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg mb-4"}),(0,ke.jsx)("textarea",{placeholder:"Chapter Description",value:s.description,onChange:e=>a({...s,description:e.target.value}),rows:3,className:"w-full p-3 border border-gray-300 rounded-lg mb-4"}),(0,ke.jsx)("input",{type:"text",placeholder:"Estimated Time (e.g., 1 hour)",value:s.estimatedTime,onChange:e=>a({...s,estimatedTime:e.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg mb-6"}),s.sections.map(((e,t)=>(0,ke.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-5 mb-6",children:[(0,ke.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,ke.jsxs)("h2",{className:"text-xl font-semibold text-gray-700",children:["Section ",t+1]}),s.sections.length>1&&(0,ke.jsx)("button",{onClick:()=>(e=>{const t=s.sections.filter(((t,n)=>n!==e));a({...s,sections:t})})(t),className:"text-red-500 hover:underline text-sm",children:"Delete"})]}),(0,ke.jsx)("input",{type:"text",placeholder:"Section Title",value:e.title,onChange:e=>l(t,"title",e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg mb-4"}),(0,ke.jsx)(Gg,{editor:Jg(),data:e.content||"",onChange:(e,n)=>((e,t,n)=>{const i=n.getData();l(e,"content",i)})(t,0,n),config:{toolbar:["heading","|","fontFamily","fontSize","|","bold","italic","underline","strikethrough","|","link","bulletedList","numberedList","|","blockQuote","insertTable","code","|","undo","redo"],image:{insert:{integrations:["insertImageViaUrl"]},toolbar:["imageTextAlternative","imageStyle:full","imageStyle:side"]},removePlugins:["ImageUpload","EasyImage"]}}),e.content&&(0,ke.jsxs)("div",{className:"mt-4",children:[(0,ke.jsx)("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"Preview:"}),(0,ke.jsx)("div",{className:"prose prose-sm w-full max-w-none bg-white p-4 border border-dashed border-gray-300 rounded-lg",dangerouslySetInnerHTML:{__html:e.content}})]})]},e.id))),(0,ke.jsx)("div",{className:"flex items-center mb-8",children:(0,ke.jsx)("button",{onClick:()=>{a({...s,sections:[...s.sections,{id:BA(),title:"",content:""}]})},className:"bg-blue-50 text-blue-600 font-medium px-4 py-2 rounded-lg border border-blue-200 hover:bg-blue-100",children:"+ Add Section"})}),(0,ke.jsxs)("div",{className:"mt-8",children:[(0,ke.jsx)("h3",{className:"text-xl font-bold mb-4 text-gray-800",children:"Code Examples (For Chapter)"}),s.codeExamples.map(((e,t)=>(0,ke.jsxs)("div",{className:"mb-6 p-4 border rounded-lg bg-white shadow",children:[(0,ke.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,ke.jsxs)("h4",{className:"text-md font-semibold",children:["Example ",t+1]}),(0,ke.jsx)("button",{onClick:()=>(e=>{const t=s.codeExamples.filter(((t,n)=>n!==e));a({...s,codeExamples:t})})(t),className:"text-sm text-red-500 hover:underline",children:"Delete"})]}),(0,ke.jsx)("input",{type:"text",placeholder:"Title",value:e.title,onChange:e=>c(t,"title",e.target.value),className:"w-full p-2 mb-2 border rounded"}),(0,ke.jsx)("textarea",{placeholder:"Description",value:e.description,onChange:e=>c(t,"description",e.target.value),rows:2,className:"w-full p-2 mb-2 border rounded"}),(0,ke.jsx)("textarea",{placeholder:"Code",value:e.code,onChange:e=>c(t,"code",e.target.value),rows:4,className:"w-full p-2 font-mono text-sm mb-2 border rounded bg-gray-100"}),(0,ke.jsx)("textarea",{placeholder:"Explanation",value:e.explanation,onChange:e=>c(t,"explanation",e.target.value),rows:2,className:"w-full p-2 mb-2 border rounded"})]},e.id))),(0,ke.jsx)("button",{onClick:()=>{const e=[...s.codeExamples,{id:BA(),title:"",description:"",code:"",explanation:""}];a({...s,codeExamples:e})},className:"text-sm text-blue-600 border border-blue-200 px-3 py-1 rounded hover:bg-blue-50",children:"+ Add Code Example"})]}),(0,ke.jsx)("div",{className:"flex justify-end mt-8",children:(0,ke.jsx)("button",{onClick:async()=>{if(!o)return alert("Please select a module first!");const e={moduleId:o,...s};try{console.log(e);await Ty.post(`${cw}/api/modules/upload-chapter`,e,{headers:{"Content-Type":"application/json"}});alert("Chapter uploaded successfully"),n("/ckeditor")}catch(a){var t,i,r;console.log(a),null!==a&&void 0!==a&&null!==(t=a.response)&&void 0!==t&&null!==(i=t.data)&&void 0!==i&&null!==(r=i.error)&&void 0!==r&&r.message?alert(a.response.data.error.message):alert(a)}},className:"bg-blue-600 text-white px-5 py-2 rounded-lg font-semibold hover:bg-blue-700",children:"Upload Chapter as JSON"})})]})]})},LA=()=>{const[e,t]=(0,i.useState)(""),[n,o]=(0,i.useState)(""),[r,s]=(0,i.useState)(""),[a,l]=(0,i.useState)([""]),[c,d]=(0,i.useState)([""]),[u,p]=(0,i.useState)(""),[h,g]=(0,i.useState)({show:!1,message:"",error:!1}),m=(e,t)=>{e([...t,""])},f=(e,t,n)=>{const i=[...t];i.splice(n,1),e(i)},b=(e,t,n,i)=>{const o=[...t];o[n]=i,e(o)};return(0,ke.jsxs)("div",{className:"max-w-2xl mx-auto p-6 bg-white shadow-xl rounded-xl space-y-6",children:[(0,ke.jsx)("h2",{className:"text-2xl font-bold",children:"Write a Blog"}),(0,ke.jsx)("input",{type:"text",placeholder:"Image URL",value:e,onChange:e=>t(e.target.value),className:"w-full border rounded px-3 py-2"}),(0,ke.jsx)("input",{type:"text",placeholder:"Title",value:n,onChange:e=>o(e.target.value),className:"w-full border rounded px-3 py-2"}),(0,ke.jsx)("textarea",{placeholder:"Description",value:r,onChange:e=>s(e.target.value),className:"w-full border rounded px-3 py-2 min-h-[120px]"}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"font-semibold",children:"Tags"}),a.map(((e,t)=>(0,ke.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,ke.jsx)("input",{type:"text",value:e,onChange:e=>b(l,a,t,e.target.value),className:"flex-1 border rounded px-3 py-1",placeholder:"Enter tag"}),(0,ke.jsx)("button",{onClick:()=>f(l,a,t),className:"text-red-500 hover:text-red-700 text-sm",children:"\u2715"})]},t))),(0,ke.jsx)("button",{onClick:()=>m(l,a),className:"mt-2 text-blue-500 hover:underline text-sm",children:"+ Add Tag"})]}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"font-semibold",children:"Spectrum"}),c.map(((e,t)=>(0,ke.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[(0,ke.jsx)("input",{type:"text",value:e,onChange:e=>b(d,c,t,e.target.value),className:"flex-1 border rounded px-3 py-1",placeholder:"Enter spectrum"}),(0,ke.jsx)("button",{onClick:()=>f(d,c,t),className:"text-red-500 hover:text-red-700 text-sm",children:"\u2715"})]},t))),(0,ke.jsx)("button",{onClick:()=>m(d,c),className:"mt-2 text-blue-500 hover:underline text-sm",children:"+ Add Spectrum"})]}),(0,ke.jsxs)("div",{children:[(0,ke.jsx)("label",{className:"font-semibold block mb-2",children:"Paper Link"}),(0,ke.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value),className:"w-full border rounded px-3 py-2",placeholder:"https://example.com/paper"})]}),(0,ke.jsx)("button",{onClick:async()=>{const t=a.filter((e=>""!==e.trim())),i=c.filter((e=>""!==e.trim()));if(e.trim()&&n.trim()&&r.trim()&&0!==t.length&&0!==i.length&&u.trim())try{const o={imageUrl:e,title:n,description:r,tags:t,spectrum:i,paperLink:u.trim()};console.log(o);await Ty.post(`${cw}/api/admin/blog-upload`,o);g({show:!0,message:"Blog submitted successfully!",error:!1})}catch(o){g({show:!0,message:"Error submitting blog",error:!0})}else g({show:!0,message:"Please fill in all required fields.",error:!0})},className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Submit Blog"}),h.show&&(0,ke.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,ke.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-sm w-full",children:[(0,ke.jsx)("h3",{className:"text-lg font-semibold "+(h.error?"text-red-600":"text-green-600"),children:h.message}),(0,ke.jsx)("button",{onClick:()=>g({...h,show:!1}),className:"mt-4 bg-gray-800 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Close"})]})})]})},zA=J_;gt({palette:{primary:{main:"#6a0dad"},secondary:{main:"#f50057"}},typography:{fontFamily:["Roboto","Arial","sans-serif"].join(",")}});const OA=function(){(0,i.useEffect)((()=>{document.title="VeriGeek - Empower Your Logic, Code Your Circuit!"}),[]);const e=[{path:"/",element:(0,ke.jsx)($o,{})},{path:"/ckeditor",element:(0,ke.jsx)(CA,{})},{path:"/ckeditor2",element:(0,ke.jsx)(jA,{})},{path:"/modules",element:(0,ke.jsx)(_c,{})},{path:"/workspace",element:(0,ke.jsx)(xA,{})},{path:"/workspaceEditor/:projectId",element:(0,ke.jsx)(cA,{})},{path:"/modules/:id",element:(0,ke.jsx)(kp,{})},{path:"/modules/:moduleId/chapters/:chapterId",element:(0,ke.jsx)(Cg,{})},{path:"/editor",element:(0,ke.jsx)(em,{})},{path:"/modules/:moduleId/exercises/:exerciseId",element:(0,ke.jsx)(em,{})},{path:"/forum",element:(0,ke.jsx)(Ey,{})},{path:"/resources",element:(0,ke.jsx)(ww,{})},{path:"/careers",element:(0,ke.jsx)(hv,{})},{path:"/login",element:(0,ke.jsx)(dw,{})},{path:"/register",element:(0,ke.jsx)(pw,{})},{path:"/blog",element:(0,ke.jsx)(k_,{})},{path:"/blog/:id",element:(0,ke.jsx)(x_,{})},{path:"/research",element:(0,ke.jsx)(T_,{})},{path:"/contact",element:(0,ke.jsx)(M_,{})},{path:"/allResearchTopics",element:(0,ke.jsx)(P_,{})},{path:"/advanceBlogWriter",element:(0,ke.jsx)(LA,{})},{path:"/qfileuploaderchecker",element:(0,ke.jsx)(G_,{})},{path:"*",element:(0,ke.jsx)($o,{})}];return(0,ke.jsxs)(Gt,{theme:zA,children:[(0,ke.jsx)(vt,{}),(0,ke.jsxs)(Bt,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[(0,ke.jsx)(K_,{}),(0,ke.jsx)(Bt,{component:"main",sx:{flexGrow:1},children:(0,ke.jsx)(be,{children:e.map(((e,t)=>(0,ke.jsx)(me,{path:e.path,element:e.element},t)))})}),(0,ke.jsx)(X_,{})]})]})},NA=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,6453)).then((t=>{let{getCLS:n,getFID:i,getFCP:o,getLCP:r,getTTFB:s}=t;n(e),i(e),o(e),r(e),s(e)}))};r.createRoot(document.getElementById("root")).render((0,ke.jsx)(i.StrictMode,{children:(0,ke.jsx)(tn,{children:(0,ke.jsx)(Xy,{children:(0,ke.jsx)($y,{clientId:"245508046927-i95br0nl17o19smq8f36f0fu0f61e2jq.apps.googleusercontent.com",children:(0,ke.jsx)(OA,{})})})})})),NA()})()})();
//# sourceMappingURL=main.1f68beee.js.map