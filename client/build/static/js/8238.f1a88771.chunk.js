"use strict";(self.webpackChunkverilog_learning_platform_client=self.webpackChunkverilog_learning_platform_client||[]).push([[2525,8238],{20573:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Pe});var s=r(65043),l=r(73216),i=r(35475),n=r(87977),o=(r(78806),r(44990)),a=r(95688),c=r(40848),d=r(9189),u=r(51922),h=r(16727),x=r(77082),p=r(1086),m=r(2375),g=r(32127),b=r(58432),j=r(3757),f=r(83442),v=r(17896),A=r(83438),y=r(87031),w=r(24814),C=r(99096),k=r(74255),N=r(90739),S=r(81861),I=r(17553),z=r(48620),T=r(84949),E=r(1523),L=r(28969),$=r(1367),M=r(73728),H=r(22642),R=r(99229),B=r(83149),q=r(1441),_=r(54348),O=r(2284),F=r(97756),U=r(978),D=r(72105),J=r(56174),P=r(83602),W=r(71360),Q=r(5379),V=r(75686),Y=r(9855),Z=r(57130),G=r(48032),X=r(82300),K=r(84105),ee=r(70067),te=r(50797),re=r(72313),se=r(88693),le=r(7104),ie=r(41680),ne=r(93017),oe=r(70579);const ae=(0,v.$)();ae.register("javascript",A.A),ae.register("python",y.A),ae.register("css",w.A),ae.register("html",C.A),ae.register("json",k.A),ae.register("bash",N.A),ae.register("sql",S.A),ae.register("java",I.A),ae.register("cpp",z.A),ae.register("php",T.A);const ce=c.Ay.extend({addAttributes(){var e;return{...null===(e=this.parent)||void 0===e?void 0:e.call(this),width:{default:null,parseHTML:e=>e.getAttribute("width"),renderHTML:e=>e.width?{width:e.width}:{}},height:{default:null,parseHTML:e=>e.getAttribute("height"),renderHTML:e=>e.height?{height:e.height}:{}},align:{default:"left",parseHTML:e=>e.style.float||"left",renderHTML:e=>({style:`float: ${{left:"left",center:"none",right:"right"}[e.align]||"left"}; margin: ${"center"===e.align?"0 auto":"10px"}; display: ${"center"===e.align?"block":"inline-block"};`})}}}}),de=g.Ay.extend({addAttributes(){var e;return{...null===(e=this.parent)||void 0===e?void 0:e.call(this),alignment:{default:"left",parseHTML:e=>"auto"===e.style.marginLeft&&"auto"===e.style.marginRight?"center":"auto"===e.style.marginLeft?"right":"left",renderHTML:e=>({style:`${{left:"margin-left: 0; margin-right: auto;",center:"margin-left: auto; margin-right: auto;",right:"margin-left: auto; margin-right: 0;"}[e.alignment||"left"]} border-collapse: collapse; width: 100%; border: 2px solid #8b5cf6;`})}}}}),ue=e=>{let{editorContent:t,setEditorContent:r,customEditContent:l=null,setCustomEditContent:i=null}=e;const n=(0,s.useRef)(),[c,g]=(0,s.useState)(16),[v,A]=(0,s.useState)(!1),[y,w]=(0,s.useState)(!1),[C,k]=(0,s.useState)(!1),[N,S]=(0,s.useState)(null),[I,z]=(0,s.useState)(!1),[T,ue]=(0,s.useState)({rows:3,cols:3,withHeaderRow:!0,alignment:"left"}),he=(0,o.hG)({extensions:[a.A,ce.configure({HTMLAttributes:{class:"max-w-full h-auto rounded-lg shadow-lg border border-purple-200 cursor-pointer"}}),d.A.configure({lowlight:ae,HTMLAttributes:{class:"bg-gray-900 text-gray-100 p-4 rounded-lg text-sm font-mono overflow-x-auto border border-purple-300 shadow-lg hljs"}}),u.A.configure({types:["heading","paragraph"]}),h.A,x.A,p.A,m.Ay.configure({multicolor:!0}),de.configure({resizable:!0,HTMLAttributes:{class:"table-custom border-collapse border-2 border-purple-500 w-full"}}),b.A.configure({HTMLAttributes:{class:"table-row"}}),j.h.configure({HTMLAttributes:{class:"table-header bg-purple-100 border border-purple-400 p-2 font-bold text-purple-800"}}),f.A.configure({HTMLAttributes:{class:"table-cell border border-purple-300 p-2"}})],content:null==l?"<p>Start typing...</p>":l,editorProps:{attributes:{class:"prose prose-purple max-w-none focus:outline-none min-h-full p-6 text-gray-800",style:`min-height: calc(100vh - 200px); font-size: ${c}px;`},handleClickOn:(e,t,r,s,l)=>{if("image"===r.type.name){const{src:e,width:t,height:l,align:i}=r.attrs;return S({src:e,width:t||"300px",height:l||"auto",align:i||"left",pos:s}),k(!0),!0}return!1}},onUpdate:e=>{let{editor:t}=e;console.log("chages occured");const s=t.getHTML();console.log(s),r(s)},onCreate:e=>{let{editor:t}=e;const s=t.getHTML();r(s)}});(0,s.useEffect)((()=>{if(he){const e=()=>{setTimeout((()=>{const e=document.querySelector(".preview-content");if(e&&window.hljs){e.querySelectorAll("pre code:not(.hljs)").forEach((e=>{window.hljs.highlightElement(e)}))}}),100)};return he.on("update",e),e(),()=>{he.off("update",e)}}}),[he]);const xe=(0,s.useCallback)((()=>{const e=window.prompt("Enter image URL");e&&he&&he.chain().focus().setImage({src:e,width:"300px",height:"auto",align:"left"}).run()}),[he]),pe=(0,s.useCallback)((e=>{const t=e.target.files[0];if(!t||!he)return;const r=new FileReader;r.onloadend=()=>{he.chain().focus().setImage({src:r.result,width:"300px",height:"auto",align:"left"}).run()},r.readAsDataURL(t)}),[he]),me=(0,s.useCallback)((e=>{if(!he||!N)return;const{state:t}=he,{doc:r}=t;r.descendants(((t,r)=>{if("image"===t.type.name&&t.attrs.src===N.src)return he.chain().focus().setNodeSelection(r).updateAttributes("image",e).run(),!1})),S((t=>({...t,...e})))}),[he,N]),ge=(0,s.useCallback)((()=>{if(!he)return;const{rows:e,cols:t,withHeaderRow:r,alignment:s}=T;he.chain().focus().insertTable({rows:e,cols:t,withHeaderRow:r}).run(),setTimeout((()=>{he.chain().focus().updateAttributes("table",{alignment:s}).run()}),100),z(!1)}),[he,T]),be=(0,s.useCallback)((()=>{he&&he.chain().focus().addRowAfter().run()}),[he]),je=(0,s.useCallback)((()=>{he&&he.chain().focus().deleteRow().run()}),[he]),fe=(0,s.useCallback)((()=>{he&&he.chain().focus().addColumnAfter().run()}),[he]),ve=(0,s.useCallback)((()=>{he&&he.chain().focus().deleteColumn().run()}),[he]),Ae=(0,s.useCallback)((()=>{he&&he.chain().focus().deleteTable().run()}),[he]),ye=(0,s.useCallback)((()=>{he&&he.chain().focus().toggleHeaderRow().run()}),[he]),we=(0,s.useCallback)((()=>{he&&he.chain().focus().mergeCells().run()}),[he]),Ce=(0,s.useCallback)((()=>{he&&he.chain().focus().splitCell().run()}),[he]),ke=(0,s.useCallback)((()=>{if(!he)return;const e=he.getHTML();console.log("Saving content:",e)}),[he]),Ne=(0,s.useCallback)((()=>{if(!he)return;const e=he.getText(),t=new Blob([e],{type:"text/plain"}),r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download="purple-document.txt",s.click(),URL.revokeObjectURL(r)}),[he]),Se=(0,s.useCallback)((()=>{he&&A(!0)}),[he]),Ie=(0,s.useCallback)((async()=>{if(!he)return;const e=he.getHTML();try{await navigator.clipboard.writeText(e),alert("HTML content copied to clipboard!")}catch(t){console.error("Failed to copy: ",t);const r=document.createElement("textarea");r.value=e,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),alert("HTML content copied to clipboard!")}}),[he]),ze=(0,s.useCallback)((e=>{g(e);const t=document.querySelector(".ProseMirror");t&&(t.style.fontSize=`${e}px`)}),[]);if(!he)return(0,oe.jsx)("div",{className:"flex items-center justify-center h-screen bg-gradient-to-br from-purple-900 via-purple-800 to-indigo-900",children:(0,oe.jsx)("div",{className:"text-white text-xl",children:"Loading Enhanced Split-Screen Editor..."})});const Te=e=>{let{onClick:t,isActive:r=!1,disabled:s=!1,children:l,title:i}=e;return(0,oe.jsx)("button",{onClick:t,disabled:s,title:i,className:`\n        p-1.5 rounded-md transition-all duration-200 text-sm\n        ${r?"bg-purple-600 text-white shadow-md scale-105":"text-purple-600 hover:bg-purple-100 hover:text-purple-700"}\n        ${s?"opacity-50 cursor-not-allowed":"hover:scale-105 hover:shadow-sm"}\n      `,children:l})};return(0,oe.jsxs)("div",{className:"h-screen bg-gradient-to-br from-purple-50 via-white to-purple-50 flex flex-col relative z-10",children:[(0,oe.jsx)("div",{className:"bg-gradient-to-r from-purple-600 via-purple-700 to-indigo-600 text-white p-3 shadow-lg",children:(0,oe.jsxs)("div",{className:"flex justify-between items-center",children:[(0,oe.jsxs)("div",{children:[(0,oe.jsx)("h1",{className:"text-2xl font-bold",children:"Enhanced Split-Screen Rich Text Editor with Tables"}),(0,oe.jsx)("p",{className:"text-purple-100 text-sm",children:"Editor on the left, live preview on the right with syntax highlighting and table support"})]}),(0,oe.jsx)("button",{onClick:()=>w(!y),className:"p-2 bg-white bg-opacity-20 rounded-lg hover:bg-opacity-30 transition-colors",title:y?"Exit Fullscreen":"Enter Fullscreen",children:y?(0,oe.jsx)(E.A,{size:20}):(0,oe.jsx)(L.A,{size:20})})]})}),(0,oe.jsxs)("div",{className:"sticky top-0 z-40 border-b border-purple-200 bg-gradient-to-r from-purple-50 to-indigo-50 p-3 shadow-sm backdrop-blur-sm bg-opacity-95",children:[(0,oe.jsxs)("div",{className:"flex flex-wrap gap-1 items-center",children:[(0,oe.jsxs)("div",{className:"flex items-center gap-0.5 mr-3 p-1.5 bg-white rounded-md shadow-sm border border-purple-200",children:[(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().toggleBold().run(),isActive:he.isActive("bold"),title:"Bold",children:(0,oe.jsx)($.A,{size:14})}),(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().toggleItalic().run(),isActive:he.isActive("italic"),title:"Italic",children:(0,oe.jsx)(M.A,{size:14})}),(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().toggleUnderline().run(),isActive:he.isActive("underline"),title:"Underline",children:(0,oe.jsx)(H.A,{size:14})}),(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().toggleStrike().run(),isActive:he.isActive("strike"),title:"Strikethrough",children:(0,oe.jsx)(R.A,{size:14})})]}),(0,oe.jsxs)("div",{className:"flex items-center gap-0.5 mr-3 p-1.5 bg-white rounded-md shadow-sm border border-purple-200",children:[(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().setTextAlign("left").run(),isActive:he.isActive({textAlign:"left"}),title:"Align Left",children:(0,oe.jsx)(B.A,{size:14})}),(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().setTextAlign("center").run(),isActive:he.isActive({textAlign:"center"}),title:"Align Center",children:(0,oe.jsx)(q.A,{size:14})}),(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().setTextAlign("right").run(),isActive:he.isActive({textAlign:"right"}),title:"Align Right",children:(0,oe.jsx)(_.A,{size:14})})]}),(0,oe.jsxs)("div",{className:"flex items-center gap-0.5 mr-3 p-1.5 bg-white rounded-md shadow-sm border border-purple-200",children:[(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().toggleBulletList().run(),isActive:he.isActive("bulletList"),title:"Bullet List",children:(0,oe.jsx)(O.A,{size:14})}),(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().toggleOrderedList().run(),isActive:he.isActive("orderedList"),title:"Numbered List",children:(0,oe.jsx)(F.A,{size:14})})]}),(0,oe.jsxs)("div",{className:"flex items-center gap-0.5 mr-3 p-1.5 bg-white rounded-md shadow-sm border border-purple-200",children:[(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().toggleBlockquote().run(),isActive:he.isActive("blockquote"),title:"Quote",children:(0,oe.jsx)(U.A,{size:14})}),(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().toggleCodeBlock().run(),isActive:he.isActive("codeBlock"),title:"Code Block",children:(0,oe.jsx)(D.A,{size:14})}),(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().setHorizontalRule().run(),title:"Horizontal Rule",children:(0,oe.jsx)(J.A,{size:14})})]}),(0,oe.jsxs)("div",{className:"flex items-center gap-0.5 mr-3 p-1.5 bg-white rounded-md shadow-sm border border-purple-200",children:[(0,oe.jsx)(Te,{onClick:()=>z(!0),title:"Insert Table",children:(0,oe.jsx)(P.A,{size:14})}),(0,oe.jsx)(Te,{onClick:be,disabled:!he.can().addRowAfter(),title:"Add Row",children:(0,oe.jsxs)("div",{className:"flex items-center",children:[(0,oe.jsx)(W.A,{size:10}),(0,oe.jsx)(Q.A,{size:10})]})}),(0,oe.jsx)(Te,{onClick:fe,disabled:!he.can().addColumnAfter(),title:"Add Column",children:(0,oe.jsxs)("div",{className:"flex items-center",children:[(0,oe.jsx)(W.A,{size:10}),(0,oe.jsx)(V.A,{size:10})]})}),(0,oe.jsx)(Te,{onClick:Ae,disabled:!he.can().deleteTable(),title:"Delete Table",children:(0,oe.jsx)(Y.A,{size:14})})]}),(0,oe.jsxs)("div",{className:"flex items-center gap-1.5 mr-3 p-1.5 bg-white rounded-md shadow-sm border border-purple-200",children:[(0,oe.jsx)("input",{type:"color",onChange:e=>he.chain().focus().setColor(e.target.value).run(),className:"w-6 h-6 rounded cursor-pointer border border-purple-300 hover:border-purple-500",title:"Text Color",defaultValue:"#8b5cf6"}),(0,oe.jsx)("input",{type:"color",onChange:e=>he.chain().focus().toggleHighlight({color:e.target.value}).run(),className:"w-6 h-6 rounded cursor-pointer border border-purple-300 hover:border-purple-500",title:"Highlight Color",defaultValue:"#e879f9"})]}),(0,oe.jsxs)("div",{className:"flex items-center gap-0.5 mr-3 p-1.5 bg-white rounded-md shadow-sm border border-purple-200",children:[(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().undo().run(),disabled:!he.can().undo(),title:"Undo",children:(0,oe.jsx)(Z.A,{size:14})}),(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().redo().run(),disabled:!he.can().redo(),title:"Redo",children:(0,oe.jsx)(G.A,{size:14})})]})]}),(0,oe.jsxs)("div",{className:"flex flex-wrap gap-1 items-center mt-2 pt-2 border-t border-purple-200",children:[(0,oe.jsxs)("div",{className:"flex items-center gap-1.5 mr-3 p-1.5 bg-white rounded-md shadow-sm border border-purple-200",children:[(0,oe.jsx)(X.A,{size:14,className:"text-purple-600"}),(0,oe.jsxs)("select",{value:c,onChange:e=>ze(Number(e.target.value)),className:"px-2 py-1 border border-purple-300 rounded text-xs focus:border-purple-500 focus:ring-1 focus:ring-purple-200",children:[(0,oe.jsx)("option",{value:12,children:"12px"}),(0,oe.jsx)("option",{value:14,children:"14px"}),(0,oe.jsx)("option",{value:16,children:"16px"}),(0,oe.jsx)("option",{value:18,children:"18px"}),(0,oe.jsx)("option",{value:20,children:"20px"}),(0,oe.jsx)("option",{value:24,children:"24px"}),(0,oe.jsx)("option",{value:32,children:"32px"})]})]}),(0,oe.jsx)("div",{className:"flex items-center gap-0.5 mr-3 p-1.5 bg-white rounded-md shadow-sm border border-purple-200",children:[1,2,3].map((e=>(0,oe.jsx)(Te,{onClick:()=>he.chain().focus().toggleHeading({level:e}).run(),isActive:he.isActive("heading",{level:e}),title:`Heading ${e}`,children:(0,oe.jsxs)("span",{className:"font-bold text-xs",children:["H",e]})},e)))}),he.isActive("table")&&(0,oe.jsxs)("div",{className:"flex items-center gap-0.5 mr-3 p-1.5 bg-white rounded-md shadow-sm border border-purple-200",children:[(0,oe.jsx)(Te,{onClick:je,disabled:!he.can().deleteRow(),title:"Delete Row",children:(0,oe.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,oe.jsx)(Y.A,{size:10}),(0,oe.jsx)(Q.A,{size:10})]})}),(0,oe.jsx)(Te,{onClick:ve,disabled:!he.can().deleteColumn(),title:"Delete Column",children:(0,oe.jsxs)("div",{className:"flex items-center text-red-600",children:[(0,oe.jsx)(Y.A,{size:10}),(0,oe.jsx)(V.A,{size:10})]})}),(0,oe.jsx)(Te,{onClick:ye,title:"Toggle Header Row",children:(0,oe.jsx)(K.A,{size:14})}),(0,oe.jsx)(Te,{onClick:we,disabled:!he.can().mergeCells(),title:"Merge Cells",children:(0,oe.jsx)("span",{className:"text-xs font-bold",children:"M"})}),(0,oe.jsx)(Te,{onClick:Ce,disabled:!he.can().splitCell(),title:"Split Cell",children:(0,oe.jsx)("span",{className:"text-xs font-bold",children:"S"})})]}),(0,oe.jsxs)("div",{className:"flex items-center gap-0.5 mr-3 p-1.5 bg-white rounded-md shadow-sm border border-purple-200",children:[(0,oe.jsx)(Te,{onClick:xe,title:"Add Image from URL",children:(0,oe.jsx)(ee.A,{size:14})}),(0,oe.jsx)(Te,{onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.click()},title:"Upload Image",children:(0,oe.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,oe.jsx)(ee.A,{size:14}),(0,oe.jsx)("span",{className:"text-xs",children:"+"})]})})]}),(0,oe.jsxs)("div",{className:"flex items-center gap-0.5 ml-auto p-1.5 bg-white rounded-md shadow-sm border border-purple-200",children:[(0,oe.jsx)(Te,{onClick:Se,title:"View HTML Source",children:(0,oe.jsx)(te.A,{size:14})}),(0,oe.jsx)(Te,{onClick:Ie,title:"Copy HTML to Clipboard",children:(0,oe.jsx)(re.A,{size:14})}),(0,oe.jsx)(Te,{onClick:ke,title:"Save as HTML",children:(0,oe.jsx)(se.A,{size:14})}),(0,oe.jsx)(Te,{onClick:Ne,title:"Export as Text",children:(0,oe.jsx)(le.A,{size:14})})]})]})]}),(0,oe.jsxs)("div",{className:"flex-1 flex",children:[(0,oe.jsxs)("div",{className:(y?"w-full":"w-1/2")+" bg-white border-r-2 border-purple-200 flex flex-col",children:[(0,oe.jsx)("div",{className:"bg-purple-100 px-3 py-2 border-b border-purple-200",children:(0,oe.jsxs)("h3",{className:"text-xs font-semibold text-purple-700 flex items-center gap-1",children:[(0,oe.jsx)(ie.A,{size:12}),"Editor"]})}),(0,oe.jsx)("div",{className:"flex-1 overflow-auto",children:(0,oe.jsx)(o.$Z,{editor:he})})]}),!y&&(0,oe.jsxs)("div",{className:"w-1/2 bg-gradient-to-br from-purple-50 to-indigo-50 flex flex-col",children:[(0,oe.jsx)("div",{className:"bg-purple-100 px-3 py-2 border-b border-purple-200",children:(0,oe.jsxs)("h3",{className:"text-xs font-semibold text-purple-700 flex items-center gap-1",children:[(0,oe.jsx)(ne.A,{size:12}),"Live Preview"]})}),(0,oe.jsx)("div",{className:"flex-1 overflow-auto p-6",children:(0,oe.jsx)("div",{className:"preview-content prose prose-purple max-w-none",style:{fontSize:`${c}px`},dangerouslySetInnerHTML:{__html:t}})})]})]}),(0,oe.jsx)("input",{ref:n,type:"file",accept:"image/*",onChange:pe,className:"hidden"}),v&&(0,oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,oe.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl w-full m-4 max-h-96 overflow-auto",children:[(0,oe.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,oe.jsx)("h3",{className:"text-lg font-bold text-purple-700",children:"HTML Source"}),(0,oe.jsx)("button",{onClick:()=>A(!1),className:"text-gray-500 hover:text-gray-700",children:"\u2715"})]}),(0,oe.jsx)("pre",{className:"bg-gray-100 p-4 rounded-lg text-sm overflow-auto max-h-64",children:(0,oe.jsx)("code",{children:he.getHTML()})}),(0,oe.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,oe.jsx)("button",{onClick:Ie,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Copy to Clipboard"}),(0,oe.jsx)("button",{onClick:()=>A(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Close"})]})]})}),C&&N&&(0,oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,oe.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full m-4",children:[(0,oe.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,oe.jsx)("h3",{className:"text-lg font-bold text-purple-700",children:"Image Settings"}),(0,oe.jsx)("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700",children:"\u2715"})]}),(0,oe.jsxs)("div",{className:"space-y-4",children:[(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Width (px)"}),(0,oe.jsx)("input",{type:"number",value:parseInt(N.width)||300,onChange:e=>me({width:`${e.target.value}px`}),className:"w-full px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Alignment"}),(0,oe.jsxs)("select",{value:N.align||"left",onChange:e=>me({align:e.target.value}),className:"w-full px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,oe.jsx)("option",{value:"left",children:"Left"}),(0,oe.jsx)("option",{value:"center",children:"Center"}),(0,oe.jsx)("option",{value:"right",children:"Right"})]})]})]}),(0,oe.jsxs)("div",{className:"mt-6 flex gap-2",children:[(0,oe.jsx)("button",{onClick:()=>k(!1),className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Apply Changes"}),(0,oe.jsx)("button",{onClick:()=>{he.chain().focus().deleteRange({from:N.pos,to:N.pos+1}).run(),k(!1)},className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700",children:"Delete Image"})]})]})}),I&&(0,oe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,oe.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full m-4",children:[(0,oe.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,oe.jsx)("h3",{className:"text-lg font-bold text-purple-700",children:"Insert Table"}),(0,oe.jsx)("button",{onClick:()=>z(!1),className:"text-gray-500 hover:text-gray-700",children:"\u2715"})]}),(0,oe.jsxs)("div",{className:"space-y-4",children:[(0,oe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rows"}),(0,oe.jsx)("input",{type:"number",min:"1",max:"10",value:T.rows,onChange:e=>ue((t=>({...t,rows:parseInt(e.target.value)}))),className:"w-full px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Columns"}),(0,oe.jsx)("input",{type:"number",min:"1",max:"10",value:T.cols,onChange:e=>ue((t=>({...t,cols:parseInt(e.target.value)}))),className:"w-full px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Table Caption (Optional)"}),(0,oe.jsx)("input",{type:"text",value:T.caption,onChange:e=>ue((t=>({...t,caption:e.target.value}))),placeholder:"Enter table caption...",className:"w-full px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500"})]}),(0,oe.jsxs)("div",{children:[(0,oe.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Table Alignment"}),(0,oe.jsxs)("select",{value:T.alignment,onChange:e=>ue((t=>({...t,alignment:e.target.value}))),className:"w-full px-3 py-2 border border-purple-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500",children:[(0,oe.jsx)("option",{value:"left",children:"Left"}),(0,oe.jsx)("option",{value:"center",children:"Center"}),(0,oe.jsx)("option",{value:"right",children:"Right"})]})]}),(0,oe.jsxs)("div",{className:"flex items-center",children:[(0,oe.jsx)("input",{type:"checkbox",id:"headerRow",checked:T.withHeaderRow,onChange:e=>ue((t=>({...t,withHeaderRow:e.target.checked}))),className:"h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300 rounded"}),(0,oe.jsx)("label",{htmlFor:"headerRow",className:"ml-2 block text-sm text-gray-700",children:"Include header row"})]})]}),(0,oe.jsxs)("div",{className:"mt-6 flex gap-2",children:[(0,oe.jsx)("button",{onClick:ge,className:"px-4 py-2 bg-purple-600 text-white rounded hover:bg-purple-700",children:"Insert Table"}),(0,oe.jsx)("button",{onClick:()=>z(!1),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400",children:"Cancel"})]})]})})]})};var he=r(86213),xe=r(96446),pe=r(81637),me=r(85865),ge=r(11906),be=r(60295),je=r(39336),fe=r(35721),ve=r(71322),Ae=r(48734),ye=r(17392),we=r(22698),Ce=r(43845),ke=r(63336),Ne=r(40794),Se=r(14194),Ie=r(98606),ze=r(37141),Te=r(93287),Ee=r(87332),Le=r(45278),$e=r(83560),Me=r(33752),He=r(32782),Re=r(20916),Be=r(80638),qe=r(20905),_e=r(92197),Oe=r(53787),Fe=r(62770),Ue=r(37709),De=(r(44557),r(20134)),Je=r(8729);try{const e=r(87888);Ue.A.registerLanguage("verilog",e)}catch(We){console.warn("Verilog highlighting not available:",We)}const Pe=()=>{var e,t,r,o,a,c,d,u;const{moduleId:h,chapterId:x}=(0,l.g)(),p=(0,l.Zp)(),[m,g]=(0,s.useState)(null),b=(0,s.useRef)(),[j,f]=(0,s.useState)(null),[v,A]=(0,s.useState)(null),[y,w]=(0,s.useState)(!0),[C,k]=(0,s.useState)(!1),[N,S]=(0,s.useState)(!1),[I,z]=(0,s.useState)(!1),[T,E]=(0,s.useState)(!1),[L,$]=(0,s.useState)(""),[M,H]=(0,s.useState)("success"),[R,B]=(0,s.useState)(null),[q,_]=(0,s.useState)(!1),[O,F]=(0,s.useState)(null),U=(0,s.useContext)(Je.Ay),[D,J]=(0,s.useState)(null),[P,W]=(0,s.useState)(!1),[Q,V]=(0,s.useState)(""),[Y,Z]=(0,s.useState)(""),[G,X]=(0,s.useState)(""),K=()=>{var e,t,r;return"verigeektech@gmail.com"===(null===U||void 0===U||null===(e=U.user)||void 0===e?void 0:e.email)||"verigeektech@gmail.com"===(null===U||void 0===U||null===(t=U.user)||void 0===t||null===(r=t.wholeData)||void 0===r?void 0:r.email)},ee=()=>{var e;if(null===U||void 0===U||null===(e=U.currentModule)||void 0===e||!e.chapters)return;let t=U.currentChapterIndex+1;var r;U.currentModule.chapters.length>t&&(null===(r=U.setCurrentChapterIndex)||void 0===r||r.call(U,t),p(`/modules/${h}/chapters/${U.currentModule.chapters[t].chapterId}`))};(0,s.useEffect)((()=>{if(!h||!m||!m.moduleType)return;if(null===U||void 0===U||!U.user)return void _(!1);_(!0);(async()=>{if(h&&m)try{var e;const r=await he.A.post(`${Fe.A}/api/general/user-by-email`,{email:null===(e=U.user.wholeData)||void 0===e?void 0:e.email});var t;if(200===r.status)"free"===m.moduleType||null!==(t=r.data.paidModule)&&void 0!==t&&t.some((e=>e.moduleId===h))||p(`/modules/${h}`)}catch(r){console.error("Error checking module access:",r)}})()}),[null===U||void 0===U?void 0:U.user]),(0,s.useEffect)((()=>{y||setTimeout((()=>{document.querySelectorAll("pre code").forEach((e=>{Ue.A.highlightBlock(e)}))}),0)}),[y,v]),(0,s.useEffect)((()=>{(async()=>{try{w(!0);let r=(0,qe.P)(h);if(!r)throw new Error(`Module with ID ${h} not found`);g(r);try{const e=(await he.A.get(`${Fe.A}/api/general/chapter/${x}`)).data;console.log(e),A(e),J(e.editorContent),f({id:e.id,title:e.title,moduleId:e.moduleId})}catch(e){if(console.error("Error fetching chapter content:",e),B(e.message),null!==r&&void 0!==r&&r.chapters){const e=parseInt(x,10),t=r.chapters.find((t=>t.id===e));if(!t)throw new Error(`Chapter with ID ${x} not found`);f(t),A({id:t.id,title:t.title,description:t.description||"",sections:t.sections||[],codeExamples:t.codeExamples||[]})}}if(q)try{const e=await he.A.get(`${Fe.A}/api/user/progress/${h}`);200===e.status&&F(e.data)}catch(t){console.error("Error fetching progress:",t)}if(x){const e=JSON.parse(localStorage.getItem("bookmarkedChapters")||"[]").some((e=>e.moduleId===h&&e.chapterId===x));S(e);const t=parseInt(x,10),r=(0,Oe.Fh)(h,t);z(r)}}catch(R){console.error("Error fetching data:",R),B(R.message)}finally{w(!1)}})()}),[h,x,q]);const te=()=>{k(!C)},re=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";$(e),H(t),E(!0)};if(y)return(0,oe.jsx)(xe.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:(0,oe.jsx)(pe.A,{})});if(R||!m||!j)return(0,oe.jsxs)(xe.A,{className:"container page-container",sx:{textAlign:"center",py:8},children:[(0,oe.jsx)(me.A,{variant:"h5",children:R||"Content not found"}),(0,oe.jsx)(ge.A,{component:i.N_,to:"/modules",sx:{mt:2},children:"Back to Modules"})]});const se=m.chapters?m.chapters.findIndex((e=>e.id===parseInt(x,10))):-1;null===(e=m.chapters)||void 0===e||e.length;return(0,oe.jsxs)(oe.Fragment,{children:[j&&(null===v||void 0===v?void 0:v.description)&&(0,oe.jsx)(De.A,{title:null===j||void 0===j?void 0:j.title,description:(null===v||void 0===v?void 0:v.description)||"",url:"verigeek.xyz"}),(0,oe.jsx)(be.Ay,{anchor:"left",open:C,onClose:te,children:(0,oe.jsxs)(xe.A,{sx:{width:300,p:2},children:[(0,oe.jsx)(me.A,{variant:"h6",sx:{mb:2},children:(null===U||void 0===U||null===(t=U.currentModule)||void 0===t?void 0:t.title)||m.title}),(0,oe.jsx)(je.A,{sx:{mb:2}}),(0,oe.jsx)(fe.A,{children:null===(r=m.chapters)||void 0===r?void 0:r.map((e=>{const t=e.id===parseInt(x,10),r=(0,Oe.Fh)(h,e.id);return(0,oe.jsxs)(ve.Ay,{button:!0,component:i.N_,to:`/modules/${h}/chapters/${e.id}`,selected:t,sx:{borderRadius:1,mb:.5,"&.Mui-selected":{bgcolor:"primary.light",color:"primary.contrastText"}},children:[r&&(0,oe.jsx)(Ie.A,{sx:{mr:1,fontSize:"1rem",color:"success.main"}}),(0,oe.jsx)(Ae.A,{primary:`${e.id}. ${e.title}`,primaryTypographyProps:{fontWeight:t?"bold":"normal",fontSize:"0.9rem"}})]},e.id)}))})]})}),(0,oe.jsxs)(xe.A,{className:"container page-container",children:[P&&(0,oe.jsxs)(xe.A,{sx:{mb:4},children:[(0,oe.jsxs)(xe.A,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,oe.jsx)(me.A,{variant:"h6",children:"Editing Chapter Content"}),(0,oe.jsxs)(xe.A,{sx:{display:"flex",gap:1},children:[(0,oe.jsx)(ge.A,{variant:"contained",startIcon:(0,oe.jsx)(ze.A,{}),onClick:async()=>{if(K())try{const e={...v,editorContent:G,isNewEditorUsed:!0};console.log("update content"),console.log(e);if(200!==(await he.A.put(`${Fe.A}/api/general/updatechapter/${x}`,{editorContent:G,isNewEditorUsed:!0})).status)throw new Error("Failed to update chapter content");A(e),W(!1),re("Chapter content updated successfully!","success")}catch(R){console.error("Error saving chapter content:",R),re("Failed to save changes. Please try again.","error")}},color:"primary",children:"Save Edits"}),(0,oe.jsx)(ge.A,{variant:"outlined",onClick:()=>{W(!1),V("")},children:"Cancel"})]})]}),(0,oe.jsx)(ue,{editorContent:G,setEditorContent:X,customEditContent:D})]}),(0,oe.jsxs)(xe.A,{sx:{mb:3,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,oe.jsxs)(xe.A,{sx:{display:"flex",alignItems:"center"},children:[(0,oe.jsx)(ye.A,{onClick:te,sx:{mr:1},children:(0,oe.jsx)(Te.A,{})}),(0,oe.jsxs)(we.A,{children:[(0,oe.jsx)(i.N_,{to:"/",style:{textDecoration:"none",color:"inherit"},children:"Home"}),(0,oe.jsx)(i.N_,{to:"/modules",style:{textDecoration:"none",color:"inherit"},children:"Modules"}),(0,oe.jsx)(i.N_,{to:`/modules/${h}`,style:{textDecoration:"none",color:"inherit"},children:null===U||void 0===U||null===(o=U.currentModule)||void 0===o?void 0:o.title}),(0,oe.jsxs)(me.A,{color:"text.primary",children:["Chapter ",null===j||void 0===j?void 0:j.title]})]})]}),(0,oe.jsx)(ge.A,{component:i.N_,to:`/modules/${h}`,startIcon:(0,oe.jsx)(Ee.A,{}),children:"Back to Module"})]}),(0,oe.jsxs)(xe.A,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",mb:3},children:[(0,oe.jsxs)(xe.A,{sx:{display:"flex",alignItems:"center"},children:[(0,oe.jsx)(Le.A,{sx:{mr:1,color:"primary.main"}}),(0,oe.jsxs)(me.A,{variant:"subtitle1",children:["Chapter ",null===j||void 0===j?void 0:j.title,I&&(0,oe.jsx)(Ce.A,{size:"small",icon:(0,oe.jsx)(Ie.A,{}),label:"Completed",color:"success",sx:{ml:2}})]})]}),(0,oe.jsxs)(xe.A,{sx:{display:"flex",gap:1},children:[K()&&!P&&(0,oe.jsx)(ge.A,{variant:"outlined",size:"small",startIcon:(0,oe.jsx)($e.A,{}),onClick:()=>{if(console.log(b.current.innerHTML),K()){if(null!==v&&void 0!==v&&v.isNewEditorUsed&&null!==v&&void 0!==v&&v.editorContent)V(b.current.innerHTML);else{var e;let t="";null===v||void 0===v||null===(e=v.sections)||void 0===e||e.forEach((e=>{t+=`<h3>${e.title||"Untitled Section"}</h3>`,t+=e.content||""})),V(t)}W(!0)}},color:"primary",children:"Start Editing"}),!I&&(0,oe.jsx)(ge.A,{variant:"outlined",size:"small",startIcon:(0,oe.jsx)(Ie.A,{}),onClick:()=>{if(!m||!j)return;const e=parseInt(x,10);(0,Oe.Ao)(h,e,!0),z(!0),re("Chapter marked as completed!","success")},children:"Mark as Completed"}),(0,oe.jsx)(ge.A,{variant:"outlined",size:"small",startIcon:N?(0,oe.jsx)(Me.A,{}):(0,oe.jsx)(He.A,{}),onClick:()=>{if(!m||!j)return;const e=JSON.parse(localStorage.getItem("bookmarkedChapters")||"[]"),t={moduleId:h,chapterId:x.toString(),moduleTitle:m.title,chapterTitle:j.title,timestamp:(new Date).toISOString()};if(N){const t=e.filter((e=>!(e.moduleId===h&&e.chapterId===x.toString())));localStorage.setItem("bookmarkedChapters",JSON.stringify(t)),S(!1),re("Chapter bookmark removed","info")}else e.push(t),localStorage.setItem("bookmarkedChapters",JSON.stringify(e)),S(!0),re("Chapter bookmarked successfully! Access it anytime from your profile.","success")},children:N?"Bookmarked":"Bookmark"})]})]}),!P&&(0,oe.jsxs)(ke.A,{elevation:0,sx:{borderRadius:2,overflow:"hidden",mb:4},children:[(0,oe.jsxs)(xe.A,{sx:{p:4,pb:2},children:[(0,oe.jsx)(me.A,{variant:"h4",gutterBottom:!0,children:(null===v||void 0===v?void 0:v.title)||j.title||""}),(0,oe.jsx)(me.A,{variant:"subtitle1",color:"text.secondary",gutterBottom:!0,children:(null===v||void 0===v?void 0:v.description)||""}),(null===v||void 0===v?void 0:v.estimatedTime)&&(0,oe.jsxs)(me.A,{variant:"body2",color:"text.secondary",children:["Estimated time: ",v.estimatedTime]})]}),null!==v&&!0===v.isNewEditorUsed?(0,oe.jsx)("div",{ref:b,className:"prose prose-purple max-w-none bg-white p-4 rounded-lg shadow-lg border border-purple-200 min-h-full preview-content",dangerouslySetInnerHTML:{__html:n.A.sanitize(v.editorContent||"",{FORBID_ATTR:["style"]})}}):(0,oe.jsxs)(oe.Fragment,{children:[null===v||void 0===v||null===(a=v.sections)||void 0===a?void 0:a.map((e=>(0,oe.jsxs)(xe.A,{sx:{p:4},children:[(0,oe.jsx)(me.A,{className:'className="prose prose-purple max-w-none bg-white p-4 rounded-lg shadow-lg border border-purple-200 min-h-full preview-content" ',variant:"h5",gutterBottom:!0,sx:{mt:2},children:e.title||"Untitled Section"}),(0,oe.jsx)("div",{className:"prose prose-purple max-w-none bg-white p-4 rounded-lg shadow-lg border border-purple-200 min-h-full preview-content",dangerouslySetInnerHTML:{__html:e.content||""}})]},e.id))),(null===v||void 0===v||null===(c=v.codeExamples)||void 0===c?void 0:c.length)>0&&(0,oe.jsxs)(xe.A,{sx:{p:4},children:[(0,oe.jsx)(me.A,{variant:"h5",gutterBottom:!0,sx:{mt:2},children:"Code Examples"}),v.codeExamples.map((e=>(0,oe.jsxs)(xe.A,{sx:{mb:4},children:[(0,oe.jsx)(me.A,{variant:"h6",gutterBottom:!0,children:e.title||"Untitled Example"}),(0,oe.jsx)(me.A,{variant:"body2",gutterBottom:!0,children:e.description||""}),(0,oe.jsx)("pre",{className:"bg-gray-100 p-4 rounded overflow-auto",children:(0,oe.jsx)("code",{className:e.language||"",children:e.code||""})}),e.explanation&&(0,oe.jsx)(me.A,{variant:"body2",sx:{mt:2},children:e.explanation})]},e.id)))]})]}),(!v||!(null!==(d=v.sections)&&void 0!==d&&d.length)&&!(null!==(u=v.codeExamples)&&void 0!==u&&u.length))&&(0,oe.jsx)(_e.A,{chapter:j,moduleId:h,onQuizCompletion:e=>{e?(z(!0),re("Congratulations! You passed the quiz and completed this chapter.","success")):re("You need to score at least 70% to complete this chapter.","warning")},onNextChapter:ee})]}),!P&&(0,oe.jsxs)(xe.A,{sx:{display:"flex",justifyContent:"space-between",mb:4},children:[(0,oe.jsx)(ge.A,{variant:"outlined",startIcon:(0,oe.jsx)(Re.A,{}),onClick:()=>{var e;if(null===U||void 0===U||null===(e=U.currentModule)||void 0===e||!e.chapters)return;let t=U.currentChapterIndex-1;var r;t>=0&&(null===(r=U.setCurrentChapterIndex)||void 0===r||r.call(U,t),p(`/modules/${h}/chapters/${U.currentModule.chapters[t].chapterId}`))},children:"Previous Chapter"}),(0,oe.jsx)(ge.A,{variant:"contained",endIcon:(0,oe.jsx)(Be.A,{}),onClick:ee,children:"Next Chapter"})]}),(0,oe.jsx)(Ne.A,{open:T,autoHideDuration:6e3,onClose:()=>E(!1),children:(0,oe.jsx)(Se.A,{onClose:()=>E(!1),severity:M,children:L})})]})]})}},53787:(e,t,r)=>{r.d(t,{Ao:()=>s,Cv:()=>n,Fh:()=>i});const s=(e,t,r)=>{try{const s=`chapter-${e}-${t}`;return localStorage.setItem(s,r.toString()),l(e),!0}catch(s){return console.error("Error updating chapter progress:",s),!1}},l=e=>{try{const t=Object.keys(localStorage).filter((t=>t.startsWith(`chapter-${e}-`)));if(0===t.length)return 0;const r=t.filter((e=>"true"===localStorage.getItem(e))).length,s=Math.round(r/t.length*100);return localStorage.setItem(`module-progress-${e}`,s.toString()),s}catch(t){return console.error("Error updating module progress:",t),0}},i=(e,t)=>{try{const r=`chapter-${e}-${t}`;return"true"===localStorage.getItem(r)}catch(r){return console.error("Error getting chapter progress:",r),!1}},n=(e,t,r)=>{try{const l=`quiz-${e}-${t}`;return localStorage.setItem(l,r.toString()),r>=70&&s(e,t,!0),!0}catch(l){return console.error("Error marking quiz completed:",l),!1}}},92197:(e,t,r)=>{r.d(t,{A:()=>M});var s=r(65043),l=r(35475),i=r(96446),n=r(85865),o=r(11906),a=r(63336),c=r(13766),d=r(86605),u=r(43845),h=r(40710),x=r(68903),p=r(12110),m=r(2828),g=r(36591),b=r(14194),j=r(53193),f=r(57972),v=r(74605),A=r(16374),y=r(40794),w=r(58293),C=r(33752),k=r(32782),N=r(85225),S=r(84593),I=r(91989),z=r(59506),T=r(15337),E=r(78994),L=r(53787),$=r(70579);const M=e=>{var t,r;let{chapter:M,moduleId:H,onQuizCompletion:R,onNextChapter:B}=e;const[q]=(0,l.ok)(),[_,O]=(0,s.useState)(null),[F,U]=(0,s.useState)({}),[D,J]=(0,s.useState)(!1),[P,W]=(0,s.useState)([]),[Q,V]=(0,s.useState)(0),[Y,Z]=(0,s.useState)({}),[G,X]=(0,s.useState)(!1),[K,ee]=(0,s.useState)(""),[te,re]=(0,s.useState)("content"),[se,le]=(0,s.useState)(0),[ie,ne]=(0,s.useState)(!1),oe=Boolean(M.quiz&&M.quiz.questions&&M.quiz.questions.length>0||M.questions&&M.questions.length>0),ae=M.quiz&&M.quiz.questions?M.quiz.questions:M.questions?M.questions:[],ce=(null===(t=M.quiz)||void 0===t?void 0:t.title)||`${M.title} Quiz`,de=(null===(r=M.quiz)||void 0===r?void 0:r.description)||"Test your knowledge of this chapter's content.";(0,s.useEffect)((()=>{const e=localStorage.getItem(`bookmarks-${H}-${M.id}`);e&&W(JSON.parse(e));const t=localStorage.getItem(`progress-${H}-${M.id}`);if(t){Z(JSON.parse(t));const e=JSON.parse(t),r=Object.values(e).filter((e=>e)).length,s=M.sections&&Array.isArray(M.sections)?M.sections.length:0;s>0&&V(Math.round(r/s*100))}}),[H,M.id,M.sections]),(0,s.useEffect)((()=>{const e=q.get("tab");!e||"content"!==e&&"quiz"!==e||re(e)}),[q]);if(!M)return(0,$.jsx)(i.A,{sx:{p:3},children:(0,$.jsx)(n.A,{children:"Chapter not found"})});const ue=!M.sections||!Array.isArray(M.sections)||0===M.sections.length;return(0,$.jsxs)(i.A,{children:[(0,$.jsxs)(i.A,{sx:{p:3,bgcolor:"primary.main",color:"white"},children:[(0,$.jsx)(n.A,{variant:"h4",gutterBottom:!0,children:M.title}),(0,$.jsx)(n.A,{variant:"subtitle1",children:M.description})]}),(0,$.jsx)(i.A,{sx:{borderBottom:1,borderColor:"divider"},children:(0,$.jsxs)(i.A,{sx:{display:"flex"},children:[(0,$.jsx)(o.A,{onClick:()=>re("content"),sx:{py:2,px:3,borderBottom:"content"===te?"2px solid":"none",borderColor:"primary.main",color:"content"===te?"primary.main":"text.primary",borderRadius:0,fontWeight:"content"===te?"bold":"normal"},children:"Content"}),oe&&(0,$.jsx)(o.A,{onClick:()=>re("quiz"),sx:{py:2,px:3,borderBottom:"quiz"===te?"2px solid":"none",borderColor:"primary.main",color:"quiz"===te?"primary.main":"text.primary",borderRadius:0,fontWeight:"quiz"===te?"bold":"normal"},children:"Quiz"})]})}),(0,$.jsx)(i.A,{sx:{p:3},children:"content"===te?(0,$.jsxs)($.Fragment,{children:[ue?(0,$.jsxs)(a.A,{elevation:0,variant:"outlined",sx:{p:3,borderRadius:2,textAlign:"center"},children:[(0,$.jsx)(n.A,{variant:"h6",gutterBottom:!0,children:"Content Coming Soon"}),(0,$.jsx)(n.A,{variant:"body1",children:"The content for this chapter is currently being developed. Please check back later for updates."})]}):M.sections.map((e=>(0,$.jsxs)(c.A,{expanded:_===e.id,onChange:()=>(e=>{if(O(_===e?null:e),_!==e&&!Y[e]){const t={...Y,[e]:!0};Z(t),localStorage.setItem(`progress-${H}-${M.id}`,JSON.stringify(t));const r=Object.values(t).filter((e=>e)).length,s=M.sections&&Array.isArray(M.sections)?M.sections.length:0;s>0&&V(Math.round(r/s*100))}})(e.id),sx:{mb:2,overflow:"hidden",bgcolor:Y[e.id]?"rgba(76, 175, 80, 0.04)":"transparent",position:"relative"},children:[(0,$.jsx)(d.A,{expandIcon:(0,$.jsx)(w.A,{}),sx:{bgcolor:"action.hover"},children:(0,$.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",width:"100%",justifyContent:"space-between"},children:[(0,$.jsxs)(n.A,{sx:{fontWeight:_===e.id?"bold":"normal"},children:[e.id," - ",e.title,Y[e.id]&&(0,$.jsx)(u.A,{label:"Completed",size:"small",color:"success",sx:{ml:2,height:20,fontSize:"0.6rem"}})]}),(0,$.jsx)(o.A,{size:"small",onClick:t=>{t.stopPropagation(),(e=>{let t;P.includes(e)?(t=P.filter((t=>t!==e)),ee("Bookmark removed")):(t=[...P,e],ee("Bookmark added - you can access this later from your profile")),W(t),localStorage.setItem(`bookmarks-${H}-${M.id}`,JSON.stringify(t)),X(!0)})(e.id)},startIcon:P.includes(e.id)?(0,$.jsx)(C.A,{color:"primary"}):(0,$.jsx)(k.A,{}),sx:{ml:2},children:P.includes(e.id)?"Bookmarked":"Bookmark"})]})}),(0,$.jsx)(h.A,{children:(0,$.jsx)(i.A,{sx:{p:1},dangerouslySetInnerHTML:{__html:e.content}})})]},e.id))),P.length>0&&!ue&&(0,$.jsxs)(i.A,{sx:{mt:4,mb:4},children:[(0,$.jsx)(n.A,{variant:"h6",gutterBottom:!0,children:"Your Bookmarked Sections"}),(0,$.jsx)(a.A,{elevation:0,variant:"outlined",sx:{p:2,borderRadius:2},children:(0,$.jsx)(x.Ay,{container:!0,spacing:2,children:P.map((e=>{const t=M.sections.find((t=>t.id===e));return t?(0,$.jsx)(x.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,$.jsx)(a.A,{variant:"outlined",sx:{p:2,cursor:"pointer","&:hover":{bgcolor:"rgba(0, 0, 0, 0.03)"}},onClick:()=>{O(e),setTimeout((()=>{var t;null===(t=document.getElementById(`section-${e}`))||void 0===t||t.scrollIntoView({behavior:"smooth"})}),100)},children:(0,$.jsxs)(i.A,{sx:{display:"flex",alignItems:"center"},children:[(0,$.jsx)(C.A,{color:"primary",sx:{mr:1,fontSize:"1rem"}}),(0,$.jsx)(n.A,{variant:"body2",fontWeight:"medium",children:t.title})]})})},e):null}))})})]}),M.examples&&M.examples.length>0&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(n.A,{variant:"h5",gutterBottom:!0,sx:{mt:4,mb:2},children:"Code Examples"}),(0,$.jsx)(x.Ay,{container:!0,spacing:3,children:M.examples.map((e=>(0,$.jsx)(x.Ay,{item:!0,xs:12,md:6,children:(0,$.jsxs)(a.A,{elevation:2,sx:{borderRadius:2,overflow:"hidden"},children:[(0,$.jsxs)(i.A,{sx:{bgcolor:"primary.main",color:"primary.contrastText",p:2,display:"flex",alignItems:"center"},children:[(0,$.jsx)(N.A,{sx:{mr:1}}),(0,$.jsx)(n.A,{variant:"h6",children:e.title})]}),(0,$.jsxs)(i.A,{sx:{p:2},children:[(0,$.jsx)(n.A,{variant:"body2",paragraph:!0,children:e.description}),(0,$.jsx)(a.A,{variant:"outlined",sx:{p:2,bgcolor:"#272822",color:"#f8f8f2",fontFamily:"monospace",whiteSpace:"pre-wrap",overflowX:"auto",fontSize:"0.875rem"},children:e.code}),(0,$.jsx)(n.A,{variant:"subtitle2",sx:{mt:2,fontWeight:"bold"},children:"Explanation:"}),(0,$.jsx)(n.A,{variant:"body2",children:e.explanation})]})]})},e.id)))})]}),M.videos&&M.videos.length>0&&(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(n.A,{variant:"h5",gutterBottom:!0,sx:{mt:4,mb:2},children:"Video Resources"}),(0,$.jsx)(x.Ay,{container:!0,spacing:3,children:M.videos.map((e=>(0,$.jsx)(x.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,$.jsx)(p.A,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:(0,$.jsx)(m.A,{component:"a",href:e.url,target:"_blank",rel:"noopener noreferrer",children:(0,$.jsxs)(i.A,{sx:{position:"relative"},children:[(0,$.jsx)(g.A,{component:"img",height:"140",image:e.thumbnail,alt:e.title}),(0,$.jsx)(i.A,{sx:{position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.3)",transition:"background 0.3s","&:hover":{background:"rgba(0,0,0,0.5)"}},children:(0,$.jsx)(S.A,{sx:{fontSize:60,color:"white"}})})]})})})},e.id)))})]})]}):(0,$.jsxs)($.Fragment,{children:[(0,$.jsx)(n.A,{variant:"h5",gutterBottom:!0,sx:{mb:2},children:"Chapter Quiz"}),(0,$.jsxs)(a.A,{sx:{p:3,borderRadius:2},children:[(0,$.jsxs)(i.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,$.jsx)(I.A,{sx:{mr:1,color:"primary.main"}}),(0,$.jsx)(n.A,{variant:"h6",children:ce})]}),(0,$.jsx)(n.A,{variant:"body2",paragraph:!0,children:de}),D&&se&&(0,$.jsxs)(b.A,{severity:ie?"success":"warning",sx:{mb:3},children:[(0,$.jsx)(n.A,{variant:"subtitle2",children:ie?"Congratulations! You passed the quiz.":"You need to review this chapter again."}),(0,$.jsxs)(n.A,{variant:"body2",children:["Your score: ",se.toFixed(1),"%"]})]}),ae.map(((e,t)=>{var r;const s=e.id||t;return(0,$.jsxs)(i.A,{sx:{mb:3,pb:3,borderBottom:t<ae.length-1?"1px solid #e0e0e0":"none"},children:[(0,$.jsxs)(n.A,{variant:"subtitle1",gutterBottom:!0,children:[t+1,". ",e.question]}),(0,$.jsx)(j.A,{component:"fieldset",sx:{ml:2},children:(0,$.jsx)(f.A,{value:F[s]||"",onChange:e=>((e,t)=>{U((r=>({...r,[e]:t})))})(s,Number(e.target.value)),children:e.options.map(((t,r)=>{const l="object"===typeof t?t.id:r,i="object"===typeof t?t.text:t;return(0,$.jsx)(v.A,{value:l,control:(0,$.jsx)(A.A,{}),label:i,disabled:D,sx:{...D&&l===e.correctAnswer&&{color:"success.main",fontWeight:"bold"},...D&&F[s]===l&&F[s]!==e.correctAnswer&&{color:"error.main"}}},l)}))})}),D&&(0,$.jsxs)(i.A,{sx:{mt:1,ml:2},children:[F[s]===e.correctAnswer?(0,$.jsxs)(n.A,{variant:"body2",sx:{color:"success.main",display:"flex",alignItems:"center"},children:[(0,$.jsx)(z.A,{fontSize:"small",sx:{mr:.5}}),"Correct!"]}):(0,$.jsxs)(n.A,{variant:"body2",sx:{color:"error.main"},children:["Incorrect. The correct answer is: ","object"===typeof e.options[e.correctAnswer]?null===(r=e.options[e.correctAnswer])||void 0===r?void 0:r.text:e.options[e.correctAnswer]]}),(0,$.jsx)(n.A,{variant:"body2",sx:{mt:1,fontStyle:"italic"},children:e.explanation})]})]},s)})),(0,$.jsxs)(i.A,{sx:{display:"flex",justifyContent:"space-between",mt:3},children:[D?(0,$.jsx)(o.A,{variant:"outlined",onClick:()=>{U({}),J(!1),le(0),ne(!1)},startIcon:(0,$.jsx)(T.A,{}),children:"Retake Quiz"}):(0,$.jsx)(o.A,{variant:"contained",onClick:()=>{let e=0,t=0;ae.length>0&&(t=ae.length,ae.forEach(((t,r)=>{const s=t.id||r;F[s]===t.correctAnswer&&e++})));const r=t>0?e/t*100:0,s=r>=70;le(r),ne(s),J(!0),s&&(0,L.Cv)(H,M.id,r),R&&R(s,r)},startIcon:(0,$.jsx)(z.A,{}),disabled:Object.keys(F).length!==ae.length,children:"Submit Answers"}),(0,$.jsx)(o.A,{variant:"outlined",onClick:()=>{B&&B()},endIcon:(0,$.jsx)(E.A,{}),children:"Next Chapter"})]})]})]})}),(0,$.jsx)(y.A,{open:G,autoHideDuration:3e3,onClose:()=>X(!1),message:K})]})}}}]);
//# sourceMappingURL=8238.f1a88771.chunk.js.map